var e,r,t,o,s,a;let n;r={},t={},null==(o=(e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired167)&&((o=function(e){if(e in r)return r[e].exports;if(e in t){var o=t[e];delete t[e];var s={id:e,exports:{}};return r[e]=s,o.call(s.exports,s,s.exports),s.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,r){t[e]=r},e.parcelRequired167=o),o.register,importScripts("./onset-worker.de4b4b23.js"),importScripts("./onset-worker.ba3c5734.js"),s=o("d9WA8"),a=o("H1nyG"),n=null,async function(){try{let e=s.EssentiaWASM.EssentiaWASM;n=new s.Essentia(e)}catch(e){self.postMessage({error:"Failed to initialize essentia"})}}(),self.onmessage=async function(e){n||await new Promise(e=>{let r=()=>{n?e():setTimeout(r,100)};r()});let{frames:r,frameSize:t,startIndex:o}=e.data;try{let e=new a.PolarFFTWASM.PolarFFT(t),s=[];for(let t=0;t<r.length;t++){let a=r[t],i=n.Windowing(n.arrayToVector(a)).frame,l=n.vectorToArray(i),d=e.compute(l);s.push({magnitude:n.vectorToArray(d.magnitude),phase:n.vectorToArray(d.phase),index:o+t})}e.shutdown(),self.postMessage({frames:s})}catch(e){console.error("FFT Worker error:",e),self.postMessage({error:e.message})}};
//# sourceMappingURL=fft-worker.efb741ec.js.map
