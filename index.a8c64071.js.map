{"mappings":"C,A,W,I,E6BCA,E6CiBA,E,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,S,E,C,E,O,G,E,U,C,E,O,C,C,C,I,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,A,C,E,E,Q,A,E,Q,S,C,C,C,EzEVE,AAAA,CAAA,WAYA,IATI,EAUA,EAAkB,sBAIlB,EAAiB,4BAMjB,EAAc,yBAqCd,EAAW,EAAI,EAGf,EAAM,EAAI,EAQV,EAAY,CACd,CAAC,MA9BiB,IA8BI,CACtB,CAAC,OAtCkB,EAsCK,CACxB,CAAC,UAtCsB,EAsCQ,CAC/B,CAAC,QArCmB,EAqCM,CAC1B,CAAC,aArCyB,GAqCW,CACrC,CAAC,OAjCkB,IAiCK,CACxB,CAAC,UAtCqB,GAsCQ,CAC9B,CAAC,eAtC2B,GAsCa,CACzC,CAAC,QArCmB,IAqCM,CAC3B,CAGG,EAAU,qBACV,EAAW,iBAEX,EAAU,mBACV,EAAU,gBAEV,EAAW,iBACX,EAAU,oBACV,EAAS,6BACT,EAAS,eACT,EAAY,kBAEZ,EAAY,kBACZ,EAAa,mBAEb,EAAY,kBACZ,EAAS,eACT,EAAY,kBACZ,EAAY,kBAEZ,EAAa,mBAGb,EAAiB,uBACjB,EAAc,oBACd,EAAa,wBACb,EAAa,wBACb,EAAU,qBACV,EAAW,sBACX,EAAW,sBACX,EAAW,sBACX,EAAkB,6BAClB,EAAY,uBACZ,EAAY,uBAGZ,EAAuB,iBACvB,EAAsB,qBACtB,EAAwB,gCAGxB,EAAgB,4BAChB,EAAkB,WAClB,EAAmB,OAAO,EAAc,MAAM,EAC9C,EAAqB,OAAO,EAAgB,MAAM,EAGlD,EAAW,mBACX,EAAa,kBACb,EAAgB,mBAGhB,EAAe,mDACf,EAAgB,QAChB,EAAa,mGAMb,EAAe,sBACf,EAAkB,OAAO,EAAa,MAAM,EAG5C,EAAc,OAGd,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,E,E,E,E,M,C,I,C,I,E,C,C,E,A,C,E,U,C,E,U,E,C,E,E,Y,C,C,E,U,G,C,E,Q,C,C,C,E,O,c,C,E,A,S,C,E,I,E,A,S,C,C,C,E,G,A,W,E,I,A,O,E,O,E,I,E,C,C,O,W,C,C,G,A,K,I,E,C,I,E,E,I,C,E,G,W,G,A,W,E,G,O,C,O,A,U,+C,C,M,A,C,A,W,E,O,M,E,E,E,E,U,M,A,W,E,G,E,O,E,E,E,G,E,E,C,E,AAhHDR,E,S,C,G,O,c,CAAAA,E,Y,C,S,C,C,GAgHCA,CAAA,GAAA/8C,CAAAA,EAAAA,OAAA,CAAA+8C,EAAA78C,EAAAF,OAAA,CAAAA,EAAAL,OAAA,A,E,uB;;8B,E,C,E,E,K,O,c,C,E,a,C,M,C,C,G,E,O,CClHU,SAAgBuL,CAAM,EACjC,IAAMsI,EAAM,AAAA,CAAA,EAAA2vE,EAAAA,OAAAA,AAAAA,EAAQj4E,GACdwI,EAAM,AAAA,CAAA,EAAA0vE,EAAAA,OAAAA,AAAAA,EAAQl4E,GACpB,MAAO,CAACwI,EAAMF,EAAM,CAACE,EAAMF,CAC/B,EAfA,IAAAgqC,EAAArX,EAAAz9B,EAAA,UAAA,EAAA,sBACA+0C,EAAAtX,EAAAz9B,EAAA,UAAA,EAAA,sBAA4B,SAAAy9B,EAAAE,CAAA,EAAA,OAAAA,GAAAA,EAAA3mC,UAAA,CAAA2mC,EAAA,CAAA1mC,QAAA0mC,CAAA,CAAA,CAc3BnmC,EAAAF,OAAA,CAAAA,EAAAL,OAAA,A,E,sB;;6B,E,C,E,K,O,c,C,E,a,C,M,C,C,G,E,O,CCPc,SAAem4C,CAAG,CAAEpkC,CAAG,CAAEF,CAAG,EACvC,OAAO3D,KAAK6D,GAAG,CAAC7D,KAAK2D,GAAG,CAACE,EAAKokC,GAAMtkC,EACxC,EAACtT,EAAAF,OAAA,CAAAA,EAAAL,OAAA,A,E,sB;;6B,E,C,E,E,K,O,c,C,E,a,C,M,C,C,G,E,O,CCuGc,SAAmBgzB,CAAO,EACrC,GAAKA,EAEE,CAAA,GAAI,CAACA,EAAQ0oB,GAAG,CACnB,MAAM,AAAIh7C,MAAM,oBADb,MADH,MAAM,AAAIA,MAAM,yBAIpB,IAAMqmC,EAAW,IAAIwL,EAAAA,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c,C,E,Q,C,W,C,E,I,W,O,E,O,A,C,G,O,c,C,E,W,C,W,C,E,I,W,O,E,O,A,C,G,O,c,C,E,Y,C,W,C,E,I,W,O,E,O,A,C,G,O,c,C,E,Q,C,W,C,E,I,W,O,E,O,A,C,G,O,c,C,E,Q,C,W,C,E,I,W,O,E,O,A,C,G,O,c,C,E,oB,C,W,C,E,I,W,O,E,O,A,C,G,O,c,C,E,M,C,W,C,E,I,W,O,E,O,A,C,G,O,c,C,E,M,C,W,C,E,I,W,O,E,O,A,C,G,O,c,C,E,e,C,W,C,E,I,W,O,E,O,A,C,G,O,c,C,E,wB,C,W,C,E,I,W,O,E,O,A,C,G,O,c,C,E,Q,C,W,C,E,I,W,O,E,O,A,C,G,O,c,C,E,kB,C,W,C,E,I,W,O,E,O,A,C,GCrBD,IAAAymC,EAAAD,EAAAz9B,EAAA,aAAA,EAAA,yBACA80C,EAAArX,EAAAz9B,EAAA,UAAA,EAAA,sBACA+0C,EAAAtX,EAAAz9B,EAAA,UAAA,EAAA,sBACA+3C,EAAAta,EAAAz9B,EAAA,aAAA,EAAA,yBACAg1C,EAAAvX,EAAAz9B,EAAA,eAAA,EAAA,2BACAw9B,EAAAC,EAAAz9B,EAAA,YAAA,EAAA,wBACA63C,EAAApa,EAAAz9B,EAAA,8BAAA,EAAA,0CACAm4C,EAAA1a,EAAAz9B,EAAA,YAAA,EAAA,wBACAi4C,EAAAxa,EAAAz9B,EAAA,aAAA,EAAA,qCACAq4C,EAAA5a,EAAAz9B,EAAA,oBAAA,EAAA,gCACAk4C,EAAAza,EAAAz9B,EAAA,YAAA,EAAA,wBACAg4C,EAAAva,EAAAz9B,EAAA,YAAA,EAAA,wBACAs4C,EAAA7a,EAAAz9B,EAAA,kBAAA,EAAA,8BACAo4C,EAAA3a,EAAAz9B,EAAA,mBAAA,EAAA,+BAA8D,SAAAy9B,EAAAE,CAAA,EAAA,OAAAA,GAAAA,EAAA3mC,UAAA,CAAA2mC,EAAA,CAAA1mC,QAAA0mC,CAAA,CAAA,C,E,oB;;2B,E,C,E,K,O,c,C,E,a,C,M,C,C,G,E,O,CCN/C,SAAan7B,CAAM,EAC9B,IAAI+1C,EAAU,CAAC5iC,IAMf,OALAvW,OAAO+I,IAAI,CAAC3F,GAAQkD,OAAO,CAAC,SAAAo7B,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CAAC,IAAI,CAACw3C,QAAQ,EAAI,IAAI,CAACK,wBAAwB,CAAC5G,EAAAA,GAIpD,IAAMuG,EAAW,IAAI,CAACA,QAAQ,CAACvG,EAAM,AACrCuG,CAAAA,GACIA,EAAShzC,OAAO,CAAC,SAAAkd,CAAE,EACfA,EAAE7hB,KAAA,CAAA,KAAA,EAAIG,EACV,GACR,CAAC,EAAA,C,A,S,C,C,C,E,I,I,E,E,E,E,M,C,I,C,I,E,C,C,E,A,C,E,U,C,E,U,E,C,E,E,Y,C,C,E,U,G,C,E,Q,C,C,C,E,O,c,C,E,A,S,C,E,I,E,A,S,C,C,C,E,G,A,W,E,I,A,O,E,O,E,I,E,C,C,O,W,C,C,G,A,K,I,E,C,I,E,E,I,C,E,G,W,G,A,W,E,G,O,C,O,A,U,+C,C,M,A,C,A,W,E,O,M,E,E,E,E,U,M,A,W,E,G,E,O,E,E,E,G,E,E,C,E,AAvHDsoC,E,S,C,G,O,c,CAAAA,E,Y,C,S,C,C,GAuHCA,CAAA,GAAAlyC,CAAAA,EAAAA,OAAA,CAAAkyC,EAAAhyC,EAAAF,OAAA,CAAAA,EAAAL,OAAA,A,E,4B;;mC,E,C,E,K,O,c,C,E,a,C,M,C,C,G,E,O,CChFU,SAAS4tC,EAAgB/O,CAAM,CAAE8J,CAAQ,SACpD,AAAI9J,CAAM,CAACkjB,EAAQ,CACRljB,EAEA,IAAIsO,MACPtO,EAAQ,CACJ5lB,IAAK,SAASytB,CAAG,CAAErP,CAAI,CAAEmhB,CAAQ,EAC7B,GAAInhB,IAAS0qB,EACT,MAAO,CAAA,EACJ,GAAI1qB,AAAS,eAATA,EACP,OAAOqP,EACJ,GAAIrP,AAAS,UAATA,EACP,OAAOuW,EAAgBlH,EAAIuH,KAAK,CAAEtF,GAC/B,GAAItR,AAAS,WAATA,EACP,OAAOuW,EAAgBlH,EAAIsB,MAAM,CAAEW,GAChC,GAAItR,AAAS,0BAATA,EACP,OAAO,WACH,OAAOuW,EAAgBlH,EAAI2I,qBAAqB,CAAAvlC,KAAA,CAAzB48B,EAAG/c,WAAiCgf,EAC/D,EACG,GAAItR,AAAS,eAATA,EACP,OAAO,WACH,OAAOuW,EAAgBlH,EAAIa,UAAU,CAAAz9B,KAAA,CAAd48B,EAAG/c,WAAsBgf,EACpD,EAEA,IAAIl+B,EAAQi8B,CAAG,CAACsb,EAAQ3qB,EAAMsR,GAAU,CACxC,MAAO,AAAgB,YAAhB,OAAOl+B,EAAsBA,EAAMooB,IAAI,CAAC6T,GAAOj8B,CAE9D,EACAuE,IAAK,SAAS03B,CAAG,CAAErP,CAAI,CAAE5sB,CAAK,EAE1B,OADAi8B,CAAG,CAACsb,EAAQ3qB,EAAMsR,GAAU,CAAGl+B,EACxB,CAAA,CACX,CACJ,EAGZ,EAjGA,IAAMw3C,EAAkB,CACpBva,MAAO,SACPC,OAAQ,QAERiH,UAAW,YACXE,UAAW,YAEXuC,YAAa,eACbf,aAAc,cAEdpB,QAAS,UACTqB,QAAS,UAETX,YAAa,eACbD,WAAY,YAEZ/H,WAAY,YACZsa,UAAW,aACX7R,aAAc,cACd8R,YAAa,eAEbnS,KAAM,MACND,MAAO,SACPwD,IAAK,OACL/C,OAAQ,QAERkD,iBAAkB,oBAClBI,iBAAkB,oBAClBE,iBAAkB,mBACtB,EASA,SAASgO,EAAQ3qB,CAAI,CAAEsR,CAAQ,SACvBxgC,OAAOqI,SAAS,CAACM,cAAc,CAACtQ,IAAI,CAACyhD,EAAiB5qB,IAC/CsR,EAAWsZ,CAAe,CAAC5qB,EAAK,CAAGA,CAIlD,CAEA,IAAM0qB,EAAUtwC,OAAO,UAmDtBlR,CAAAA,EAAAF,OAAA,CAAAA,EAAAL,OAAA,A,E,8B;;qC,E,C,E,KC3FD,SAASoiD,EAAoBlH,CAAK,EAC9BA,EAAMmH,eAAe,GACrBlU,SAASkR,IAAI,CAAChE,mBAAmB,CAAC,QAAS+G,EAAqB,CAAA,EACpE,C,O,c,C,E,a,C,M,C,C,G,E,O,CAOe,SAAsB72C,CAAM,EACvC4iC,SAASkR,IAAI,CAACnP,gBAAgB,CAAC,QAASkS,EAAqB,CAAA,EACjE,EAAC7hD,EAAAF,OAAA,CAAAA,EAAAL,OAAA,A,E,wC;;+C,E,C,E,K,O,c,C,E,a,C,M,C,C,G,E,O,C,K,ECjBD,IAAAsiD,EAMe,AACX3iD,CAAAA,OAAO4iD,qBAAqB,EAC5B5iD,OAAO6iD,2BAA2B,EAClC7iD,OAAO8iD,wBAAwB,EAC/B9iD,OAAO+iD,sBAAsB,EAC7B/iD,OAAOgjD,uBAAuB,EAC7B,SAACp5B,CAAQ,CAAE+d,CAAO,EAAA,OAAKv0B,WAAWwW,EAAU,IAAO,GAAG,CAAA,EACzDsJ,IAAI,CAAClzB,OAAOU,CAAAA,EAAAA,OAAA,CAAAiiD,EAAA/hD,EAAAF,OAAA,CAAAA,EAAAL,OAAA,A,E,6B;;oC,E,C,E,K,O,c,C,E,a,C,M,C,C,G,E,O,CCHC,WAEX,IAAM4iD,EAAW,IAAIC,aACfC,EAAWF,EAASG,kBAAkB,EAC5CD,CAAAA,EAASroC,MAAM,CAAGmoC,EAASI,YAAY,CAAC,EAAG,EAAG,OAC9CF,EAASrJ,OAAO,CAACmJ,EAASK,WAAW,EACrCH,EAASv+B,KAAK,GASd,IAAI2+B,EAAM/U,SAASC,aAAa,CAAC,MACjC8U,CAAAA,EAAIC,SAAS,CAAG,0CAEhB,IAAIC,EAAkBF,EAAIG,QAAQ,CAAC5F,IAAI,CAAC,EACxC2F,CAAAA,EAAgBtH,GAAG,CAPD,81BAQlBsH,EAAgB/J,OAAO,CAAG,OAC1B+J,EAAgB10B,IAAI,CAAG,aACvB00B,EAAgBE,qBAAqB,CAAG,CAAA,EAGxCF,EAAgB/I,IAAI,GAGpB+I,EAAgB/mB,MAAM,GACtB6mB,EAAI7mB,MAAM,EACd,EAAC97B,EAAAF,OAAA,CAAAA,EAAAL,OAAA,A,E,sB;;6B,E,C,E,K,O,c,C,E,a,C,M,C,C,G,E,O,CCjCc,SAAe+tC,CAAE,CAAEC,CAAM,EAMpC,OALA7lC,OAAO+I,IAAI,CAAC88B,GAAQv/B,OAAO,CAAC,SAAA4oB,CAAI,EACxB0W,EAAGE,KAAK,CAAC5W,EAAK,GAAK2W,CAAM,CAAC3W,EAAK,EAC/B0W,CAAAA,EAAGE,KAAK,CAAC5W,EAAK,CAAG2W,CAAM,CAAC3W,EAAK,AAALA,CAEhC,GACO0W,CACX,EAACxtC,EAAAF,OAAA,CAAAA,EAAAL,OAAA,A,E,sB;;6B,E,C,E,E,K,O,c,C,E,a,C,M,C,C,G,E,O,C,K,ECfD,IAAAwrC,EAAAC,AAK2D,SAAA/E,CAAA,CAAAgF,CAAA,EAAA,GAAA,AAAAhF,GAAAA,EAAA3mC,UAAA,CAAA,OAAA2mC,EAAA,GAAAA,AAAA,OAAAA,GAAAC,AAAA,WAAAA,EAAAD,IAAA,AAAA,YAAA,OAAAA,EAAA,MAAA,CAAA1mC,QAAA0mC,CAAA,EAAA,IAAAh5B,EAAAi+B,EAAAD,KAAAA,GAAA,GAAAh+B,GAAAA,EAAAC,GAAA,CAAA+4B,GAAA,OAAAh5B,EAAAuL,GAAA,CAAAytB,GAAA,IAAAkF,EAAA,CAAA,EAAAC,EAAA1jC,OAAAqK,cAAA,EAAArK,OAAA2jC,wBAAA,CAAA,IAAA,IAAA5/B,KAAAw6B,EAAA,GAAAx6B,AAAA,YAAAA,GAAA/D,OAAAqI,SAAA,CAAAM,cAAA,CAAAtQ,IAAA,CAAAkmC,EAAAx6B,GAAA,CAAA,IAAA6/B,EAAAF,EAAA1jC,OAAA2jC,wBAAA,CAAApF,EAAAx6B,GAAA,IAAA6/B,CAAAA,GAAAA,CAAAA,EAAA9yB,GAAA,EAAA8yB,EAAA/8B,GAAA,AAAAA,EAAA7G,OAAAqK,cAAA,CAAAo5B,EAAA1/B,EAAA6/B,GAAAH,CAAA,CAAA1/B,EAAA,CAAAw6B,CAAA,CAAAx6B,EAAA,AAAA,CAAA,OAAA0/B,EAAA5rC,OAAA,CAAA0mC,EAAAh5B,GAAAA,EAAAsB,GAAA,CAAA03B,EAAAkF,GAAAA,CAAA,EAL3D7iC,EAAA,WAAA,EAAA,wBACAypC,EAAAhM,EAAAz9B,EAAA,yBAAA,EAAA,gCACA+wC,EAAAtT,EAAAz9B,EAAA,eAAA,EAAA,sBACA8wC,EAAArT,EAAAz9B,EAAA,mBAAA,EAAA,0BACAw6C,EAAA/c,EAAAz9B,EAAA,gBAAA,EAAA,uBACAy6C,EAAAhd,EAAAz9B,EAAA,4BAAA,EAAA,mCAA2D,SAAAy9B,EAAAE,CAAA,EAAA,OAAAA,GAAAA,EAAA3mC,UAAA,CAAA2mC,EAAA,CAAA1mC,QAAA0mC,CAAA,CAAA,CAAA,SAAAiF,EAAAD,CAAA,EAAA,GAAA,AAAA,YAAA,OAAAh3B,QAAA,OAAA,KAAA,IAAAs3B,EAAA,IAAAt3B,QAAAu3B,EAAA,IAAAv3B,QAAA,MAAAi3B,AAAAA,CAAAA,EAAA,SAAAD,CAAA,EAAA,OAAAA,EAAAO,EAAAD,CAAA,CAAA,EAAAN,EAAA,CAAA,SAAAQ,EAAAC,CAAA,CAAAC,CAAA,EAAA,MAAAF,AAAAA,CAAAA,EAAA/jC,OAAAkkC,cAAA,CAAAlkC,OAAAkkC,cAAA,CAAAxZ,IAAA,GAAA,SAAAsZ,CAAA,CAAAC,CAAA,EAAA,OAAAD,EAAAG,SAAA,CAAAF,EAAAD,CAAA,CAAA,EAAAA,EAAAC,EAAA,CAAA,SAAAkB,EAAA5tC,CAAA,CAAAc,CAAA,EAAA,GAAAA,GAAAmmC,CAAAA,AAAA,WAAAA,EAAAnmC,IAAA,AAAA,YAAA,OAAAA,CAAA,EAAA,OAAAA,EAAA,GAAAA,AAAA,KAAA,IAAAA,EAAA,MAAA,AAAA8P,UAAA,4DAAA,OAAAk9B,EAAA9tC,EAAA,CAAA,SAAA8tC,EAAA9tC,CAAA,EAAA,GAAAA,AAAA,KAAA,IAAAA,EAAA,MAAA,AAAA+tC,eAAA,6DAAA,OAAA/tC,CAAA,CAAA,SAAA6sC,EAAAJ,CAAA,EAAA,MAAAI,AAAAA,CAAAA,EAAApkC,OAAAkkC,cAAA,CAAAlkC,OAAA0J,cAAA,CAAAghB,IAAA,GAAA,SAAAsZ,CAAA,EAAA,OAAAA,EAAAG,SAAA,EAAAnkC,OAAA0J,cAAA,CAAAs6B,EAAA,CAAA,EAAAA,EAAA,CAAA,SAAAsX,EAAA/c,CAAA,CAAAx6B,CAAA,CAAAzB,CAAA,EAAA,MAAAyB,AAAAA,CAAAA,EAAA++B,EAAA/+B,EAAAA,IAAAw6B,EAAAv+B,OAAAqK,cAAA,CAAAk0B,EAAAx6B,EAAA,CAAAzB,MAAAA,EAAAqgC,WAAA,CAAA,EAAAC,aAAA,CAAA,EAAAC,SAAA,CAAA,CAAA,GAAAtE,CAAA,CAAAx6B,EAAA,CAAAzB,EAAAi8B,CAAA,CAAA,SAAAC,EAAAD,CAAA,EAAA,MAAAC,CAAAA,EAAA,YAAA,OAAAl1B,QAAA,UAAA,OAAAA,OAAAY,QAAA,CAAA,SAAAq0B,CAAA,EAAA,OAAA,OAAAA,CAAA,EAAA,SAAAA,CAAA,EAAA,OAAAA,GAAA,YAAA,OAAAj1B,QAAAi1B,EAAA7sB,WAAA,GAAApI,QAAAi1B,IAAAj1B,OAAAjB,SAAA,CAAA,SAAA,OAAAk2B,CAAA,CAAA,EAAAA,EAAA,CAAA,SAAAkE,EAAA/L,CAAA,CAAArxB,CAAA,EAAA,IAAA,IAAAq8B,EAAA,EAAAA,EAAAr8B,EAAAtD,MAAA,CAAA2/B,IAAA,CAAA,IAAAgB,EAAAr9B,CAAA,CAAAq8B,EAAA,AAAAgB,CAAAA,EAAAC,UAAA,CAAAD,EAAAC,UAAA,EAAA,CAAA,EAAAD,EAAAE,YAAA,CAAA,CAAA,EAAA,UAAAF,GAAAA,CAAAA,EAAAG,QAAA,CAAA,CAAA,CAAA,EAAA7iC,OAAAqK,cAAA,CAAAqsB,EAAAoM,EAAAJ,EAAA3+B,GAAA,EAAA2+B,EAAA,CAAA,CAAA,SAAAI,EAAAr8B,CAAA,EAAA,IAAA1C,EAAAg/B,AAAA,SAAApxB,CAAA,CAAAqxB,CAAA,EAAA,GAAAxE,AAAA,WAAAA,EAAA7sB,IAAAA,AAAA,OAAAA,EAAA,OAAAA,EAAA,IAAAsxB,EAAAtxB,CAAA,CAAArI,OAAA45B,WAAA,CAAA,CAAA,GAAAD,AAAAtqC,KAAAA,IAAAsqC,EAAA,CAAA,IAAAE,EAAAF,EAAA5qC,IAAA,CAAAsZ,EAAAqxB,GAAA,WAAA,GAAAxE,AAAA,WAAAA,EAAA2E,GAAA,OAAAA,CAAA,OAAA,AAAAh7B,UAAA,+CAAA,CAAA,MAAA66B,AAAAA,CAAAA,AAAA,WAAAA,EAAA96B,OAAAk7B,MAAAA,EAAAzxB,EAAA,EAAAlL,EAAA,UAAA,MAAA+3B,AAAA,WAAAA,EAAAz6B,GAAAA,EAAAmE,OAAAnE,EAAA,CA4N3D,IAqBqBw3C,EAAU,WAAA,EAAA,SAAAjX,CAAA,GAAAC,AAjP4B,SAAAC,CAAA,CAAAC,CAAA,EAAA,GAAA,AAAA,YAAA,OAAAA,GAAAA,AAAA,OAAAA,EAAA,MAAA,AAAAt8B,UAAA,qDAAAq8B,CAAAA,EAAAn8B,SAAA,CAAArI,OAAA4J,MAAA,CAAA66B,GAAAA,EAAAp8B,SAAA,CAAA,CAAAqJ,YAAA,CAAApP,MAAAkiC,EAAA3B,SAAA,CAAA,EAAAD,aAAA,CAAA,CAAA,CAAA,GAAA5iC,OAAAqK,cAAA,CAAAm6B,EAAA,YAAA,CAAA3B,SAAA,CAAA,CAAA,GAAA4B,GAAAV,EAAAS,EAAAC,EAAA,EAiP5B8W,EAAAjX,GAAA,IAjP4BI,EAAAhG,EAAA8c,EAiP5B7W,GAjP4BD,EAAAE,AAAA,WAAA,GAAA,aAAA,OAAAC,SAAA,CAAAA,QAAAC,SAAA,EAAAD,QAAAC,SAAA,CAAAC,IAAA,CAAA,MAAA,CAAA,EAAA,GAAA,AAAA,YAAA,OAAAC,MAAA,MAAA,CAAA,EAAA,GAAA,CAAA,OAAAC,QAAA58B,SAAA,CAAA8E,OAAA,CAAA9U,IAAA,CAAAwsC,QAAAC,SAAA,CAAAG,QAAA,EAAA,CAAA,WAAA,IAAA,CAAA,CAAA,CAAA,MAAAnkC,EAAA,CAAA,MAAA,CAAA,CAAA,CAAA,IAAA,WAAA,IAAA8B,EAAAsiC,EAAAd,EAiP5BmX,GAjP4B,OAAA34C,EAAA8hC,EAAAG,QAAAC,SAAA,CAAAI,EAAA1jB,UAAA4iB,EAAA,IAAA,EAAA1yB,WAAA,EAAAwzB,EAAAvjC,KAAA,CAAA,IAAA,CAAA6f,WAAA2jB,EAAA,IAAA,CAAAviC,EAAA,GA2WvD,SAAA24C,EAAY/V,CAAM,EAkBd,GAlBgB7G,AA3WmC,SAAAC,CAAA,CAAAC,CAAA,EAAA,GAAA,CAAAD,CAAAA,aAAAC,CAAAA,EAAA,MAAA,AAAA12B,UAAA,oCAAA,EA2WnC,IAAA,CAAAozC,GAzHpBD,EAAAjW,EA0HI/C,EAAAqC,EAAAtsC,IAAA,CAAAiqC,IAAAA,GA1HJ,gBACgB,CACZmZ,aAAc,KACdC,qBAAsB,KACtB9K,UAAW,EACXjH,WAAY,CAAA,EACZN,eAAgB,EAChBQ,sBAAuB,CAAA,EACvB8R,QAAS,WACTC,gBAAiB,KACjB9L,UAAW,EACX9E,UAAW,EACXoC,OAAQ,KACRM,aAAc,KACdnI,UAAW,KACXuG,YAAa,OACbF,YAAa,EACbiQ,cAAe,CAAA,EACf/Q,yBAA0B,CAItBgR,eAAgB,CAAA,CACpB,EACA/J,SAAU,KACV1L,WAAY,CAAA,EACZ0V,YAAa,CAAA,EACbvc,OAAQ,IACRkH,cAAe,CAAA,EACfF,WAAY,CAAA,EACZwV,kBAAmB,CAAA,EACnB1T,SAAU,CAAA,EACV2T,cAAe,CAAA,EACfxR,eAAgB,IAChByR,eAAgB,KAChBzI,cAAe,CAAA,EACfpB,UAAW,QACX8J,YAAa,GACbpM,UAAW,CAAA,EACXqM,cAAe,CAAA,EACf1W,WACIluC,OAAO6kD,gBAAgB,EAAIC,OAAOC,UAAU,CAAGD,OAAOE,WAAW,CACrEC,QAAS,EAAE,CACX1c,cAAe,OACfiV,4BAA6B,CAAA,EAC7B0H,SAAUnS,EAAAA,OAAW,CACrBoS,WAAY,CAAA,EACZhV,IAAK,CAAA,EACLrB,aAAc,CAAA,EACdsW,WAAY,EACZ7N,cAAe,CAAA,EACfb,qBAAsB,CAClBuB,QAAS,CAAA,EACTtB,cAAe,CAAC,EAChBa,eAAgB,EAAE,CAClBW,sBAAuB,CAAA,EACvBkN,mBAAoB,CAAA,CACxB,EACArc,SAAU,CAAA,EACVV,UAAW,OACXgd,IAAK,CAAC,CACV,GAEAxB,EAAAjW,EAAA/C,GAAA,WACW,CACPsP,aAAAA,EAAAA,OAAY,CACZmL,SAAAA,EAAAA,OAAQ,CACRvM,qBAAAA,EAAAA,OAAAA,AACJ,GAwBA8K,EAAAjW,EAAA/C,GAAA,OASOe,GA0BHf,EAAKkD,MAAM,CAAGxlC,OAAO+tB,MAAM,CAAC,CAAC,EAAGuU,EAAK0a,aAAa,CAAExX,GACpDlD,EAAKkD,MAAM,CAAC0I,oBAAoB,CAAGluC,OAAO+tB,MAAM,CAC5C,CAAC,EACDuU,EAAK0a,aAAa,CAAC9O,oBAAoB,CACvC1I,EAAO0I,oBAAoB,EAG/B5L,EAAKiD,SAAS,CACV,UAAY,OAAOC,EAAOD,SAAS,CAC7BS,SAAS6N,aAAa,CAACvR,EAAKkD,MAAM,CAACD,SAAS,EAC5CjD,EAAKkD,MAAM,CAACD,SAAS,CAE3B,CAACjD,EAAKiD,SAAS,CACf,MAAM,AAAIhtC,MAAM,+BAgBpB,GAbI+pC,AAA8B,MAA9BA,EAAKkD,MAAM,CAAC0W,cAAc,CAE1B5Z,EAAK4Z,cAAc,CAAG5Z,EAAKiD,SAAS,CAC7B,AAAqC,UAArC,OAAOjD,EAAKkD,MAAM,CAAC0W,cAAc,CAExC5Z,EAAK4Z,cAAc,CAAGlW,SAAS6N,aAAa,CACxCvR,EAAKkD,MAAM,CAAC0W,cAAc,EAI9B5Z,EAAK4Z,cAAc,CAAG5Z,EAAKkD,MAAM,CAAC0W,cAAc,CAGhD,CAAC5Z,EAAK4Z,cAAc,CACpB,MAAM,AAAI3jD,MAAM,qCAGpB,GAAI+pC,EAAKkD,MAAM,CAACiF,cAAc,EAAI,EAC9B,MAAM,AAAIlyC,MAAM,yCACb,GAAI+pC,EAAKkD,MAAM,CAACiF,cAAc,CAAG,GAAK,EACzC,MAAM,AAAIlyC,MAAM,yCAkDpB,GA/CwB,CAAA,IAApB+pC,EAAKkD,MAAM,CAACmC,GAAG,GACXrF,AAAyB,CAAA,IAAzBA,EAAKkD,MAAM,CAAChF,QAAQ,CACpB6C,EAAKyC,KAAK,CAACxD,EAAKiD,SAAS,CAAE,CAAE/+B,UAAW,iBAAkB,GAE1D68B,EAAKyC,KAAK,CAACxD,EAAKiD,SAAS,CAAE,CAAE/+B,UAAW,iBAAkB,IAI9D87B,EAAKkD,MAAM,CAACoW,eAAe,EAC3BtZ,EAAK2a,kBAAkB,CAAC3a,EAAKkD,MAAM,CAACoW,eAAe,EAQvDtZ,EAAK4a,WAAW,CAAG,EAMnB5a,EAAKiQ,OAAO,CAAG,CAAA,EAOfjQ,EAAK6a,SAAS,CAAG,EAAE,CAMnB7a,EAAK8a,cAAc,CAAG,KAEtB9a,EAAK+a,WAAW,CAAG,KAEnB/a,EAAKgb,MAAM,CAAG,KAEdhb,EAAKqZ,OAAO,CAAG,KAEfrZ,EAAKib,SAAS,CAAG,KAGb,AAAgC,YAAhC,OAAOjb,EAAKkD,MAAM,CAACkX,QAAQ,CAC3B,MAAM,AAAInkD,MAAM,gCAKpB+pC,CAAAA,EAAK+B,MAAM,CAAG/B,EAAKkD,MAAM,CAACkX,QAAQ,CAKP,gBAAvBpa,EAAKkD,MAAM,CAACmW,OAAO,EACnBrZ,CAAAA,EAAKkD,MAAM,CAACmW,OAAO,CAAG,cAD1B,EAK4B,YAAvBrZ,EAAKkD,MAAM,CAACmW,OAAO,EAChBrZ,AAAwB,yBAAxBA,EAAKkD,MAAM,CAACmW,OAAO,EACtBoB,EAAAA,OAAQ,CAAC10C,SAAS,CAACm1C,gBAAgB,CAACnlD,IAAI,CAAC,OAE1CiqC,CAAAA,EAAKkD,MAAM,CAACmW,OAAO,CAAG,cAL1B,EAOArZ,EAAKmb,OAAO,CAAGnb,EAAKob,QAAQ,CAACpb,EAAKkD,MAAM,CAACmW,OAAO,CAAC,CAKjDrZ,EAAKqb,qBAAqB,CAAG,CAAC,EAE9Brb,EAAKsb,WAAW,CAAG,CAAA,EAQnBtb,EAAKub,OAAO,CAAG,CAAA,EAKf,IAtIgBvb,EAsIZwb,EAAY,EAoBhB,OAnBAxb,EAAKyb,SAAS,CAAG1a,EAAKzY,QAAQ,CAC1B,WAEQ0X,EAAKgb,MAAM,CAACr7B,OAAO,EACnB67B,GAAaxb,EAAKgb,MAAM,CAACr7B,OAAO,CAACinB,WAAW,EAC5C,CAAC5G,EAAKkD,MAAM,CAACc,YAAY,EAEzBwX,CAAAA,EAAYxb,EAAKgb,MAAM,CAACr7B,OAAO,CAACinB,WAAW,AAAXA,GAG5B5G,EAAKgb,MAAM,CAAC/U,SAAS,CAAC,SAGlC,EACA,AAAkC,UAAlC,OAAOjG,EAAKkD,MAAM,CAACmX,UAAU,CACvBra,EAAKkD,MAAM,CAACmX,UAAU,CACtB,KAGVxX,EAAA7C,EAAA+C,EAAA/C,GACJ,CAlMA,OApUuD5D,EAwgBvDm8C,CAAAA,CAAA92E,IAAAA,OAAAzB,MAQA,WAKI,OAJA,IAAI,CAAC07C,eAAe,CAAC,IAAI,CAACxY,MAAM,CAACiX,OAAO,EACxC,IAAI,CAACwB,YAAY,GACjB,IAAI,CAACC,aAAa,GAClB,IAAI,CAACC,eAAe,GACb,IAAI,AACf,CAEA,EAAA,CAAAp6C,IAAAA,kBAAAzB,MAQA,SAAgBm6C,CAAO,EAAE,IAAA3U,EAAA,IAAA,CAarB,OAXA2U,EAAQn2C,OAAO,CAAC,SAAA83C,CAAM,EAAA,OAAItW,EAAKuW,SAAS,CAACD,EAAO,GAGhD3B,EAAQn2C,OAAO,CAAC,SAAA83C,CAAM,EAGbA,EAAOE,SAAS,EACjBxW,EAAKyW,UAAU,CAACH,EAAO3mC,IAAI,CAEnC,GACA,IAAI,CAAC8wB,SAAS,CAAC,qBAAsBkU,GAC9B,IAAI,AACf,CAEA,EAAA,CAAA14C,IAAAA,mBAAAzB,MAMA,WACI,OAAO,IAAI,CAACq7C,qBAAqB,AACrC,CAEA,EAAA,CAAA55C,IAAAA,YAAAzB,MAQA,SAAU87C,CAAM,EAAE,IAAA1R,EAAA,IAAA,CACd,GAAI,CAAC0R,EAAO3mC,IAAI,CACZ,MAAM,AAAIlf,MAAM,gCAEpB,GAAI,CAAC6lD,EAAOxf,QAAQ,CAChB,MAAM,AAAIrmC,MAAK,UAAAw5B,MAAA,CACDqsB,EAAO3mC,IAAI,CAAA,wCAKzB2mC,CAAAA,EAAO5C,WAAW,EAClBx7C,OAAO+I,IAAI,CAACq1C,EAAO5C,WAAW,EAAEl1C,OAAO,CAAC,SAAAk4C,CAAgB,EAKpD9R,CAAI,CAAC8R,EAAiB,CAAGJ,EAAO5C,WAAW,CAACgD,EAAiB,AACjE,GAGJ,IAAMC,EAAWL,EAAOxf,QAAQ,CAiBhC,OAXA8f,AAH8B1+C,OAAO2+C,mBAAmB,CACpDtb,EAAK+G,QAAQ,CAAC/hC,SAAS,EAEL/B,OAAO,CAAC,SAAAvC,CAAG,EAC7B06C,EAASp2C,SAAS,CAACtE,EAAI,CAAGs/B,EAAK+G,QAAQ,CAAC/hC,SAAS,CAACtE,EAAI,AAC1D,GAOA,IAAI,CAACq6C,EAAO3mC,IAAI,CAAC,CAAG,IAAIgnC,EAASL,EAAO5Y,MAAM,EAAI,CAAC,EAAG,IAAI,EAC1D,IAAI,CAAC+C,SAAS,CAAC,eAAgB6V,EAAO3mC,IAAI,EACnC,IAAI,AACf,CAEA,EAAA,CAAA1T,IAAAA,aAAAzB,MAQA,SAAWmV,CAAI,EACX,GAAI,CAAC,IAAI,CAACA,EAAK,CACX,MAAM,AAAIlf,MAAK,UAAAw5B,MAAA,CAAWta,EAAI,6BASlC,OAPI,IAAI,CAACkmC,qBAAqB,CAAClmC,EAAK,EAEhC,IAAI,CAACmnC,aAAa,CAACnnC,GAEvB,IAAI,CAACA,EAAK,CAACtf,IAAI,GACf,IAAI,CAACwlD,qBAAqB,CAAClmC,EAAK,CAAG,CAAA,EACnC,IAAI,CAAC8wB,SAAS,CAAC,qBAAsB9wB,GAC9B,IAAI,AACf,CAEA,EAAA,CAAA1T,IAAAA,gBAAAzB,MAQA,SAAcmV,CAAI,EACd,GAAI,CAAC,IAAI,CAACA,EAAK,CACX,MAAM,AAAIlf,MAAK,UAAAw5B,MAAA,CACDta,EAAI,qDAGtB,GAAI,CAAC,IAAI,CAACkmC,qBAAqB,CAAClmC,EAAK,CACjC,MAAM,AAAIlf,MAAK,UAAAw5B,MAAA,CACDta,EAAI,4CAGtB,GAAI,AAA8B,YAA9B,OAAO,IAAI,CAACA,EAAK,CAACg1B,OAAO,CACzB,MAAM,AAAIl0C,MAAK,UAAAw5B,MAAA,CAAWta,EAAI,uCAMlC,OAHA,IAAI,CAACA,EAAK,CAACg1B,OAAO,GAClB,OAAO,IAAI,CAACkR,qBAAqB,CAAClmC,EAAK,CACvC,IAAI,CAAC8wB,SAAS,CAAC,mBAAoB9wB,GAC5B,IAAI,AACf,CAEA,EAAA,CAAA1T,IAAAA,oBAAAzB,MAMA,WAAoB,IAAAsqC,EAAA,IAAA,CAChB5sC,OAAO+I,IAAI,CAAC,IAAI,CAAC40C,qBAAqB,EAAEr3C,OAAO,CAAC,SAAAmR,CAAI,EAAA,OAChDm1B,EAAKgS,aAAa,CAACnnC,EAAK,EAEhC,CAEA,EAAA,CAAA1T,IAAAA,eAAAzB,MAMA,WAAe,IAAAqrC,EAAA,IAAA,AACX,CAAA,IAAI,CAAC2P,MAAM,CAAG,IAAI,IAAI,CAACjZ,MAAM,CAAC,IAAI,CAACkB,SAAS,CAAE,IAAI,CAACC,MAAM,EACzD,IAAI,CAAC8X,MAAM,CAACnlD,IAAI,GAChB,IAAI,CAACowC,SAAS,CAAC,iBAAkB,IAAI,CAAC+U,MAAM,EAEb,CAAA,IAA3B,IAAI,CAAC9X,MAAM,CAACmX,UAAU,GACtBnlD,OAAOuwC,gBAAgB,CAAC,SAAU,IAAI,CAACgW,SAAS,CAAE,CAAA,GAClDvmD,OAAOuwC,gBAAgB,CAAC,oBAAqB,IAAI,CAACgW,SAAS,CAAE,CAAA,IAGjE,IAAI,CAACT,MAAM,CAACnK,EAAE,CAAC,SAAU,WACrBxF,EAAKkR,UAAU,GACflR,EAAK2P,MAAM,CAACte,QAAQ,CAAC2O,EAAKgO,OAAO,CAACmD,iBAAiB,GACvD,GAGA,IAAI,CAACxB,MAAM,CAACnK,EAAE,CAAC,QAAS,SAACryC,CAAC,CAAEk+B,CAAQ,EAChCp0B,WAAW,WAAA,OAAM+iC,EAAK6G,MAAM,CAACxV,EAAS,EAAE,EAC5C,GAGA,IAAI,CAACse,MAAM,CAACnK,EAAE,CAAC,SAAU,SAAAryC,CAAC,EAClB6sC,EAAKnI,MAAM,CAAC4W,aAAa,EACzBzO,EAAKkR,UAAU,GAEnBlR,EAAKpF,SAAS,CAAC,SAAUznC,EAC7B,GAGA,IAAI,CAACw8C,MAAM,CAACnK,EAAE,CAAC,WAAY,SAACryC,CAAC,CAAEk+B,CAAQ,EACnC2O,EAAKpF,SAAS,CAAC,WAAYznC,EAAGk+B,EAClC,EAEJ,CAEA,EAAA,CAAAj7B,IAAAA,gBAAAzB,MAMA,WAAgB,IAAA0rC,EAAA,IAAA,AACR,CAAA,IAAI,CAAC2N,OAAO,EACZ,IAAI,CAACA,OAAO,CAAClP,OAAO,GAGxB,IAAI,CAACkP,OAAO,CAAG,IAAI,IAAI,CAAC8B,OAAO,CAAC,IAAI,CAACjY,MAAM,EAC3C,IAAI,CAACmW,OAAO,CAACxjD,IAAI,GACjB,IAAI,CAACowC,SAAS,CAAC,kBAAmB,IAAI,CAACoT,OAAO,EAE9C,IAAI,CAACA,OAAO,CAACxI,EAAE,CAAC,SAAU,WACtBnF,EAAKsP,MAAM,CAACte,QAAQ,CAACgP,EAAK2N,OAAO,CAACmD,iBAAiB,IACnD9Q,EAAKzF,SAAS,CAAC,SACnB,GACA,IAAI,CAACoT,OAAO,CAACxI,EAAE,CAAC,OAAQ,WAAA,OAAMnF,EAAKzF,SAAS,CAAC,OAAO,GACpD,IAAI,CAACoT,OAAO,CAACxI,EAAE,CAAC,QAAS,WAAA,OAAMnF,EAAKzF,SAAS,CAAC,QAAQ,GAEtD,IAAI,CAACoT,OAAO,CAACxI,EAAE,CAAC,eAAgB,SAAA5nB,CAAI,EAChCyiB,EAAKsP,MAAM,CAACte,QAAQ,CAACgP,EAAK2N,OAAO,CAACmD,iBAAiB,IACnD9Q,EAAKzF,SAAS,CAAC,eAAgBhd,EACnC,GAII,CAAA,AAAwB,iBAAxB,IAAI,CAACia,MAAM,CAACmW,OAAO,EACnB,AAAwB,yBAAxB,IAAI,CAACnW,MAAM,CAACmW,OAAO,AAAK,IAExB,IAAI,CAACA,OAAO,CAACxI,EAAE,CAAC,OAAQ,WACpBnF,EAAKsP,MAAM,CAACte,QAAQ,CAACgP,EAAK2N,OAAO,CAACmD,iBAAiB,GACvD,GAEA,IAAI,CAACnD,OAAO,CAACxI,EAAE,CAAC,SAAU,WACtB,IAAI4L,EAAY/Q,EAAKgR,SAAS,GAC9BhR,EAAKzF,SAAS,CAAC,SAAUwW,GAErB/Q,EAAK2N,OAAO,CAACpJ,OAAO,GAAKvE,EAAKuE,OAAO,GACrCvE,EAAKuE,OAAO,CAAGvE,EAAK2N,OAAO,CAACpJ,OAAO,CACnCvE,EAAKzF,SAAS,CAAC,OAAQyF,EAAKuE,OAAO,EAE3C,GAER,CAEA,EAAA,CAAAxuC,IAAAA,kBAAAzB,MAKA,WACQ,IAAI,CAACkjC,MAAM,CAAC4W,aAAa,EACzB,CAAA,IAAI,CAACmB,SAAS,CAAG,IAAItI,EAAAA,OAAS,AADlC,CAGJ,CAEA,EAAA,CAAAlxC,IAAAA,cAAAzB,MAMA,WACI,OAAO,IAAI,CAACq5C,OAAO,CAACrH,WAAW,EACnC,CAEA,EAAA,CAAAvwC,IAAAA,iBAAAzB,MAMA,WACI,OAAO,IAAI,CAACq5C,OAAO,CAACrI,cAAc,EACtC,CAEA,EAAA,CAAAvvC,IAAAA,iBAAAzB,MAMA,SAAe28C,CAAO,EACdA,GAAW,IAAI,CAAC3K,WAAW,GAC3B,IAAI,CAACE,MAAM,CAAC,GAEZ,IAAI,CAACA,MAAM,CAACyK,EAAU,IAAI,CAAC3K,WAAW,GAE9C,CAEA,EAAA,CAAAvwC,IAAAA,OAAAzB,MAYA,SAAK8Z,CAAK,CAAEQ,CAAG,EAAE,IAAAuyB,EAAA,IAAA,CAOb,OANI,IAAI,CAAC3J,MAAM,CAACwW,iBAAiB,EAE7B3Y,EAAK2Y,iBAAiB,GAG1B,IAAI,CAACzT,SAAS,CAAC,cAAe,WAAA,OAAM4G,EAAK+C,IAAI,CAAC91B,EAAOQ,EAAI,GAClD,IAAI,CAAC++B,OAAO,CAACzJ,IAAI,CAAC91B,EAAOQ,EACpC,CAEA,EAAA,CAAA7Y,IAAAA,aAAAzB,MAMA,SAAWq0B,CAAQ,EACf,IAAI,CAACglB,OAAO,CAACjH,UAAU,CAAC/d,EAC5B,CAEA,EAAA,CAAA5yB,IAAAA,QAAAzB,MAMA,WACI,GAAI,CAAC,IAAI,CAACq5C,OAAO,CAACtI,QAAQ,GACtB,OAAO,IAAI,CAACsI,OAAO,CAACxJ,KAAK,EAEjC,CAEA,EAAA,CAAApuC,IAAAA,YAAAzB,MAMA,WACI,OAAO,IAAI,CAACq5C,OAAO,CAACtI,QAAQ,GAAK,IAAI,CAACnB,IAAI,GAAK,IAAI,CAACC,KAAK,EAC7D,CAEA,EAAA,CAAApuC,IAAAA,YAAAzB,MAMA,WACI,MAAO,CAAC,IAAI,CAACq5C,OAAO,CAACtI,QAAQ,EACjC,CAEA,EAAA,CAAAtvC,IAAAA,eAAAzB,MAOA,SAAa28C,CAAO,EAChB,IAAI,CAACpuC,IAAI,CAAC,CAACouC,GAAW,CAAC,IAAI,CAACzZ,MAAM,CAACoX,UAAU,CACjD,CAEA,EAAA,CAAA74C,IAAAA,cAAAzB,MAOA,SAAY28C,CAAO,EACf,IAAI,CAACpuC,IAAI,CAACouC,GAAW,IAAI,CAACzZ,MAAM,CAACoX,UAAU,CAC/C,CAEA,EAAA,CAAA74C,IAAAA,OAAAzB,MASA,SAAKe,CAAM,EACP,IAAM0uC,EAAW,IAAI,CAACuC,WAAW,IAAM,EACnC3d,EAAW,IAAI,CAAC2c,cAAc,IAAM,EACxC3c,EAAW5uB,KAAK2D,GAAG,CAAC,EAAG3D,KAAK6D,GAAG,CAACmmC,EAAUpb,EAAYtzB,CAAAA,GAAU,CAAA,IAChE,IAAI,CAAC67C,aAAa,CAACvoB,EAAWob,EAClC,CAEA,EAAA,CAAAhuC,IAAAA,gBAAAzB,MAQA,SAAc08B,CAAQ,EAClB,IAAI,CAACwV,MAAM,CAACxV,GACZ,IAAI,CAACse,MAAM,CAAC6B,QAAQ,CAACngB,EACzB,CAEA,EAAA,CAAAj7B,IAAAA,SAAAzB,MAUA,SAAO08B,CAAQ,EAAE,IAAAogB,EAAA,IAAA,CAEb,GACI,AAAoB,UAApB,OAAOpgB,GACP,CAAC1zB,SAAS0zB,IACVA,EAAW,GACXA,EAAW,EAEX,MAAM,AAAIzmC,MACN,gFAGR,IAAI,CAACgwC,SAAS,CAAC,cAAe,WAAA,OAAM6W,EAAK5K,MAAM,CAACxV,EAAS,GAEzD,IAAMqgB,EAAoB,AAAwB,aAAxB,IAAI,CAAC7Z,MAAM,CAACmW,OAAO,CACvC3J,EAAS,IAAI,CAAC2J,OAAO,CAACtI,QAAQ,GAEhCgM,GAAqB,CAACrN,GACtB,IAAI,CAAC2J,OAAO,CAACxJ,KAAK,GAItB,IAAMmN,EAAkB,IAAI,CAAC9Z,MAAM,CAACc,YAAY,AAChD,CAAA,IAAI,CAACd,MAAM,CAACc,YAAY,CAAG,CAAA,EAC3B,IAAI,CAACqV,OAAO,CAACnH,MAAM,CAACxV,EAAW,IAAI,CAACsV,WAAW,IAC/C,IAAI,CAACgJ,MAAM,CAACte,QAAQ,CAACA,GAEjBqgB,GAAqB,CAACrN,GACtB,IAAI,CAAC2J,OAAO,CAACzJ,IAAI,GAGrB,IAAI,CAAC1M,MAAM,CAACc,YAAY,CAAGgZ,EAC3B,IAAI,CAAC/W,SAAS,CAAC,OAAQvJ,EAC3B,CAEA,EAAA,CAAAj7B,IAAAA,OAAAzB,MAKA,WACI,IAAI,CAAC6vC,KAAK,GACV,IAAI,CAACqC,MAAM,CAAC,GACZ,IAAI,CAAC8I,MAAM,CAACte,QAAQ,CAAC,EACzB,CAEA,EAAA,CAAAj7B,IAAAA,YAAAzB,MAQA,SAAUuyC,CAAQ,EACd,OAAO,IAAI,CAAC8G,OAAO,CAAC7G,SAAS,CAACD,EAClC,CAEA,EAAA,CAAA9wC,IAAAA,YAAAzB,MAOA,SAAUy8C,CAAS,EACf,GAAI,AAAiB,CAAA,IAAjB,IAAI,CAACxM,OAAO,CAAW,CACvB,IAAI,CAAC2K,WAAW,CAAG6B,EACnB,MACJ,CACA,IAAI,CAACpD,OAAO,CAACxH,SAAS,CAAC4K,GACvB,IAAI,CAACxW,SAAS,CAAC,SAAUwW,EAC7B,CAEA,EAAA,CAAAh7C,IAAAA,YAAAzB,MAMA,WACI,OAAO,IAAI,CAACq5C,OAAO,CAACqD,SAAS,EACjC,CAEA,EAAA,CAAAj7C,IAAAA,kBAAAzB,MAOA,SAAgB8mC,CAAI,EAChB,IAAI,CAACuS,OAAO,CAAChL,eAAe,CAACvH,EACjC,CAEA,EAAA,CAAArlC,IAAAA,kBAAAzB,MAKA,WACI,OAAO,IAAI,CAACq5C,OAAO,CAAC4D,eAAe,EACvC,CAEA,EAAA,CAAAx7C,IAAAA,aAAAzB,MAQA,WACI,IAAI,CAACk9C,OAAO,CAAC,CAAC,IAAI,CAACjN,OAAO,CAC9B,CAEA,EAAA,CAAAxuC,IAAAA,UAAAzB,MAWA,SAAQm9C,CAAI,EAER,GAAIA,IAAS,IAAI,CAAClN,OAAO,CAAE,CACvB,IAAI,CAAChK,SAAS,CAAC,OAAQ,IAAI,CAACgK,OAAO,EACnC,MACJ,CAEI,IAAI,CAACoJ,OAAO,CAAC6D,OAAO,EAGpB,IAAI,CAAC7D,OAAO,CAAC6D,OAAO,CAACC,GACrB,IAAI,CAAClN,OAAO,CAAGkN,GAEXA,GAGA,IAAI,CAACvC,WAAW,CAAG,IAAI,CAACvB,OAAO,CAACqD,SAAS,GACzC,IAAI,CAACrD,OAAO,CAACxH,SAAS,CAAC,GACvB,IAAI,CAAC5B,OAAO,CAAG,CAAA,EACf,IAAI,CAAChK,SAAS,CAAC,SAAU,KAIzB,IAAI,CAACoT,OAAO,CAACxH,SAAS,CAAC,IAAI,CAAC+I,WAAW,EACvC,IAAI,CAAC3K,OAAO,CAAG,CAAA,EACf,IAAI,CAAChK,SAAS,CAAC,SAAU,IAAI,CAAC2U,WAAW,GAGjD,IAAI,CAAC3U,SAAS,CAAC,OAAQ,IAAI,CAACgK,OAAO,CACvC,CAEA,EAAA,CAAAxuC,IAAAA,UAAAzB,MAMA,WACI,OAAO,IAAI,CAACiwC,OAAO,AACvB,CAEA,EAAA,CAAAxuC,IAAAA,aAAAzB,MAOA,WACI,OAAO,IAAI,CAACq5C,OAAO,CAAC+D,OAAO,EAAI,EAAE,AACrC,CAEA,EAAA,CAAA37C,IAAAA,eAAAzB,MAKA,WACI,IAAI,CAACkjC,MAAM,CAACc,YAAY,CAAG,CAAC,IAAI,CAACd,MAAM,CAACc,YAAY,CACpD,IAAI,CAACuY,UAAU,EACnB,CAEA,EAAA,CAAA96C,IAAAA,oBAAAzB,MAKA,WACI,IAAI,CAACkjC,MAAM,CAAC8C,QAAQ,CAAG,CAAC,IAAI,CAAC9C,MAAM,CAAC8C,QAAQ,AAChD,CAEA,EAAA,CAAAvkC,IAAAA,eAAAzB,MAMA,WAAgC,IAAnBq9C,EAAUn+B,UAAAzf,MAAA,CAAA,GAAAyf,AAAA7oB,KAAAA,IAAA6oB,SAAA,CAAA,EAAA,CAAAA,SAAA,CAAA,EAAA,CAAG,YACtB,AAAI,IAAI,CAACgkB,MAAM,CAAC0I,oBAAoB,CAACC,aAAa,CAACwR,EAAW,CACnD,IAAI,CAACna,MAAM,CAAC0I,oBAAoB,CAACC,aAAa,CAACwR,EAAW,CAAC7f,SAAS,CAExE,IAAI,CAAC0F,MAAM,CAAC1F,SAAS,AAChC,CAEA,EAAA,CAAA/7B,IAAAA,eAAAzB,MAOA,SAAa69B,CAAK,EAAqB,IAAnBwf,EAAUn+B,UAAAzf,MAAA,CAAA,GAAAyf,AAAA7oB,KAAAA,IAAA6oB,SAAA,CAAA,EAAA,CAAAA,SAAA,CAAA,EAAA,CAAG,IACzB,CAAA,IAAI,CAACgkB,MAAM,CAAC0I,oBAAoB,CAACC,aAAa,CAACwR,EAAW,CAC1D,IAAI,CAACna,MAAM,CAAC0I,oBAAoB,CAACC,aAAa,CAACwR,EAAW,CAAC7f,SAAS,CAAGK,EAEvE,IAAI,CAACqF,MAAM,CAAC1F,SAAS,CAAGK,EAE5B,IAAI,CAAC0e,UAAU,EACnB,CAEA,EAAA,CAAA96C,IAAAA,mBAAAzB,MAMA,WAAoC,IAAnBq9C,EAAUn+B,UAAAzf,MAAA,CAAA,GAAAyf,AAAA7oB,KAAAA,IAAA6oB,SAAA,CAAA,EAAA,CAAAA,SAAA,CAAA,EAAA,CAAG,YAC1B,AAAI,IAAI,CAACgkB,MAAM,CAAC0I,oBAAoB,CAACC,aAAa,CAACwR,EAAW,CACnD,IAAI,CAACna,MAAM,CAAC0I,oBAAoB,CAACC,aAAa,CAACwR,EAAW,CAAC5f,aAAa,CAE5E,IAAI,CAACyF,MAAM,CAACzF,aAAa,AACpC,CAEA,EAAA,CAAAh8B,IAAAA,mBAAAzB,MAOA,SAAiB69B,CAAK,CAAEwf,CAAU,EAC1B,IAAI,CAACna,MAAM,CAAC0I,oBAAoB,CAACC,aAAa,CAACwR,EAAW,CAC1D,IAAI,CAACna,MAAM,CAAC0I,oBAAoB,CAACC,aAAa,CAACwR,EAAW,CAAC5f,aAAa,CAAGI,EAE3E,IAAI,CAACqF,MAAM,CAACzF,aAAa,CAAGI,EAEhC,IAAI,CAAC0e,UAAU,EACnB,CAEA,EAAA,CAAA96C,IAAAA,qBAAAzB,MAKA,WACI,OAAO,IAAI,CAACkjC,MAAM,CAACoW,eAAe,AACtC,CAEA,EAAA,CAAA73C,IAAAA,qBAAAzB,MAMA,SAAmB69B,CAAK,EACpB,IAAI,CAACqF,MAAM,CAACoW,eAAe,CAAGzb,EAC9BkD,EAAKyC,KAAK,CAAC,IAAI,CAACP,SAAS,CAAE,CAAEqa,WAAY,IAAI,CAACpa,MAAM,CAACoW,eAAxBgE,AAAwC,EACzE,CAEA,EAAA,CAAA77C,IAAAA,iBAAAzB,MAMA,WACI,OAAO,IAAI,CAACkjC,MAAM,CAACsG,WAAW,AAClC,CAEA,EAAA,CAAA/nC,IAAAA,iBAAAzB,MAOA,SAAe69B,CAAK,EAChB,IAAI,CAACqF,MAAM,CAACsG,WAAW,CAAG3L,EAC1B,IAAI,CAACmd,MAAM,CAAC5R,YAAY,EAC5B,CAEA,EAAA,CAAA3nC,IAAAA,YAAAzB,MAKA,WACI,OAAO,IAAI,CAACkjC,MAAM,CAAChG,MAAM,AAC7B,CAEA,EAAA,CAAAz7B,IAAAA,YAAAzB,MAMA,SAAUk9B,CAAM,EACZ,IAAI,CAACgG,MAAM,CAAChG,MAAM,CAAGA,EACrB,IAAI,CAAC8d,MAAM,CAAC5N,SAAS,CAAClQ,EAAS,IAAI,CAACgG,MAAM,CAACE,UAAU,EACrD,IAAI,CAACmZ,UAAU,EACnB,CAEA,EAAA,CAAA96C,IAAAA,sBAAAzB,MAaA,SAAoBu9C,CAAc,EAC9B,IAAI,CAACra,MAAM,CAAC0I,oBAAoB,CAACc,cAAc,CAAG6Q,EAClD,IAAI,CAAChB,UAAU,EACnB,CAEA,EAAA,CAAA96C,IAAAA,aAAAzB,MAMA,WACI,IAAM6kC,EAAep/B,KAAKwpB,KAAK,CAC3B,IAAI,CAAC+iB,WAAW,GACZ,IAAI,CAAC9O,MAAM,CAAC2W,WAAW,CACvB,IAAI,CAAC3W,MAAM,CAACE,UAAU,EAExB0B,EAAc,IAAI,CAACkW,MAAM,CAACjW,QAAQ,GACpC9H,EAAQ4H,EAER/qB,EAAQ,EACRQ,EAAM7U,KAAK2D,GAAG,CAAC0Q,AADP,EACegrB,EAAa7H,GAYxC,GATI,IAAI,CAACiG,MAAM,CAACa,UAAU,EACrB,CAAA,CAAC,IAAI,CAACb,MAAM,CAACc,YAAY,EAAIa,EAAeC,CAAAA,IAG7ChrB,EAAQ,EACRQ,EAFA2iB,EAAQ6H,GAMR,IAAI,CAAC5B,MAAM,CAAC4W,aAAa,CAAE,CAC3B,IAFA/a,EAOIK,EALEoe,EAAY,IAAI,CAACvC,SAAS,CAACwC,mBAAmB,CAChDxgB,EACAnjB,EACAQ,GAGJ,IAAK8kB,EAAI,EAAGA,EAAIoe,EAAU/9C,MAAM,CAAE2/B,IAC9BL,EAAQ,IAAI,CAACsa,OAAO,CAACqE,QAAQ,CACzBzgB,EACAugB,CAAS,CAACpe,EAAE,CAAC,EAAE,CACfoe,CAAS,CAACpe,EAAE,CAAC,EAAE,EAEnB,IAAI,CAAC4b,MAAM,CAAC2C,SAAS,CACjB5e,EACA9B,EACAugB,CAAS,CAACpe,EAAE,CAAC,EAAE,CACfoe,CAAS,CAACpe,EAAE,CAAC,EAAE,CAG3B,MACIL,EAAQ,IAAI,CAACsa,OAAO,CAACqE,QAAQ,CAACzgB,EAAOnjB,EAAOQ,GAC5C,IAAI,CAAC0gC,MAAM,CAAC2C,SAAS,CAAC5e,EAAO9B,EAAOnjB,EAAOQ,GAE/C,IAAI,CAAC2rB,SAAS,CAAC,SAAUlH,EAAO9B,EACpC,CAEA,EAAA,CAAAx7B,IAAAA,OAAAzB,MAUA,SAAK49C,CAAQ,EACJA,GAID,IAAI,CAAC1a,MAAM,CAAC2W,WAAW,CAAG+D,EAC1B,IAAI,CAAC1a,MAAM,CAACc,YAAY,CAAG,CAAA,IAJ3B,IAAI,CAACd,MAAM,CAAC2W,WAAW,CAAG,IAAI,CAACa,aAAa,CAACb,WAAW,CACxD,IAAI,CAAC3W,MAAM,CAACc,YAAY,CAAG,CAAA,GAM/B,IAAI,CAACuY,UAAU,GACf,IAAI,CAACvB,MAAM,CAACte,QAAQ,CAAC,IAAI,CAAC2c,OAAO,CAACmD,iBAAiB,IAEnD,IAAI,CAACxB,MAAM,CAAC6B,QAAQ,CAAC,IAAI,CAAC7L,cAAc,GAAK,IAAI,CAACgB,WAAW,IAC7D,IAAI,CAAC/L,SAAS,CAAC,OAAQ2X,EAC3B,CAEA,EAAA,CAAAn8C,IAAAA,kBAAAzB,MAMA,SAAgB+6C,CAAW,EAAE,IAAA8C,EAAA,IAAA,CACzB,IAAI,CAACC,iBAAiB,CAAC/C,EAAa,SAAAjuC,CAAI,EAC/B+wC,EAAKvC,WAAW,EACjBuC,EAAKE,iBAAiB,CAACjxC,EAE/B,EACJ,CAEA,EAAA,CAAArL,IAAAA,oBAAAzB,MAOA,SAAkBgQ,CAAM,EACpB,IAAI,CAACqpC,OAAO,CAAC1H,IAAI,CAAC3hC,GAClB,IAAI,CAACusC,UAAU,GACf,IAAI,CAAChB,OAAO,CAAG,CAAA,EACf,IAAI,CAACtV,SAAS,CAAC,QACnB,CAEA,EAAA,CAAAxkC,IAAAA,WAAAzB,MAMA,SAASq1C,CAAI,EAAE,IAAA2I,EAAA,IAAA,CAELC,EAAS,IAAIC,WACnBD,EAAOxY,gBAAgB,CAAC,WAAY,SAAAjnC,CAAC,EAAA,OAAIw/C,EAAKlJ,UAAU,CAACt2C,EAAE,GAC3Dy/C,EAAOxY,gBAAgB,CAAC,OAAQ,SAAAjnC,CAAC,EAAA,OAC7Bw/C,EAAKG,eAAe,CAAC3/C,EAAE41B,MAAM,CAAC9zB,MAAM,CAAC,GAEzC29C,EAAOxY,gBAAgB,CAAC,QAAS,WAAA,OAC7BuY,EAAK/X,SAAS,CAAC,QAAS,qBAAqB,GAEjDgY,EAAOG,iBAAiB,CAAC/I,GACzB,IAAI,CAACgJ,KAAK,EACd,CAEA,EAAA,CAAA58C,IAAAA,OAAAzB,MA2BA,SAAKixC,CAAG,CAAElS,CAAK,CAAE6P,CAAO,CAAEa,CAAQ,EAC9B,GAAI,CAACwB,EACD,MAAM,AAAIh7C,MAAM,iCAGpB,GADA,IAAI,CAACooD,KAAK,GACNzP,EAAS,CAGT,IAAM0P,EAAuB,CACzB,8CACI,AAAkD,KAAlD,CAAC,OAAQ,WAAY,OAAO,CAAC/kC,OAAO,CAACq1B,GACzC,yBAA0B,CAAC7P,EAC3B,kEACI,AAEM,KAFN,CAAC,eAAgB,uBAAuB,CAACxlB,OAAO,CAC5C,IAAI,CAAC2pB,MAAM,CAACmW,OAAO,EAE3B,4BAA6B,AAAe,UAAf,OAAOpI,CACxC,EACMsN,EAAgB7gD,OAAO+I,IAAI,CAAC63C,GAAsBjuB,MAAM,CAC1D,SAAAmuB,CAAM,EAAA,OAAIF,CAAoB,CAACE,EAAO,AAAA,EAEtCD,CAAAA,EAAc9+C,MAAM,GAEpBg/C,QAAQC,IAAI,CACR,qEACIH,EAAcjiD,IAAI,CAAC,UAG3BsyC,EAAU,KAElB,CAQA,OAJ4B,aAAxB,IAAI,CAAC1L,MAAM,CAACmW,OAAO,EAAmBpI,aAAeS,kBACrDT,CAAAA,EAAMA,EAAII,GAAG,AAAHA,EAGN,IAAI,CAACnO,MAAM,CAACmW,OAAO,EACvB,IAAK,WACD,OAAO,IAAI,CAACsF,UAAU,CAAC1N,EAAKlS,EAAO0Q,EACvC,KAAK,eACL,IAAK,uBACD,OAAO,IAAI,CAACmP,gBAAgB,CAAC3N,EAAKlS,EAAO6P,EAASa,EAAU,CAExE,CAEA,EAAA,CAAAhuC,IAAAA,aAAAzB,MAUA,SAAWixC,CAAG,CAAElS,CAAK,CAAE0Q,CAAQ,EAAE,IAAAoP,EAAA,IAAA,CACvBlN,EAAO,SAAAv1B,CAAM,EAIf,OAHIA,GACAyiC,EAAKhE,SAAS,CAACrtC,IAAI,CAACqxC,EAAKvtB,IAAI,CAAC,QAASlV,IAEpCyiC,EAAKC,cAAc,CAAC7N,EAAK,SAAAnkC,CAAI,EAAA,OAAI+xC,EAAKV,eAAe,CAACrxC,EAAK,EACtE,EAEA,IAAIiyB,EAMA,OAAO4S,IALP,IAAI,CAAC0H,OAAO,CAAC0F,QAAQ,CAAChgB,EAAO0Q,GAC7B,IAAI,CAAC8M,UAAU,GACf,IAAI,CAACtW,SAAS,CAAC,kBACf,IAAI,CAAC4U,SAAS,CAACrtC,IAAI,CAAC,IAAI,CAAC8jB,IAAI,CAAC,cAAeqgB,GAIrD,CAEA,EAAA,CAAAlwC,IAAAA,mBAAAzB,MAaA,SAAiBg/C,CAAQ,CAAEjgB,CAAK,CAAE6P,CAAO,CAAEa,CAAQ,EAAE,IAAAwP,EAAA,IAAA,CAC7ChO,EAAM+N,CAEN,AAAoB,CAAA,UAApB,OAAOA,EACP,IAAI,CAAC3F,OAAO,CAAC1H,IAAI,CAACV,EAAK,IAAI,CAAC2I,cAAc,CAAE7a,EAAO6P,IAGnD,IAAI,CAACyK,OAAO,CAAC6F,OAAO,CADRF,EACcjgB,GAI1BkS,EAAMQ,AALMuN,EAKF3N,GAAG,EAGjB,IAAI,CAACwJ,SAAS,CAACrtC,IAAI,CACf,IAAI,CAAC6rC,OAAO,CAAC/nB,IAAI,CAAC,UAAW,WAEpB2tB,EAAK5F,OAAO,CAAC5G,SAAS,GACvBwM,EAAK1C,UAAU,GACf0C,EAAK1D,OAAO,CAAG,CAAA,EACf0D,EAAKhZ,SAAS,CAAC,SAEvB,GACA,IAAI,CAACoT,OAAO,CAAC/nB,IAAI,CAAC,QAAS,SAAAt7B,CAAG,EAAA,OAAIipD,EAAKhZ,SAAS,CAAC,QAASjwC,EAAI,IAI9D+oC,IACA,IAAI,CAACsa,OAAO,CAAC0F,QAAQ,CAAChgB,EAAO0Q,GAC7B,IAAI,CAAC8M,UAAU,GACf,IAAI,CAACtW,SAAS,CAAC,mBAOd,CAAA,CAAClH,GAAS,IAAI,CAACmE,MAAM,CAACuW,WAAW,AAAXA,GACvB,IAAI,CAACJ,OAAO,CAAC6B,gBAAgB,IAE7B,IAAI,CAAC4D,cAAc,CAAC7N,EAAK,SAAA8J,CAAW,EAChCkE,EAAKnB,iBAAiB,CAAC/C,EAAa,SAAA/qC,CAAM,EACtCivC,EAAK5F,OAAO,CAACrpC,MAAM,CAAGA,EACtBivC,EAAK5F,OAAO,CAAC0F,QAAQ,CAAC,MACtBE,EAAK1C,UAAU,GACf0C,EAAKhZ,SAAS,CAAC,iBACnB,EACJ,EAER,CAEA,EAAA,CAAAxkC,IAAAA,oBAAAzB,MAOA,SAAkB+6C,CAAW,CAAEj8B,CAAQ,EAAE,IAAAqgC,EAAA,IAAA,AAChC,CAAA,IAAI,CAAC7D,WAAW,GACjB,IAAI,CAACP,WAAW,CAAGA,EACnB,IAAI,CAAC1B,OAAO,CAACyE,iBAAiB,CAC1B/C,EACA,SAAAjuC,CAAI,EAGKqyC,EAAK7D,WAAW,EAAI6D,EAAKpE,WAAW,EAAIA,IACzCj8B,EAAShS,GACTqyC,EAAKpE,WAAW,CAAG,KAE3B,EACA,WAAA,OAAMoE,EAAKlZ,SAAS,CAAC,QAAS,6BAA6B,GAGvE,CAEA,EAAA,CAAAxkC,IAAAA,iBAAAzB,MAQA,SAAeixC,CAAG,CAAEnyB,CAAQ,EAAE,IAAAsgC,EAAA,IAAA,CACtB72B,EAAU7qB,OAAO+tB,MAAM,CACvB,CACIwlB,IAAKA,EACL+C,aAAc,aAClB,EACA,IAAI,CAAC9Q,MAAM,CAACsX,GAAG,EAEb6E,EAAUte,EAAKue,SAAS,CAAC/2B,GAkB/B,OAhBA,IAAI,CAACuyB,cAAc,CAAGuE,EAEtB,IAAI,CAACxE,SAAS,CAACrtC,IAAI,CACf6xC,EAAQxO,EAAE,CAAC,WAAY,SAAAryC,CAAC,EACpB4gD,EAAKtK,UAAU,CAACt2C,EACpB,GACA6gD,EAAQxO,EAAE,CAAC,UAAW,SAAA/jC,CAAI,EACtBgS,EAAShS,GACTsyC,EAAKtE,cAAc,CAAG,IAC1B,GACAuE,EAAQxO,EAAE,CAAC,QAAS,SAAAryC,CAAC,EACjB4gD,EAAKnZ,SAAS,CAAC,QAASznC,GACxB4gD,EAAKtE,cAAc,CAAG,IAC1B,IAGGuE,CACX,CAEA,EAAA,CAAA59C,IAAAA,aAAAzB,MAOA,SAAWxB,CAAC,EACR,IAAI+gD,EAEAA,EADA/gD,EAAEs3C,gBAAgB,CACAt3C,EAAEo3C,MAAM,CAAGp3C,EAAEm3C,KAAK,CAIlBn3C,EAAEo3C,MAAM,CAAIp3C,CAAAA,EAAEo3C,MAAM,CAAG,GAAA,EAE7C,IAAI,CAAC3P,SAAS,CAAC,UAAWxgC,KAAKwpB,KAAK,CAACswB,AAAkB,IAAlBA,GAAwB/gD,EAAE41B,MAAM,CACzE,CAEA,EAAA,CAAA3yB,IAAAA,YAAAzB,MAYA,SAAUP,CAAM,CAAE+/C,CAAQ,CAAEC,CAAQ,CAAE3lC,CAAK,CAAEQ,CAAG,EAC5C7a,EAASA,GAAU,KACnBqa,EAAQA,GAAS,EACjB0lC,EAAWA,GAAY,IACvBC,EAAWA,GAAY,CAAA,EACvB,IAAM1gB,EAAQ,IAAI,CAACsa,OAAO,CAACqE,QAAQ,CAACj+C,EAAQqa,EAAOQ,GAC7C24B,EAAM,EAAE,CAACnvC,GAAG,CAAC/N,IAAI,CACnBgpC,EACA,SAAA2O,CAAG,EAAA,OAAIjoC,KAAKwpB,KAAK,CAACye,EAAM8R,GAAYA,CAAQ,GAGhD,OAAO,IAAIz1C,QAAQ,SAAC0a,CAAO,CAAEkN,CAAM,EAC/B,GAAI,CAAC8tB,EAAS,CACV,IAAMC,EAAW,IAAIC,KACjB,CAACC,KAAKC,SAAS,CAAC5M,GAAK,CACrB,CAAChvB,KAAM,gCAAgC,GAErC67B,EAASC,IAAIC,eAAe,CAACN,GACnCxqD,OAAO+qD,IAAI,CAACH,GACZC,IAAIG,eAAe,CAACJ,EACxB,CACAr7B,EAAQwuB,EACZ,EACJ,CAEA,EAAA,CAAAxxC,IAAAA,cAAAzB,MAkBA,SAAY8/B,CAAM,CAAEC,CAAO,CAAE9b,CAAI,EAW7B,OAVK6b,GACDA,CAAAA,EAAS,WADb,EAGKC,GACDA,CAAAA,EAAU,CAAA,EAET9b,GACDA,CAAAA,EAAO,SADX,EAIO,IAAI,CAAC+2B,MAAM,CAACpN,QAAQ,CAAC9N,EAAQC,EAAS9b,EACjD,CAEA,EAAA,CAAAxiB,IAAAA,aAAAzB,MAGA,WACQ,IAAI,CAAC86C,cAAc,EAAI,IAAI,CAACA,cAAc,CAACnH,UAAU,GAIjD,IAAI,CAACmH,cAAc,CAACrF,OAAO,EAE3B,IAAI,CAACqF,cAAc,CAACrF,OAAO,CAAC/rB,MAAM,GAAG8rB,KAAK,CAAC,SAAAx/C,CAAG,EAAK,GAGvD,IAAI,CAAC8kD,cAAc,CAACnH,UAAU,CAACwM,KAAK,GACpC,IAAI,CAACrF,cAAc,CAAG,KAE9B,CAEA,EAAA,CAAAr5C,IAAAA,iBAAAzB,MAGA,WACI,IAAI,CAAC66C,SAAS,CAAC72C,OAAO,CAAC,SAAAxF,CAAC,EAAA,OAAIA,EAAE8zC,EAAE,EAAE,EACtC,CAEA,EAAA,CAAA7wC,IAAAA,QAAAzB,MAGA,WACS,IAAI,CAACq5C,OAAO,CAACtI,QAAQ,KACtB,IAAI,CAACqP,IAAI,GACT,IAAI,CAAC/G,OAAO,CAACgH,gBAAgB,IAEjC,IAAI,CAAC9E,OAAO,CAAG,CAAA,EACf,IAAI,CAAC+E,UAAU,GACf,IAAI,CAACC,cAAc,GAGnB,IAAI,CAACvF,MAAM,CAACte,QAAQ,CAAC,GACrB,IAAI,CAACse,MAAM,CAAC7U,QAAQ,CAAC,GACrB,IAAI,CAAC6U,MAAM,CAAC2C,SAAS,CAAC,CAAEl+C,OAAQ,IAAI,CAACu7C,MAAM,CAACjW,QAAQ,EAAG,EAAG,EAC9D,CAEA,EAAA,CAAAtjC,IAAAA,UAAAzB,MAKA,WACI,IAAI,CAACwgD,iBAAiB,GACtB,IAAI,CAACva,SAAS,CAAC,WACf,IAAI,CAACqa,UAAU,GACf,IAAI,CAACC,cAAc,GACnB,IAAI,CAAC9Y,KAAK,GACqB,CAAA,IAA3B,IAAI,CAACvE,MAAM,CAACmX,UAAU,GACtBnlD,OAAO07C,mBAAmB,CAAC,SAAU,IAAI,CAAC6K,SAAS,CAAE,CAAA,GACrDvmD,OAAO07C,mBAAmB,CACtB,oBACA,IAAI,CAAC6K,SAAS,CACd,CAAA,IAGJ,IAAI,CAACpC,OAAO,GACZ,IAAI,CAACA,OAAO,CAAClP,OAAO,GAEpB,IAAI,CAACkP,OAAO,CAAG,MAEf,IAAI,CAAC2B,MAAM,EACX,IAAI,CAACA,MAAM,CAAC7Q,OAAO,GAEvB,IAAI,CAACmR,WAAW,CAAG,CAAA,EACnB,IAAI,CAACC,OAAO,CAAG,CAAA,EACf,IAAI,CAACR,WAAW,CAAG,IACvB,CAAC,EAAA,CApwDsD7B,EAowDtD,CAAA,CAAAz3C,IAAAA,SAAAzB,MAr8CD,SAAckjC,CAAM,EAEhB,OAAOud,AADY,IAAIxH,EAAW/V,GAChBrtC,IAAI,EAC1B,CAEA,EAAA,CApUuDumC,GAAA+D,EAAA5D,AAwgBvD0c,EAxgBuDlzC,SAAA,CAAAq2B,GAAA8c,GAAA/Y,EAwgBvD8Y,EAxgBuDC,GAAAx7C,OAAAqK,cAAA,CAwgBvDkxC,EAxgBuD,YAAA,CAAA1Y,SAAA,CAAA,CAAA,GAoUvD0Y,CAAA,EAnFoClY,EAAK+G,QAAQ,CAAAlyC,CAAAA,EAAAA,OAAA,CAAAqjD,EAAAD,EAAhCC,EAAU,UA2FVqhC,SAajBthC,EAxGiBC,EAAU,OAgHblY,GAAIjrC,EAAAF,OAAA,CAAAA,EAAAL,OAAA,A,E,oB;;2B,E,C,E,E,K,O,c,C,E,a,C,M,C,C,G,E,O,C,K,ECtWtB,IAAAwrC,EAAAC,AAA+B,SAAA/E,CAAA,CAAAgF,CAAA,EAAA,GAAA,AAAAhF,GAAAA,EAAA3mC,UAAA,CAAA,OAAA2mC,EAAA,GAAAA,AAAA,OAAAA,GAAAC,AAAA,WAAAA,EAAAD,IAAA,AAAA,YAAA,OAAAA,EAAA,MAAA,CAAA1mC,QAAA0mC,CAAA,EAAA,IAAAh5B,EAAAi+B,EAAAD,KAAAA,GAAA,GAAAh+B,GAAAA,EAAAC,GAAA,CAAA+4B,GAAA,OAAAh5B,EAAAuL,GAAA,CAAAytB,GAAA,IAAAkF,EAAA,CAAA,EAAAC,EAAA1jC,OAAAqK,cAAA,EAAArK,OAAA2jC,wBAAA,CAAA,IAAA,IAAA5/B,KAAAw6B,EAAA,GAAAx6B,AAAA,YAAAA,GAAA/D,OAAAqI,SAAA,CAAAM,cAAA,CAAAtQ,IAAA,CAAAkmC,EAAAx6B,GAAA,CAAA,IAAA6/B,EAAAF,EAAA1jC,OAAA2jC,wBAAA,CAAApF,EAAAx6B,GAAA,IAAA6/B,CAAAA,GAAAA,CAAAA,EAAA9yB,GAAA,EAAA8yB,EAAA/8B,GAAA,AAAAA,EAAA7G,OAAAqK,cAAA,CAAAo5B,EAAA1/B,EAAA6/B,GAAAH,CAAA,CAAA1/B,EAAA,CAAAw6B,CAAA,CAAAx6B,EAAA,AAAA,CAAA,OAAA0/B,EAAA5rC,OAAA,CAAA0mC,EAAAh5B,GAAAA,EAAAsB,GAAA,CAAA03B,EAAAkF,GAAAA,CAAA,EAA/B7iC,EAAA,WAAA,EAAA,wBAA+B,SAAA4iC,EAAAD,CAAA,EAAA,GAAA,AAAA,YAAA,OAAAh3B,QAAA,OAAA,KAAA,IAAAs3B,EAAA,IAAAt3B,QAAAu3B,EAAA,IAAAv3B,QAAA,MAAAi3B,AAAAA,CAAAA,EAAA,SAAAD,CAAA,EAAA,OAAAA,EAAAO,EAAAD,CAAA,CAAA,EAAAN,EAAA,CAAA,SAAA/E,EAAAD,CAAA,EAAA,MAAAC,CAAAA,EAAA,YAAA,OAAAl1B,QAAA,UAAA,OAAAA,OAAAY,QAAA,CAAA,SAAAq0B,CAAA,EAAA,OAAA,OAAAA,CAAA,EAAA,SAAAA,CAAA,EAAA,OAAAA,GAAA,YAAA,OAAAj1B,QAAAi1B,EAAA7sB,WAAA,GAAApI,QAAAi1B,IAAAj1B,OAAAjB,SAAA,CAAA,SAAA,OAAAk2B,CAAA,CAAA,EAAAA,EAAA,CAAA,SAAAwF,EAAAC,CAAA,CAAAC,CAAA,EAAA,MAAAF,AAAAA,CAAAA,EAAA/jC,OAAAkkC,cAAA,CAAAlkC,OAAAkkC,cAAA,CAAAxZ,IAAA,GAAA,SAAAsZ,CAAA,CAAAC,CAAA,EAAA,OAAAD,EAAAG,SAAA,CAAAF,EAAAD,CAAA,CAAA,EAAAA,EAAAC,EAAA,CAAA,SAAAoB,EAAA9tC,CAAA,EAAA,GAAAA,AAAA,KAAA,IAAAA,EAAA,MAAA,AAAA+tC,eAAA,6DAAA,OAAA/tC,CAAA,CAAA,SAAA6sC,EAAAJ,CAAA,EAAA,MAAAI,AAAAA,CAAAA,EAAApkC,OAAAkkC,cAAA,CAAAlkC,OAAA0J,cAAA,CAAAghB,IAAA,GAAA,SAAAsZ,CAAA,EAAA,OAAAA,EAAAG,SAAA,EAAAnkC,OAAA0J,cAAA,CAAAs6B,EAAA,CAAA,EAAAA,EAAA,CAAA,SAAAsX,EAAA/c,CAAA,CAAAx6B,CAAA,CAAAzB,CAAA,EAAA,MAAAyB,AAAAA,CAAAA,EAAA++B,EAAA/+B,EAAAA,IAAAw6B,EAAAv+B,OAAAqK,cAAA,CAAAk0B,EAAAx6B,EAAA,CAAAzB,MAAAA,EAAAqgC,WAAA,CAAA,EAAAC,aAAA,CAAA,EAAAC,SAAA,CAAA,CAAA,GAAAtE,CAAA,CAAAx6B,EAAA,CAAAzB,EAAAi8B,CAAA,CAAA,SAAAuE,EAAAr8B,CAAA,EAAA,IAAA1C,EAAAg/B,AAAA,SAAApxB,CAAA,CAAAqxB,CAAA,EAAA,GAAAxE,AAAA,WAAAA,EAAA7sB,IAAAA,AAAA,OAAAA,EAAA,OAAAA,EAAA,IAAAsxB,EAAAtxB,CAAA,CAAArI,OAAA45B,WAAA,CAAA,CAAA,GAAAD,AAAAtqC,KAAAA,IAAAsqC,EAAA,CAAA,IAAAE,EAAAF,EAAA5qC,IAAA,CAAAsZ,EAAAqxB,GAAA,WAAA,GAAAxE,AAAA,WAAAA,EAAA2E,GAAA,OAAAA,CAAA,OAAA,AAAAh7B,UAAA,+CAAA,CAAA,MAAA66B,AAAAA,CAAAA,AAAA,WAAAA,EAAA96B,OAAAk7B,MAAAA,EAAAzxB,EAAA,EAAAlL,EAAA,UAAA,MAAA+3B,AAAA,WAAAA,EAAAz6B,GAAAA,EAAAmE,OAAAnE,EAAA,CAG/B,IAAMi/C,EAAU,UACVC,EAAS,SACTC,EAAW,WAOInG,EAAQ,WAAA,EAAA,SAAAzY,CAAA,GAAAC,AAZE,SAAAC,CAAA,CAAAC,CAAA,EAAA,GAAA,AAAA,YAAA,OAAAA,GAAAA,AAAA,OAAAA,EAAA,MAAA,AAAAt8B,UAAA,qDAAAq8B,CAAAA,EAAAn8B,SAAA,CAAArI,OAAA4J,MAAA,CAAA66B,GAAAA,EAAAp8B,SAAA,CAAA,CAAAqJ,YAAA,CAAApP,MAAAkiC,EAAA3B,SAAA,CAAA,EAAAD,aAAA,CAAA,CAAA,CAAA,GAAA5iC,OAAAqK,cAAA,CAAAm6B,EAAA,YAAA,CAAA3B,SAAA,CAAA,CAAA,GAAA4B,GAAAV,EAAAS,EAAAC,EAAA,EAYFsY,EAAAzY,GAAA,IAZEI,EAAAhG,EAYFiG,GAZED,EAAAE,AAAA,WAAA,GAAA,aAAA,OAAAC,SAAA,CAAAA,QAAAC,SAAA,EAAAD,QAAAC,SAAA,CAAAC,IAAA,CAAA,MAAA,CAAA,EAAA,GAAA,AAAA,YAAA,OAAAC,MAAA,MAAA,CAAA,EAAA,GAAA,CAAA,OAAAC,QAAA58B,SAAA,CAAA8E,OAAA,CAAA9U,IAAA,CAAAwsC,QAAAC,SAAA,CAAAG,QAAA,EAAA,CAAA,WAAA,IAAA,CAAA,CAAA,CAAA,MAAAnkC,EAAA,CAAA,MAAA,CAAA,CAAA,CAAA,IAAA,WAAA,IAAA8B,EAAAsiC,EAAAd,EAYF2Y,GAZE,OAAAn6C,EAAA8hC,EAAAG,QAAAC,SAAA,CAAAI,EAAA1jB,UAAA4iB,EAAA,IAAA,EAAA1yB,WAAA,EAAAwzB,EAAAvjC,KAAA,CAAA,IAAA,CAAA6f,WAAA2jB,AAAA,SAAA5tC,CAAA,CAAAc,CAAA,EAAA,GAAAA,GAAAmmC,CAAAA,AAAA,WAAAA,EAAAnmC,IAAA,AAAA,YAAA,OAAAA,CAAA,EAAA,OAAAA,EAAA,GAAAA,AAAA,KAAA,IAAAA,EAAA,MAAA,AAAA8P,UAAA,4DAAA,OAAAk9B,EAAA9tC,EAAA,EAAA,IAAA,CAAAqL,EAAA,GA+F3B,SAAAm6C,EAAYvX,CAAM,MAAE2d,EAAAC,EAAA9gB,EAqDO,OArDP3D,AA/FO,SAAAC,CAAA,CAAAC,CAAA,EAAA,GAAA,CAAAD,CAAAA,aAAAC,CAAAA,EAAA,MAAA,AAAA12B,UAAA,oCAAA,EA+FP,IAAA,CAAA40C,GAlFpBzB,EAAAjW,EAmFI/C,EAAAqC,EAAAtsC,IAAA,CAAAiqC,IAAAA,GAnFJ,eACe,MACfgZ,EAAAjW,EAAA/C,GAAA,iBAAA6gB,CAAAA,AAAA7H,EAAA6H,EAAA,CAAA,EAEKH,EAAU,CACP7qD,KAAI,WACA,IAAI,CAACkrD,iBAAiB,EAC1B,EACAvE,kBAAiB,WACb,IAAM/M,EAAW,IAAI,CAACuC,WAAW,GACjC,OAAO,IAAI,CAAChB,cAAc,GAAKvB,GAAY,CAC/C,EACAuB,eAAc,WACV,OAAO,IAAI,CAACgQ,aAAa,CAAG,IAAI,CAACC,aAAa,EAClD,CACJ,GAACjI,EAAA6H,EACAF,EAAS,CACN9qD,KAAI,WACJ,EACA2mD,kBAAiB,WACb,IAAM/M,EAAW,IAAI,CAACuC,WAAW,GACjC,OAAO,IAAI,CAAChB,cAAc,GAAKvB,GAAY,CAC/C,EACAuB,eAAc,WACV,OAAO,IAAI,CAACgQ,aAAa,AAC7B,CACJ,GAAChI,EAAA6H,EACAD,EAAW,CACR/qD,KAAI,WACA,IAAI,CAACowC,SAAS,CAAC,SACnB,EACAuW,kBAAiB,WACb,OAAO,CACX,EACAxL,eAAc,WACV,OAAO,IAAI,CAACgB,WAAW,EAC3B,CACJ,GAAC6O,CAAAA,GAgDD7gB,EAAKkD,MAAM,CAAGA,EAEdlD,EAAK+O,EAAE,CACH7L,EAAOiW,YAAY,EAClBnZ,CAAAA,EAAKkb,gBAAgB,GAAKlb,EAAKkhB,eAAe,GAAK,CAAC,CAAA,EAEzDlhB,EAAKmhB,QAAQ,CAAGnhB,EAAK+O,EAAE,CAACS,WAAW,CAEnCxP,EAAKghB,aAAa,CAAG,EAErBhhB,EAAKohB,cAAc,CAAG,KAEtBphB,EAAKqhB,MAAM,CAAAP,CAAAA,AAAA9H,EAAA8H,EAAA,CAAA,EACNJ,EAAUhjD,OAAO4J,MAAM,CAAC04B,EAAKshB,cAAc,CAACZ,EAAQ,GAAC1H,EAAA8H,EACrDH,EAASjjD,OAAO4J,MAAM,CAAC04B,EAAKshB,cAAc,CAACX,EAAO,GAAC3H,EAAA8H,EACnDF,EAAWljD,OAAO4J,MAAM,CAAC04B,EAAKshB,cAAc,CAACV,EAAS,GAACE,CAAAA,EAG5D9gB,EAAKhwB,MAAM,CAAG,KAEdgwB,EAAKod,OAAO,CAAG,EAAE,CAEjBpd,EAAKuhB,QAAQ,CAAG,KAEhBvhB,EAAKwhB,WAAW,CAAG,KAEnBxhB,EAAKyhB,SAAS,CAAG,KAEjBzhB,EAAKjB,KAAK,CAAG,KAEbiB,EAAK2P,YAAY,CAAG,EAEpB3P,EAAKiP,QAAQ,CAAG,KAEhBjP,EAAK0hB,UAAU,CAAG,KAElB1hB,EAAKlnC,MAAM,CAAG,KAEdknC,EAAK2hB,UAAU,CAAG,EAAE,CAEpB3hB,EAAK4hB,KAAK,CAAG,KAEb5hB,EAAK8R,gBAAgB,CAAG5O,EAAOuM,QAAQ,CAEvCzP,EAAK6hB,qBAAqB,CAAG,KAE7B7hB,EAAK8hB,gBAAgB,CAAG,KAIxB9hB,EAAKyS,SAAS,CAAG,CAAA,EAAMzS,CAC3B,CAmmBC,OAxvB0B5D,EAuJ3Bm8C,CAAAA,CAAA92E,IAAAA,mBAAAzB,MA7FA,WACI,MAAO,CAAC,CAAE9K,CAAAA,OAAOkjD,YAAY,EAAIljD,OAAO6sD,kBAAAA,AAAAA,CAC5C,CAEA,EAAA,CAAAtgD,IAAAA,kBAAAzB,MAKA,WAKI,OAJK9K,OAAO8sD,sBAAsB,EAC9B9sD,CAAAA,OAAO8sD,sBAAsB,CAAG,GAAK9sD,CAAAA,OAAOkjD,YAAY,EACpDljD,OAAO6sD,kBAAkB,AAAlBA,CAFf,EAIO7sD,OAAO8sD,sBAAsB,AACxC,CAEA,EAAA,CAAAvgD,IAAAA,yBAAAzB,MAOA,SAAuBiiD,CAAU,EAK7B,OAJK/sD,OAAOgtD,6BAA6B,EACrChtD,CAAAA,OAAOgtD,6BAA6B,CAAG,GAAKhtD,CAAAA,OAAOitD,mBAAmB,EAClEjtD,OAAOktD,yBAAyB,AAAzBA,EAA2B,EAAG,EAAGH,EAFhD,EAIO/sD,OAAOgtD,6BAA6B,AAC/C,CAAC,EAAA,CAAAzgD,IAAAA,OAAAzB,MAkED,WACI,IAAI,CAACwuC,gBAAgB,GACrB,IAAI,CAACC,gBAAgB,GACrB,IAAI,CAACC,kBAAkB,GAEvB,IAAI,CAAC2T,QAAQ,CAAC1B,GACd,IAAI,CAACtS,eAAe,CAAC,IAAI,CAACnL,MAAM,CAACoL,SAAS,EAC1C,IAAI,CAACgU,SAAS,CAAC,EACnB,CAEA,EAAA,CAAA7gD,IAAAA,oBAAAzB,MACA,WACQ,IAAI,CAACo9C,OAAO,GACZ,IAAI,CAACA,OAAO,CAACp5C,OAAO,CAAC,SAAAqsB,CAAM,EACvBA,GAAUA,EAAOkyB,UAAU,EAC/B,GACA,IAAI,CAACnF,OAAO,CAAG,KAEf,IAAI,CAACnO,QAAQ,CAACD,OAAO,CAAC,IAAI,CAACuS,QAAQ,EAE3C,CAEA,EAAA,CAAA9/C,IAAAA,WAAAzB,MAKA,SAAS4hD,CAAK,EACN,IAAI,CAACA,KAAK,GAAK,IAAI,CAACP,MAAM,CAACO,EAAM,GACjC,IAAI,CAACA,KAAK,CAAG,IAAI,CAACP,MAAM,CAACO,EAAM,CAC/B,IAAI,CAACA,KAAK,CAAC/rD,IAAI,CAACE,IAAI,CAAC,IAAI,EAEjC,CAEA,EAAA,CAAA0L,IAAAA,YAAAzB,MAKA,WAAsB,IAAA,IAAAi2C,EAAA/2B,UAAAzf,MAAA,CAAT29C,EAAO,AAAAx8C,MAAAq1C,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAPkH,CAAO,CAAAlH,EAAA,CAAAh3B,SAAA,CAAAg3B,EAAPkH,CACT,IAAI,CAACoF,UAAU,CAACpF,EACpB,CAEA,EAAA,CAAA37C,IAAAA,aAAAzB,MAQA,SAAWo9C,CAAO,EAEd,IAAI,CAACqF,iBAAiB,GAGlBrF,GAAWA,EAAQ39C,MAAM,GACzB,IAAI,CAAC29C,OAAO,CAAGA,EAGf,IAAI,CAACnO,QAAQ,CAACsT,UAAU,GAGxBnF,EACKnmB,MAAM,CAAC,SAACyrB,CAAI,CAAEC,CAAI,EAEf,OADAD,EAAK1T,OAAO,CAAC2T,GACNA,CACX,EAAG,IAAI,CAAC1T,QAAQ,EACfD,OAAO,CAAC,IAAI,CAACuS,QAAQ,EAElC,CACA,EAAA,CAAA9/C,IAAAA,mBAAAzB,MACA,WACQ,IAAI,CAACkjC,MAAM,CAACkW,oBAAoB,GAChC,IAAI,CAACsI,UAAU,CAAG,IAAI,CAACxe,MAAM,CAACkW,oBAAoB,CAClD,IAAI,CAACsI,UAAU,CAAC1S,OAAO,CAAC,IAAI,CAACD,EAAE,CAACyJ,WAAW,EAEnD,CAEA,EAAA,CAAA/2C,IAAAA,oBAAAzB,MACA,WAAoB,IAAAwlC,EAAA,IAAA,EAehBod,AAda,SAAPA,IACF,IAAM35B,EAAOuc,EAAKwL,cAAc,EAE5B/nB,CAAAA,GAAQuc,EAAKwM,WAAW,IAAMxM,EAAKoc,KAAK,GAAKpc,EAAK6b,MAAM,CAACT,EAAS,EAClEpb,EAAK6c,QAAQ,CAACzB,GACdpb,EAAKS,SAAS,CAAC,UACRhd,GAAQuc,EAAK4b,cAAc,EAAI5b,EAAKoc,KAAK,GAAKpc,EAAK6b,MAAM,CAACV,EAAO,CACxEnb,EAAKqK,KAAK,GACHrK,EAAKoc,KAAK,GAAKpc,EAAK6b,MAAM,CAACX,EAAQ,GAC1Clb,EAAKS,SAAS,CAAC,eAAgBhd,GAC/B8X,EAAKsJ,KAAK,CAACuY,KAEnB,GAGJ,CAEA,EAAA,CAAAnhD,IAAAA,qBAAAzB,MACA,WACI,IAAI,CAACivC,QAAQ,CAAG,IAAI,CAACF,EAAE,CAAC8T,cAAc,GACtC,IAAI,CAAC5T,QAAQ,CAACD,OAAO,CAAC,IAAI,CAACuS,QAAQ,CACvC,CAEA,EAAA,CAAA9/C,IAAAA,mBAAAzB,MAIA,WAEQ,IAAI,CAAC+uC,EAAE,CAAC+T,UAAU,CAClB,IAAI,CAACvB,QAAQ,CAAG,IAAI,CAACxS,EAAE,CAAC+T,UAAU,GAElC,IAAI,CAACvB,QAAQ,CAAG,IAAI,CAACxS,EAAE,CAACgU,cAAc,GAG1C,IAAI,CAACxB,QAAQ,CAACvS,OAAO,CAAC,IAAI,CAACD,EAAE,CAACyJ,WAAW,CAC7C,CAEA,EAAA,CAAA/2C,IAAAA,YAAAzB,MAOA,SAAUuyC,CAAQ,SACd,AAAIA,EAWA,CALK,IAAI,CAACuP,gBAAgB,GACtB,IAAI,CAACA,gBAAgB,CAAG,IAAI5sD,OAAO8tD,KAAK,CAExC,IAAI,CAAClB,gBAAgB,CAAC1Q,QAAQ,CAAG,CAAA,GAEhC,IAAI,CAAC0Q,gBAAgB,CAACtP,SAAS,GAK/B,IAAI,CAACqP,qBAAqB,EAC3B,CAAA,IAAI,CAACA,qBAAqB,CAAG,IAAI,CAAC9S,EAAE,CAACkU,4BAA4B,EADrE,EAGA,IAAI,CAAC1B,QAAQ,CAACgB,UAAU,GACxB,IAAI,CAAChB,QAAQ,CAACvS,OAAO,CAAC,IAAI,CAAC6S,qBAAqB,EAChD,IAAI,CAACC,gBAAgB,CAACoB,SAAS,CAAG,IAAI,CAACrB,qBAAqB,CAACsB,MAAM,CAE5D,IAAI,CAACrB,gBAAgB,CAACtP,SAAS,CAACD,IAX5BxoC,QAAQ4nB,MAAM,CACjB,AAAI17B,MAAM,+CAYX8T,QAAQ4nB,MAAM,CAAC,AAAI17B,MAAM,qBAAuBs8C,GAE/D,CAEA,EAAA,CAAA9wC,IAAAA,YAAAzB,MAKA,SAAUA,CAAK,EACX,IAAI,CAACuhD,QAAQ,CAAC6B,IAAI,CAACC,cAAc,CAACrjD,EAAO,IAAI,CAAC+uC,EAAE,CAACS,WAAW,CAChE,CAEA,EAAA,CAAA/tC,IAAAA,YAAAzB,MAKA,WACI,OAAO,IAAI,CAACuhD,QAAQ,CAAC6B,IAAI,CAACpjD,KAAK,AACnC,CAEA,EAAA,CAAAyB,IAAAA,oBAAAzB,MAQA,SAAkB+6C,CAAW,CAAEj8B,CAAQ,CAAEwkC,CAAO,EACvC,IAAI,CAAC7B,SAAS,EACf,CAAA,IAAI,CAACA,SAAS,CAAG,IAAI,CAAC8B,sBAAsB,CACxC,IAAI,CAACxU,EAAE,EAAI,IAAI,CAACA,EAAE,CAACkT,UAAU,CAAG,IAAI,CAAClT,EAAE,CAACkT,UAAU,CAAG,MAF7D,EAKI,uBAAwB/sD,OAGxB,IAAI,CAACusD,SAAS,CAAC+B,eAAe,CAC1BzI,EACA,SAAAjuC,CAAI,EAAA,OAAIgS,EAAShS,EAAK,EACtBw2C,GAGJ,IAAI,CAAC7B,SAAS,CAAC+B,eAAe,CAACzI,GAAatG,IAAI,CAC5C,SAAC3nC,CAAI,EAAA,OAAKgS,EAAShS,EAAK,GAC1B0oC,KAAK,CACH,SAACx/C,CAAG,EAAA,OAAKstD,EAAQttD,EAAI,EAGjC,CAEA,EAAA,CAAAyL,IAAAA,WAAAzB,MAMA,SAAS++B,CAAK,CAAE0Q,CAAQ,EACJ,MAAZA,GACA,CAAA,IAAI,CAACqC,gBAAgB,CAAGrC,CAD5B,EAGA,IAAI,CAAC1Q,KAAK,CAAGA,CACjB,CAEA,EAAA,CAAAt9B,IAAAA,YAAAzB,MAKA,SAAUP,CAAM,EAEZ,GAAI,CAAA,IAAI,CAAC+hD,WAAW,EAAI/hD,GAAU,EAAI,IAAI,CAAC+hD,WAAW,CAAC/hD,MAAM,CAAG,EAAI,GAIpE,IAAI,CAACkiD,UAAU,CAAG,EAAE,CACpB,IAAI,CAACH,WAAW,CAAG,EAAE,CAGrB,IACIvU,EADEH,EAAW,IAAI,CAAC98B,MAAM,CAAG,IAAI,CAACA,MAAM,CAACyzC,gBAAgB,CAAG,EAE9D,IAAKxW,EAAI,EAAGA,EAAIH,EAAUG,IACtB,IAAI,CAAC0U,UAAU,CAAC1U,EAAE,CAAG,EAAE,CACvB,IAAI,CAAC0U,UAAU,CAAC1U,EAAE,CAAC,EAAKxtC,CAAAA,EAAS,CAAA,EAAG,CAAG,EACvC,IAAI,CAACkiD,UAAU,CAAC1U,EAAE,CAAC,EAAKxtC,CAAAA,EAAS,CAAA,EAAK,EAAE,CAAG,CAE/C,CAAA,IAAI,CAAC+hD,WAAW,CAAC,EAAK/hD,CAAAA,EAAS,CAAA,EAAG,CAAG,EACrC,IAAI,CAAC+hD,WAAW,CAAC,EAAK/hD,CAAAA,EAAS,CAAA,EAAK,EAAE,CAAG,EAC7C,CAEA,EAAA,CAAAgC,IAAAA,WAAAzB,MASA,SAASP,CAAM,CAAEu6B,CAAK,CAAE3lB,CAAI,EACxB,GAAI,IAAI,CAAC0qB,KAAK,CACV,OAAO,IAAI,CAACA,KAAK,CAErB,GAAI,CAAC,IAAI,CAAC/uB,MAAM,CACZ,MAAO,EAAE,CAQb,GALAgqB,EAAQA,GAAS,EACjB3lB,EAAOA,GAAQ5U,EAAS,EAExB,IAAI,CAAC6iD,SAAS,CAAC7iD,GAEX,CAAC,IAAI,CAACuQ,MAAM,CACZ,OAAO,IAAI,CAACkzB,MAAM,CAACuJ,aAAa,CAC1B,IAAI,CAACkV,UAAU,CACf,IAAI,CAACH,WAAW,CAU1B,GAAI,CAAC,IAAI,CAACxxC,MAAM,CAACvQ,MAAM,CAAE,CACrB,IAOAwtC,EAPMyW,EAAY,IAAI,CAACnL,YAAY,CAAC,EAAG,KAAM,IAAI,CAAC0J,UAAU,CAC5D,CAAA,IAAI,CAACjyC,MAAM,CAAG0zC,EAAU1zC,MAAM,AAClC,CAEA,IAAM8hB,EAAa,IAAI,CAAC9hB,MAAM,CAACvQ,MAAM,CAAGA,EAClCkkD,EAAa,CAAC,CAAE7xB,CAAAA,EAAa,EAAA,GAAO,EACpCgb,EAAW,IAAI,CAAC98B,MAAM,CAACyzC,gBAAgB,CAG7C,IAAKxW,EAAI,EAAGA,EAAIH,EAAUG,IAAK,CAC3B,IAAMlO,EAAQ,IAAI,CAAC4iB,UAAU,CAAC1U,EAAE,CAC1B2W,EAAO,IAAI,CAAC5zC,MAAM,CAAC6zC,cAAc,CAAC5W,GACpC7N,EAAJ,KAAA,EAEA,IAAKA,EAAIpF,EAAOoF,GAAK/qB,EAAM+qB,IAAK,CAC5B,IAAMtlB,EAAQ,CAAC,CAAEslB,CAAAA,EAAItN,CAAAA,EACfxX,EAAM,CAAC,CAAER,CAAAA,EAAQgY,CAAAA,EAOnBxoB,EAAMs6C,CAAI,CAAC9pC,EAAM,CACjB1Q,EAAME,EACNu2B,EAAJ,KAAA,EAEA,IAAKA,EAAI/lB,EAAO+lB,EAAIvlB,EAAKulB,GAAK8jB,EAAY,CACtC,IAAM3jD,EAAQ4jD,CAAI,CAAC/jB,EAAE,CAEjB7/B,EAAQoJ,GACRA,CAAAA,EAAMpJ,CADV,EAIIA,EAAQsJ,GACRA,CAAAA,EAAMtJ,CADV,CAGJ,CAEA++B,CAAK,CAAC,EAAIK,EAAE,CAAGh2B,EACf21B,CAAK,CAAC,EAAIK,EAAI,EAAE,CAAG91B,EAEf2jC,CAAAA,AAAK,GAALA,GAAU7jC,EAAM,IAAI,CAACo4C,WAAW,CAAC,EAAIpiB,EAAE,AAAFA,GACrC,CAAA,IAAI,CAACoiB,WAAW,CAAC,EAAIpiB,EAAE,CAAGh2B,CAD9B,EAII6jC,CAAAA,AAAK,GAALA,GAAU3jC,EAAM,IAAI,CAACk4C,WAAW,CAAC,EAAIpiB,EAAI,EAAE,AAAF,GACzC,CAAA,IAAI,CAACoiB,WAAW,CAAC,EAAIpiB,EAAI,EAAE,CAAG91B,CADlC,CAGJ,CACJ,CAEA,OAAO,IAAI,CAAC45B,MAAM,CAACuJ,aAAa,CAAG,IAAI,CAACkV,UAAU,CAAG,IAAI,CAACH,WAAW,AACzE,CAEA,EAAA,CAAA//C,IAAAA,oBAAAzB,MAKA,WACI,OAAO,IAAI,CAAC4hD,KAAK,CAACpF,iBAAiB,CAACzmD,IAAI,CAAC,IAAI,CACjD,CAEA,EAAA,CAAA0L,IAAAA,mBAAAzB,MACA,WACQ,IAAI,CAAClH,MAAM,EACX,IAAI,CAACA,MAAM,CAACypD,UAAU,EAE9B,CACA,EAAA,CAAA9gD,IAAAA,kBAAAzB,MAGA,WACI,IAAI,CAACyiD,iBAAiB,GACtB,IAAI,CAACpC,gBAAgB,GACrB,IAAI,CAACkB,QAAQ,CAACgB,UAAU,GACxB,IAAI,CAACb,UAAU,EAAI,IAAI,CAACA,UAAU,CAACa,UAAU,GAC7C,IAAI,CAACtT,QAAQ,CAACsT,UAAU,GAGpB,IAAI,CAACrf,MAAM,CAAC4gB,iBAAiB,GAGA,YAAzB,OAAO,IAAI,CAAC/U,EAAE,CAACgH,KAAK,EACpB,AAAiB,UAAjB,IAAI,CAAChH,EAAE,CAAC6S,KAAK,EAEb,IAAI,CAAC7S,EAAE,CAACgH,KAAK,GAGjB,IAAI,CAAChH,EAAE,CAAG,KAGL,IAAI,CAAC7L,MAAM,CAACiW,YAAY,CAGzB,IAAI,CAACjW,MAAM,CAACiW,YAAY,CAAG,KAF3BjkD,OAAO8sD,sBAAsB,CAAG,KAKpC9sD,OAAOgtD,6BAA6B,CAAG,MAIvC,IAAI,CAACL,qBAAqB,GAC1B,IAAI,CAACC,gBAAgB,CAACjS,KAAK,GAC3B,IAAI,CAACiS,gBAAgB,CAACoB,SAAS,CAAG,KAClC,IAAI,CAACrB,qBAAqB,CAACU,UAAU,GACrC,IAAI,CAACV,qBAAqB,CAAG,KAErC,CACA,EAAA,CAAApgD,IAAAA,UAAAzB,MAGA,WACS,IAAI,CAAC+wC,QAAQ,IACd,IAAI,CAAClB,KAAK,GAEd,IAAI,CAACpI,KAAK,GACV,IAAI,CAACz3B,MAAM,CAAG,KACd,IAAI,CAACyiC,SAAS,CAAG,CAAA,EAEjB,IAAI,CAACtD,eAAe,EACxB,CAEA,EAAA,CAAA1tC,IAAAA,OAAAzB,MAKA,SAAKgQ,CAAM,EACP,IAAI,CAACgxC,aAAa,CAAG,EACrB,IAAI,CAACG,QAAQ,CAAG,IAAI,CAACpS,EAAE,CAACS,WAAW,CACnC,IAAI,CAACx/B,MAAM,CAAGA,EACd,IAAI,CAAC+zC,YAAY,EACrB,CAEA,EAAA,CAAAtiD,IAAAA,eAAAzB,MACA,WACI,IAAI,CAACqgD,gBAAgB,GACrB,IAAI,CAACvnD,MAAM,CAAG,IAAI,CAACi2C,EAAE,CAACuJ,kBAAkB,GAGxC,IAAI,CAACx/C,MAAM,CAACghB,KAAK,CAAG,IAAI,CAAChhB,MAAM,CAACghB,KAAK,EAAI,IAAI,CAAChhB,MAAM,CAACkrD,WAAW,CAChE,IAAI,CAAClrD,MAAM,CAACsnD,IAAI,CAAG,IAAI,CAACtnD,MAAM,CAACsnD,IAAI,EAAI,IAAI,CAACtnD,MAAM,CAACmrD,OAAO,CAE1D,IAAI,CAAC5V,eAAe,CAAC,IAAI,CAACsB,YAAY,EACtC,IAAI,CAAC72C,MAAM,CAACkX,MAAM,CAAG,IAAI,CAACA,MAAM,CAChC,IAAI,CAAClX,MAAM,CAACk2C,OAAO,CAAC,IAAI,CAACC,QAAQ,CACrC,CAEA,EAAA,CAAAxtC,IAAAA,qBAAAzB,MAKA,WACyB,aAAjB,IAAI,CAAC+uC,EAAE,CAAC6S,KAAK,EACb,IAAI,CAAC7S,EAAE,CAACmV,MAAM,EAAI,IAAI,CAACnV,EAAE,CAACmV,MAAM,EAExC,CAEA,EAAA,CAAAziD,IAAAA,WAAAzB,MAKA,WACI,OAAO,IAAI,CAAC4hD,KAAK,GAAK,IAAI,CAACP,MAAM,CAACX,EAAQ,AAC9C,CAEA,EAAA,CAAAj/C,IAAAA,cAAAzB,MAKA,kBACI,AAAI,IAAI,CAAC8xC,gBAAgB,CACd,IAAI,CAACA,gBAAgB,CAE3B,IAAI,CAAC9hC,MAAM,CAGT,IAAI,CAACA,MAAM,CAACy/B,QAAQ,CAFhB,CAGf,CAEA,EAAA,CAAAhuC,IAAAA,SAAAzB,MAQA,SAAO8Z,CAAK,CAAEQ,CAAG,EACb,GAAK,IAAI,CAACtK,MAAM,CAuBhB,OAnBA,IAAI,CAACoxC,cAAc,CAAG,KAET,MAATtnC,GAEIA,AADJA,CAAAA,EAAQ,IAAI,CAACk3B,cAAc,EAA3Bl3B,GACa,IAAI,CAACk4B,WAAW,IACzBl4B,CAAAA,EAAQ,CAAA,EAGL,MAAPQ,GACAA,CAAAA,EAAM,IAAI,CAAC03B,WAAW,EAD1B,EAIA,IAAI,CAACgP,aAAa,CAAGlnC,EACrB,IAAI,CAACqnC,QAAQ,CAAG,IAAI,CAACpS,EAAE,CAACS,WAAW,CAE/B,IAAI,CAACoS,KAAK,GAAK,IAAI,CAACP,MAAM,CAACT,EAAS,EACpC,IAAI,CAACyB,QAAQ,CAAC1B,GAGX,CACH7mC,MAAOA,EACPQ,IAAKA,CACT,CACJ,CAEA,EAAA,CAAA7Y,IAAAA,gBAAAzB,MAKA,WACI,MAAQ,AAAA,CAAA,IAAI,CAAC+uC,EAAE,CAACS,WAAW,CAAG,IAAI,CAAC2R,QAAQ,AAARA,EAAY,IAAI,CAACxR,YAAY,AACpE,CAEA,EAAA,CAAAluC,IAAAA,OAAAzB,MAOA,SAAK8Z,CAAK,CAAEQ,CAAG,EACX,GAAK,IAAI,CAACtK,MAAM,EAKhB,IAAI,CAAC+zC,YAAY,GAEjB,IAAMI,EAAe,IAAI,CAACjS,MAAM,CAACp4B,EAAOQ,GAExCR,EAAQqqC,EAAarqC,KAAK,CAC1BQ,EAAM6pC,EAAa7pC,GAAG,CAEtB,IAAI,CAAC8mC,cAAc,CAAG9mC,EAEtB,IAAI,CAACxhB,MAAM,CAACghB,KAAK,CAAC,EAAGA,GAErB,IAAI,CAACo1B,kBAAkB,GAEvB,IAAI,CAACmT,QAAQ,CAAC3B,GAEd,IAAI,CAACza,SAAS,CAAC,QACnB,CAEA,EAAA,CAAAxkC,IAAAA,QAAAzB,MAGA,WACI,IAAI,CAACohD,cAAc,CAAG,KAEtB,IAAI,CAACJ,aAAa,EAAI,IAAI,CAACC,aAAa,GACxC,GAAI,CACA,IAAI,CAACnoD,MAAM,EAAI,IAAI,CAACA,MAAM,CAACsnD,IAAI,CAAC,EACpC,CAAE,MAAOpqD,EAAK,CAMV,CAGJ,IAAI,CAACqsD,QAAQ,CAAC1B,GAEd,IAAI,CAAC1a,SAAS,CAAC,QACnB,CAEA,EAAA,CAAAxkC,IAAAA,iBAAAzB,MAMA,WACI,OAAO,IAAI,CAAC4hD,KAAK,CAAC5Q,cAAc,CAACj7C,IAAI,CAAC,IAAI,CAC9C,CAEA,EAAA,CAAA0L,IAAAA,kBAAAzB,MAKA,WACI,OAAO,IAAI,CAAC2vC,YAAY,AAC5B,CAEA,EAAA,CAAAluC,IAAAA,kBAAAzB,MAKA,SAAgBA,CAAK,EACjB,IAAI,CAAC2vC,YAAY,CAAG3vC,GAAS,EAC7B,IAAI,CAAClH,MAAM,EAAI,IAAI,CAACA,MAAM,CAAC62C,YAAY,CAAC0T,cAAc,CAClD,IAAI,CAAC1T,YAAY,CACjB,IAAI,CAACZ,EAAE,CAACS,WAAW,CAE3B,CAEA,EAAA,CAAA/tC,IAAAA,aAAAzB,MAMA,SAAWsa,CAAG,EACV,IAAI,CAAC8mC,cAAc,CAAG9mC,CAC1B,CAAC,EAAA,CAxvB0B6lB,AAAA,SAAA/L,CAAA,CAAArxB,CAAA,EAAA,IAAA,IAAAq8B,EAAA,EAAAA,EAAAr8B,EAAAtD,MAAA,CAAA2/B,IAAA,CAAA,IAAAgB,EAAAr9B,CAAA,CAAAq8B,EAAA,AAAAgB,CAAAA,EAAAC,UAAA,CAAAD,EAAAC,UAAA,EAAA,CAAA,EAAAD,EAAAE,YAAA,CAAA,CAAA,EAAA,UAAAF,GAAAA,CAAAA,EAAAG,QAAA,CAAA,CAAA,CAAA,EAAA7iC,OAAAqK,cAAA,CAAAqsB,EAAAoM,EAAAJ,EAAA3+B,GAAA,EAAA2+B,EAAA,CAAA,EAAA7D,AAuJ3Bke,EAvJ2B10C,SAAA,CAAAq2B,GAAA1+B,OAAAqK,cAAA,CAuJ3B0yC,EAvJ2B,YAAA,CAAAla,SAAA,CAAA,CAAA,GAwvB1Bka,CAAA,EA5uBiC1Z,EAAK+G,QAAQ,CAAAlyC,CAAAA,EAAAA,OAAA,CAAA6kD,EAAA3kD,EAAAF,OAAA,CAAAA,EAAAL,OAAA,A,E,mC;;0C,E,A,ICEnD,SAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAIA,SAAA,IACA,IAAA,EAAA,KAAA,GAAA,GAAA,CAEA,CAAA,EAAA,GAAA,GAAA,EACA,EAAA,WAAA,EAAA,EAAA,IAEA,EAAA,KACA,IACA,EAAA,EAAA,KAAA,CAAA,EAAA,GACA,EAAA,EAAA,MAGA,CAdA,MAAA,GAAA,CAAA,EAAA,GAAA,EAgBA,IAjBA,EAAA,EAAA,EAAA,EAAA,EAiBA,EAAA,WACA,EAAA,IAAA,CACA,EAAA,UACA,EAAA,KAAA,GAAA,GACA,IAAA,EAAA,GAAA,CAAA,EAOA,OANA,GAAA,CAAA,EAAA,WAAA,EAAA,EAAA,EACA,IACA,EAAA,EAAA,KAAA,CAAA,EAAA,GACA,EAAA,EAAA,MAGA,CACA,EAmBA,OAjBA,EAAA,KAAA,CAAA,WACA,IACA,aAAA,GACA,EAAA,KAEA,EAEA,EAAA,KAAA,CAAA,WACA,IACA,EAAA,EAAA,KAAA,CAAA,EAAA,GACA,EAAA,EAAA,KAEA,aAAA,GACA,EAAA,KAEA,EAEA,CACA,CAGA,EAAA,QAAA,CAAA,EAEA,EAAA,OAAA,CAAA,C,C,ECpEA,EAAA,CAAA,ExBCA,E0BCA,AFCA,SAAA,EAAA,CAAA,EAEA,IAAA,EAAA,CAAA,CAAA,EAAA,CACA,GAAA,AAAA,KAAA,IAAA,EACA,OAAA,EAAA,OAAA,CAGA,IAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAGA,QAAA,CAAA,CACA,EAMA,OAHA,CAAA,CAAA,EAAA,CAAA,EAAA,EAAA,OAAA,CAAA,GAGA,EAAA,OAAA,AACA,EEnBA,sBEsCe,OAAA,EAmBX,OAAO,OAAO,CAAM,CAAE,CAClB,MAAO,CACH,KAAM,UACN,UAAW,EAAA,KAAU,EAAO,SAAS,EAAG,EAAO,SAAS,CACxD,OAAQ,EACR,YAAa,CACT,UAAU,CAAO,EAIb,OAHK,IAAI,CAAC,qBAAqB,CAAC,OAAO,EACnC,IAAI,CAAC,UAAU,CAAC,WAEb,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAC5B,EACA,aACI,OAAO,IAAI,CAAC,OAAO,AACvB,EACA,eACI,IAAI,CAAC,OAAO,EAAI,IAAI,CAAC,OAAO,CAAC,KAAK,EACtC,CACJ,EACA,SAAU,CACd,CACJ,CAEA,YAAY,CAAM,CAAE,CAAE,CAAE,CACpB,IAAI,CAAC,MAAM,CAAG,EACd,IAAI,CAAC,UAAU,CAAG,EAClB,IAAI,CAAC,IAAI,CAAG,EAAG,IAAI,CACnB,IAAI,CAAC,KAAK,CAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAC5B,IAAI,CAAC,eAAe,CAAG,EACvB,IAAI,CAAC,WAAW,CAAG,GACnB,IAAI,CAAC,YAAY,CAAG,GACpB,IAAI,CAAC,QAAQ,CAAG,CAAA,EAGhB,IAAI,CAAC,SAAS,CAAG,KACb,IAAI,CAAC,sBAAsB,EAC/B,EAEA,IAAI,CAAC,iBAAiB,CAAG,KACrB,IAAI,CAAC,OAAO,CAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CACzC,IAAI,CAAC,MAAM,CAAC,OAAO,EACnB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,AAAA,GAAU,IAAI,CAAC,GAAG,CAAC,IAEnD,OAAO,gBAAgB,CAAC,SAAU,IAAI,CAAC,SAAS,CAAE,CAAA,GAClD,OAAO,gBAAgB,CAAC,oBAAqB,IAAI,CAAC,SAAS,CAAE,CAAA,GAC7D,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,OAAQ,IAAI,CAAC,SAAS,EAEpC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,AAAA,GAAU,EAAO,SAAS,IAIjD,IAAI,CAAC,WAAW,CAAG,AAAC,GAAM,IAAI,CAAC,YAAY,CAAC,GAC5C,OAAO,gBAAgB,CAAC,YAAa,IAAI,CAAC,WAAW,EAErD,IAAI,CAAC,SAAS,CAAG,AAAC,GAAM,IAAI,CAAC,UAAU,CAAC,GACxC,OAAO,gBAAgB,CAAC,UAAW,IAAI,CAAC,SAAS,EACrD,EAEA,IAAI,CAAC,OAAO,CAAG,EAAE,CACjB,IAAI,CAAC,QAAQ,CAAG,KACZ,IAAI,CAAC,OAAO,CAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAC7C,IAAI,CAAC,sBAAsB,EAC/B,CACJ,CAEA,MAAO,CAEC,IAAI,CAAC,UAAU,CAAC,OAAO,EACvB,IAAI,CAAC,iBAAiB,GACtB,IAAI,CAAC,QAAQ,KAEb,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAS,IAAI,CAAC,QAAQ,EAC3C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,kBAAmB,IAAI,CAAC,iBAAiB,EAEtE,CAEA,SAAU,CACN,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,QAAS,IAAI,CAAC,QAAQ,EACzC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,kBAAmB,IAAI,CAAC,iBAAiB,EAE5D,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,OAAQ,IAAI,CAAC,SAAS,EAEzC,OAAO,mBAAmB,CAAC,SAAU,IAAI,CAAC,SAAS,CAAE,CAAA,GACrD,OAAO,mBAAmB,CAAC,oBAAqB,IAAI,CAAC,SAAS,CAAE,CAAA,GAE5D,IAAI,CAAC,WAAW,EAChB,OAAO,mBAAmB,CAAC,YAAa,IAAI,CAAC,WAAW,EAExD,IAAI,CAAC,SAAS,EACd,OAAO,mBAAmB,CAAC,UAAW,IAAI,CAAC,SAAS,EAGxD,IAAI,CAAC,KAAK,EACd,CAQA,IAAI,CAAM,CAAE,CACR,IAAI,EAAS,CACT,KAAM,EAAO,IAAI,CACjB,MAAO,EAAO,KAAK,CACnB,QAAS,EAAO,OAAO,CACvB,MAAO,EAAO,KAAK,EAhIJ,UAiIf,SAAU,EAAO,QAAQ,EAhIZ,SAiIb,UAAW,CAAC,CAAC,EAAO,SAAS,CAC7B,mBAAoB,CAAC,CAAC,EAAO,kBAAkB,AACnD,EAUA,OARA,EAAO,EAAE,CAAG,IAAI,CAAC,oBAAoB,CAAC,EAAQ,EAAO,aAAa,EAElE,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,EAAO,EAAE,EAClC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAClB,IAAI,CAAC,sBAAsB,GAE3B,IAAI,CAAC,eAAe,GAEb,CACX,CAOA,OAAO,CAAa,CAAE,CAClB,IAAI,EAAQ,EACR,MAAM,IACN,CAAA,EAAQ,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,AAAA,GAAU,IAAW,EADxD,EAGA,IAAI,EAAS,IAAI,CAAC,OAAO,CAAC,EAAM,CAChC,GAAI,CAAC,EACD,OAEJ,IAAI,EAAQ,EAAO,EAAE,CAAC,sBAAsB,CAAC,eAAe,CAAC,EAAE,CAC3D,IACI,EAAM,cAAc,EACpB,EAAM,mBAAmB,CAAC,cAAe,EAAM,cAAc,EAE7D,EAAM,QAAQ,EACd,EAAM,mBAAmB,CAAC,QAAS,EAAM,QAAQ,EAEjD,EAAM,YAAY,EAClB,EAAM,mBAAmB,CAAC,YAAa,EAAM,YAAY,GAIjE,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,EAAO,EAAE,EAClC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAO,GAE3B,IAAI,CAAC,iBAAiB,EAC1B,CAEA,kBAAkB,CAAK,CAAE,CAAQ,CAAE,CAC/B,IAAM,EAAQ,6BAER,EAAK,SAAS,eAAe,CAAC,EAAO,OACrC,EAAU,SAAS,eAAe,CAAC,EAAO,WAqBhD,OAnBA,EAAG,YAAY,CAAC,UAAW,aAE3B,EAAQ,YAAY,CAAC,KAAM,WAC3B,EAAQ,YAAY,CAAC,SAAU,WAC/B,EAAQ,YAAY,CAAC,OAAQ,GAC7B,EAAQ,YAAY,CAAC,SAAU,8BACd,OAAZ,GACD,EAAQ,YAAY,CAAC,YAAa,sBAGtC,EAAG,WAAW,CAAC,GAEf,IAAI,CAAC,KAAK,CAAC,EAAI,CACX,MAAO,IAAI,CAAC,WAAW,CAAG,KAC1B,OAAQ,IAAI,CAAC,YAAY,CAAG,KAC5B,YAAa,IAAI,CAAC,WAAW,CAAG,KAChC,eAAgB,MAChB,UAAW,CACf,GACO,CACX,CAEA,qBAAqB,CAAM,CAAE,CAAa,CAAE,CACxC,IAAI,EAAQ,EAAO,KAAK,CACpB,EAAU,EAAO,OAAO,CAEtB,EAAK,SAAS,aAAa,CAAC,SAClC,CAAA,EAAG,SAAS,CAAG,oBAEf,IAAI,CAAC,KAAK,CAAC,EAAI,CACX,SAAU,WACV,OAAQ,OACR,QAAS,OACT,SAAU,SACV,iBAAmB,AAAmB,OAAnB,EAAO,QAAQ,CAAY,iBAAmB,QACrE,GAEA,IAAM,EAAO,SAAS,aAAa,CAAC,OAC9B,EAAQ,EAAgB,EAAc,KAAK,CAAG,IAAI,CAAC,WAAW,AACpE,CAAA,EAAO,MAAM,CAAG,AAAC,CAAA,EAAQ,IAAI,CAAC,eAAe,AAAf,EAAmB,EACjD,IAAI,CAAC,KAAK,CAAC,EAAM,CACb,YAAa,EACb,cAAe,EAAO,MAAM,CAAG,KAC/B,WAAY,QACZ,MAAO,IAAI,CAAC,eAAe,CAAG,KAC9B,QAAS,EACb,GACA,EAAG,WAAW,CAAC,GAEf,IAAM,EAAW,SAAS,aAAa,CAAC,OAClC,EAAQ,GAAiB,IAAI,CAAC,iBAAiB,CAAC,EAAO,KAAK,CAAE,EAAO,QAAQ,EAMnF,GALI,EAAO,SAAS,EAChB,CAAA,EAAM,SAAS,CAAG,CAAA,CADtB,EAGA,EAAS,WAAW,CAAC,GAEhB,EAAQ,CACT,IAAM,EAAU,SAAS,aAAa,CAAC,OACvC,CAAA,EAAQ,SAAS,CAAG,EACpB,EAAQ,YAAY,CAAC,QAAS,GAC9B,IAAI,CAAC,KAAK,CAAC,EAAS,CAChB,cAAe,UACf,YAAa,KACjB,GACA,EAAS,WAAW,CAAC,EACzB,CAsCA,OApCA,IAAI,CAAC,KAAK,CAAC,EAAU,CACjB,QAAS,OACT,cAAe,SACf,OAAQ,SACZ,GACA,EAAS,SAAS,CAAC,GAAG,CAAC,gBAEvB,EAAG,WAAW,CAAC,GAEf,EAAS,QAAQ,CAAG,AAAC,IACjB,EAAE,eAAe,GAIb,IAAI,CAAC,QAAQ,GAGjB,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,EAAO,IAAI,EAC1C,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,eAAgB,EAAQ,GACtD,EACA,EAAS,gBAAgB,CAAC,QAAS,EAAS,QAAQ,EAEpD,EAAS,cAAc,CAAG,AAAC,IACnB,EAAO,kBAAkB,EACzB,EAAE,cAAc,GAEpB,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qBAAsB,EAAQ,EAC5D,EACA,EAAS,gBAAgB,CAAC,cAAe,EAAS,cAAc,EAE5D,EAAO,SAAS,GAChB,EAAS,YAAY,CAAG,KACpB,IAAI,CAAC,cAAc,CAAG,CAC1B,EACA,EAAS,gBAAgB,CAAC,YAAa,EAAS,YAAY,GAEzD,CACX,CAEA,wBAAyB,CACrB,IAAM,IAAI,EAAI,EAAI,EAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAE,IAAM,CAC7C,IAAI,EAAS,IAAI,CAAC,OAAO,CAAC,EAAE,CAC5B,IAAI,CAAC,qBAAqB,CAAC,EAC/B,CACJ,CASA,sBAAsB,CAAM,CAAE,CAC1B,IAAM,EAAW,IAAI,CAAC,UAAU,CAAC,WAAW,GACtC,EACF,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,CAC5B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,CAG/B,EAAU,EADI,KAAK,GAAG,CAAC,EAAO,IAAI,CAAG,EAAU,GACN,EAAO,MAAM,CAC5D,IAAI,CAAC,KAAK,CAAC,EAAO,EAAE,CAAE,CAClB,KAAQ,EAAS,KACjB,YAAc,EAAe,EAAU,IAC3C,EACJ,CAWA,aAAa,CAAK,CAAE,CACX,IAAI,CAAC,cAAc,GAGnB,IAAI,CAAC,QAAQ,GACd,IAAI,CAAC,QAAQ,CAAG,CAAA,EAChB,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,cAAe,IAAI,CAAC,cAAc,CAAE,IAElE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC,GAAS,IAAI,CAAC,UAAU,CAAC,WAAW,GAClG,IAAI,CAAC,sBAAsB,GAC/B,CASA,WAAW,CAAK,CAAE,CAQd,GAPI,IAAI,CAAC,cAAc,EACnB,WAAW,KACP,IAAI,CAAC,cAAc,CAAG,CAAA,EACtB,IAAI,CAAC,QAAQ,CAAG,CAAA,CACpB,EAAG,GAGH,CAAC,IAAI,CAAC,QAAQ,CACd,OAGJ,EAAM,eAAe,GACrB,IAAM,EAAW,IAAI,CAAC,UAAU,CAAC,WAAW,EAC5C,CAAA,IAAI,CAAC,cAAc,CAAC,IAAI,CAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC,GAAS,EACvE,IAAI,CAAC,sBAAsB,GAC3B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,cAAe,IAAI,CAAC,cAAc,CAAE,EAClE,CAEA,iBAAkB,CACT,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,AAAA,GAAU,EAAO,SAAS,IAI5C,IAAI,CAAC,WAAW,GACjB,IAAI,CAAC,WAAW,CAAG,AAAC,GAAM,IAAI,CAAC,YAAY,CAAC,GAC5C,OAAO,gBAAgB,CAAC,YAAa,IAAI,CAAC,WAAW,GAGpD,IAAI,CAAC,SAAS,GACf,IAAI,CAAC,SAAS,CAAG,AAAC,GAAM,IAAI,CAAC,UAAU,CAAC,GACxC,OAAO,gBAAgB,CAAC,UAAW,IAAI,CAAC,SAAS,GAEzD,CAEA,mBAAoB,EACZ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,AAAA,GAAU,EAAO,SAAS,IAI5C,IAAI,CAAC,WAAW,GAChB,OAAO,mBAAmB,CAAC,YAAa,IAAI,CAAC,WAAW,EACxD,IAAI,CAAC,WAAW,CAAG,MAEnB,IAAI,CAAC,SAAS,GACd,OAAO,mBAAmB,CAAC,UAAW,IAAI,CAAC,SAAS,EACpD,IAAI,CAAC,SAAS,CAAG,MAEzB,CAKA,OAAQ,CACJ,KAAQ,IAAI,CAAC,OAAO,CAAC,MAAM,CAAG,GAC1B,IAAI,CAAC,MAAM,CAAC,EAEpB,CACJ,CEhbO,MAAM,EACT,YAAY,CAAM,CAAE,CAAY,CAAE,CAAE,CAAE,CAClC,IAAI,CAAC,UAAU,CAAG,EAClB,IAAI,CAAC,OAAO,CAAG,EAAG,MAAM,CAAC,OAAO,CAChC,IAAI,CAAC,IAAI,CAAG,EAAG,IAAI,CACnB,IAAI,CAAC,KAAK,CAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAC5B,IAAI,CAAC,WAAW,CAAG,EACnB,IAAI,CAAC,QAAQ,CAAG,EAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAEzC,IAAI,CAAC,EAAE,CAAG,AAAa,MAAb,EAAO,EAAE,CAAW,EAAG,IAAI,CAAC,KAAK,GAAK,EAAO,EAAE,CACzD,IAAI,CAAC,KAAK,CAAG,OAAO,EAAO,KAAK,GAAK,EACrC,IAAI,CAAC,GAAG,CACJ,AAAc,MAAd,EAAO,GAAG,CAEN,IAAI,CAAC,KAAK,CACT,EAAI,IAAI,CAAC,OAAO,CAAC,WAAW,CAAI,IAAI,CAAC,UAAU,CAAC,WAAW,GAC1D,OAAO,EAAO,GAAG,EAC3B,IAAI,CAAC,MAAM,CACP,AAAkB,KAAA,IAAlB,EAAO,MAAM,EAAwB,CAAA,CAAQ,EAAO,MAAM,CAC9D,IAAI,CAAC,IAAI,CAAG,AAAgB,KAAA,IAAhB,EAAO,IAAI,EAAwB,CAAA,CAAQ,EAAO,IAAI,CAClE,IAAI,CAAC,eAAe,CAAG,CAAA,CAAQ,EAAO,eAAe,CACrD,IAAI,CAAC,YAAY,CAAG,CAAA,CAAQ,EAAO,YAAY,CAE/C,IAAI,CAAC,UAAU,CAAG,CAAA,EAClB,IAAI,CAAC,UAAU,CAAG,CAAA,EAClB,IAAI,CAAC,IAAI,CAAG,CAAA,CAAQ,EAAO,IAAI,CAC/B,IAAI,CAAC,KAAK,CAAG,EAAO,KAAK,EAAI,qBAG7B,IAAI,CAAC,WAAW,CAAG,EAAO,WAAW,EAAI,CACrC,KAAM,CAAC,EACP,MAAO,CAAC,CACZ,EACA,IAAI,CAAC,YAAY,CAAG,KACpB,IAAI,CAAC,aAAa,CAAG,KACrB,IAAI,CAAC,IAAI,CAAG,EAAO,IAAI,EAAI,CAAC,EAC5B,IAAI,CAAC,UAAU,CAAG,EAAO,UAAU,EAAI,CAAC,EACxC,IAAI,CAAC,WAAW,CAAG,EAAO,WAAW,EAAI,CAAA,EAEzC,IAAI,CAAC,SAAS,CAAG,EAAO,SAAS,CAEjC,IAAI,CAAC,SAAS,CAAG,EAAO,SAAS,CACjC,IAAI,CAAC,SAAS,CAAG,IAAM,IAAI,CAAC,YAAY,GAExC,IAAI,CAAC,MAAM,CAAG,AAAkB,CAAA,IAAlB,EAAO,MAAM,EAAc,EAAG,MAAM,CAAC,YAAY,CAC/D,IAAI,CAAC,WAAW,CAAG,EAAO,WAAW,EAAI,EACzC,IAAI,CAAC,eAAe,CAAG,EAAO,eAAe,EAAI,GAEjD,IAAI,CAAC,kBAAkB,CACnB,AAA8B,KAAA,IAA9B,EAAO,kBAAkB,EAEnB,CAAA,CAAQ,EAAO,kBAAkB,CAG3C,IAAI,EACA,AAAqB,MAArB,EAAO,UAAU,CAAW,GAAK,SAAS,EAAO,UAAU,EAK/D,GAJA,IAAI,CAAC,UAAU,CAAG,EAClB,IAAI,CAAC,YAAY,CAAG,OACpB,IAAI,CAAC,SAAS,CAAG,MAEb,AAAe,KAAf,EAAmB,CACnB,IAAI,EACA,AAAkC,MAAlC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CACxB,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB,CAC/C,GACN,GAAgB,GAAK,EAAa,IAClC,IAAI,CAAC,YAAY,CAAG,KAAK,KAAK,CAAE,EAAI,EAAgB,KAAO,IAC3D,IAAI,CAAC,SAAS,CACV,IAAI,CAAC,UAAU,CAAC,SAAS,GAAK,EAAa,KAEvD,CAEA,IAAI,CAAC,kBAAkB,CAAG,EAAO,kBAAkB,CACnD,IAAI,CAAC,eAAe,CAAG,EAAO,eAAe,CAC7C,IAAI,CAAC,SAAS,GACd,IAAI,CAAC,MAAM,GACX,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,OAAQ,IAAI,CAAC,SAAS,EACzC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,SAAU,IAAI,CAAC,SAAS,EAC3C,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iBAAkB,IAAI,CACpD,CAGA,OAAO,CAAM,CAAE,CAAW,CAAE,CACJ,MAAhB,EAAO,KAAK,EACZ,CAAA,IAAI,CAAC,KAAK,CAAG,OAAO,EAAO,KAAK,CAAA,EAElB,MAAd,EAAO,GAAG,EACV,CAAA,IAAI,CAAC,GAAG,CAAG,OAAO,EAAO,GAAG,CAAA,EAEb,MAAf,EAAO,IAAI,EACX,CAAA,IAAI,CAAC,IAAI,CAAG,CAAA,CAAQ,EAAO,IAAI,EAEf,MAAhB,EAAO,KAAK,EACZ,CAAA,IAAI,CAAC,KAAK,CAAG,EAAO,KAAK,AAAL,EAEE,MAAtB,EAAO,WAAW,EAClB,CAAA,IAAI,CAAC,WAAW,CAAG,EAAO,WAAW,AAAX,EAEX,MAAf,EAAO,IAAI,EACX,CAAA,IAAI,CAAC,IAAI,CAAG,EAAO,IAAI,AAAJ,EAEF,MAAjB,EAAO,MAAM,GACb,IAAI,CAAC,MAAM,CAAG,CAAA,CAAQ,EAAO,MAAM,CACnC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,GAErB,MAAf,EAAO,IAAI,EACX,CAAA,IAAI,CAAC,IAAI,CAAG,CAAA,CAAQ,EAAO,IAAI,EAEX,MAApB,EAAO,SAAS,EAChB,CAAA,IAAI,CAAC,SAAS,CAAG,OAAO,EAAO,SAAS,CAAA,EAEpB,MAApB,EAAO,SAAS,EAChB,CAAA,IAAI,CAAC,SAAS,CAAG,OAAO,EAAO,SAAS,CAAA,EAEnB,MAArB,EAAO,UAAU,EACjB,CAAA,IAAI,CAAC,UAAU,CAAG,EAAO,UAAU,AAAV,EAG7B,IAAI,CAAC,YAAY,GACjB,IAAI,CAAC,SAAS,CAAC,UACf,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iBAAkB,IAAI,CAAE,EACtD,CAGA,QAAS,CACD,IAAI,CAAC,OAAO,GACZ,IAAI,CAAC,OAAO,CAAC,MAAM,GACnB,IAAI,CAAC,OAAO,CAAG,KACf,IAAI,CAAC,SAAS,CAAC,UACf,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,OAAQ,IAAI,CAAC,SAAS,EACzC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,SAAU,IAAI,CAAC,SAAS,EAC3C,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,iBAAkB,IAAI,EAExD,CAMA,KAAK,CAAK,CAAE,CACR,IAAM,EAAI,GAAS,IAAI,CAAC,KAAK,CAC7B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAG,IAAI,CAAC,GAAG,EAChC,IAAI,CAAC,SAAS,CAAC,QACf,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,cAAe,IAAI,CACjD,CAMA,SAAS,CAAK,CAAE,CACZ,IAAI,CAAC,IAAI,CAAG,CAAA,EACZ,IAAI,CAAC,IAAI,CAAC,EACd,CAMA,QAAQ,CAAI,CAAE,CACV,IAAI,CAAC,IAAI,CAAG,CAChB,CAGA,QAAS,CAYL,IAAK,IAAM,KAXX,IAAI,CAAC,OAAO,CAAG,IAAI,CAAC,IAAI,CAAC,eAAe,CACpC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,aAAa,CAAC,WAChD,IAAI,CAAC,QAAQ,EAGjB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAG,oBACrB,IAAI,CAAC,WAAW,EAChB,CAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,GAAG,CAAA,EAE7D,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,UAAW,IAAI,CAAC,EAAE,EAErB,IAAI,CAAC,UAAU,CAClC,IAAI,CAAC,OAAO,CAAC,YAAY,CACrB,eAAiB,EACjB,IAAI,CAAC,UAAU,CAAC,EAAS,EAYjC,GARA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAE,CACrB,SAAU,WACV,OAAQ,EACR,OAAQ,IAAI,CAAC,YAAY,CACzB,IAAK,IAAI,CAAC,SAAS,AACvB,GAGI,IAAI,CAAC,YAAY,CAAC,CAClB,IAAM,EAAiB,SAAS,aAAa,CAAC,MAC9C,CAAA,EAAe,SAAS,CAAG,uBAC3B,EAAe,WAAW,CAAG,IAC7B,IAAI,CAAC,cAAc,CAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,GAW/C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,CAVlB,CACR,OAAQ,EACR,SAAU,WACV,OAAQ,EACR,MAAO,MACP,OAAO,UACP,SAAU,OACV,WAAY,OACZ,MAAO,MACX,EAEJ,CAGA,GAAI,IAAI,CAAC,eAAe,CAAC,CACrB,IAAM,EAAY,SAAS,aAAa,CAAC,MACzC,CAAA,EAAU,SAAS,CAAG,iBACtB,EAAU,eAAe,CAAG,OAC5B,EAAU,SAAS,CAAG,IAAI,CAAC,IAAI,CAAC,IAAI,EAAI,GACxC,IAAI,CAAC,SAAS,CAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,GAK1C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAJb,CACR,OAAQ,EACR,QAAS,UACT,OAAO,MAAM,EAErB,CAGA,GAAI,IAAI,CAAC,MAAM,CAAE,CACb,IAAI,CAAC,YAAY,CAAG,IAAI,CAAC,IAAI,CAAC,eAAe,CACzC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,aAAa,CAAC,WAChD,IAAI,CAAC,QAAQ,EAEjB,IAAI,CAAC,aAAa,CAAG,IAAI,CAAC,IAAI,CAAC,eAAe,CAC1C,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,aAAa,CAAC,WAChD,IAAI,CAAC,QAAQ,EAGjB,IAAI,CAAC,YAAY,CAAC,SAAS,CAAG,4CAC9B,IAAI,CAAC,aAAa,CAAC,SAAS,CAAG,0CAG/B,IAAM,EAAM,CACR,OAAQ,IAAI,CAAC,QAAQ,CAAG,aAAe,aACvC,SAAU,WACV,IAAK,MACL,MAAO,MACP,OAAQ,OACR,gBAAiB,kBACrB,EAGM,EACF,AAA0B,SAA1B,IAAI,CAAC,WAAW,CAAC,IAAI,CACf,OAAO,MAAM,CACX,CAAE,KAAM,KAAM,EACd,EACA,IAAI,CAAC,WAAW,CAAC,IAAI,EAEvB,KACJ,EACF,AAA2B,SAA3B,IAAI,CAAC,WAAW,CAAC,KAAK,CAChB,OAAO,MAAM,CACX,CAAE,MAAO,KAAM,EACf,EACA,IAAI,CAAC,WAAW,CAAC,KAAK,EAExB,KAEN,GACA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAE,GAG9B,GACA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAE,EAEvC,CAEA,IAAI,CAAC,YAAY,GACjB,IAAI,CAAC,UAAU,EACnB,CAEA,WAAW,CAAK,CAAE,CAAG,CAAE,QACnB,AAAI,IAAI,CAAC,kBAAkB,CAChB,IAAI,CAAC,kBAAkB,CAAC,EAAO,GAEnC,AAAC,CAAA,GAAS,EAAM,CAAC,EAAM,CAAG,CAAC,EAAO,EAAG,AAAC,EACxC,GAAG,CAAC,AAAC,GACF,CACI,KAAK,KAAK,CAAC,EAAQ,KAAQ,IAC1B,AAAA,CAAA,KAAO,KAAK,KAAK,CAAC,EAAO,GAAA,EAAK,KAAK,CAAC,IACxC,CAAC,IAAI,CAAC,MAEV,IAAI,CAAC,IACd,CAEA,UAAW,CACP,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,AAC3E,CAGA,cAAe,CAEX,IAAM,EAAM,IAAI,CAAC,UAAU,CAAC,WAAW,GACjC,EAAQ,IAAI,CAAC,QAAQ,GAEvB,EAAe,IAAI,CAAC,KAAK,CACzB,EAAa,IAAI,CAAC,GAAG,CAkBzB,GAjBI,EAAe,GAEf,CAAA,GADA,EAAe,CACf,EAEA,EAAa,IACb,EAAa,EACb,EAAe,EAAO,CAAA,EAAa,CAAA,GAGjB,MAAlB,IAAI,CAAC,SAAS,EACd,CAAA,EAAa,KAAK,GAAG,CAAC,EAAe,IAAI,CAAC,SAAS,CAAE,EADzD,EAIsB,MAAlB,IAAI,CAAC,SAAS,EACd,CAAA,EAAa,KAAK,GAAG,CAAC,EAAe,IAAI,CAAC,SAAS,CAAE,EADzD,EAII,AAAgB,MAAhB,IAAI,CAAC,OAAO,CAAU,CAGtB,IAAM,EAAO,KAAK,KAAK,CAAE,EAAe,EAAO,GACzC,EAAc,KAAK,KAAK,CAAC,EAAc,EAAO,GAAS,EAS7D,IAAK,IAAM,KAPX,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAE,CACrB,KAAM,EAAO,KACb,MAAO,EAAc,KACrB,gBAAiB,IAAI,CAAC,KAAK,CAC3B,OAAQ,IAAI,CAAC,IAAI,CAAG,OAAS,SACjC,GAEuB,IAAI,CAAC,UAAU,CAClC,IAAI,CAAC,OAAO,CAAC,YAAY,CACrB,eAAiB,EACjB,IAAI,CAAC,UAAU,CAAC,EAAS,CAI7B,CAAA,IAAI,CAAC,WAAW,EAChB,CAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,GAAG,CAAA,CAEjE,CACJ,CAGA,WAAY,CACR,IAAI,CAAC,OAAO,CAAG,CAAA,EACf,IAAI,CAAC,QAAQ,CAAG,CAAA,EAEhB,IAAM,EAAY,AAAC,IACf,IAAI,EAAQ,KAAK,KAAK,CAAC,AAAa,GAAb,IAAI,CAAC,KAAK,EAAS,GACtC,EAAM,KAAK,KAAK,CAAC,AAAW,GAAX,IAAI,CAAC,GAAG,EAAS,GACtC,EAAO,KAAK,KAAK,CAAC,AAAO,GAAP,GAAa,GAG3B,CAAC,IAAI,CAAC,QAAQ,EACd,IAAI,CAAC,OAAO,EACX,CAAA,EAAQ,GAAQ,GAAO,CAAA,IAExB,IAAI,CAAC,QAAQ,CAAG,CAAA,EAChB,IAAI,CAAC,OAAO,CAAG,CAAA,EACf,IAAI,CAAC,SAAS,CAAC,OACf,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,aAAc,IAAI,GAE5C,CAAC,IAAI,CAAC,OAAO,EAAI,GAAS,GAAQ,EAAM,IACxC,IAAI,CAAC,OAAO,CAAG,CAAA,EACf,IAAI,CAAC,QAAQ,CAAG,CAAA,EAChB,IAAI,CAAC,SAAS,CAAC,MACf,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,YAAa,IAAI,EAEnD,EAEA,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,eAAgB,GAE3C,IAAI,CAAC,EAAE,CAAC,SAAU,KACd,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,eAAgB,EAC/C,GAGA,IAAI,CAAC,EAAE,CAAC,MAAO,KACX,GAAI,IAAI,CAAC,IAAI,CAAE,CACX,IAAM,EAAW,IAAI,CAAC,UAAU,CAAC,cAAc,GAC3C,GAAY,IAAI,CAAC,KAAK,EAAI,GAAY,IAAI,CAAC,GAAG,EAC9C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAEvC,CACJ,EACJ,CAGA,YAAa,CACT,IAAM,EAAqB,IAAI,CAAC,kBAAkB,CAElD,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,aAAc,AAAC,IACzC,IAAI,CAAC,SAAS,CAAC,aAAc,GAC7B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oBAAqB,IAAI,CAAE,EACzD,GAEA,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,aAAc,AAAC,IACzC,IAAI,CAAC,SAAS,CAAC,aAAc,GAC7B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oBAAqB,IAAI,CAAE,EACzD,GAEA,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAS,AAAC,IACpC,EAAE,cAAc,GAChB,IAAI,CAAC,SAAS,CAAC,QAAS,GACxB,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,eAAgB,IAAI,CAAE,EACpD,GAEA,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,WAAY,AAAC,IACvC,EAAE,eAAe,GACjB,EAAE,cAAc,GAChB,IAAI,CAAC,SAAS,CAAC,WAAY,GAC3B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,kBAAmB,IAAI,CAAE,EACvD,GAEA,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,cAAe,AAAC,IACtC,GACA,EAAE,cAAc,GAEpB,IAAI,CAAC,SAAS,CAAC,cAAe,GAC9B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,qBAAsB,IAAI,CAAE,EAC1D,GAGI,CAAA,IAAI,CAAC,IAAI,EAAI,IAAI,CAAC,MAAM,AAAN,GAClB,IAAI,CAAC,cAAc,GAInB,IAAI,CAAC,eAAe,GACpB,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,OAAQ,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,GACpE,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,QAAS,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,IAGtE,IAAI,CAAC,YAAY,EACjB,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,QAAS,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAE7E,CAEA,gBAAiB,KAGT,EACA,EACA,EACA,EACA,EAEA,EACA,EACA,EACA,EAXJ,IAAM,EAAY,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,SAAS,CAC5C,EAAc,IAAI,CAAC,WAAW,CAMhC,EAAU,CAAA,EAOR,EAAa,AAAC,IAChB,IAAI,EAAgB,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,EAAO,IAAI,CAAC,QAAQ,EAC5D,EAAW,IAAI,CAAC,UAAU,CAAC,WAAW,GAC5C,GAAI,CAAC,GAAoB,CAAC,GAAQ,CAAC,EAC/B,OAGJ,IAAM,EAAI,EAAc,OAAO,CAC3B,EAAsC,EACtC,EAAsB,EACtB,EAAa,EAGb,EAAO,IAAI,CAAC,WAAW,CAAC,wBAAwB,CAChD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC,GAAS,GAGhD,GAAI,EAEI,AAAoB,KAApB,GACA,EAAsB,EAAqB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CAC7E,EAAsC,EAAI,EAAY,IAAI,GAE1D,EAAsB,EAAsB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CAC9E,EAAsC,EAAY,KAAK,CAAG,OAE3D,CAEH,IAAI,EAAY,IAAI,CAAC,SAAS,CACzB,GACD,CAAA,EAAY,CAAA,EAGZ,AAAW,UAAX,GACI,EAAO,IAAI,CAAC,GAAG,CAAG,IAClB,EAAO,IAAI,CAAC,GAAG,CAAG,EAClB,EAAa,EAAc,GAG3B,EAAO,GACP,CAAA,EAAO,CAAA,GAEO,QAAX,IACH,EAAO,IAAI,CAAC,KAAK,CAAG,IACpB,EAAO,IAAI,CAAC,KAAK,CAAG,EACpB,EAAa,EAAc,GAG3B,EAAO,GACP,CAAA,EAAO,CADX,EAIR,CAGA,IAAM,EAAoB,IAAI,CAAC,OAAO,CAAC,UAAU,CAEjD,GAAI,AAAoB,KAApB,EACA,CAAA,GAAsC,IAAlC,KAAK,KAAK,CAAC,IAIX,AAA6F,GAA7F,KAAK,KAAK,CAAC,EAAoB,EAAsB,GAHrD,MADJ,MAQA,GAAI,KAAK,KAAK,CAAC,KAAuB,GAIlC,KAAK,KAAK,CAAC,EAAoB,EAAsB,IAAwC,EAH7F,OASR,IAAI,EAAa,EAAoB,EAAa,EAAc,EAEhE,GAAI,AAAoB,KAApB,EAAwB,CACxB,IAAM,EAAiB,KAAK,GAAG,CAAC,EAAI,EAAsB,EAAqC,EAC/F,CAAA,IAAI,CAAC,OAAO,CAAC,UAAU,CAAG,EAAa,CAC3C,KAAO,CACH,IAAM,EAAkB,KAAK,GAAG,CAAC,EAAY,EAAsB,EAAqC,EACxG,CAAA,IAAI,CAAC,OAAO,CAAC,UAAU,CAAG,EAAa,CAC3C,CAEA,IAAM,EAAQ,EAAO,EACrB,EAAY,EAGZ,EAAO,IAAI,CAAC,MAAM,CAAC,GAAS,IAAI,CAAC,QAAQ,CAAC,EAAO,GAGjD,OAAO,qBAAqB,CAAC,KACzB,EAAW,EACf,EACJ,EAEM,EAAS,AAAC,IACZ,IAAM,EAAW,IAAI,CAAC,UAAU,CAAC,WAAW,EACxC,CAAA,EAAM,OAAO,EAAI,EAAM,OAAO,CAAC,MAAM,CAAG,IAG5C,EAAU,EAAM,aAAa,CAAG,EAAM,aAAa,CAAC,EAAE,CAAC,UAAU,CAAG,KAIhE,CAAA,IAAI,CAAC,IAAI,EAAI,IAAI,CAAC,MAAM,AAAN,GAClB,EAAM,eAAe,GASzB,EAAqB,AALrB,CAAA,EAAY,IAAI,CAAC,WAAW,CAAC,wBAAwB,CACjD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC,EAAO,CAAA,GAAQ,EADtD,EAKiC,IAAI,CAAC,KAAK,CAC3C,EAAsB,IAAI,CAAC,GAAG,CAAG,EAGjC,EAAY,IAAI,CAAC,OAAO,CAAC,WAAW,CAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAE/D,EAAc,IAAI,CAAC,IAAI,CAAC,eAAe,CACnC,IAAI,CAAC,OAAO,CAAC,qBAAqB,GAClC,IAAI,CAAC,QAAQ,EAGjB,IAAI,CAAC,UAAU,CAAG,CAAA,EAClB,IAAI,CAAC,UAAU,CAAG,CAAA,EACd,AAAuC,WAAvC,EAAM,MAAM,CAAC,OAAO,CAAC,WAAW,IAChC,IAAI,CAAC,UAAU,CAAG,CAAA,EAClB,EAAS,EAAM,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,2BACnC,QACA,QAEN,IAAI,CAAC,UAAU,CAAG,CAAA,EAClB,EAAO,CAAA,EACP,EAAS,CAAA,GAEjB,EACM,EAAO,AAAC,IACN,EAAM,OAAO,EAAI,EAAM,OAAO,CAAC,MAAM,CAAG,IAIxC,CAAA,GAAQ,CAAA,IACR,IAAI,CAAC,UAAU,CAAG,CAAA,EAClB,IAAI,CAAC,UAAU,CAAG,CAAA,EAClB,EAAO,CAAA,EACP,EAAkB,KAClB,EAAS,CAAA,GAGT,IACA,EAAU,CAAA,EACV,IAAI,CAAC,IAAI,CAAC,YAAY,GACtB,IAAI,CAAC,SAAS,CAAC,aAAc,GAC7B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oBAAqB,IAAI,CAAE,IAE7D,EACM,EAAS,AAAC,IACZ,IAAM,EAAW,IAAI,CAAC,UAAU,CAAC,WAAW,GACxC,EAAgB,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,EAAO,IAAI,CAAC,QAAQ,EAC9D,EAAQ,KAEZ,GAAI,EAAM,OAAO,EAAI,EAAM,OAAO,CAAC,MAAM,CAAG,GAGxC,EAAM,aAAa,EAAI,EAAM,aAAa,CAAC,EAAE,CAAC,UAAU,EAAI,GAG5D,CAAC,GAAQ,CAAC,EALV,OAUJ,IAAI,EAAO,IAAI,CAAC,WAAW,CAAC,wBAAwB,CAChD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC,GAAS,GAGhD,GAAI,EAAM,CAEN,IAAM,EAAS,IAAI,CAAC,UAAU,CAAC,WAAW,GACtC,EAAO,EAAS,GAChB,CAAA,EAAO,EAAS,CADpB,EAII,EAAO,EAAqB,GAC5B,CAAA,EAAO,CADX,CAGJ,CAEA,GAAI,EAAQ,CAGR,IAAI,EAAY,IAAI,CAAC,SAAS,CACzB,GACD,CAAA,EAAY,CAAA,EAGZ,AAAW,UAAX,GACI,EAAO,IAAI,CAAC,GAAG,CAAG,GAClB,CAAA,EAAO,IAAI,CAAC,GAAG,CAAG,CADtB,EAII,EAAO,GACP,CAAA,EAAO,CAAA,GAEO,QAAX,IACH,EAAO,IAAI,CAAC,KAAK,CAAG,GAGpB,CAAA,EAAQ,AADR,CAAA,EAAO,IAAI,CAAC,KAAK,CAAG,CAApB,EACgB,CAAA,IAAI,CAAC,GAAG,CAAI,CAAA,EAAO,CAAA,CAAQ,CAAC,EAG5C,EAAO,GACP,CAAA,EAAO,CADX,EAIR,CAoBA,GAlBK,GACD,CAAA,EAAQ,EAAO,CADnB,EAIA,EAAY,EAGR,IAAI,CAAC,IAAI,EAAI,IACb,EAAU,GAAW,CAAC,CAAC,EACvB,IAAI,CAAC,MAAM,CAAC,IAIZ,IAAI,CAAC,MAAM,EAAI,IACf,EAAU,GAAW,CAAC,CAAC,EACvB,IAAI,CAAC,QAAQ,CAAC,EAAO,IAIrB,IAAI,CAAC,MAAM,EAAI,EAAU,WAAW,CAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CACjE,CAEE,IAAI,EAAI,EAAc,OAAO,EAIzB,EADA,EAAI,EAAY,IAAI,CAAG,IAAI,CAAC,eAAe,CACzB,GACX,EAAI,EAAY,KAAK,CAAG,IAAI,CAAC,eAAe,CACjC,EAEA,OAIlB,EAAW,EAEnB,CACJ,EAEA,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAa,GAC3C,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,aAAc,GAE5C,SAAS,IAAI,CAAC,gBAAgB,CAAC,YAAa,GAC5C,SAAS,IAAI,CAAC,gBAAgB,CAAC,YAAa,EAAQ,CAAC,QAAS,CAAA,CAAK,GAEnE,SAAS,gBAAgB,CAAC,UAAW,GACrC,SAAS,IAAI,CAAC,gBAAgB,CAAC,WAAY,GAE3C,IAAI,CAAC,EAAE,CAAC,SAAU,KACd,SAAS,mBAAmB,CAAC,UAAW,GACxC,SAAS,IAAI,CAAC,mBAAmB,CAAC,WAAY,GAC9C,SAAS,IAAI,CAAC,mBAAmB,CAAC,YAAa,GAC/C,SAAS,IAAI,CAAC,mBAAmB,CAAC,YAAa,EACnD,GAEA,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,UAAW,KAC1B,SAAS,mBAAmB,CAAC,UAAW,GACxC,SAAS,IAAI,CAAC,mBAAmB,CAAC,WAAY,EAClD,EACJ,CAEA,OAAO,CAAK,CAAE,CACV,IAAM,EAAS,IAAI,CAAC,UAAU,CAAC,WAAW,EACtC,CAAA,IAAI,CAAC,GAAG,CAAG,EAAQ,GACnB,CAAA,EAAQ,EAAS,IAAI,CAAC,GAAG,AAAH,EAGtB,IAAI,CAAC,KAAK,CAAG,EAAQ,GACrB,CAAA,EAAQ,AAAa,GAAb,IAAI,CAAC,KAAK,AADtB,EAIA,IAAM,EAAc,CAChB,UAAW,IAAI,CAAC,iBAAiB,CAAC,GAClC,OAAQ,MACZ,EAEA,IAAI,CAAC,MAAM,CAAC,CACR,MAAO,IAAI,CAAC,KAAK,CAAG,EACpB,IAAK,IAAI,CAAC,GAAG,CAAG,CACpB,EAAG,EACP,CAUA,kBAAkB,CAAK,CAAE,QACrB,AAAI,EAAQ,EACD,OAEP,EAAQ,EACD,QAEJ,IACX,CAUA,SAAS,CAAK,CAAE,CAAS,CAAE,CACvB,IAAM,EAAW,IAAI,CAAC,UAAU,CAAC,WAAW,GACtC,EAAc,CAChB,OAAQ,SACR,UAAW,AAAc,UAAd,EAAwB,OAAS,OAChD,CAEI,AAAc,CAAA,UAAd,GAEI,EAAQ,GAAK,IAAI,CAAC,GAAG,CAAI,CAAA,IAAI,CAAC,KAAK,CAAG,CAAA,EAAS,IAAI,CAAC,SAAS,EAC7D,CAAA,EAAQ,IAAI,CAAC,GAAG,CAAG,IAAI,CAAC,SAAS,CAAG,IAAI,CAAC,KAAK,AAAL,EAIzC,EAAQ,GAAK,IAAI,CAAC,GAAG,CAAI,CAAA,IAAI,CAAC,KAAK,CAAG,CAAA,EAAS,IAAI,CAAC,SAAS,EAC7D,CAAA,EAAQ,IAAI,CAAC,GAAG,CAAG,IAAI,CAAC,KAAK,CAAG,IAAI,CAAC,SAAS,AAAT,EAGrC,EAAQ,GAAM,IAAI,CAAC,KAAK,CAAG,EAAS,GACpC,CAAA,EAAQ,AAAa,GAAb,IAAI,CAAC,KAAK,AADtB,EAIA,IAAI,CAAC,MAAM,CAAC,CACR,MAAO,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,CAAG,EAAO,IAAI,CAAC,GAAG,EAC5C,IAAK,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,CAAG,EAAO,IAAI,CAAC,GAAG,CAC9C,EAAG,KAGC,EAAQ,GAAK,IAAI,CAAC,GAAG,CAAG,EAAQ,IAAI,CAAC,KAAK,CAAG,IAAI,CAAC,SAAS,EAC3D,CAAA,EAAQ,IAAI,CAAC,KAAK,CAAG,IAAI,CAAC,SAAS,CAAG,IAAI,CAAC,GAAG,AAAH,EAI3C,EAAQ,GAAK,IAAI,CAAC,GAAG,CAAG,EAAQ,IAAI,CAAC,KAAK,CAAG,IAAI,CAAC,SAAS,EAC3D,CAAA,EAAQ,IAAI,CAAC,SAAS,CAAI,CAAA,IAAI,CAAC,GAAG,CAAG,IAAI,CAAC,KAAK,AAAL,CAAK,EAG/C,EAAQ,GAAM,IAAI,CAAC,GAAG,CAAG,EAAS,GAClC,CAAA,EAAQ,EAAW,IAAI,CAAC,GAAG,AAAH,EAG5B,IAAI,CAAC,MAAM,CAAC,CACR,MAAO,KAAK,GAAG,CAAC,IAAI,CAAC,GAAG,CAAG,EAAO,IAAI,CAAC,KAAK,EAC5C,IAAK,KAAK,GAAG,CAAC,IAAI,CAAC,GAAG,CAAG,EAAO,IAAI,CAAC,KAAK,CAC9C,EAAG,GAEX,CAEA,cAAc,CAAK,CAAC,CAChB,GAAM,CAAC,KAAM,CAAO,CAAC,CAAG,IAAI,CAAC,IAAI,EAAI,CAAC,EAChC,EAAO,EAAM,MAAM,CAAC,SAAS,CAC7B,EAAO,CAAC,GAAG,IAAI,CAAC,IAAI,CAAE,KAAA,CAAK,EAEjC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAA,CAAI,EADG,CAAC,OAAQ,gBAAiB,QAAA,EAAS,KAAA,CAAI,EAE/D,CAEA,eAAe,CAAK,CAAC,CACjB,EAAM,eAAe,EACzB,CAEA,SAAS,CAAK,CAAC,CACX,EAAM,eAAe,GACrB,IAAI,CAAC,MAAM,EACf,CAEA,oBAAoB,CAAM,CAAE,CACxB,IAAI,EAEA,EADA,EACc,IAAI,CAAC,QAAQ,CAAG,aAAe,aAE/B,OAGlB,IAAI,CAAC,YAAY,EAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAE,CAAE,OAAQ,CAAY,GACzE,IAAI,CAAC,aAAa,EAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAE,CAAE,OAAQ,CAAY,EAC/E,CACJ,CDryBe,MAAA,EAUX,OAAO,OAAO,CAAM,CAAE,CAClB,MAAO,CACH,KAAM,UACN,UAAW,EAAA,KAAU,EAAO,SAAS,EAAG,EAAO,SAAS,CACxD,OAAQ,EACR,YAAa,CACT,UAAU,CAAO,EAIb,OAHK,IAAI,CAAC,qBAAqB,CAAC,OAAO,EACnC,IAAI,CAAC,UAAU,CAAC,WAEb,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAC5B,EAEA,eACI,IAAI,CAAC,OAAO,EAAI,IAAI,CAAC,OAAO,CAAC,KAAK,EACtC,EAEA,oBAAoB,CAAO,EAClB,IAAI,CAAC,qBAAqB,CAAC,OAAO,EACnC,IAAI,CAAC,UAAU,CAAC,WAEpB,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,EACrC,EAEA,uBACI,IAAI,CAAC,OAAO,CAAC,oBAAoB,EACrC,CACJ,EACA,SAAU,CACd,CACJ,CAEA,YAAY,CAAM,CAAE,CAAE,CAAE,CACpB,IAAI,CAAC,MAAM,CAAG,EACd,IAAI,CAAC,UAAU,CAAG,EAClB,IAAI,CAAC,IAAI,CAAG,CACR,GAAG,EAAG,IAAI,CACV,yBAA0B,AAAA,GACf,IAAI,CAAC,wBAAwB,CAAC,EAAO,EAEpD,EACA,IAAI,CAAC,UAAU,CAAG,EAAO,UAAU,CACnC,IAAI,CAAC,gBAAgB,CAAG,EAAO,gBAAgB,EAAI,KAMnD,AAH8B,OAAO,mBAAmB,CACpD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAEV,OAAO,CAAC,AAAA,IAC1B,AAAA,EAAO,SAAS,CAAC,EAAI,CAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAI,AAC7D,GACA,IAAI,CAAC,UAAU,CAAC,MAAM,CAAG,EAKzB,IAAI,CAAC,iBAAiB,CAAG,KACrB,IAAI,CAAC,OAAO,CAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAC7C,IAAI,CAAC,WAAW,CAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CACrD,IAAI,CAAC,sBAAsB,CAAG,AAJJ,IAII,IAAI,CAAC,OAAO,CAAC,WAAW,CAClD,IAAI,CAAC,MAAM,CAAC,OAAO,EACnB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,AAAA,IACxB,IAAI,CAAC,GAAG,CAAC,EACb,EAER,EAGA,IAAI,CAAC,IAAI,CAAG,CAAC,EACb,IAAI,CAAC,QAAQ,CAAG,KACZ,IAAI,CAAC,OAAO,CAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAC7C,IAAI,CAAC,QAAQ,CAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAClD,IAAI,CAAC,MAAM,CAAC,aAAa,EACzB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,EAExC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,AAAA,IAC3B,IAAI,CAAC,IAAI,CAAC,EAAG,CAAC,YAAY,EAC9B,EACJ,CACJ,CAEA,MAAO,CAEC,IAAI,CAAC,UAAU,CAAC,OAAO,EACvB,IAAI,CAAC,iBAAiB,GACtB,IAAI,CAAC,QAAQ,KAEb,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAS,IAAI,CAAC,QAAQ,EAC3C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,kBAAmB,IAAI,CAAC,iBAAiB,EAEtE,CAEA,SAAU,CACN,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,QAAS,IAAI,CAAC,QAAQ,EACzC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,kBAAmB,IAAI,CAAC,iBAAiB,EAK5D,IAAI,CAAC,UAAU,CAAC,yBAAyB,CAAC,CAAC,iBAAiB,EAC5D,IAAI,CAAC,oBAAoB,GACzB,IAAI,CAAC,KAAK,EACd,CAOA,uBAAwB,CACpB,OACI,IAAI,CAAC,UAAU,EAAI,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAI,IAAI,CAAC,UAAU,AAE3E,CAQA,IAAI,CAAM,CAAE,CACR,GAAI,IAAI,CAAC,qBAAqB,GAC1B,OAAO,IAWP,EAAC,AARL,CAAA,EAAS,CACL,gBAAiB,IAAI,CAAC,MAAM,CAAC,eAAe,EAAI,IAAI,CAAC,sBAAsB,CAC3E,gBAAiB,IAAI,CAAC,MAAM,CAAC,eAAe,CAC5C,aAAc,IAAI,CAAC,MAAM,CAAC,YAAY,CACtC,GAAG,CAAM,AACb,CAAA,EAGY,kBAAkB,EAAI,IAAI,CAAC,MAAM,CAAC,kBAAkB,EAC5D,CAAA,EAAS,CAAC,GAAG,CAAM,CAAE,mBAAoB,IAAI,CAAC,MAAM,CAAC,kBAAkB,AAAA,CAAA,EAGvE,CAAC,EAAO,SAAS,EAAI,IAAI,CAAC,gBAAgB,EAC1C,CAAA,EAAS,CAAC,GAAG,CAAM,CAAE,UAAW,IAAI,CAAC,gBAAgB,AAAA,CAAA,EAGzD,IAAM,EAAS,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAQ,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,UAAU,EAQ5E,OANA,IAAI,CAAC,IAAI,CAAC,EAAO,EAAE,CAAC,CAAG,EAEvB,EAAO,EAAE,CAAC,SAAU,KAChB,OAAO,IAAI,CAAC,IAAI,CAAC,EAAO,EAAE,CAAC,AAC/B,GAEO,CACX,CAKA,OAAQ,CACJ,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,AAAA,IAC3B,IAAI,CAAC,IAAI,CAAC,EAAG,CAAC,MAAM,EACxB,EACJ,CAEA,oBAAoB,CAAM,CAAE,KASpB,EAEA,EACA,EACA,EACA,EAEA,EACA,EAhBJ,IAAI,CAAC,oBAAoB,GAEzB,IAAM,EAAO,EAAO,IAAI,EAAI,EACtB,EAAY,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,SAAS,CAC5C,EACF,AAAkB,CAAA,IAAlB,EAAO,MAAM,EAAc,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,YAAY,CAC5D,EAAc,EAAO,WAAW,EAAI,EACpC,EAAkB,EAAO,eAAe,EAAI,GAE9C,EAAW,IAAI,CAAC,UAAU,CAAC,WAAW,GAKtC,EAAS,EAKP,EAAa,AAAA,IACf,GAAI,CAAC,GAAU,CAAC,EACZ,OAIJ,IAAI,EACA,IAAI,CAAC,OAAO,CAAC,UAAU,CAAG,EAAc,CAC5C,CAAA,IAAI,CAAC,OAAO,CAAC,UAAU,CAAG,EAAa,KAAK,GAAG,CAC3C,EACA,KAAK,GAAG,CAAC,EAAG,IAIhB,IAAM,EAAM,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC,GAC/C,EAAO,MAAM,CAAC,CACV,MAAO,KAAK,GAAG,CAAC,EAAM,EAAU,EAAQ,GACxC,IAAK,KAAK,GAAG,CAAC,EAAM,EAAU,EAAQ,EAC1C,GAGI,EAAa,GAAa,EAAa,GACvC,OAAO,qBAAqB,CAAC,KACzB,EAAW,EACf,EAER,EAEM,EAAY,AAAA,IACd,GAAI,CAAA,EAAE,OAAO,GAAI,CAAA,EAAE,OAAO,CAAC,MAAM,CAAG,CAAA,GAepC,GAZA,EAAW,IAAI,CAAC,UAAU,CAAC,WAAW,GACtC,EAAU,EAAE,aAAa,CAAG,EAAE,aAAa,CAAC,EAAE,CAAC,UAAU,CAAG,KAG5D,EAAY,IAAI,CAAC,OAAO,CAAC,WAAW,CAChC,IAAI,CAAC,OAAO,CAAC,WAAW,CAC5B,EAAc,IAAI,CAAC,IAAI,CAAC,eAAe,CACnC,IAAI,CAAC,OAAO,CAAC,qBAAqB,GAClC,IAAI,CAAC,QAAQ,EAIb,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,aAAa,EAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,oBAAoB,CAAC,kBAAkB,CAAE,CACxG,IAAM,EAAI,AAAC,CAAA,EAAE,OAAO,CAAG,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO,CAAG,EAAE,OAAO,AAAP,EAAW,EAAY,GAAG,CACpE,EAAe,AAAkC,MAAlC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAW,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB,CAAG,EAE1G,EAAa,KAAK,KAAK,CAAC,EADR,CAAA,IAAI,CAAC,OAAO,CAAC,YAAY,CAAG,CAAlD,EAEA,CAAA,EAAO,UAAU,CAAG,EACpB,IAAM,EAAgB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,oBAAoB,CAAC,aAAa,CAAC,EAAW,CACvF,GAAiB,EAAc,SAAS,EACxC,CAAA,EAAO,KAAK,CAAG,EAAc,SAAS,AAAT,CAErC,CAEA,EAAO,CAAA,EACP,EAAQ,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC,EAAG,CAAA,GAC9C,EAAS,KACT,EAAkB,KACtB,EACA,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAa,GAC3C,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,aAAc,GAC5C,IAAI,CAAC,EAAE,CAAC,yBAA0B,KAC9B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,aAAc,GAC/C,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,YAAa,EAClD,GAEA,IAAM,EAAU,AAAA,IACR,EAAE,OAAO,EAAI,EAAE,OAAO,CAAC,MAAM,CAAG,IAIpC,EAAO,CAAA,EACP,EAAS,EACT,EAAkB,KAEd,IACA,IAAI,CAAC,IAAI,CAAC,YAAY,GACtB,EAAO,SAAS,CAAC,aAAc,GAC/B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,oBAAqB,EAAQ,IAG3D,EAAS,KACb,EACA,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,aAAc,GAC5C,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAW,GACzC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,WAAY,GAE1C,SAAS,IAAI,CAAC,gBAAgB,CAAC,UAAW,GAC1C,SAAS,IAAI,CAAC,gBAAgB,CAAC,WAAY,GAC3C,IAAI,CAAC,EAAE,CAAC,yBAA0B,KAC9B,SAAS,IAAI,CAAC,mBAAmB,CAAC,UAAW,GAC7C,SAAS,IAAI,CAAC,mBAAmB,CAAC,WAAY,GAC9C,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,WAAY,GAC7C,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,UAAW,GAC5C,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,aAAc,EACnD,GAEA,IAAM,EAAY,AAAA,IACd,GAAI,CAAC,GAGD,EAAE,GAAU,GAIZ,EAAM,OAAO,EAAI,EAAM,OAAO,CAAC,MAAM,CAAG,GAGxC,EAAM,aAAa,EAAI,EAAM,aAAa,CAAC,EAAE,CAAC,UAAU,EAAI,GAK5D,CAAC,GAEG,CADJ,CAAA,EAAS,IAAI,CAAC,GAAG,CAAC,GAAU,CAAC,EAA7B,EAfA,OAqBJ,IAAM,EAAM,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC,GACzC,EAAc,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,wBAAwB,CACrE,EAAQ,GAEN,EAAY,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,wBAAwB,CACnE,EAAM,GAEV,EAAO,MAAM,CAAC,CACV,MAAO,KAAK,GAAG,CAAC,EAAW,GAC3B,IAAK,KAAK,GAAG,CAAC,EAAW,EAC7B,GAEA,IAAI,EAAgB,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,EAAO,IAAI,CAAC,QAAQ,EAGlE,GAAI,GAAU,EAAU,WAAW,CAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAE,CAE5D,IAAM,EAAI,EAAc,OAAO,CAAG,EAAY,IAAI,AAQlD,EANI,EADA,GAAK,EACa,GACX,GAAK,EAAY,KAAK,CAAG,EACd,EAEA,OAEH,EAAW,EAClC,CACJ,EACA,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAa,GAC3C,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAa,GAC3C,IAAI,CAAC,EAAE,CAAC,yBAA0B,KAC9B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,YAAa,GAC9C,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,YAAa,EAClD,GAEA,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,iBAAkB,AAAA,IAC7B,IAAI,CAAC,gBAAgB,EACrB,CAAA,EAAO,SAAS,CAAG,IAAI,CAAC,gBAAgB,AAAhB,CAEhC,EACJ,CAEA,sBAAuB,CACnB,IAAI,CAAC,SAAS,CAAC,yBACnB,CAUA,kBAAmB,CACf,IAAM,EAAO,IAAI,CAAC,UAAU,CAAC,cAAc,GACvC,EAAM,KAUV,OATA,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,AAAA,IAC3B,IAAM,EAAM,IAAI,CAAC,IAAI,CAAC,EAAG,AACrB,CAAA,EAAI,KAAK,EAAI,GAAQ,EAAI,GAAG,EAAI,GAC5B,CAAA,CAAC,GAAO,EAAI,GAAG,CAAG,EAAI,KAAK,CAAG,EAAI,GAAG,CAAG,EAAI,KAAK,AAAL,GAC5C,CAAA,EAAM,CADV,CAIR,GAEO,CACX,CAaA,yBAAyB,CAAK,CAAE,CAAM,CAAE,CACpC,GAAI,EAAO,kBAAkB,CAAE,CAE3B,IAAM,EAAS,EAAO,gBAAgB,EAAI,EAC1C,OACI,KAAK,KAAK,CAAC,AAAC,CAAA,EAAQ,CAAA,EAAU,EAAO,kBAAkB,EACnD,EAAO,kBAAkB,CAC7B,CAER,CAGA,OAAO,CACX,CACJ,C,I,E,C,CIpdmB,CAAA,aAAA,OAATN,MAAuBA,KAP/Ba,E,C,KCDF,IAAI+lC,EAAsB,CCA1BA,EAAwB,CAACjmC,EAAS8kF,KACjC,IAAI,IAAIj5E,KAAOi5E,EACX7+C,EAAoB6F,CAAAA,CAAEg5C,EAAYj5E,IAAAA,CAASo6B,EAAoB6F,CAAAA,CAAE9rC,EAAS6L,IAC5E/D,OAAOqK,cAAAA,CAAenS,EAAS6L,EAAK,CAAE4+B,WAAAA,CAAY,EAAM7xB,IAAKksE,CAAAA,CAAWj5E,EAAAA,AAAAA,EAE1E,ECNDo6B,EAAwB,CAACI,EAAKrP,IAAUlvB,OAAOqI,SAAAA,CAAUM,cAAAA,CAAetQ,IAAAA,CAAKkmC,EAAKrP,GCClFiP,EAAyBjmC,AAAAA,IACH,aAAA,OAAXoR,QAA0BA,OAAOc,WAAAA,EAC1CpK,OAAOqK,cAAAA,CAAenS,EAASoR,OAAOc,WAAAA,CAAa,CAAE9H,MAAO,QAAA,GAE7DtC,OAAOqK,cAAAA,CAAenS,EAAS,aAAc,CAAEoK,MAAAA,CAAO,CAAA,EAAO,CAAA,E,E,C,E,S,E,C,E,M,C,E,Y,O,Q,U,O,O,Q,C,S,C,E,O,O,C,E,S,C,E,O,G,Y,O,Q,E,W,G,Q,I,O,S,C,S,O,C,C,E,E,C,S,E,C,E,O,S,C,E,G,M,O,C,G,O,E,E,E,I,S,C,E,G,a,O,Q,M,C,C,O,Q,C,E,M,C,C,a,C,O,M,I,C,E,E,I,S,C,C,C,E,G,G,G,U,O,E,O,E,E,K,G,I,E,O,S,C,Q,C,I,C,G,K,C,E,I,G,W,G,E,W,E,C,E,E,W,C,I,A,E,Q,G,Q,E,O,M,I,C,G,G,c,G,2C,I,C,G,O,E,E,K,G,E,I,W,M,A,U,uI,G,C,S,E,C,C,C,E,A,C,M,G,E,E,M,A,G,C,E,E,M,A,E,I,I,E,E,E,A,M,G,E,E,I,C,C,E,C,C,C,E,C,O,C,C,S,E,C,C,C,E,I,I,E,E,E,E,E,E,M,C,I,C,I,E,C,C,E,A,C,E,U,C,E,U,E,C,E,E,Y,C,C,E,U,G,C,E,Q,C,C,C,E,O,c,C,E,C,E,E,G,C,E,K,E,E,S,C,C,C,E,G,W,E,I,O,E,O,E,I,E,C,C,O,W,C,C,G,K,I,E,C,I,E,E,I,C,E,G,W,G,W,E,G,O,C,O,A,U,+C,C,M,A,C,W,E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E,EAC9D,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC/D,CCQK,EAAc,CAChB,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAC9B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAK9B,EAAc,CAAC,EAAE,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,MAAM,CE/BjD,SAAS,EAAW,CAAK,CAAE,CAAM,CAAE,EAAM,CAAC,CAAE,EAAI,EAAM,MAAM,EACjE,IAAK,IAAI,EAAQ,EAAO,EAAQ,EAAK,GAAS,GAC5C,AAWJ,SAAe,CAAK,CAAE,CAAM,CAAE,CAAK,EACjC,IACA,IAAI,IAAI,EAAI,EAAG,EAAI,EAAQ,IAAK,CAE9B,IAAI,EAAU,CAAK,CAAC,EAAQ,EAAE,AAC9B,CAAA,CAAK,CAAC,EAAQ,EAAE,CAAG,CAAK,CAAC,EAAQ,EAAO,CACxC,CAAK,CAAC,EAAQ,EAAO,CAAG,EACxB,GACF,CACF,EApBU,EAAO,EAAQ,EAEzB,CCwEO,SAAS,EAAK,CAAG,CAAE,CAAM,CAAE,EAAM,CAAC,EAEvC,IAAI,EAAI,EAEJ,EAAM,EAAI,MAAM,CACpB,KAAO,EAAI,GAAK,CAEd,IAAI,EAAY,EAAI,WAAW,CAAC,GAChC,GAAI,EAAY,IACd,CAAM,CAAC,EAAM,CAAG,EAChB,QACK,CAEL,IAAI,EAAQ,EAER,EAAS,EAcb,IAbI,GAAa,MACf,EAAQ,EACR,EAAS,KACD,GAAa,OACrB,EAAQ,EACR,EAAS,KACD,GAAa,UACrB,EAAQ,EACR,EAAS,IACT,KAEF,CAAM,CAAC,EAAM,CAAI,AAAA,CAAA,GAAc,EAAI,CAAA,EAAU,EAC7C,IACO,EAAQ,GACb,CAAM,CAAC,EAAM,CAAG,IAAQ,GAAc,EAAK,CAAA,EAAQ,CAAA,EAAM,GACzD,IACA,GAEJ,CACA,GACF,CACA,OAAO,CACT,CCtHO,MAAM,EAMX,YAAY,CAAI,CAAE,EAAO,CAAA,CAAK,CAAE,CAK9B,IAAI,CAAC,IAAI,CAAG,EAKZ,IAAI,CAAC,MAAM,CAAG,KAAK,IAAI,CAAC,EAAO,GAK/B,IAAI,CAAC,GAAG,CAAG,KAAK,GAAG,CAAC,EAAG,GAAQ,EAK/B,IAAI,CAAC,GAAG,CAAG,EAIX,IAAI,CAAC,MAAM,CAAG,IAAI,CAAC,OAAO,CACtB,IACF,IAAI,CAAC,GAAG,CAAG,KAAK,GAAG,CAAC,EAAG,GAAQ,EAAI,EACnC,IAAI,CAAC,GAAG,CAAG,CAAC,IAAI,CAAC,GAAG,CAAG,EACvB,IAAI,CAAC,MAAM,CAAG,IAAI,CAAC,aAAa,CAEpC,CASA,KAAK,CAAM,CAAE,CAAG,CAAE,EAAM,CAAC,CAAE,CACzB,EAAM,IAAI,CAAC,MAAM,CAAC,KAAK,KAAK,CAAC,IAC7B,IAAK,IAAI,EAAI,EAAG,EAAM,IAAI,CAAC,MAAM,CAAE,EAAI,EAAK,IAC1C,CAAM,CAAC,EAAM,CAAG,AAAuC,IAAvC,KAAK,KAAK,CAAC,EAAM,KAAK,GAAG,CAAC,EAAG,AAAI,EAAJ,IAC7C,IAEF,OAAO,CACT,CAUA,QAAQ,CAAM,CAAE,EAAM,CAAC,CAAE,CAEvB,IAAI,EAAM,EACV,IAAI,IAAI,EAAI,EAAG,EAAI,IAAI,CAAC,MAAM,CAAE,IAC9B,GAAO,CAAM,CAAC,EAAQ,EAAE,CAAG,KAAK,GAAG,CAAC,IAAK,GAE3C,OAAO,CACT,CASA,cAAc,CAAM,CAAE,EAAM,CAAC,CAAE,CAC7B,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,EAAQ,GACzC,CAOA,OAAO,CAAG,CAAE,QACV,AAAI,EAAM,IAAI,CAAC,GAAG,CACT,IAAI,CAAC,GAAG,CACN,EAAM,IAAI,CAAC,GAAG,CAChB,IAAI,CAAC,GAAG,CAEV,CACT,CAQA,MAAM,CAAG,CAAE,CAIT,OAHI,EAAM,IAAI,CAAC,GAAG,EAChB,CAAA,GAAO,AAAY,EAAZ,IAAK,CAAC,GAAG,CAAQ,CAAA,EAEnB,CACT,CACF,CCxGO,MAAM,EAOX,YAAY,CAAK,CAAE,CAAK,CAAE,CAIxB,IAAI,CAAC,MAAM,CAAG,KAAK,IAAI,CAAE,AAAA,CAAA,EAAQ,CAAA,EAAS,GAK1C,IAAI,CAAC,KAAK,CAAG,EAKb,IAAI,CAAC,KAAK,CAAG,EAKb,IAAI,CAAC,IAAI,CAAI,AAAA,CAAA,GAAM,EAAQ,CAAA,EAAM,EAKjC,IAAI,CAAC,MAAM,CAAG,KAAK,GAAG,CAAC,EAAG,IAAI,CAAC,IAAI,CAAG,GAKtC,IAAI,CAAC,UAAU,CAAI,EAAQ,EAK3B,IAAI,CAAC,KAAK,CAAG,KAAK,GAAG,CAAC,EAAG,CAAE,CAAA,EAAI,IAAI,CAAC,MAAM,CAAG,EAAI,CAAA,EACnD,CASA,KAAK,CAAM,CAAE,CAAG,CAAE,CAAK,CAAE,CAEnB,KAAK,GAAG,CAAC,GAAO,IAAI,CAAC,MAAM,CAAI,AAAkB,EAAlB,IAAI,CAAC,UAAU,EAChD,CAAA,EAAM,EAAM,EAAI,CAAC,IAAW,GAD9B,EAQA,IAAI,EAAS,AAA2B,EAA1B,CAAA,AAAA,CAAA,EAAM,CAAC,CAAA,GAAQ,EAAI,CAAA,EAAY,EAAI,EAAM,EAAI,EAAI,EAG3D,EAAM,KAAK,GAAG,CAAC,KAAK,KAAK,CAAC,KAAK,GAAG,CAFtC,EAAM,KAAK,GAAG,CAAC,IAE+B,KAAK,GAAG,EAAG,MAErD,EAAW,EAAY,EAAM,KAAK,GAAG,CAAC,EAAG,GAAO,KAAK,GAAG,CAAC,EAAG,IAAI,CAAC,KAAK,GAyB1E,OAvBI,GAAQ,GACV,EAAW,KAAK,GAAG,CAAC,EAAG,IAAI,CAAC,KAAK,CAAG,GACpC,EAAO,AAAA,CAAA,GAAK,IAAI,CAAC,KAAI,AAAJ,EAAS,GAET,IAAR,IACL,GAAO,KAAK,GAAG,CAAC,EAAG,EAAI,IAAI,CAAC,IAAI,GAC9B,EAAW,KAAK,GAAG,CAAC,EAAG,IAAI,CAAC,KAAK,GAAK,IACxC,GAAY,EACZ,EAAW,GAGT,EAAM,IAAI,CAAC,IAAI,EACjB,EAAO,AAAA,CAAA,GAAK,IAAI,CAAC,KAAI,AAAJ,EAAS,EAC1B,EAAW,IAEX,GAAY,IAAI,CAAC,IAAI,CACrB,EAAW,EAAY,GAAY,KAAK,GAAG,CAAC,EAAG,IAAI,CAAC,KAAK,KAG3D,EAAW,EAAY,EAAM,KAAK,GAAG,CAAC,EAAG,EAAI,IAAI,CAAC,IAAI,CAAG,IAAI,CAAC,KAAK,GACnE,EAAM,IAGH,IAAI,CAAC,cAAc,CAAC,EAAQ,EAAO,EAAM,EAAK,EACvD,CAUA,OAAO,CAAM,CAAE,CAAK,CAAE,CAEpB,IAEI,EAFA,EAAQ,AAAA,CAAA,GAAK,IAAI,CAAC,KAAK,AAAL,EAAS,EAI3B,EAAW,GACf,IAAK,IAAI,EAAI,IAAI,CAAC,MAAM,CAAG,EAAG,GAAK,EAAI,IAAK,CAE1C,IAAI,EAAI,CAAM,CAAC,EAAI,EAAM,CAAC,QAAQ,CAAC,GACnC,GAAY,WAAW,SAAS,CAAC,EAAE,MAAM,EAAI,CAC/C,CAEA,IAAI,EAAO,AAAsB,KAAtB,EAAS,MAAM,CAAC,GAAY,GAAK,EAGxC,EAAW,SAAS,AAFxB,CAAA,EAAW,EAAS,SAAS,CAAC,EAA9B,EAEiC,SAAS,CAAC,EAAG,IAAI,CAAC,KAAK,EAAG,SAE3D,CADA,EAAW,EAAS,SAAS,CAAC,IAAI,CAAC,KAAK,EACpC,GAAY,GACd,AAAI,AAA0B,IAA1B,SAAS,EAAU,GACd,IAEF,IAAA,GACE,AAAa,IAAb,GACT,GAAY,EACZ,EAAc,SAAS,EAAU,IAEjC,EAAc,SAAS,IAAM,EAAU,GAElC,EAAO,EAAc,IAAI,CAAC,KAAK,CAAG,KAAK,GAAG,CAAC,EAAG,EAAW,IAAI,CAAC,IAAI,EAC3E,CAaA,eAAe,CAAM,CAAE,CAAK,CAAE,CAAI,CAAE,CAAG,CAAE,CAAQ,CAAE,CAEjD,IAAI,EAAO,EAAE,CAEb,EAAK,IAAI,CAAC,GAEV,IAAK,IAAI,EAAI,IAAI,CAAC,KAAK,CAAE,EAAI,EAAG,GAAK,EACnC,CAAI,CAAC,EAAE,CAAI,EAAM,EAAI,EAAI,EACzB,EAAM,KAAK,KAAK,CAAC,EAAM,GAGzB,IAAI,EAAM,EAAK,MAAM,CACrB,IAAK,IAAI,EAAI,IAAI,CAAC,KAAK,CAAE,EAAI,EAAG,GAAK,EACnC,CAAI,CAAC,EAAM,EAAE,CAAI,EAAW,EAAI,EAAI,EACpC,EAAW,KAAK,KAAK,CAAC,EAAW,GAInC,IAAI,EAAM,EAAK,IAAI,CAAC,IAEhB,EAAS,IAAI,CAAC,MAAM,CAAG,EAAQ,EAE/B,EAAI,EACR,KAAO,GAAU,GACf,CAAM,CAAC,EAAO,CAAG,SAAS,EAAI,SAAS,CAAC,EAAG,GAAI,GAC/C,EAAM,EAAI,SAAS,CAAC,GACpB,IACA,IAEF,OAAO,CACT,CACF,CAQA,SAAS,EAAY,CAAC,EAEpB,IAAI,EAAI,KAAK,KAAK,CAAC,GACf,EAAI,EAAI,SACZ,AAAI,EAAI,GACC,EAEL,EAAI,GACC,EAAI,EAEN,EAAI,EAAI,EAAI,EAAI,CACzB,CJ9LO,SAAS,EAAa,CAAM,CAAE,EAAM,CAAC,CAAE,EAAI,EAAO,MAAM,EAC7D,OAAO,AAAA,SEAc,CAAM,CAAE,EAAM,CAAC,CAAE,EAAI,EAAO,MAAM,EAEvD,IAAI,EAAM,GACV,IAAI,IAAI,EAAQ,EAAO,EAAQ,GAAM,CAEnC,IAAI,EAAgB,IAEhB,EAAgB,IAEhB,EAAU,CAAA,EAEV,EAAW,CAAM,CAAC,IAAQ,CAC9B,GAAI,GAAY,GAAQ,GAAY,IAClC,GAAO,OAAO,YAAY,CAAC,OACtB,CAEL,IAAI,EAAQ,CACR,CAAA,GAAY,KAAQ,GAAY,IAClC,EAAQ,EACC,GAAY,KAAQ,GAAY,KACzC,EAAQ,EACc,MAAlB,CAAM,CAAC,EAAM,EACf,CAAA,EAAgB,GADlB,EAGsB,MAAlB,CAAM,CAAC,EAAM,EACf,CAAA,EAAgB,GADlB,GAGS,GAAY,KAAQ,GAAY,KACzC,EAAQ,EACc,MAAlB,CAAM,CAAC,EAAM,EACf,CAAA,EAAgB,GADlB,EAGsB,MAAlB,CAAM,CAAC,EAAM,EACf,CAAA,EAAgB,GADlB,GAIA,EAAU,CAAA,EAEZ,GAAsB,AAAC,CAAA,GAAM,EAAI,EAAQ,CAAA,EAAM,EAC/C,IAAK,IAAI,EAAI,EAAG,EAAI,EAAO,IACrB,CAAA,CAAM,CAAC,EAAM,CAAG,GAAiB,CAAM,CAAC,EAAM,CAAG,CAAA,GACnD,CAAA,EAAU,CAAA,CADZ,EAGA,EAAY,GAAY,EAAM,AAAgB,GAAhB,CAAM,CAAC,EAAM,CAC3C,IAEE,EACF,GAAO,OAAO,YAAY,CAAC,OAEpB,GAAY,MACnB,GAAO,OAAO,YAAY,CAAC,IAE3B,GAAY,MACZ,GAAO,OAAO,YAAY,CACxB,AAAE,CAAA,GAAY,GAAM,IAAA,EAAS,MAC7B,AAAC,CAAA,AAAW,KAAX,CAAW,EAAS,OAE3B,CACF,CACA,OAAO,CACT,EF5DoB,EAAQ,EAAO,EACnC,CAOO,SAAS,EAAW,CAAG,EAE5B,IAAI,EAAS,EAAE,CAEf,OADA,AAAA,EAAS,EAAK,GACP,CACT,CASO,SAAS,EAAa,CAAG,CAAE,CAAM,CAAE,EAAM,CAAC,EAC/C,OAAO,AAAA,EAAS,EAAK,EAAQ,EAC/B,CAgBO,SAAS,EAAY,CAAM,CAAE,CAAO,CAAE,CAAM,CAAE,EAAM,CAAC,EAG1D,IAAI,EAAS,EAAW,AAFxB,CAAA,EAAU,GAAW,CAAC,CAAA,EAEU,IAAI,CAAE,EAAQ,EAAE,CAAE,EAAQ,MAAM,EAE5D,EAAS,KAAK,IAAI,CAAC,EAAQ,IAAI,CAAG,GAElC,EAAI,EAEJ,EAAQ,EACZ,IAAK,IAAI,EAAY,EAAO,MAAM,CAAE,EAAI,EAAW,IACjD,EAAQ,EAAO,IAAI,CAAC,EAAQ,CAAM,CAAC,EAAE,CAAE,GAKzC,OAHI,EAAQ,EAAE,EACZ,AAAA,EAAW,EAAQ,EAAQ,EAAO,GAE7B,CACT,CAeO,SAAS,EACZ,CAAM,CAAE,CAAO,CAAE,CAAM,CAAE,EAAM,CAAC,CAAE,EAAI,EAAO,MAAM,MA2GjB,EAxGpC,IAAI,EAAS,EAAW,AAFxB,CAAA,EAAU,GAAW,CAAC,CAAA,EAEU,IAAI,CAAE,EAAQ,EAAE,CAAE,EAAQ,MAAM,EAKhE,GADA,EAuGO,CAH6B,EApGD,GAsGtB,AAAA,CAAA,EAtGe,CAsGT,EAtGqB,EAAO,MAAM,CACjD,EAAQ,EAAE,CAAE,CAEd,IAAI,EAqFC,IAAI,WArFoB,EACzB,CAAA,EAAQ,EAAE,EACZ,AAAA,EAAW,EAAY,EAAO,MAAM,CAAE,EAAO,GAE/C,EAAQ,EAAY,EAAQ,EAAO,EAAK,EAC1C,MACE,EAAQ,EAAQ,EAAQ,EAAO,EAAK,EAExC,CAcO,SAAS,EAAO,CAAK,CAAE,CAAO,CAAE,CAAM,CAAE,EAAM,CAAC,EACpD,OAAO,EAAY,CAAC,EAAM,CAAE,EAAS,EAAQ,EAC/C,CAYO,SAAS,EAAK,CAAK,CAAE,CAAO,EAEjC,IAAI,EAAS,EAAE,CAEf,OADA,EAAO,EAAO,EAAS,EAAQ,GACxB,CACT,CAaO,SAAS,EAAO,CAAM,CAAE,CAAO,CAAE,EAAM,CAAC,EAC7C,IAAI,EAAS,EAAE,CAGf,OAFA,EAAc,EAAQ,EAAS,EAC7B,EAAO,EAAQ,KAAK,IAAI,CAAC,EAAQ,IAAI,CAAG,IACnC,CAAM,CAAC,EAAE,AAClB,CAWA,SAAS,EAAQ,CAAM,CAAE,CAAM,CAAE,CAAK,CAAE,CAAG,CAAE,CAAM,EAEjD,IAAI,EAAS,EAAO,MAAM,CAC1B,IAAK,IAAI,EAAQ,EAAG,EAAI,EAAO,EAAI,EAAK,GAAK,EAAQ,IACnD,CAAM,CAAC,EAAM,CAAG,EAAO,MAAM,CAAC,EAAQ,EAE1C,CAmCA,SAAS,EAAW,CAAI,CAAE,CAAE,CAAE,CAAM,SAClC,AAAI,GAAM,AAAQ,IAAR,EACD,IAAI,EAAY,EAAG,IAClB,GAAM,AAAQ,IAAR,EACP,IAAI,EAAY,GAAI,IAEtB,IAAI,EAAU,EAAM,EAC7B,CUlNO,MAAM,EAEX,aAAc,CAMZ,IAAI,CAAC,SAAS,CAAG,GAIjB,IAAI,CAAC,SAAS,CAAG,EAKjB,IAAI,CAAC,MAAM,CAAG,GAKd,IAAI,CAAC,SAAS,CAAG,KAKjB,IAAI,CAAC,IAAI,CAAG,EAKZ,IAAI,CAAC,MAAM,CAAG,CAAC,KAAM,GAAI,GAAI,CAAA,CAAK,EAOlC,IAAI,CAAC,oBAAoB,CAAG,CAAC,OAAQ,OAAO,AAC9C,CAOA,aAAa,CAAM,CAAE,CAGnB,GAFA,IAAI,CAAC,IAAI,CAAG,EACZ,IAAI,CAAC,SAAS,CAAG,IAAI,CAAC,UAAU,CAAC,EAAQ,GACrC,AAAsD,KAAtD,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,EAClD,MAAM,MAAM,0BAEd,CAAA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAG,AAAmB,SAAnB,IAAI,CAAC,SAAS,CAC/B,IAAI,CAAC,SAAS,CAAG,IAAI,CAAC,UAAU,CAAC,GACjC,IAAI,CAAC,MAAM,CAAG,IAAI,CAAC,UAAU,CAAC,EAAQ,GAEtC,IAAI,CAAC,SAAS,CAAG,CACf,QAAS,IAAI,CAAC,SAAS,CACvB,UAAW,IAAI,CAAC,SAAS,CACzB,OAAQ,IAAI,CAAC,MAAM,CACnB,UAAW,IAAI,CAAC,kBAAkB,CAAC,EACrC,CACF,CAUA,UAAU,CAAO,CAAE,EAAS,CAAA,CAAK,CAAE,CAEjC,IAAI,EAAS,IAAI,CAAC,SAAS,CAAC,SAAS,CAEjC,EAAQ,EAAE,CACd,IAAK,IAAI,EAAE,EAAG,EAAE,EAAO,MAAM,CAAE,IAC7B,GAAI,CAAM,CAAC,EAAE,CAAC,OAAO,EAAI,EAAS,CAChC,IAAI,EAGF,OAAO,CAAM,CAAC,EAAE,CAFhB,EAAM,IAAI,CAAC,CAAM,CAAC,EAAE,CAIxB,OAEa,QAAX,GACK,EAAM,MAAM,CAAG,EAAQ,IAGlC,CASA,WAAW,CAAK,CAAE,CAAO,CAAE,CAEzB,IAAI,EAAM,GAGV,OAFA,EAAM,AAAA,EAAa,EAAO,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,IAAI,CAAG,GACjD,IAAI,CAAC,IAAI,EAAI,EACN,CACT,CAQA,WAAW,CAAK,CAAE,CAEhB,IAAI,EAAQ,AAAA,EAAO,EAAO,IAAI,CAAC,MAAM,CAAE,IAAI,CAAC,IAAI,EAEhD,OADA,IAAI,CAAC,IAAI,EAAI,EACN,CACT,CAQA,mBAAmB,CAAM,CAAE,CAEzB,IAAI,EAAS,EAAE,CAEX,EAAI,IAAI,CAAC,IAAI,CACjB,KAAM,GAAK,EAAO,MAAM,CAAG,GACzB,EAAO,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAQ,IAC3C,GAAK,EAAI,CAAM,CAAC,EAAO,MAAM,CAAG,EAAE,CAAC,SAAS,CAC5C,EAAI,EAAI,EAAI,EAAI,EAAI,EAEtB,OAAO,CACT,CASA,kBAAkB,CAAM,CAAE,CAAK,CAAE,CAE/B,IAAI,EAAQ,CACV,QAAS,IAAI,CAAC,WAAW,CAAC,EAAQ,GAClC,UAAW,IAAI,CAAC,aAAa,CAAC,EAAQ,EACxC,EACA,GAAI,AAAiB,QAAjB,EAAM,OAAO,CACf,EAAM,MAAM,CAAG,AAAA,EAAa,EAAQ,EAAQ,EAAG,EAAQ,IACvD,IAAI,CAAC,IAAI,EAAI,EACb,EAAM,SAAS,CAAG,IAAI,CAAC,kBAAkB,CAAC,OACrC,CAEL,IAAI,EAAgB,EAAM,SAAS,CAAG,EACpC,EAAM,SAAS,CAAG,EAAI,EAAM,SAAS,AACvC,CAAA,IAAI,CAAC,IAAI,CAAG,EAAQ,EAAI,EACxB,EAAM,SAAS,CAAG,CAChB,MAAO,EAAQ,EACf,IAAK,IAAI,CAAC,IAAI,AAChB,CACF,CACA,OAAO,CACT,CASA,YAAY,CAAM,CAAE,CAAK,CAAE,CAEzB,OADA,IAAI,CAAC,IAAI,EAAI,EACN,AAAA,EAAa,EAAQ,EAAO,EAAQ,EAC7C,CASA,cAAc,CAAM,CAAE,CAAK,CAAE,CAE3B,OADA,IAAI,CAAC,IAAI,EAAI,EACN,AAAA,EAAO,EAAQ,IAAI,CAAC,MAAM,CAAE,EAAQ,EAC7C,CACF,CD/LO,MAAM,UAAuB,EAElC,aAAc,CACZ,KAAK,GAEL,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAK/B,IAAI,CAAC,GAAG,CAAG,CAET,QAAS,GAET,UAAW,EAEX,YAAa,EAEb,YAAa,EAEb,WAAY,EAEZ,SAAU,EAEV,WAAY,EAEZ,cAAe,EAEf,OAAQ,EAER,mBAAoB,EAEpB,cAAe,EAKf,UAAW,EAAE,AACf,EAKA,IAAI,CAAC,IAAI,CAAG,CAEV,QAAS,GAET,UAAW,EAEX,eAAgB,CAClB,EAKA,IAAI,CAAC,GAAG,CAAG,CAET,QAAS,GAET,UAAW,EAEX,YAAa,EAEb,OAAQ,EAAE,AACZ,EAKA,IAAI,CAAC,IAAI,CAAG,CAEV,QAAS,GAET,UAAW,EAEX,eAAgB,EAEhB,UAAW,EAEX,eAAgB,EAEhB,gBAAiB,EAEjB,oBAAqB,EAErB,cAAe,EAEf,cAAe,EAEf,iBAAkB,EAElB,cAAe,EAEf,MAAO,EAAE,AACX,EAKA,IAAI,CAAC,IAAI,CAAG,CAEV,QAAS,GAET,UAAW,EAEX,YAAa,GAEb,WAAY,GAEZ,oBAAqB,GAErB,gBAAiB,GAEjB,gBAAiB,GAKjB,cAAe,CAAC,EAAG,EAAE,CAErB,QAAS,EAET,KAAM,GAEN,cAAe,EAEf,cAAe,EAEf,iBAAkB,EAElB,qBAAsB,EAEtB,qBAAsB,EAEtB,SAAU,GAEV,cAAe,EACjB,EAKA,IAAI,CAAC,IAAI,CAAG,CAEV,QAAS,GAET,UAAW,EAEX,MAAO,EACT,EAMA,IAAI,CAAC,IAAI,CAAG,CAEV,QAAS,GAET,UAAW,EAEX,aAAc,EAEd,YAAa,EAEb,aAAc,EAEd,YAAa,EAEb,gBAAiB,EAEjB,gBAAiB,EAEjB,eAAgB,CAKlB,EAKA,IAAI,CAAC,IAAI,CAAG,CAEV,QAAS,GAET,UAAW,EAEX,QAAS,IAAI,WAAW,EAC1B,EAYA,IAAI,CAAC,IAAI,CAAG,EAAE,CAKd,IAAI,CAAC,IAAI,CAAG,CAEV,QAAS,GAET,UAAW,EAEX,UAAW,EAAE,AACf,EAKA,IAAI,CAAC,IAAI,CAAG,CAEV,QAAS,GAET,UAAW,EAEX,MAAO,EACT,EAKA,IAAI,CAAC,MAAM,CAAG,CAAC,KAAM,GAAI,GAAI,CAAA,EAAO,OAAQ,CAAA,EAAO,GAAI,CAAA,CAAK,CAC9D,CAWA,WAAW,CAAS,CAAE,EAAQ,CAAA,CAAI,CAAE,CAKlC,GAHA,IAAI,CAAC,YAAY,GACjB,IAAI,CAAC,YAAY,CAAC,GAClB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAC3B,AAAe,QAAf,IAAI,CAAC,MAAM,CACb,MAAM,MAAM,+CAEd,IAAI,CAAC,cAAc,CAAC,GACpB,IAAI,CAAC,aAAa,CAAC,GACnB,IAAI,CAAC,cAAc,CAAC,GACpB,IAAI,CAAC,cAAc,CAAC,GACpB,IAAI,CAAC,cAAc,CAAC,GACpB,IAAI,CAAC,aAAa,CAAC,GACnB,IAAI,CAAC,cAAc,CAAC,GACpB,IAAI,CAAC,cAAc,CAAC,EAAW,GAC/B,IAAI,CAAC,cAAc,CAAC,GACpB,IAAI,CAAC,cAAc,CAAC,GACpB,IAAI,CAAC,cAAc,CAAC,EACtB,CAOA,cAAe,CAEb,IAAI,EAAS,IAAI,EACjB,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAE,EAAO,GAAG,EAClC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,EAAO,IAAI,EACpC,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAE,EAAO,GAAG,EAClC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,EAAO,IAAI,EACpC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,EAAO,IAAI,EACpC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,EAAO,IAAI,EACpC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,EAAO,IAAI,EACpC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,EAAO,IAAI,EACpC,IAAI,CAAC,IAAI,CAAG,EAAE,CACd,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,EAAO,IAAI,EACpC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,EAAO,IAAI,CACtC,CAQA,cAAc,CAAM,CAAE,CAEpB,IAAI,EAAQ,IAAI,CAAC,SAAS,CAAC,QAC3B,GAAI,EACF,IAAI,CAAC,IAAI,CAAG,EAAM,SAAS,CAAC,KAAK,CACjC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAG,EAAM,OAAO,CAChC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAG,EAAM,SAAS,CACpC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAG,IAAI,CAAC,WAAW,CAAC,GACxC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAG,IAAI,CAAC,WAAW,CAAC,GACxC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAG,IAAI,CAAC,UAAU,CAAC,GACtC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAG,IAAI,CAAC,UAAU,CAAC,GACpC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAG,IAAI,CAAC,WAAW,CAAC,GACvC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAG,IAAI,CAAC,WAAW,CAAC,GAC1C,IAAI,CAAC,iBAAiB,CAAC,QAEvB,MAAM,MAAM,kCAEhB,CAOA,kBAAkB,CAAM,CAAE,CACpB,IAAI,CAAC,GAAG,CAAC,SAAS,CAAG,KACvB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAG,IAAI,CAAC,WAAW,CAAC,GAC/B,IAAI,CAAC,GAAG,CAAC,SAAS,CAAG,KACvB,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAG,IAAI,CAAC,WAAW,CAAC,GAC3C,IAAI,CAAC,GAAG,CAAC,SAAS,CAAG,KACvB,IAAI,CAAC,GAAG,CAAC,aAAa,CAAG,IAAI,CAAC,UAAU,CAAC,GACzC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAG,CACnB,IAAI,CAAC,UAAU,CAAC,GAChB,IAAI,CAAC,UAAU,CAAC,GAChB,IAAI,CAAC,UAAU,CAAC,GAChB,IAAI,CAAC,UAAU,CAAC,GAAQ,GAIlC,CAOA,eAAe,CAAM,CAAE,CAErB,IAAI,EAAQ,IAAI,CAAC,SAAS,CAAC,QACvB,IACF,IAAI,CAAC,IAAI,CAAG,EAAM,SAAS,CAAC,KAAK,CACjC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,EAAM,OAAO,CACjC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAG,EAAM,SAAS,CACrC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAG,IAAI,CAAC,UAAU,CAAC,GAE/C,CAOA,cAAc,CAAM,CAAE,CAEpB,IAAI,EAAQ,IAAI,CAAC,SAAS,CAAC,QAC3B,GAAI,EAAO,CACT,IAAI,CAAC,IAAI,CAAG,EAAM,SAAS,CAAC,KAAK,CACjC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAG,EAAM,OAAO,CAChC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAG,EAAM,SAAS,CACpC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAG,IAAI,CAAC,UAAU,CAAC,GACvC,IAAK,IAAI,EAAI,EAAG,EAAI,IAAI,CAAC,GAAG,CAAC,WAAW,CAAE,IACxC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CACnB,OAAQ,IAAI,CAAC,UAAU,CAAC,GACxB,WAAY,IAAI,CAAC,UAAU,CAAC,GAC5B,SAAU,IAAI,CAAC,UAAU,CAAC,EAAQ,GAClC,aAAc,IAAI,CAAC,UAAU,CAAC,GAC9B,aAAc,IAAI,CAAC,UAAU,CAAC,GAC9B,eAAgB,IAAI,CAAC,UAAU,CAAC,EAClC,EAEJ,CACF,CAOA,eAAe,CAAM,CAAE,CAErB,IAAI,EAAQ,IAAI,CAAC,SAAS,CAAC,QAC3B,GAAI,EAAO,CACT,IAAI,CAAC,IAAI,CAAG,EAAM,SAAS,CAAC,KAAK,CACjC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,EAAM,OAAO,CACjC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAG,EAAM,SAAS,CACrC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAG,IAAI,CAAC,UAAU,CAAC,GAC3C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAG,IAAI,CAAC,UAAU,CAAC,GACtC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAG,IAAI,CAAC,UAAU,CAAC,GAC3C,IAAI,CAAC,IAAI,CAAC,eAAe,CAAG,IAAI,CAAC,UAAU,CAAC,GAC5C,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAG,IAAI,CAAC,UAAU,CAAC,GAChD,IAAI,CAAC,IAAI,CAAC,aAAa,CAAG,IAAI,CAAC,UAAU,CAAC,GAC1C,IAAI,CAAC,IAAI,CAAC,aAAa,CAAG,IAAI,CAAC,UAAU,CAAC,GAC1C,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAG,IAAI,CAAC,UAAU,CAAC,GAC7C,IAAI,CAAC,IAAI,CAAC,aAAa,CAAG,IAAI,CAAC,UAAU,CAAC,GAC1C,IAAK,IAAI,EAAI,EAAG,EAAI,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAE,IAC9C,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CACnB,OAAQ,IAAI,CAAC,UAAU,CAAC,GACxB,OAAQ,IAAI,CAAC,UAAU,CAAC,GACxB,QAAS,IAAI,CAAC,UAAU,CAAC,GACzB,MAAO,IAAI,CAAC,UAAU,CAAC,GACvB,WAAY,IAAI,CAAC,UAAU,CAAC,GAC5B,YAAa,IAAI,CAAC,UAAU,CAAC,EAC/B,EAEJ,CACF,CASA,eAAe,CAAM,CAAE,CAAO,CAAE,CAE9B,IAAI,EAAQ,IAAI,CAAC,SAAS,CAAC,QAC3B,GAAI,EACF,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,OACpB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAG,EAAM,SAAS,CACjC,GACF,CAAA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,EAAO,KAAK,CAC9B,EAAM,SAAS,CAAC,KAAK,CACrB,EAAM,SAAS,CAAC,GAAG,CAAA,OAGvB,MAAM,MAAM,kCAEhB,CAOA,eAAe,CAAM,CAAE,CAErB,IAAI,EAAQ,IAAI,CAAC,SAAS,CAAC,QACvB,IACF,IAAI,CAAC,IAAI,CAAG,EAAM,SAAS,CAAC,KAAK,CACjC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,EAAM,OAAO,CACjC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAG,EAAM,SAAS,CACrC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAG,IAAI,CAAC,UAAU,CAAC,EAAQ,KAChD,IAAI,CAAC,IAAI,CAAC,UAAU,CAAG,IAAI,CAAC,UAAU,CAAC,EAAQ,IAC/C,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAG,IAAI,CAAC,UAAU,CAAC,EAAQ,IACxD,IAAI,CAAC,IAAI,CAAC,eAAe,CAAG,IAAI,CAAC,UAAU,CAAC,EAAQ,IACpD,IAAI,CAAC,IAAI,CAAC,eAAe,CAAG,IAAI,CAAC,UAAU,CAAC,EAAQ,GACpD,IAAI,CAAC,IAAI,CAAC,aAAa,CAAG,CACxB,IAAI,CAAC,UAAU,CAAC,GAChB,IAAI,CAAC,UAAU,CAAC,GAAQ,CAC1B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,IAAI,CAAC,WAAW,CAAC,GACrC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAG,IAAI,CAAC,UAAU,CAAC,EAAQ,IACzC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAG,IAAI,CAAC,WAAW,CAAC,GAC3C,IAAI,CAAC,IAAI,CAAC,aAAa,CAAG,IAAI,CAAC,WAAW,CAAC,GAC3C,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAG,IAAI,CAAC,WAAW,CAAC,GAC9C,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAG,IAAI,CAAC,WAAW,CAAC,GAClD,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAG,IAAI,CAAC,WAAW,CAAC,GAClD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAG,IAAI,CAAC,UAAU,CAAC,EAAQ,KAC7C,IAAI,CAAC,IAAI,CAAC,aAAa,CAAG,IAAI,CAAC,UAAU,CACvC,EAAQ,IAAI,CAAC,IAAI,CAAC,SAAS,CAAG,KAEpC,CAOA,eAAe,CAAM,CAAE,CAErB,IAAI,EAAQ,IAAI,CAAC,SAAS,CAAC,QACvB,IACF,IAAI,CAAC,IAAI,CAAG,EAAM,SAAS,CAAC,KAAK,CACjC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,EAAM,OAAO,CACjC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAG,EAAM,SAAS,CACrC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAG,AAAA,EAChB,EAAQ,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,IAAI,CAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAExD,CAQA,eAAe,CAAM,CAAE,CAErB,IAAI,EAAQ,IAAI,CAAC,SAAS,CAAC,QAC3B,GAAI,EACF,IAAI,CAAC,IAAI,CAAG,EAAM,SAAS,CAAC,KAAK,CACjC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,EAAM,OAAO,CACjC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAG,EAAM,SAAS,CACrC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAG,IAAI,CAAC,UAAU,CAAC,GACzC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAG,IAAI,CAAC,UAAU,CAAC,GACxC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAG,IAAI,CAAC,UAAU,CAAC,GACzC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAG,IAAI,CAAC,UAAU,CAAC,GACxC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAG,IAAI,CAAC,UAAU,CAAC,GAC5C,IAAI,CAAC,IAAI,CAAC,eAAe,CAAG,IAAI,CAAC,UAAU,CAAC,GAC5C,IAAI,CAAC,IAAI,CAAC,cAAc,CAAG,IAAI,CAAC,UAAU,CAAC,QAQ3C,GAAI,AAAkB,QAAlB,IAAI,CAAC,SAAS,CAChB,MAAM,MAAM,kCAGlB,CAOA,eAAe,CAAM,CAAE,CAErB,IAAI,EAAa,IAAI,CAAC,SAAS,CAAC,OAAQ,CAAA,GACxC,GAAI,AAAe,OAAf,EACF,IAAK,IAAI,EAAE,EAAG,EAAI,EAAW,MAAM,CAAE,IAAK,CAExC,IAAI,EAAW,CAAU,CAAC,EAAE,CAC5B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CACb,QAAS,EAAS,OAAO,CACzB,UAAW,EAAS,SAAS,CAC7B,OAAQ,EAAS,MAAM,CACvB,UAAW,EAAE,AAAA,GACf,IAAK,IAAI,EAAE,EAAG,EAAE,EAAS,SAAS,CAAC,MAAM,CAAE,IACzC,IAAI,CAAC,kBAAkB,CAAC,EAAS,SAAS,CAAC,EAAE,CAC3C,EAAS,MAAM,CAAE,EAEvB,CAEJ,CASA,mBAAmB,CAAQ,CAAE,CAAM,CAAE,CAAM,CAAE,CACvC,AAAU,QAAV,EACE,CAAC,OAAQ,OAAO,OAAO,CAAC,OAAO,CAAC,EAAS,OAAO,EAAI,IACtD,IAAI,CAAC,sBAAsB,CAAC,EAAQ,GAGpB,QAAV,GACR,IAAI,CAAC,sBAAsB,CAAC,EAAQ,EAExC,CAQA,uBAAuB,CAAM,CAAE,CAAQ,CAAE,CACvC,IAAI,CAAC,IAAI,CAAG,EAAS,SAAS,CAAC,KAAK,CAEpC,IAAI,EAAO,CACT,QAAS,EAAS,OAAO,CACzB,UAAW,EAAS,SAAS,CAC7B,OAAQ,IAAI,CAAC,UAAU,CAAC,EAC1B,CACI,AAAoB,CAAA,QAApB,EAAS,OAAO,EAClB,EAAK,cAAc,CAAG,IAAI,CAAC,UAAU,CAAC,GACtC,EAAK,WAAW,CAAG,IAAI,CAAC,UAAU,CAAC,GACnC,EAAK,SAAS,CAAG,IAAI,CAAC,WAAW,CAAC,GAClC,EAAK,UAAU,CAAG,IAAI,CAAC,WAAW,CAAC,GACnC,EAAK,SAAS,CAAG,IAAI,CAAC,WAAW,CAAC,GAClC,EAAK,UAAU,CAAG,IAAI,CAAC,WAAW,CAAC,GACnC,EAAK,KAAK,CAAG,IAEb,EAAK,KAAK,CAAG,IAAI,CAAC,SAAS,CAAC,EAAQ,IAAI,CAAC,IAAI,EAE/C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAG,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,EACjD,CAQA,uBAAuB,CAAM,CAAE,CAAQ,CAAE,CACvC,IAAI,CAAC,IAAI,CAAG,EAAS,SAAS,CAAC,KAAK,CACpC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAG,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,CAC7C,QAAS,EAAS,OAAO,CACzB,UAAW,EAAS,SAAS,CAC7B,MAAO,IAAI,CAAC,SAAS,CAAC,EAAQ,IAAI,CAAC,IAAI,CACzC,EACF,CAOA,eAAe,CAAM,CAAE,CAErB,IAAI,EAAQ,IAAI,CAAC,SAAS,CAAC,QACvB,GACF,CAAA,IAAI,CAAC,IAAI,CAAG,CACV,QAAS,EAAM,OAAO,CACtB,UAAW,EAAM,SAAS,CAC1B,UAAW,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAO,KAAK,CACnC,EAAM,SAAS,CAAC,KAAK,CACrB,EAAM,SAAS,CAAC,GAAG,EACvB,CAAA,CAEJ,CAOA,eAAe,CAAM,CAAE,CAErB,IAAI,EAAQ,IAAI,CAAC,SAAS,CAAC,QACvB,IACF,IAAI,CAAC,IAAI,CAAG,EAAM,SAAS,CAAC,KAAK,CACjC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,EAAM,OAAO,CACjC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAG,EAAM,SAAS,CACrC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAG,AAAA,EAChB,EAAQ,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,IAAI,CAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAExD,CASA,UAAU,CAAK,CAAE,EAAM,CAAC,CAAE,CACxB,IAAK,IAAI,EAAI,EAAO,EAAI,EAAM,MAAM,GAClC,IAAI,CAAC,IAAI,GACL,AAAa,IAAb,CAAK,CAAC,EAAE,EAFwB,KAMtC,OAAO,AAAA,EAAa,EAAO,EAAO,IAAI,CAAC,IAAI,CAAG,EAChD,CAQA,YAAY,CAAK,CAAE,CAEjB,IAAI,EAAQ,AAAA,EAAO,EAAO,IAAI,CAAC,MAAM,CAAE,IAAI,CAAC,IAAI,EAEhD,OADA,IAAI,CAAC,IAAI,EAAI,EACN,CACT,CACF,CEvpBO,SAAS,EAAY,CAAG,CAAE,CAAU,EAEzC,IAAI,EAAe,AAAA,EAAW,GAC9B,IAAK,IAAI,EAAI,EAAa,MAAM,CAAE,EAAI,EAAY,IAChD,EAAa,IAAI,CAAC,GAEpB,OAAO,CACT,CHRO,MAAM,UAAuB,EAOlC,UAAW,CACT,IAAI,CAAC,MAAM,CAAC,EAAE,CAAG,AAAmB,SAAnB,IAAI,CAAC,SAAS,CAC/B,IAAI,CAAC,MAAM,CAAC,EAAE,CAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAE/B,IAAI,EAAW,CACb,IAAI,CAAC,aAAa,GAClB,IAAI,CAAC,aAAa,GAClB,IAAI,CAAC,aAAa,GAClB,IAAI,CAAC,aAAa,GAClB,IAAI,CAAC,YAAY,GACjB,IAAI,CAAC,aAAa,GAClB,AAAA,EAAW,IAAI,CAAC,IAAI,CAAC,OAAO,EAC5B,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAE,IAAI,CAAC,MAAM,EAC1C,IAAI,CAAC,IAAI,CAAC,OAAO,CACjB,IAAI,CAAC,YAAY,GACjB,IAAI,CAAC,aAAa,GAClB,IAAI,CAAC,aAAa,GAClB,IAAI,CAAC,aAAa,GACnB,CAEG,EAAiB,EACrB,IAAK,IAAI,EAAE,EAAG,EAAE,EAAS,MAAM,CAAE,IAC/B,GAAkB,CAAQ,CAAC,EAAE,CAAC,MAAM,CAGtC,IAAI,EAAO,IAAI,WAAW,EAAiB,IAEvC,EAAQ,EACZ,EAAQ,AAAA,EAAa,IAAI,CAAC,SAAS,CAAE,EAAM,GAC3C,EAAQ,AAAA,EAAO,EAAiB,EAAG,IAAI,CAAC,MAAM,CAAE,EAAM,GACtD,EAAQ,AAAA,EAAa,IAAI,CAAC,MAAM,CAAE,EAAM,GACxC,IAAK,IAAI,EAAE,EAAG,EAAE,EAAS,MAAM,CAAE,IAC/B,EAAK,GAAG,CAAC,CAAQ,CAAC,EAAE,CAAE,GACtB,GAAS,CAAQ,CAAC,EAAE,CAAC,MAAM,CAE7B,OAAO,CACT,CAMA,eAAgB,CAEd,IAAI,EAAQ,EAAE,CA0Bd,OAzBA,IAAI,CAAC,YAAY,GACb,IAAI,CAAC,IAAI,CAAC,OAAO,GACnB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAG,IAAM,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAC1D,EAAQ,EAAM,MAAM,CAClB,AAAA,EAAW,IAAI,CAAC,IAAI,CAAC,OAAO,EAC5B,AAAA,EAAK,IAAM,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAE,IAAI,CAAC,MAAM,EACtD,AAAA,EAAY,IAAI,CAAC,IAAI,CAAC,WAAW,CAAE,KACnC,AAAA,EAAY,IAAI,CAAC,IAAI,CAAC,UAAU,CAAE,IAClC,AAAA,EAAY,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAE,IAC3C,AAAA,EAAY,IAAI,CAAC,IAAI,CAAC,eAAe,CAAE,IACvC,AAAA,EAAY,IAAI,CAAC,IAAI,CAAC,eAAe,CAAE,GACvC,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAE,IAAI,CAAC,MAAM,EAC5C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAE,IAAI,CAAC,MAAM,EAC5C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE,IAAI,CAAC,MAAM,EACnC,AAAA,EAAY,IAAI,CAAC,IAAI,CAAC,IAAI,CAAE,IAC5B,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,aAAa,CAAE,IAAI,CAAC,MAAM,EACzC,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,aAAa,CAAE,IAAI,CAAC,MAAM,EACzC,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAE,IAAI,CAAC,MAAM,EAC5C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAE,IAAI,CAAC,MAAM,EAChD,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAE,IAAI,CAAC,MAAM,EAChD,AAAA,EAAY,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAE,KAChC,AAAA,EACE,IAAI,CAAC,IAAI,CAAC,aAAa,CAAE,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,IAE7D,IAAI,CAAC,eAAe,CAAC,GACd,CACT,CAMA,cAAe,CACb,IAAK,IAAI,KAAQ,IAAI,CAAC,IAAI,CACxB,GAAI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IACvB,IAAI,CAAC,IAAI,CAAC,EAAK,EAAI,AAAQ,iBAAR,EAAyB,CAC9C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,OACpB,KACF,CAGA,CAAA,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,EAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,AAAF,GACxD,CAAA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,MADtB,CAGF,CAOA,eAAgB,CAEd,IAAI,EAAQ,EAAE,CACd,GAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE,CAErB,IAAI,EAAkB,AAAA,EAAW,IAAI,CAAC,IAAI,CAAC,KAAK,CAChD,CAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAG,EAAgB,MAAM,CAC5C,EAAQ,EAAM,MAAM,CAClB,AAAA,EAAW,IAAI,CAAC,IAAI,CAAC,OAAO,EAC5B,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,SAAS,CAAE,IAAI,CAAC,MAAM,EACrC,EACJ,CAEA,OADA,IAAI,CAAC,eAAe,CAAC,GACd,CACT,CAOA,eAAgB,CAEd,IAAI,EAAQ,EAAE,CAmBd,OAlBI,IAAI,CAAC,IAAI,CAAC,OAAO,EACnB,CAAA,EAAQ,EAAM,MAAM,CAClB,AAAA,EAAW,IAAI,CAAC,IAAI,CAAC,OAAO,EAC5B,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,SAAS,CAAE,IAAI,CAAC,MAAM,EACrC,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,YAAY,CAAE,IAAI,CAAC,MAAM,EACxC,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAE,IAAI,CAAC,MAAM,EACvC,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,YAAY,CAAE,IAAI,CAAC,MAAM,EACxC,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,WAAW,CAAE,IAAI,CAAC,MAAM,EACvC,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,eAAe,CAAE,IAAI,CAAC,MAAM,EAC3C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,eAAe,CAAE,IAAI,CAAC,MAAM,EAC3C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,cAAc,CAAE,IAAI,CAAC,MAAM,EAV9C,EAiBA,IAAI,CAAC,eAAe,CAAC,GACd,CACT,CAOA,cAAe,CAEb,IAAI,EAAQ,EAAE,CACd,GAAI,IAAI,CAAC,GAAG,CAAC,OAAO,CAAE,CAEpB,IAAI,EAAiB,IAAI,CAAC,kBAAkB,GAC5C,EAAQ,EAAM,MAAM,CAClB,AAAA,EAAW,IAAI,CAAC,GAAG,CAAC,OAAO,EAC3B,AAAA,EAAK,EAAe,MAAM,CAAG,EAAG,IAAI,CAAC,MAAM,EAC3C,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,WAAW,CAAE,IAAI,CAAC,MAAM,EACtC,EACJ,CAEA,OADA,IAAI,CAAC,eAAe,CAAC,GACd,CACT,CAOA,oBAAqB,CAEnB,IAAI,EAAS,EAAE,CACf,IAAK,IAAI,EAAE,EAAG,EAAE,IAAI,CAAC,GAAG,CAAC,WAAW,CAAE,IACpC,EAAS,EAAO,MAAM,CACpB,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAE,IAAI,CAAC,MAAM,EAC3C,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,UAAU,CAAE,IAAI,CAAC,MAAM,EAC/C,AAAA,EAAW,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,QAAQ,EACtC,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,CAAE,IAAI,CAAC,MAAM,EACjD,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,CAAE,IAAI,CAAC,MAAM,EACjD,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,CAAE,IAAI,CAAC,MAAM,GAEvD,OAAO,CACT,CAOA,eAAgB,CAEd,IAAI,EAAQ,EAAE,CACd,GAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE,CAErB,IAAI,EAAiB,IAAI,CAAC,kBAAkB,GAC5C,EAAQ,EAAM,MAAM,CAClB,AAAA,EAAW,IAAI,CAAC,IAAI,CAAC,OAAO,EAC5B,AAAA,EAAK,EAAe,MAAM,CAAG,GAAI,IAAI,CAAC,MAAM,EAC5C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,cAAc,CAAE,IAAI,CAAC,MAAM,EAC1C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,SAAS,CAAE,IAAI,CAAC,MAAM,EACrC,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,cAAc,CAAE,IAAI,CAAC,MAAM,EAC1C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,eAAe,CAAE,IAAI,CAAC,MAAM,EAC3C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAE,IAAI,CAAC,MAAM,EAC/C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,aAAa,CAAE,IAAI,CAAC,MAAM,EACzC,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,aAAa,CAAE,IAAI,CAAC,MAAM,EACzC,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAE,IAAI,CAAC,MAAM,EAC5C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,aAAa,CAAE,IAAI,CAAC,MAAM,EACzC,EACJ,CAEA,OADA,IAAI,CAAC,eAAe,CAAC,GACd,CACT,CAOA,oBAAqB,CAEnB,IAAI,EAAQ,EAAE,CACd,IAAK,IAAI,EAAE,EAAG,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAE,IAC1C,EAAQ,EAAM,MAAM,CAClB,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,CAAE,IAAI,CAAC,MAAM,EAC3C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,CAAE,IAAI,CAAC,MAAM,EAC3C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,CAAE,IAAI,CAAC,MAAM,EAC5C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAE,IAAI,CAAC,MAAM,EAC1C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,CAAE,IAAI,CAAC,MAAM,EAC/C,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,WAAW,CAAE,IAAI,CAAC,MAAM,GAEpD,OAAO,CACT,CAOA,eAAgB,CAEd,IAAI,EAAQ,EAAE,CAQd,OAPI,IAAI,CAAC,IAAI,CAAC,OAAO,EACnB,CAAA,EAAQ,EAAM,MAAM,CAClB,AAAA,EAAW,IAAI,CAAC,IAAI,CAAC,OAAO,EAC5B,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,SAAS,CAAE,IAAI,CAAC,MAAM,EACrC,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,cAAc,CAAE,IAAI,CAAC,MAAM,EAJ9C,EAMA,IAAI,CAAC,eAAe,CAAC,GACd,CACT,CAQA,cAAe,CAGb,GAAI,IAAI,CAAC,GAAG,CAAC,OAAO,CAAE,CAEpB,IAAI,EAAS,AAHA,EAAE,CAGO,MAAM,CAC1B,AAAA,EAAW,IAAI,CAAC,GAAG,CAAC,OAAO,EAC3B,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,SAAS,CAAE,IAAI,CAAC,MAAM,EACpC,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,WAAW,CAAE,IAAI,CAAC,MAAM,EACtC,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,WAAW,CAAE,IAAI,CAAC,MAAM,EACtC,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,UAAU,CAAE,IAAI,CAAC,MAAM,EACrC,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAE,IAAI,CAAC,MAAM,EACnC,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,UAAU,CAAE,IAAI,CAAC,MAAM,EACrC,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,aAAa,CAAE,IAAI,CAAC,MAAM,EACxC,IAAI,CAAC,qBAAqB,IAE5B,OADA,IAAI,CAAC,eAAe,CAAC,GACd,CACT,CACA,MAAM,MAAM,kCACd,CAOA,uBAAwB,CAEtB,IAAI,EAAY,EAAE,CAoBlB,OAnBI,IAAI,CAAC,GAAG,CAAC,SAAS,CAAG,IACvB,CAAA,EAAY,EAAU,MAAM,CAC1B,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,MAAM,CAAE,IAAI,CAAC,MAAM,EAFrC,EAII,IAAI,CAAC,GAAG,CAAC,SAAS,CAAG,IACvB,CAAA,EAAY,EAAU,MAAM,CAC1B,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAE,IAAI,CAAC,MAAM,EAFjD,EAII,IAAI,CAAC,GAAG,CAAC,SAAS,CAAG,IACvB,CAAA,EAAY,EAAU,MAAM,CAC1B,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,aAAa,CAAE,IAAI,CAAC,MAAM,EAF5C,EAII,IAAI,CAAC,GAAG,CAAC,SAAS,CAAG,IACvB,CAAA,EAAY,EAAU,MAAM,CAC1B,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAE,IAAI,CAAC,MAAM,EACvC,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAE,IAAI,CAAC,MAAM,EACvC,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAE,IAAI,CAAC,MAAM,EACvC,AAAA,EAAK,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAE,IAAI,CAAC,MAAM,EAL3C,EAOO,CACT,CAOA,eAAgB,CAEd,IAAI,EAAQ,EAAE,CACd,IAAK,IAAI,EAAE,EAAG,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAE,IAAK,CAErC,IAAI,EAAiB,IAAI,CAAC,sBAAsB,CAC5C,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,EAC/C,EAAQ,EAAM,MAAM,CAClB,AAAA,EAAW,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAC/B,AAAA,EAAK,EAAe,MAAM,CAAG,EAAG,IAAI,CAAC,MAAM,EAC3C,AAAA,EAAW,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,EAC9B,EACJ,CAEA,OADA,IAAI,CAAC,eAAe,CAAC,GACd,CACT,CAUA,uBAAuB,CAAS,CAAE,CAAM,CAAE,CAExC,IAAI,EAAQ,EAAE,CACd,IAAK,IAAI,EAAI,EAAG,EAAM,EAAU,MAAM,CAAE,EAAI,EAAK,IAC3C,AAAU,QAAV,EACF,EAAQ,EAAM,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAS,CAAC,EAAE,GAC9C,QAAV,GACT,CAAA,EAAQ,EAAM,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAS,CAAC,EAAE,EAD5D,EAGP,IAAI,CAAC,eAAe,CAAC,GAEvB,OAAO,CACT,CAQA,2BAA2B,CAAQ,CAAE,CAEnC,IAAI,EAAQ,EAAE,CAEV,EAAoB,AAAA,EACpB,EAAS,KAAK,CAAE,EAAS,KAAK,CAAC,MAAM,EAMzC,MADA,AAJA,CAAA,EAAQ,EAAM,MAAM,CAClB,AAAA,EAAW,EAAS,OAAO,EAC3B,AAAA,EAAK,EAAkB,MAAM,CAAG,EAAG,IAAI,CAAC,MAAM,EAC9C,EAHF,EAIM,IAAI,CAAC,GACJ,CACT,CAQA,2BAA2B,CAAQ,CAAE,CAEnC,IAAI,EAAQ,EAAE,CACd,GAAI,CAAC,OAAQ,OAAO,CAAC,OAAO,CAAC,EAAS,OAAO,EAAI,GAAI,CAEnD,IAAI,EAAoB,AAAA,EACpB,EAAS,KAAK,CACd,EAAS,KAAK,CAAC,MAAM,EAMzB,AALA,CAAA,EAAQ,EAAM,MAAM,CAClB,AAAA,EAAW,EAAS,OAAO,EAC3B,AAAA,EAAK,EAAkB,MAAM,CAAG,EAAI,EAAG,IAAI,CAAC,MAAM,EAClD,AAAA,EAAK,EAAS,MAAM,CAAE,IAAI,CAAC,MAAM,EACjC,EAJF,EAKM,IAAI,CAAC,EACb,KAA+B,QAApB,EAAS,OAAO,EACzB,CAAA,EAAQ,EAAM,MAAM,CAClB,IAAI,CAAC,kBAAkB,CAAC,GAF5B,EAIA,OAAO,CACT,CAQA,mBAAmB,CAAI,CAAE,CACvB,MAAO,EAAE,CAAC,MAAM,CACd,AAAA,EAAW,EAAK,OAAO,EACvB,AAAA,EAAK,EAAK,KAAK,CAAC,MAAM,CAAG,GAAI,IAAI,CAAC,MAAM,EACxC,AAAA,EAAK,EAAK,MAAM,CAAE,IAAI,CAAC,MAAM,EAC7B,AAAA,EAAK,EAAK,cAAc,CAAE,IAAI,CAAC,MAAM,EACrC,AAAA,EAAK,EAAK,WAAW,CAAE,IAAI,CAAC,MAAM,EAClC,AAAA,EAAK,EAAK,SAAS,CAAE,IAAI,CAAC,MAAM,EAChC,AAAA,EAAK,EAAK,UAAU,CAAE,IAAI,CAAC,MAAM,EACjC,AAAA,EAAK,EAAK,SAAS,CAAE,IAAI,CAAC,MAAM,EAChC,AAAA,EAAK,EAAK,UAAU,CAAE,IAAI,CAAC,MAAM,EAGjC,AAAA,EAAY,EAAK,KAAK,CAAE,EAAK,KAAK,CAAC,MAAM,EAC7C,CAOA,eAAgB,CAEd,IAAI,EAAQ,EAAE,CACd,GAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE,CAErB,IAAI,EAAkB,AAAA,EAAW,IAAI,CAAC,IAAI,CAAC,KAAK,CAChD,CAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAG,EAAgB,MAAM,CAC5C,EAAQ,EAAM,MAAM,CAClB,AAAA,EAAW,IAAI,CAAC,IAAI,CAAC,OAAO,EAC5B,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,SAAS,CAAE,IAAI,CAAC,MAAM,EACrC,EACJ,CAEA,OADA,IAAI,CAAC,eAAe,CAAC,GACd,CACT,CAMA,eAAgB,CAEd,IAAI,EAAQ,EAAE,QACd,AAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CACZ,EAAM,MAAM,CACjB,AAAA,EAAW,IAAI,CAAC,IAAI,CAAC,OAAO,EAC5B,AAAA,EAAK,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAE,IAAI,CAAC,MAAM,EAC5C,IAAI,CAAC,IAAI,CAAC,SAAS,GAEvB,IAAI,CAAC,eAAe,CAAC,GACd,EACT,CAQA,gBAAgB,CAAK,CAAE,CACjB,EAAM,MAAM,CAAG,GACjB,EAAM,IAAI,CAAC,EAEf,CACF,CM3dO,SAAS,EAAmB,CAAQ,CAAE,CAAI,CAAE,CAAU,QAGvD,CAAA,CAAA,EAAa,CAAA,IAAK,CAAA,AADK,EAAO,EAAnB,EAAwB,EACN,UAAA,CAInC,CPJO,MAAM,UAAwB,EAEnC,aAAc,CACZ,KAAK,GAKL,IAAI,CAAC,QAAQ,CAAG,IAKhB,IAAI,CAAC,QAAQ,CAAG,CAAC,KAAM,EAAG,GAAI,CAAA,CAAK,EAQnC,IAAI,CAAC,iBAAiB,CAAG,CACvB,EAAK,GACL,EAAK,EACL,KAAM,EACN,KAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,MAAO,EACP,GAAM,CACR,CACF,CAgBA,YAAY,CAAW,CAAE,CAAU,CAAE,CAAY,CAAE,CAAO,CAAE,CAAO,CAAE,CACnE,EAAU,GAAW,CAAC,EAEtB,IAAI,CAAC,YAAY,GACjB,IAAI,CAAC,WAAW,CAAC,EAAa,EAAY,EAAc,EAAS,EACnE,CAWA,WAAW,CAAS,CAAE,EAAQ,CAAA,CAAI,CAAE,CAClC,KAAK,CAAC,WAAW,EAAW,GAC5B,IAAI,CAAC,gBAAgB,GACrB,IAAI,CAAC,eAAe,EACtB,CAUA,UAAW,CAET,OADA,IAAI,CAAC,kBAAkB,GAChB,KAAK,CAAC,UACf,CASA,WAAW,EAAY,CAAA,CAAK,CAAE,EAAa,YAAY,CAAE,CAMvD,IAAI,EAAU,IAAI,EAChB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAI,CAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAG,CAAA,SAInD,CAFA,AAAA,EAAc,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE,IAAI,CAAC,QAAQ,CAAE,EAC9C,EAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EACzB,CAAC,GAAe,IAAI,CAAC,GAAG,CAAC,WAAW,CAAG,GAClC,AAAA,SKlFgB,CAAO,CAAE,CAAW,CAAE,EAAa,YAAY,EAE1E,IAAI,EAAe,EAAE,CACrB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAa,IAC/B,CAAY,CAAC,EAAE,CAAG,IAAI,EAAa,EAAQ,MAAM,CAAG,GAEtD,IAAK,IAAI,EAAI,EAAG,EAAI,EAAa,IAC/B,IAAK,IAAI,EAAI,EAAG,EAAI,EAAG,EAAI,EAAQ,MAAM,CAAE,GAAI,EAAa,IAC1D,CAAY,CAAC,EAAE,CAAC,EAAE,CAAG,CAAO,CAAC,EAAE,CAGnC,OAAO,CACT,ELsE0B,EAAS,IAAI,CAAC,GAAG,CAAC,WAAW,CAAE,GAE9C,CACT,CAQA,UAAU,CAAK,CAAE,CAEf,GAAI,AADJ,CAAA,GAAiB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAG,CAAA,EAC1B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAG,EAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAC3D,MAAM,AAAI,MAAM,eAElB,OAAO,AAAA,EACL,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAO,EAAQ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAG,GAC5D,IAAI,CAAC,QAAQ,CACjB,CAQA,UAAU,CAAK,CAAE,CAAM,CAAE,CAEvB,GAAI,AADJ,CAAA,GAAiB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAG,CAAA,EAC1B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAG,EAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAC3D,MAAM,AAAI,MAAM,eAElB,AAAA,EAAO,EAAQ,IAAI,CAAC,QAAQ,CAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE,EAAO,CAAA,EAC1D,CAMA,SAAU,CACR,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,AACxB,CAOA,QAAQ,CAAS,CAAE,CACjB,GAAI,AAAqB,UAArB,OAAO,EACT,MAAM,AAAI,UAAU,+BAEtB,CAAA,IAAI,CAAC,IAAI,CAAC,KAAK,CAAG,EAClB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,MACtB,CAMA,SAAU,CACR,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,AACxB,CAOA,QAAQ,CAAS,CAAE,CACjB,GAAI,AAAqB,UAArB,OAAO,EACT,MAAM,AAAI,UAAU,+BAEtB,CAAA,IAAI,CAAC,IAAI,CAAC,KAAK,CAAG,EAClB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,MACtB,CAeA,YAAY,CAAW,CAAE,CAAU,CAAE,CAAY,CAAE,CAAO,CAAE,CAAO,CAAE,CAC9D,EAAQ,SAAS,EACpB,CAAA,EAAQ,SAAS,CAAG,MADtB,EAGA,IAAI,CAAC,SAAS,CAAG,EAAQ,SAAS,CAClC,IAAI,CAAC,QAAQ,CAAG,EAChB,EAAU,AAAA,SK5Ma,CAAO,EAEhC,IAAI,EAAe,EAAE,CACrB,GAAI,EAAQ,MAAM,CAAG,GACnB,GAAI,CAAO,CAAC,EAAE,CAAC,WAAW,GAAK,OAAQ,CACrC,EAAe,IAAI,aAAa,CAAO,CAAC,EAAE,CAAC,MAAM,CAAG,EAAQ,MAAM,EAClE,IAAK,IAAI,EAAI,EAAG,EAAM,CAAO,CAAC,EAAE,CAAC,MAAM,CAAE,EAAI,EAAG,EAAI,EAAK,IACvD,IAAK,IAAI,EAAI,EAAG,EAAS,EAAQ,MAAM,CAAE,EAAI,EAAQ,IAAK,IACxD,CAAY,CAAC,EAAE,CAAG,CAAO,CAAC,EAAE,CAAC,EAAE,AAGrC,MACE,EAAe,EAGnB,OAAO,CACT,EL4LyB,GACrB,IAAI,CAAC,eAAe,GAEpB,IAAI,EAAW,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAG,CACpC,CAAA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,IAAI,WAAW,EAAQ,MAAM,CAAG,GACpD,AAAA,EAAY,EAAS,IAAI,CAAC,QAAQ,CAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE,EAAG,CAAA,GAC1D,IAAI,CAAC,cAAc,CACjB,EAAc,EAAa,EAC3B,EAAU,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAE,GACtC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAG,OACpB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAC9C,IAAI,CAAC,kBAAkB,EACzB,CAYA,eACE,CAAY,CAAE,CAAW,CAAE,CAAU,CAAE,CAAQ,CAAE,CAAa,CAAE,CAAO,CAAE,CACrE,AAAgB,KAAhB,EACF,IAAI,CAAC,kBAAkB,CACrB,EAAc,EAAa,EAAY,EAAU,EAAe,GAEzD,AAAgB,MAAhB,GAAwB,AAAgB,MAAhB,EACjC,IAAI,CAAC,sBAAsB,CACzB,EAAc,EAAa,EAAY,EAAU,EAAe,GAE1D,AAA6D,IAA7D,OAAO,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,OAAO,CAAC,IAClD,EAAc,EAChB,IAAI,CAAC,uBAAuB,CAC1B,EAAc,EAAa,EAAY,EAAU,EAAe,GAGlE,IAAI,CAAC,gBAAgB,CACnB,EAAc,EAAa,EAAY,EAAU,EAAe,EAEtE,CAYA,iBACE,CAAY,CAAE,CAAW,CAAE,CAAU,CAAE,CAAQ,CAAE,CAAa,CAAE,CAAO,CAAE,CACzE,IAAI,CAAC,SAAS,CAAG,EAAQ,SAAS,CAClC,IAAI,CAAC,SAAS,CAAG,GAAK,EACtB,IAAI,CAAC,MAAM,CAAG,OACd,IAAI,CAAC,QAAQ,CAAG,EAChB,IAAI,CAAC,GAAG,CAAG,CACT,QAAS,OACT,UAAW,GACX,YAAa,IAAI,CAAC,iBAAiB,CAAC,EAAa,EAAI,MACrD,YAAa,EACb,WAAY,EACZ,SAAW,EAAc,EAAY,EACrC,WAAY,EAAc,EAC1B,cAAe,SAAS,EAAc,IACtC,OAAQ,EACR,mBAAoB,EACpB,cAAe,EACf,UAAW,EAAE,AACf,CACF,CAYA,mBACE,CAAY,CAAE,CAAW,CAAE,CAAU,CAAE,CAAQ,CAAE,CAAa,CAAE,CAAO,CAAE,CACzE,IAAI,CAAC,gBAAgB,CACnB,EAAc,EAAa,EAAY,EAAU,EAAe,GAClE,IAAI,CAAC,SAAS,CAAG,GAAK,EACtB,IAAI,CAAC,GAAG,CAAC,SAAS,CAAG,GACrB,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAG,KACpB,IAAI,CAAC,GAAG,CAAC,UAAU,CAAG,IACtB,IAAI,CAAC,GAAG,CAAC,aAAa,CAAG,EACzB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAG,EAClB,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAG,IAC9B,IAAI,CAAC,IAAI,CAAG,CACV,QAAS,OACT,UAAW,EACX,eAAgB,AAAgB,EAAhB,CAClB,CACF,CAYA,wBACI,CAAY,CAAE,CAAW,CAAE,CAAU,CAAE,CAAQ,CAAE,CAAa,CAAE,CAAO,CAAE,KAqHzE,EApHF,IAAI,CAAC,gBAAgB,CACnB,EAAc,EAAa,EAAY,EAAU,EAAe,GAClE,IAAI,CAAC,SAAS,CAAG,GAAU,EAC3B,IAAI,CAAC,GAAG,CAAC,SAAS,CAAG,GACrB,IAAI,CAAC,GAAG,CAAC,aAAa,CAAG,AAAC,CAAA,SAAU,EAAc,IAAM,EAAK,CAAA,EAAK,EAClE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAG,GAClB,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAG,SAAS,EAAc,IACrD,IAAI,CAAC,GAAG,CAAC,aAAa,EA6GpB,EAAO,EAEP,AAAgB,IA/GsB,EAgHxC,EAAO,EAEE,AAAgB,IAlHe,EAmHxC,EAAO,EAEE,AAAgB,IArHe,EAsHxC,EAAO,GAEE,AAAgB,IAxHe,EAyHxC,EAAO,GAEkB,IA3He,GA4HxC,CAAA,EAAO,IADF,EAGA,GA3HL,IAAI,CAAC,GAAG,CAAC,SAAS,CAAG,CAAC,EAAG,QAAS,WAAY,WAAW,AAC3D,CAYA,uBACI,CAAY,CAAE,CAAW,CAAE,CAAU,CAAE,CAAQ,CAAE,CAAa,CAAE,CAAO,CAAE,CAC3E,IAAI,CAAC,gBAAgB,CACnB,EAAc,EAAa,EAAY,EAAU,EAAe,GAClE,IAAI,CAAC,SAAS,CAAG,GAAK,EACtB,IAAI,CAAC,GAAG,CAAC,SAAS,CAAG,GACrB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAG,EAClB,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAG,EAC9B,IAAI,CAAC,IAAI,CAAG,CACV,QAAS,OACT,UAAW,EACX,eAAgB,CAClB,CACF,CAMA,kBAAmB,CACb,AAAyB,IAAzB,IAAI,CAAC,GAAG,CAAC,WAAW,EAAU,AAA2B,KAA3B,IAAI,CAAC,GAAG,CAAC,aAAa,CACtD,IAAI,CAAC,QAAQ,CAAG,MACP,AAAyB,IAAzB,IAAI,CAAC,GAAG,CAAC,WAAW,CAC7B,IAAI,CAAC,QAAQ,CAAG,KACP,AAAyB,IAAzB,IAAI,CAAC,GAAG,CAAC,WAAW,CAC7B,IAAI,CAAC,QAAQ,CAAG,KAEhB,IAAI,CAAC,QAAQ,CAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,QAAQ,EAEnD,CAQA,mBAAoB,CAClB,GAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAE,CAC1C,GAAI,SAAS,IAAI,CAAC,QAAQ,CAAE,IAAM,GAC9B,AAA8B,GAA9B,SAAS,IAAI,CAAC,QAAQ,CAAE,IAC1B,MAAO,CAAA,CAET,OAAM,AAAI,MAAM,qBAClB,CACA,MAAO,CAAA,CACT,CAMA,iBAAkB,CAChB,IAAI,CAAC,QAAQ,CAAG,CACd,KAAM,AAAC,CAAA,SAAU,IAAI,CAAC,QAAQ,CAAE,IAAM,EAAK,CAAA,EAAK,EAChD,GAAI,AAAiB,OAAjB,IAAI,CAAC,QAAQ,EAAa,AAAiB,MAAjB,IAAI,CAAC,QAAQ,CAC3C,OAAQ,AAAiB,KAAjB,IAAI,CAAC,QAAQ,CACrB,GAAI,AAAkB,QAAlB,IAAI,CAAC,SAAS,AACpB,EACI,CAAC,IAAK,KAAM,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAI,KAC7C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAG,EACrB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAG,CAAA,EAE3B,CAUA,oBAAqB,KM/Za,EAAU,ENia1C,GADA,IAAI,CAAC,iBAAiB,GMhaU,ENiaP,IAAI,CAAC,GAAG,CAAC,WAAW,CMjaH,ENiaK,IAAI,CAAC,GAAG,CAAC,aAAa,CM9ZnE,EAAW,GAAK,AADH,EAAW,EAAO,EACF,MN+Z7B,MAAM,AAAI,MAAM,+BAElB,GAAI,CAAC,AAAA,EACD,IAAI,CAAC,GAAG,CAAC,WAAW,CAAE,IAAI,CAAC,GAAG,CAAC,aAAa,CAAE,IAAI,CAAC,GAAG,CAAC,UAAU,EACnE,MAAM,AAAI,MAAM,uBAEpB,CACF,CDzaO,MAAM,UAA0B,EAOrC,OAAO,CAAG,CAAE,CAEV,IAAI,EAAQ,IAAI,CAAC,YAAY,CAAC,UAC9B,AAAI,AAAc,OAAd,EAAM,GAAG,CACJ,IAAI,CAAC,IAAI,CAAC,EAAM,IAAI,CAAC,CAAC,SAAS,CAAC,EAAM,GAAG,CAAC,CAAC,KAAK,CAElD,IACT,CASA,OAAO,CAAG,CAAE,CAAK,CAAE,CACjB,EAAM,AA0GV,SAAqB,CAAG,EACtB,GAAI,EAAI,WAAW,GAAK,OACtB,MAAM,AAAI,MAAM,qBACX,GAAI,EAAI,MAAM,CAAG,EACtB,IAAK,IAAI,EAAI,EAAG,EAAM,EAAI,EAAI,MAAM,CAAE,EAAI,EAAK,IAC7C,GAAO,IAGX,OAAO,CACT,EAnHsB,GAElB,IAAI,EAAQ,IAAI,CAAC,YAAY,CAAC,EAC1B,AAAc,QAAd,EAAM,GAAG,EACX,IAAI,CAAC,IAAI,CAAC,EAAM,IAAI,CAAC,CAAC,SAAS,CAAC,EAAM,GAAG,CAAC,CAAC,SAAS,CAClD,EAAM,MAAM,CAAG,EACjB,IAAI,CAAC,IAAI,CAAC,EAAM,IAAI,CAAC,CAAC,SAAS,CAAC,EAAM,GAAG,CAAC,CAAC,KAAK,CAAG,GAC1C,AAAe,OAAf,EAAM,IAAI,CACnB,IAAI,CAAC,IAAI,CAAC,EAAM,IAAI,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CACnC,QAAS,EACT,UAAW,EAAM,MAAM,CAAG,EAC1B,MAAO,CAAK,IAEd,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CACb,QAAS,OACT,UAAW,EAAI,EAAM,MAAM,CAAG,EAC9B,OAAQ,OACR,UAAW,EAAE,AAAA,GACf,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAG,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,CAC7C,QAAS,EACT,UAAW,EAAM,MAAM,CAAG,EAC1B,MAAO,CAAK,GAElB,CAOA,UAAU,CAAG,CAAE,CAEb,IAAI,EAAQ,IAAI,CAAC,YAAY,CAAC,UAC9B,AAAkB,OAAd,EAAM,GAAG,GACX,IAAI,CAAC,IAAI,CAAC,EAAM,IAAI,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,EAAM,GAAG,CAAE,GAC3C,CAAA,EAGX,CAMA,UAAW,CAET,IAAI,EAAQ,IAAI,CAAC,YAAY,CAAC,QAE1B,EAAO,CAAC,EACZ,GAAI,AAAU,OAAV,EACF,IAAK,IAAI,EAAI,EAAG,EAAM,IAAI,CAAC,IAAI,CAAC,EAAM,CAAC,SAAS,CAAC,MAAM,CAAE,EAAI,EAAK,IAChE,CAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAM,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,CAAC,CACzC,IAAI,CAAC,IAAI,CAAC,EAAM,CAAC,SAAS,CAAC,EAAE,CAAC,KAAK,CAGzC,OAAO,CACT,CAQA,aAAa,CAAQ,CAAE,CACrB,IAAK,IAAI,EAAI,EAAG,EAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAE,EAAI,EAAK,IAC/C,GAAI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,EAAI,EACzB,OAAO,EAGX,OAAO,IACT,CAUA,aAAa,CAAG,CAAE,CAEhB,IAAI,EAAQ,CAAC,KAAM,KAAM,IAAK,IAAI,EAClC,IAAK,IAAI,EAAI,EAAG,EAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAE,EAAI,EAAK,IAC/C,GAAI,AAAuB,QAAvB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAY,CACjC,EAAM,IAAI,CAAG,EACb,IAAK,IAAI,EAAE,EAAG,EAAS,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAE,EAAI,EAAQ,IAChE,GAAI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,EAAI,EAAK,CAC5C,EAAM,GAAG,CAAG,EACZ,KACF,CAEF,KACF,CAEF,OAAO,CACT,CACF,CD1HO,MAAM,UAA0B,EAyBrC,eAAgB,CAEd,IAAI,EAAS,IAAI,CAAC,aAAa,GAC/B,IAAK,IAAI,EAAI,EAAG,EAAM,EAAO,MAAM,CAAE,EAAI,EAAK,IAG5C,CAAM,CAAC,EAAE,CAAC,QAAQ,CACf,CAAM,CAAC,EAAE,CAAC,cAAc,CAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAI,IAIjD,CAAM,CAAC,EAAE,CAAC,cAAc,EAC1B,CAAM,CAAC,EAAE,CAAC,GAAG,CACV,CAAM,CAAC,EAAE,CAAC,cAAc,CAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAI,IACrD,CAAM,CAAC,EAAE,CAAC,GAAG,EAAI,CAAM,CAAC,EAAE,CAAC,QAAQ,EAGnC,CAAM,CAAC,EAAE,CAAC,GAAG,CAAG,KAIlB,OAAO,CAAM,CAAC,EAAE,CAAC,KAAK,CAExB,OAAO,CACT,CAiCA,YAAY,CAAS,CAAE,CACrB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAG,OAGd,EAAU,KAAK,EAClB,CAAA,EAAU,KAAK,CAAG,EADpB,EASA,IAAI,EAAiB,IAAI,CAAC,aAAa,GAKvC,IAAI,CAAC,cAAc,GAInB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAG,EAAE,CAOpB,EAAU,cAAc,CACrB,EAAU,QAAQ,CAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAI,IAQ/C,EAAU,cAAc,CAAG,EACvB,EAAU,GAAG,EACf,CAAA,EAAU,cAAc,CACpB,EAAU,GAAG,CAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAI,IACzC,EAAU,cAAc,AAAd,EAKV,AAA0B,IAA1B,EAAe,MAAM,CACvB,IAAI,CAAC,YAAY,CAAC,EAAW,GAK7B,IAAI,CAAC,mBAAmB,CAAC,EAAgB,GAE3C,IAAI,CAAC,GAAG,CAAC,WAAW,CAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,AAC/C,CAOA,eAAe,CAAK,CAAE,CACpB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAG,OAEnB,IAAI,EAAiB,IAAI,CAAC,aAAa,GACvC,IAAI,CAAC,cAAc,GAEnB,IAAI,EAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,AAChC,CAAA,IAAI,CAAC,GAAG,CAAC,MAAM,CAAG,EAAE,CACpB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAK,IACnB,EAAI,IAAM,GACZ,IAAI,CAAC,YAAY,CAAC,CAAc,CAAC,EAAE,CAAE,EAAI,EAG7C,CAAA,IAAI,CAAC,GAAG,CAAC,WAAW,CAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CACzC,IAAI,CAAC,GAAG,CAAC,WAAW,CACtB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAG,QAEnB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAG,GACnB,IAAI,CAAC,cAAc,GAEvB,CAOA,YAAY,CAAU,CAAE,CAAK,CAAE,CAE7B,IAAI,EAAS,IAAI,CAAC,YAAY,CAAC,QAC/B,GAAI,AAAW,OAAX,EACF,IAAK,IAAI,EAAI,EAAG,EAAM,IAAI,CAAC,IAAI,CAAC,EAAO,CAAC,SAAS,CAAC,MAAM,CAAE,EAAI,EAAK,IAC7D,IAAI,CAAC,IAAI,CAAC,EAAO,CAAC,SAAS,CAAC,EAAE,CAAC,MAAM,EACrC,GACF,CAAA,IAAI,CAAC,IAAI,CAAC,EAAO,CAAC,SAAS,CAAC,EAAE,CAAC,KAAK,CAAG,CAH3C,CAOJ,CAQA,eAAgB,CAEd,IAAI,EAAS,EAAE,CACf,IAAK,IAAI,EAAI,EAAG,EAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAE,IAAK,CAE/C,IAAI,EAAQ,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAE1B,EAAY,IAAI,CAAC,mBAAmB,CAAC,EAAM,MAAM,CACrD,CAAA,EAAU,KAAK,CAAG,EAAU,KAAK,CAAG,EAAU,KAAK,CAAG,GACtD,EAAU,UAAU,CAAG,EAAM,UAAU,CACvC,EAAU,QAAQ,CAAG,EAAM,QAAQ,CACnC,EAAU,YAAY,CAAG,EAAM,YAAY,CAC3C,EAAU,YAAY,CAAG,EAAM,YAAY,CAC3C,EAAU,cAAc,CAAG,EAAM,cAAc,CAC/C,EAAO,IAAI,CAAC,EACd,CACA,OAAO,CACT,CAQA,oBAAoB,CAAW,CAAE,CAE/B,IAAI,EAAY,IAAI,CAAC,YAAY,CAAC,QAE9B,EAAY,CAAC,EAMjB,OAHkB,OAAd,GACF,IAAI,CAAC,mBAAmB,CAAC,EAAW,EAAW,GAE1C,CACT,CASA,oBAAoB,CAAS,CAAE,CAAK,CAAE,CAAW,CAAE,CAGjD,IAAK,IAAI,EAAI,EAAG,EAAM,IAAI,CAAC,IAAI,CAAC,EAAM,CAAC,SAAS,CAAC,MAAM,CAAE,EAAI,EAAK,IAChE,GAAI,IAAI,CAAC,IAAI,CAAC,EAAM,CAAC,SAAS,CAAC,EAAE,CAAC,MAAM,EAAI,EAAa,CAEvD,IAAI,EAAQ,IAAI,CAAC,IAAI,CAAC,EAAM,CAAC,SAAS,CAAC,EAAE,AAQzC,CAAA,EAAU,KAAK,CAAG,EAAM,KAAK,EAAI,EAAU,KAAK,CAChD,EAAU,MAAM,CAAG,EAAM,MAAM,EAAI,EACnC,EAAU,cAAc,CAAG,EAAM,cAAc,EAAI,EACnD,EAAU,WAAW,CAAG,EAAM,WAAW,EAAI,EAC7C,EAAU,SAAS,CAAG,EAAM,SAAS,EAAI,EACzC,EAAU,UAAU,CAAG,EAAM,UAAU,EAAI,EAC3C,EAAU,SAAS,CAAG,EAAM,SAAS,EAAI,EACzC,EAAU,UAAU,CAAG,EAAM,UAAU,EAAI,CAC7C,CAEJ,CAQA,aAAa,CAAS,CAAE,CAAM,CAAE,CAC9B,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CACnB,OAAQ,EACR,WAAY,EAAU,UAAU,CAAG,EAAU,UAAU,CAAG,EAC1D,SAAU,EAAU,QAAQ,CAAG,EAAU,QAAQ,CAAG,OACpD,aAAc,EAAU,YAAY,CAAG,EAAU,YAAY,CAAG,EAChE,aAAc,EAAU,YAAY,CAAG,EAAU,YAAY,CAAG,EAChE,eAAgB,EAAU,cAAc,AAC1C,GACA,IAAI,CAAC,QAAQ,CAAC,EAAW,EAC3B,CAQA,oBAAoB,CAAc,CAAE,CAAS,CAAE,CAE7C,IAAI,EAAS,CAAA,EAIb,IAAK,IAAI,EAAI,EAAG,EAAI,EAAe,MAAM,CAAE,IAKrC,CAAc,CAAC,EAAE,CAAC,cAAc,CAClC,EAAU,cAAc,EAAI,CAAC,GAE7B,IAAI,CAAC,YAAY,CAAC,EAAW,EAAI,GAGjC,IAAI,CAAC,YAAY,CAAC,CAAc,CAAC,EAAE,CAAE,EAAI,GACzC,EAAS,CAAA,GAIT,IAAI,CAAC,YAAY,CAAC,CAAc,CAAC,EAAE,CAAE,EAAS,EAAI,EAAI,EAAI,GAKzD,GACH,IAAI,CAAC,YAAY,CAAC,EAAW,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAG,EAE1D,CAMA,gBAAiB,CACf,IAAK,IAAI,EAAI,EAAG,EAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAE,EAAI,EAAK,IACpB,QAAvB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,EACrB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAGvB,CAUA,SAAS,CAAS,CAAE,CAAM,CAAE,CAM1B,IAAI,EAAY,IAAI,CAAC,YAAY,CAAC,OAEhB,QAAd,IAEF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CACb,QAAS,OACT,UAAW,EACX,OAAQ,OACR,UAAW,EAAE,AAAA,GAEf,EAAY,IAAI,CAAC,IAAI,CAAC,MAAM,CAAG,GAEjC,IAAI,CAAC,aAAa,CAAC,EAAW,EAAW,GACrC,EAAU,cAAc,EAC1B,IAAI,CAAC,aAAa,CAAC,EAAW,EAAW,EAE7C,CASA,cAAc,CAAS,CAAE,CAAS,CAAE,CAAM,CAAE,CAC1C,IAAI,CAAC,IAAI,CAAC,EAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAClC,QAAS,OACT,UAAW,EACX,OAAQ,EACR,MAAO,EAAU,KAAK,AACxB,GACA,IAAI,CAAC,IAAI,CAAC,EAAU,CAAC,SAAS,EAAI,EACpC,CAQA,cAAc,CAAS,CAAE,CAAS,CAAE,CAAM,CAAE,CAC1C,IAAI,CAAC,IAAI,CAAC,EAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAClC,QAAS,OACT,UAAW,GACX,OAAQ,EACR,eAAgB,EAAU,cAAc,CACxC,YAAa,EAAU,WAAW,EAAI,EACtC,UAAW,EAAU,SAAS,EAAI,EAClC,WAAY,EAAU,UAAU,EAAI,EACpC,UAAW,EAAU,SAAS,EAAI,EAClC,WAAY,EAAU,UAAU,EAAI,EACpC,MAAO,EAAU,KAAK,AACxB,GACA,IAAI,CAAC,IAAI,CAAC,EAAU,CAAC,SAAS,EAAI,EACpC,CACF,CWjZO,MAAM,EAOX,YAAY,CAAS,CAAE,CAAO,CAAE,CAAO,CAAE,KAwJtB,CAnJjB,CAAA,IAAI,CAAC,OAAO,CAAG,EAKf,IAAI,CAAC,YAAY,CAAG,AAAC,CAAA,EAAY,CAAA,EAAK,EAKtC,IAAI,CAAC,WAAW,CAAG,IAAI,CAAC,IAAI,CACxB,AAAmB,UAAnB,EAAQ,MAAM,CACjB,IAAI,CAAC,WAAW,CAAG,IAAI,CAAC,KAAK,CACpB,AAAmB,WAAnB,EAAQ,MAAM,CACvB,IAAI,CAAC,WAAW,CAAG,IAAI,CAAC,MAAM,CACF,UAAnB,EAAQ,MAAM,EACvB,CAAA,IAAI,CAAC,WAAW,CAAG,IAAI,CAAC,KAAK,AAAL,EAMzB,IAAI,CAAC,cAAc,CAAG,EAAI,KAAK,GAAG,CAAC,EAAG,KAAK,GAAG,CAAC,EAAG,EAAQ,OAAO,EAAI,IAMrE,IAAI,CAAC,eAAe,CAAG,EAAQ,cAAc,EAAI,EAKjD,IAAI,CAAC,OAAO,EAkHK,EAlHU,EAAQ,UAAU,EAAI,GAmH5C,SAAS,CAAC,EAAI,MAAO,AAS5B,CAAA,AAAI,AAAM,IATwB,EAUzB,EAEF,KAAK,GAAG,CAAC,KAAK,EAAE,CAZW,GAYF,CAAA,KAAK,EAAE,CAZL,CAYQ,CAH1C,EATuC,EAAO,EAAI,EAlHlD,CAOA,MAAM,CAAC,CAAE,CAAO,CAAE,CAChB,OAAO,IAAI,CAAC,gBAAgB,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,YAAY,CAAG,GAAI,EAClE,CAOA,OAAO,CAAC,CAAE,CAAO,CAAE,CAGjB,IAAI,EAAI,KAAK,KAAK,CAFlB,EAAI,IAAI,CAAC,YAAY,CAAG,GAIxB,MAAQ,AAAA,CAAA,EADR,CAAA,GAAK,CAAA,CACO,EACX,IAAI,CAAC,gBAAgB,CAAC,EAAG,GAAW,EACpC,IAAI,CAAC,gBAAgB,CAAC,EAAI,EAAG,EAChC,CAOA,MAAM,CAAC,CAAE,CAAO,CAAE,CAGhB,IAAI,EAAI,KAAK,KAAK,CAFlB,EAAI,IAAI,CAAC,YAAY,CAAG,GAIpB,EAAI,CAAC,IAAI,CAAC,WAAW,CAAC,EAAG,GAAU,IAAI,CAAC,WAAW,CAAC,EAAI,EAAG,GAAS,CAEpE,EAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAG,GAChC,IAAI,CAAC,gBAAgB,CAAC,EAAI,EAAG,GAAS,CAGpC,EAAK,AAFT,CAAA,GAAK,CAAA,EAEQ,EAET,EAAK,EAAI,EACb,MAAQ,AAAA,CAAA,EAAI,EAAK,EAAI,EAAK,CAAA,EACxB,CAAC,CAAC,EAAE,CAAI,AAAA,CAAA,EAAK,EAAI,EAAK,CAAA,EACtB,CAAC,CAAC,EAAE,CAAI,AAAA,CAAA,GAAK,EAAK,EAAI,CAAA,EACtB,CAAC,CAAC,EAAE,CAAI,AAAA,CAAA,EAAK,CAAA,EAAM,CAAC,CAAC,EAAE,AAC3B,CAOA,KAAK,CAAC,CAAE,CAAO,CAAE,CAGf,IAAI,EAAI,KAAK,KAAK,CAFlB,EAAI,IAAI,CAAC,YAAY,CAAG,GAIpB,EAAM,EAAI,IAAI,CAAC,eAAe,CAAG,EAEjC,EAAO,EAAI,IAAI,CAAC,eAAe,CAE/B,EAAM,EACV,IAAK,IAAI,EAAI,EAAK,GAAK,EAAM,IAC3B,GAAO,IAAI,CAAC,OAAO,CAAC,EAAI,GAAK,IAAI,CAAC,gBAAgB,CAAC,EAAG,GAExD,OAAO,CACT,CAQA,YAAY,CAAC,CAAE,CAAO,CAAE,CACtB,OAAO,IAAI,CAAC,cAAc,CACvB,CAAA,IAAI,CAAC,gBAAgB,CAAC,EAAI,EAAG,GAC5B,IAAI,CAAC,gBAAgB,CAAC,EAAI,EAAG,EAAA,EAAY,CAC/C,CAQA,iBAAiB,CAAC,CAAE,CAAO,CAAE,QAC3B,AAAK,GAAK,GAAK,EAAI,IAAI,CAAC,OAAO,CACtB,CAAO,CAAC,EAAE,CAEZ,CACT,CACF,CAQA,SAAS,GAAQ,CAAC,EAChB,OAAO,KAAK,GAAG,CAAC,CAAC,EAAI,EAAI,EAAI,EAC/B,CDpJA,IAAM,GAAkB,CACtB,MAAS,CAAA,EACT,OAAU,CAAA,EACV,MAAS,CAAA,EACT,KAAQ,CAAA,CACV,EAQM,GAAoB,CACxB,IAAO,GACP,IAAO,EACT,EAQM,GAAc,CAClB,IG9BK,MAOL,YAAY,CAAK,CAAE,CAAU,CAAE,CAAM,CAAE,CAErC,IAAI,EAAU,EAAE,CAChB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAO,IACzB,EAAQ,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAC3B,GAAI,EACJ,GAAI,EACJ,EAAG,GAAO,KAAK,GAAG,CAAE,KAAK,EAAE,CAAI,CAAA,AAAQ,EAAR,CAAQ,EAAO,CAAA,EAAI,EAAA,EACpD,GAEF,CAAA,IAAI,CAAC,MAAM,CAAG,EAAE,CAChB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAQ,MAAM,CAAE,IAClC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAG,CACf,GAAK,CAAO,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CACpB,GAAK,CAAO,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CACpB,GAAK,CAAO,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CACpB,GAAK,CAAO,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CACpB,GAAK,CAAO,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CACpB,EAAI,CAAO,CAAC,EAAE,CAAC,CAAC,CAChB,EAAI,CAAC,EAAG,EAAE,AACZ,CAEJ,CAMA,OAAO,CAAM,CAAE,CAEb,IAAI,EAAM,EACV,IAAK,IAAI,EAAI,EAAG,EAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAE,EAAI,EAAK,IACjD,EAAM,IAAI,CAAC,SAAS,CAAC,EAAG,GAE1B,OAAO,CACT,CAMA,WAAW,CAAM,CAAE,CAEjB,IAAI,EAAS,CAAC,CACd,CAAA,EAAO,CAAC,CAAG,EAAE,CACb,EAAO,CAAC,CAAG,EAAE,CAEb,IAAI,EAAI,IAAI,CAAC,QAAQ,CAAC,EAAQ,GAK9B,OAJA,EAAO,CAAC,CAAG,EACX,EAAO,CAAC,CAAC,IAAI,CAAE,AAAA,CAAA,EAAI,EAAE,EAAC,AAAD,EAAO,CAAA,EAAI,EAAE,EAAE,AAAF,GAClC,EAAO,CAAC,CAAC,IAAI,CAAC,EAAI,EAAO,CAAC,CAAC,EAAE,EAC7B,EAAO,CAAC,CAAC,IAAI,CAAC,EAAO,CAAC,CAAC,EAAE,EAClB,CACT,CAOA,SAAS,CAAM,CAAE,CAAM,CAAE,CAEvB,IAAI,EAAM,CAAC,EAEP,EAAI,EAAI,KAAK,EAAE,CAAG,EAAO,EAAE,CAAG,EAAO,EAAE,CAQ3C,OAPA,EAAI,KAAK,CAAG,KAAK,GAAG,CAAC,GAAM,CAAA,EAAI,EAAO,CAAA,AAAA,EACtC,EAAI,EAAE,CAAG,KAAK,GAAG,CAAC,GAClB,EAAI,EAAE,CAAG,EAAI,EAAI,KAAK,CACtB,EAAO,EAAE,CAAG,EAAI,EAAE,CAClB,EAAO,CAAC,CAAC,IAAI,CAAE,GAAK,EAAI,EAAE,CAAI,EAAI,EAAE,EACpC,EAAO,CAAC,CAAG,EACX,EAAO,CAAC,CAAC,IAAI,CAAC,AAAC,CAAA,EAAI,EAAI,KAAI,AAAJ,EAAS,EAAI,EAAE,EAC/B,CACT,CAOA,UAAU,CAAC,CAAE,CAAM,CAAE,CAEnB,IAAI,EAAO,EAAS,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CACtD,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAE3D,EAAM,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAG,EAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CACpD,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAG/D,OAFA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CACzC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAG,EACf,CACT,CAKA,OAAQ,CACN,IAAK,IAAI,EAAI,EAAG,EAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAE,IACtC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAG,CAAC,EAAG,EAAE,AAE7B,CACF,EH5EE,IE/BK,MAOL,YAAY,CAAK,CAAE,CAAU,CAAE,CAAM,CAAE,CAErC,IAAI,EAAQ,EAAI,KAAK,EAAE,CAAG,EAAS,EAE/B,EAAK,CACT,CAAA,IAAI,CAAC,OAAO,CAAG,EAAE,CACjB,IAAK,IAAI,EAAI,EAAG,GAAK,EAAO,IACtB,EAAI,EAAQ,GAAM,EACpB,IAAI,CAAC,OAAO,CAAC,EAAE,CAAG,GAElB,IAAI,CAAC,OAAO,CAAC,EAAE,CAAG,KAAK,GAAG,CAAC,EAAS,CAAA,EAAI,EAAQ,CAAA,GAAO,CAAA,EAAI,EAAQ,CAAA,EAEnE,IAAI,CAAC,OAAO,CAAC,EAAE,EAAK,IAAO,IAAO,KAAK,GAAG,CAAC,EAAI,KAAK,EAAE,CAAG,EAAI,IAE/D,GAAU,IAAI,CAAC,OAAO,CAAC,EAAE,CAG3B,IAAK,IAAI,EAAI,EAAG,GAAK,EAAO,IAC1B,IAAI,CAAC,OAAO,CAAC,EAAE,EAAI,CAErB,CAAA,IAAI,CAAC,CAAC,CAAG,IAAI,CAAC,MAAM,EACtB,CAMA,OAAO,CAAM,CAAE,CACb,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAG,EAE7B,IAAI,EAAM,EACV,IAAK,IAAI,EAAI,EAAG,EAAM,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAE,EAAI,EAAK,IAChD,GACE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAG,IAAI,CAAC,CAAC,CAAC,GAAG,CAAE,AAAA,CAAA,IAAI,CAAC,CAAC,CAAC,OAAO,CAAG,CAAA,EAAK,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAG1E,OADA,IAAI,CAAC,CAAC,CAAC,OAAO,CAAG,AAAC,CAAA,IAAI,CAAC,CAAC,CAAC,OAAO,CAAG,CAAA,EAAM,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CACnD,CACT,CAKA,OAAQ,CACN,IAAI,CAAC,CAAC,CAAG,IAAI,CAAC,MAAM,EACtB,CAMA,QAAS,CAEP,IAAI,EAAI,EAAE,CACV,IAAK,IAAI,EAAI,EAAG,EAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAG,EAAG,IAC3C,EAAE,IAAI,CAAC,GAET,MAAO,CACL,IAAK,EACL,QAAS,CACX,CACF,CACF,CFpCA,EAUO,SAAS,GAAS,CAAO,CAAE,CAAa,CAAE,CAAU,CAAE,EAAQ,IAAI,EACvE,EAAU,GAAW,CAAC,EAGtB,IAAI,EAAS,AAAA,CAAA,EAAa,CAAA,EAAiB,EAAiB,EAExD,EAAa,IAAI,aAAa,EAAQ,MAAM,CAAI,EAEpD,CAAA,EAAQ,MAAM,CAAG,EAAQ,MAAM,EAAI,QAEnC,IAAI,EAAe,IAAI,EACrB,EAAQ,MAAM,CACd,EAAW,MAAM,CACjB,CACE,OAAQ,EAAQ,MAAM,CACtB,QAAS,EAAQ,OAAO,EAAI,EAC5B,eAAgB,EAAQ,cAAc,EAAI,EAC1C,WAAY,EAAQ,UAAU,EAAI,KAAA,EAClC,KAAM,EAAQ,IAAI,EAAI,QACxB,GAKF,GAHoB,KAAA,IAAhB,EAAQ,GAAG,EACb,CAAA,EAAQ,GAAG,CAAG,EAAe,CAAC,EAAQ,MAAM,CAAC,AAAD,EAE1C,EAAQ,GAAG,CAAE,CACf,EAAQ,OAAO,CAAG,EAAQ,OAAO,EAAI,MACrC,IAAM,EAAM,EAAW,CAAC,EAAQ,OAAO,CAAC,AAEpC,CAAA,EAAa,EAMf,AAyCN,SAAmB,CAAO,CAAE,CAAU,CAAE,CAAY,CAAE,CAAM,EAE1D,IAAK,IAAI,EAAI,EAAG,EAAM,EAAW,MAAM,CAAE,EAAI,EAAK,IAChD,CAAU,CAAC,EAAE,CAAG,EAAO,MAAM,CAAC,EAAa,WAAW,CAAC,EAAG,IAG5D,EAAO,KAAK,GACZ,IAAK,IAAI,EAAI,EAAW,MAAM,CAAG,EAAG,GAAK,EAAG,IAC1C,CAAU,CAAC,EAAE,CAAI,EAAO,MAAM,CAAC,CAAU,CAAC,EAAE,CAEhD,EAlDQ,EAAS,EAAY,EALV,IAAI,EACf,EAAQ,QAAQ,EAAI,EAAiB,CAAC,EAAQ,OAAO,CAAC,CACtD,EACC,EAAgB,IAUnB,AAoDN,SAAqB,CAAO,CAAE,CAAU,CAAE,CAAY,CAAE,CAAM,EAE5D,IAAK,IAAI,EAAI,EAAG,EAAM,EAAQ,MAAM,CAAE,EAAI,EAAK,IAC7C,CAAO,CAAC,EAAE,CAAI,EAAO,MAAM,CAAC,CAAO,CAAC,EAAE,EAGxC,EAAO,KAAK,GACZ,IAAK,IAAI,EAAI,EAAQ,MAAM,CAAG,EAAG,GAAK,EAAG,IACvC,CAAO,CAAC,EAAE,CAAI,EAAO,MAAM,CAAC,CAAO,CAAC,EAAE,EAGxC,GAAU,EAAS,EAAY,EACjC,EA/DQ,EAAS,EAAY,EALV,IAAI,EACf,EAAQ,QAAQ,EAAI,EAAiB,CAAC,EAAQ,OAAO,CAAC,CACtD,EACA,EAAa,GAKnB,MACE,GAAU,EAAS,EAAY,GAEjC,OAAO,CACT,CASA,SAAS,GAAU,CAAO,CAAE,CAAU,CAAE,CAAY,EAElD,IAAK,IAAI,EAAI,EAAG,EAAM,EAAW,MAAM,CAAE,EAAI,EAAK,IAChD,CAAU,CAAC,EAAE,CAAG,EAAa,WAAW,CAAC,EAAG,EAEhD,CpBlGO,MAAM,WAA0B,EAKrC,QAAS,CAEP,IAAI,EAAS,IAAI,aACf,GAAY,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAG,IAC7D,AAAA,EAAc,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE,IAAI,CAAC,QAAQ,CAAE,EAC9C,EAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAC7B,IAAI,CAAC,aAAa,CAChB,IAAI,CAAC,GAAG,CAAC,WAAW,CACpB,IAAI,CAAC,GAAG,CAAC,UAAU,CACnB,IAAI,CAAC,QAAQ,CACb,EACA,CAAC,UAAW,MAAM,EACtB,CAKA,QAAS,CAEP,IAAI,EAAS,IAAI,aACf,GAAY,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAG,IAC7D,AAAA,EAAc,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE,IAAI,CAAC,QAAQ,CAAE,EAC9C,EAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAC7B,IAAI,CAAC,aAAa,CAChB,IAAI,CAAC,GAAG,CAAC,WAAW,CACpB,IAAI,CAAC,GAAG,CAAC,UAAU,CACnB,IAAI,CAAC,QAAQ,CACb,EACA,CAAC,UAAW,MAAM,EACtB,CAOA,YAAa,CACX,GAAI,AAAwB,MAAxB,IAAI,CAAC,GAAG,CAAC,UAAU,CACrB,MAAM,AAAI,MACR,sDACG,GAAI,AAAyB,IAAzB,IAAI,CAAC,GAAG,CAAC,WAAW,CAC7B,MAAM,AAAI,MACR,kDACG,EACL,IAAI,CAAC,YAAY,GAEjB,IAAI,EAAS,IAAI,WACf,GAAY,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAE,IACxC,AAAA,EAAc,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE,IAAI,CAAC,QAAQ,CAAE,EAC9C,EAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAC7B,IAAI,CAAC,aAAa,CAChB,IAAI,CAAC,GAAG,CAAC,WAAW,CACpB,IAAI,CAAC,GAAG,CAAC,UAAU,CACnB,IACA,AExCD,SAAgB,CAAO,EAE5B,IAAI,EAAQ,CACV,MAAO,EACP,UAAW,EACX,KAAM,CACR,EAEI,EAAe,IAAI,WAAY,EAAQ,MAAM,EAE7C,EAAQ,EAAE,CAEV,EAAY,EAEZ,EAAa,EACjB,IAAK,IAAI,EAAI,EAAG,EAAM,EAAQ,MAAM,CAAE,EAAI,EAAK,IACxC,EAAI,KAAO,GAAK,AAAK,GAAL,IACnB,EAAa,GAAG,CAAC,AAmDvB,SAAqB,CAAK,CAAE,CAAK,EAE/B,IAAI,EAAe,AA8KrB,SAAoB,CAAM,CAAE,CAAK,EAC/B,EAAc,EAAQ,GAEtB,IAAI,EAAe,EAAE,CAKrB,OAJA,EAAa,IAAI,CAAC,AAAS,IAAT,GAClB,EAAa,IAAI,CAAC,GAAW,EAAK,KAClC,EAAa,IAAI,CAAC,EAAM,KAAK,EAC7B,EAAa,IAAI,CAAC,GACX,CACT,EAvLgC,CAAK,CAAC,EAAE,CAAE,GACxC,IAAK,IAAI,EAAI,EAAG,EAAM,EAAM,MAAM,CAAE,EAAI,EAAK,GAAG,EAAG,CAEjD,IAAI,EAAU,EAAc,CAAK,CAAC,EAAE,CAAE,GAElC,EAAS,EAAc,CAAK,CAAC,EAAI,EAAE,CAAE,GACzC,EAAa,IAAI,CAAC,GAAW,EAAK,EACpC,CACA,OAAO,CACT,EA9DmC,EAAO,GAAQ,GAC5C,GAAa,IACb,EAAQ,EAAE,CACV,KAEF,EAAM,IAAI,CAAC,CAAO,CAAC,EAAE,EAEvB,IAAI,EAAgB,EAAQ,MAAM,CAAG,EAIrC,OAHI,EAAgB,GAClB,IAEK,EAAa,KAAK,CAAC,EAAG,EAAgB,IAAM,AAAa,EAAb,EACrD,EFWwB,GAChB,CAAC,UAAW,IAAI,CAAC,iBAAiB,EAAE,EACxC,CACF,CAOA,aAAa,EAAa,IAAI,CAAE,CAC9B,IAAI,CAAC,aAAa,CAChB,IAAI,CAAC,GAAG,CAAC,WAAW,CACpB,IAAI,CAAC,GAAG,CAAC,UAAU,CACnB,KACA,AElBC,SAAgB,CAAY,CAAE,EAAW,GAAG,EAEjD,IAAI,EAAQ,CACV,MAAO,EACP,UAAW,EACX,KAAM,CACR,EAEI,EAAU,IAAI,WAAW,AAAsB,EAAtB,EAAa,MAAM,EAE5C,EAAQ,EAAE,CAEV,EAAY,EAChB,IAAK,IAAI,EAAI,EAAG,EAAM,EAAa,MAAM,CAAE,EAAI,EAAK,IAAK,CACvD,GAAI,EAAI,GAAc,GAAK,AAAK,GAAL,EAAQ,CACjC,IAAI,EAAU,AAmCpB,SAAqB,CAAK,CAAE,CAAK,MA4BlB,CA3Bb,CAAA,EAAM,SAAS,CA4BR,CADM,EA3BY,CAAK,CAAC,EAAE,EAAI,EAAK,CAAK,CAAC,EAAE,EA4BrC,MAAQ,EAAM,MAAQ,EA3BnC,EAAM,KAAK,CAAG,CAAK,CAAC,EAAE,CACtB,EAAM,IAAI,CAAG,CAAU,CAAC,EAAM,KAAK,CAAC,CAEpC,IAAI,EAAS,CACT,EAAM,SAAS,CACf,EAAM,SAAS,CAChB,CACH,IAAK,IAAI,EAAI,EAAG,EAAM,EAAM,MAAM,CAAE,EAAI,EAAK,IAAK,CAEhD,IAAI,EAAkB,CAAK,CAAC,EAAE,CAE1B,EAAgB,GAAmB,EAEnC,EAAe,GAAkB,EAAK,EAC1C,EAAO,IAAI,CAAC,EAAc,EAAc,IACxC,EAAO,IAAI,CAAC,EAAc,EAAe,GAC3C,CACA,OAAO,CACT,EAvDgC,EAAO,GACjC,EAAQ,GAAG,CAAC,EAAS,GACrB,GAAa,EAAQ,MAAM,CAC3B,EAAQ,EAAE,AACZ,CACA,EAAM,IAAI,CAAC,CAAY,CAAC,EAAE,CAC5B,CACA,OAAO,CACT,EFLsB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE,IAAI,CAAC,GAAG,CAAC,UAAU,EACtD,CAAC,UAAW,IAAI,CAAC,iBAAiB,EAAE,GAClB,MAAhB,GACF,IAAI,CAAC,UAAU,CAAC,EAEpB,CAKA,QAAS,CACP,IAAI,CAAC,YAAY,GAEjB,IAAI,EAAS,IAAI,WACf,GAAY,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAE,IACxC,AAAA,EAAc,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE,IAAI,CAAC,QAAQ,CAAE,EAC5C,EAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAC/B,IAAI,CAAC,aAAa,CAChB,IAAI,CAAC,GAAG,CAAC,WAAW,CACpB,IAAI,CAAC,GAAG,CAAC,UAAU,CACnB,KACA,AGnCC,SAAgB,CAAO,EAE5B,IAAI,EAAc,IAAI,WAAW,EAAQ,MAAM,EAC/C,IAAK,IAAI,EAAI,EAAG,EAAM,EAAQ,MAAM,CAAE,EAAI,EAAK,IAC7C,CAAW,CAAC,EAAE,CAAG,AA7Dd,SAAsB,CAAM,MAE7B,EAGJ,IAAI,EAAO,CAFX,CAAA,EAAS,AAAU,QAAV,EAAoB,OAAS,CAAtC,GAEyB,EAAK,IAO9B,GANK,GACH,CAAA,GAAkB,EADpB,EAGI,EAAS,OACX,CAAA,EAAS,KADX,EAGI,GAAU,IAAM,CAElB,IAAI,EAAW,CAAS,CAAE,GAAU,EAAK,IAAK,CAE1C,EAAW,GAAY,EAAW,EAAO,GAC7C,EAAmB,GAAY,EAAK,CACtC,MACE,EAAiB,GAAU,EAE7B,OAAO,AAAyB,GAAP,EAAlB,CACT,EAuCkC,CAAO,CAAC,EAAE,EAE1C,OAAO,CACT,EH4BkB,GACZ,CAAC,UAAW,IAAI,CAAC,iBAAiB,EAAE,EACxC,CAOA,SAAS,EAAa,IAAI,CAAE,CAC1B,IAAI,CAAC,aAAa,CAChB,IAAI,CAAC,GAAG,CAAC,WAAW,CACpB,IAAI,CAAC,GAAG,CAAC,UAAU,CACnB,KACA,AGnCC,SAAgB,CAAO,EAE5B,IAAI,EAAa,IAAI,WAAW,EAAQ,MAAM,EAC9C,IAAK,IAAI,EAAI,EAAG,EAAM,EAAQ,MAAM,CAAE,EAAI,EAAK,IAC7C,CAAU,CAAC,EAAE,CAAG,AA9Cb,SAAsB,CAAU,EAErC,IAAI,EAAO,EAEN,CAAA,AAAa,IADlB,CAAA,GAAc,EAAd,CACkB,GAAU,IAC1B,GAAc,KACd,EAAO,IAGT,IAAI,EAAY,AAAC,CAAA,AAAA,CAAA,AAAa,IAAb,CAAa,GAAS,CAAA,EAAK,EAExC,EAAU,EASd,OAPE,EADE,AAAY,GAAZ,EACS,GAAM,EACb,AAAA,CAAA,AAAa,GAAb,CAAa,GAAU,EAAW,EACnC,GAAM,EAAW,EAET,GAAc,EAAG,EAGtB,AAAD,GADP,CAAA,EAAU,AAAU,IAAV,EAAgB,EAAY,CAAC,CAAvC,CAEF,EAyBiC,CAAO,CAAC,EAAE,EAEzC,OAAO,CACT,EH4BkB,IAAI,CAAC,IAAI,CAAC,OAAO,EAC7B,CAAC,UAAW,IAAI,CAAC,iBAAiB,EAAE,GAClB,MAAhB,GACF,IAAI,CAAC,UAAU,CAAC,EAEpB,CAKA,SAAU,CACR,IAAI,CAAC,YAAY,GAEjB,IAAI,EAAS,IAAI,WACf,GAAY,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAE,IACxC,AAAA,EAAc,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE,IAAI,CAAC,QAAQ,CAAE,EAC5C,EAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAC/B,IAAI,CAAC,aAAa,CAChB,IAAI,CAAC,GAAG,CAAC,WAAW,CACpB,IAAI,CAAC,GAAG,CAAC,UAAU,CACnB,KACA,AIhDC,SAAgB,CAAO,EAE5B,IAAI,EAAe,IAAI,WAAW,EAAQ,MAAM,EAChD,IAAK,IAAI,EAAI,EAAG,EAAM,EAAQ,MAAM,CAAE,EAAI,EAAK,IAC7C,CAAY,CAAC,EAAE,CAAG,AAtDf,SAAsB,CAAM,EAEjC,IAAI,EAEA,EAEA,EAaJ,OARY,GADZ,CAAA,EAAO,GAAW,EAAK,GADvB,GAEe,CAAA,EAAS,CAAC,CAAzB,EAEA,CAAA,GAnDW,GAkDX,EA7CW,OA+CQ,CAAA,EA/CR,KA+CX,EACA,EAAW,CAAW,CAAE,GAAQ,EAAK,IAAK,CAC1C,EAAW,GAAY,EAAS,EAAM,GACxB,CAAE,CAAA,EAAQ,GAAY,EAAK,CAAA,CAG3C,EAkCmC,CAAO,CAAC,EAAE,EAE3C,OAAO,CACT,EJyCmB,GACb,CAAC,UAAW,IAAI,CAAC,iBAAiB,EAAE,EACxC,CAOA,UAAU,EAAa,IAAI,CAAE,CAC3B,IAAI,CAAC,aAAa,CAChB,IAAI,CAAC,GAAG,CAAC,WAAW,CACpB,IAAI,CAAC,GAAG,CAAC,UAAU,CACnB,KACA,AIhDC,SAAgB,CAAO,EAE5B,IAAI,EAAa,IAAI,WAAW,EAAQ,MAAM,EAC9C,IAAK,IAAI,EAAI,EAAG,EAAM,EAAQ,MAAM,CAAE,EAAI,EAAK,IAC7C,CAAU,CAAC,EAAE,CAAG,AAzCb,SAAsB,CAAW,EAEtC,IAAI,EAEA,EAEA,EAEA,EAOJ,OALA,EAAQ,AAAc,IADtB,CAAA,EAAc,CAAC,CAAf,EAEA,EAAY,GAAe,EAAK,EAChC,EAAW,AAAc,GAAd,EACX,EAAS,CAAW,CAAC,EAAS,CAAI,CAAA,GAAa,EAAS,CAAA,EAC5C,GAAR,GAAW,CAAA,EAAS,CAAC,CAAzB,EACO,CACT,EAyBiC,CAAO,CAAC,EAAE,EAEzC,OAAO,CACT,EJyCmB,IAAI,CAAC,IAAI,CAAC,OAAO,EAC9B,CAAC,UAAW,IAAI,CAAC,iBAAiB,EAAE,GAClB,MAAhB,GACF,IAAI,CAAC,UAAU,CAAC,EAEpB,CAUA,WAAW,CAAW,CAAE,EAAiB,CAAA,CAAI,CAAE,CAE7C,IAAI,EAAa,EAEb,EAAe,IAAI,CAAC,QAAQ,CAC3B,IACgB,OAAf,GACF,CAAA,EAAa,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAD1C,EAGA,EAAe,GAAK,IAAI,CAAC,QAAQ,CAAC,IAAI,EAIxC,IAAI,CAAC,mBAAmB,GAKxB,IAAI,EAAU,IAAI,CAAC,UAAU,CAAC,CAAA,GAK1B,EAAa,IAAI,aAAa,EAAQ,MAAM,GAEhD,AAAA,SC7L2B,CAAO,CAAE,CAAS,CAAE,CAAU,CAAE,CAAc,MA4EvE,EA1EJ,GAAI,CAAC,MAAM,KAAK,CAAC,OAAO,CAAC,GAAa,IACpC,CAAC,MAAM,KAAK,CAAC,OAAO,CAAC,GAAkB,GAAI,CAC3C,EAAW,GAAG,CAAC,GACf,MACF,CACA,EAAkB,GAClB,EAAkB,GAElB,IAAI,GAkEA,EAAO,SAAS,CAAC,EAAG,OAAO,CAAE,EAlEK,GAAW,IAqE7C,EADE,CAAC,MAAO,KAAK,CAAC,QAAQ,CApEU,GAqE3B,EAEH,CAAC,MAAO,KAAK,CAAC,QAAQ,CAvEmB,GAwEpC,EAEA,GAIN,GA5EH,EAAU,CACZ,OAAQ,KAAK,GAAG,CAAC,EAAG,SAAS,EAAW,KAAO,EAC/C,OAAQ,KAAK,GAAG,CAAC,EAAG,SAAS,EAAgB,KAAO,EACpD,OAAS,KAAK,GAAG,CAAC,EAAG,SAAS,EAAW,KAAO,EAAK,EACrD,OAAS,KAAK,GAAG,CAAC,EAAG,SAAS,EAAgB,KAAO,EAAK,CAC5D,EAEA,EAAU,EAAW,EAAS,CAAA,GAE9B,IAAK,IAAI,EAAI,EAAG,EAAM,EAAQ,MAAM,CAAE,EAAI,EAAK,IAC7C,CAAU,CAAC,EAAE,CAAG,EAAW,CAAO,CAAC,EAAE,CAAE,GAGzC,EAAU,EAAgB,EAAY,CAAA,EACxC,EDmKmB,EAAS,EAAc,EAAY,GAElD,IAAI,CAAC,aAAa,CAChB,IAAI,CAAC,GAAG,CAAC,WAAW,CACpB,IAAI,CAAC,GAAG,CAAC,UAAU,CACnB,EACA,EACA,CAAC,UAAW,IAAI,CAAC,iBAAiB,EAAE,EACxC,CAOA,aAAa,CAAU,CAAE,CAAO,CAAE,CAChC,IAAI,CAAC,iBAAiB,CAAC,GAEvB,IAAI,EAAU,IAAI,CAAC,UAAU,GAEzB,EAAa,EAAE,CAEnB,GAAI,EAAQ,WAAW,GAAK,aAC1B,EAAa,AAAA,GAAS,EAAS,IAAI,CAAC,GAAG,CAAC,UAAU,CAAE,EAAY,QAGhE,IAAK,IAAI,EAAI,EAAG,EAAI,EAAQ,MAAM,CAAE,IAClC,EAAW,IAAI,CAAC,AAAA,GACd,CAAO,CAAC,EAAE,CAAE,IAAI,CAAC,GAAG,CAAC,UAAU,CAAE,EAAY,IAInD,IAAI,CAAC,aAAa,CAChB,IAAI,CAAC,GAAG,CAAC,WAAW,CAAE,EAAY,IAAI,CAAC,QAAQ,CAAE,EACjD,CAAC,UAAa,IAAI,CAAC,iBAAiB,EAAE,EAC1C,CAQA,kBAAkB,CAAU,CAAE,CAC5B,GAAK,AAAA,EACD,IAAI,CAAC,GAAG,CAAC,WAAW,CAAE,IAAI,CAAC,GAAG,CAAC,aAAa,CAAE,GAE3C,CAAA,GAAI,CAAC,IAAI,KAAK,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAI,GAClD,MAAM,AAAI,MACR,6DAFsB,MADxB,MAAM,AAAI,MAAM,uBAKpB,CAMA,cAAe,CACb,IAAI,CAAC,mBAAmB,GACH,MAAjB,IAAI,CAAC,QAAQ,EACf,IAAI,CAAC,UAAU,CAAC,KAEpB,CAMA,qBAAsB,CAChB,AAAiB,MAAjB,IAAI,CAAC,QAAQ,CACf,IAAI,CAAC,QAAQ,GACJ,AAAiB,MAAjB,IAAI,CAAC,QAAQ,CACtB,IAAI,CAAC,SAAS,GACY,KAAjB,IAAI,CAAC,QAAQ,EACtB,IAAI,CAAC,YAAY,EAErB,CAQA,mBAAoB,CAClB,MAAO,AAAkB,QAAlB,IAAI,CAAC,SAAS,CAAa,OAAS,IAAI,CAAC,SAAS,AAC3D,CAkBA,cAAc,CAAW,CAAE,CAAU,CAAE,CAAY,CAAE,CAAO,CAAE,CAAO,CAAE,CAErE,IAAI,EAAS,IAAI,EACjB,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAE,EAAO,GAAG,EAClC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,EAAO,IAAI,EACpC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,EAAO,IAAI,EACpC,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,EAAO,IAAI,EACpC,IAAI,CAAC,WAAW,CAAC,EAAa,EAAY,EAAc,EAAS,EACnE,CACF,CAQA,SAAS,GAAY,CAAO,CAAE,CAAU,EAEtC,IAAI,EAAa,EAAU,EAI3B,OAHI,EAAa,GACf,IAEK,CACT,CF7TO,MAAM,WAAiB,GAS5B,YAAY,CAAG,CAAE,CACf,KAAK,GACD,GACF,IAAI,CAAC,UAAU,CAAC,EAEpB,CAOA,WAAW,CAAY,CAAE,CACvB,IAAI,CAAC,UAAU,CAAC,AAAA,SCNG,CAAM,EAE3B,IAAI,EAAS,IAAI,WAAW,KAC5B,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,IAChC,CAAM,CAAC,EAAM,UAAU,CAAC,GAAG,CAAG,EAGhC,IAAI,EAAe,AAAgB,IAAhB,EAAO,MAAM,AACE,CAAA,MAA9B,CAAM,CAAC,EAAO,MAAM,CAAG,EAAE,GAC3B,IACkC,MAA9B,CAAM,CAAC,EAAO,MAAM,CAAG,EAAE,EAC3B,KAIJ,IAAI,EAAQ,IAAI,WAAW,GAC3B,IAAK,IAAI,EAAI,EAAG,EAAI,EAAG,EAAI,EAAO,MAAM,CAAE,GAAK,EAAG,CAEhD,IAAI,EAAW,CAAM,CAAC,EAAO,UAAU,CAAC,GAAG,CAEvC,EAAW,CAAM,CAAC,EAAO,UAAU,CAAC,EAAI,GAAG,CAE3C,EAAW,CAAM,CAAC,EAAO,UAAU,CAAC,EAAI,GAAG,CAE3C,EAAW,CAAM,CAAC,EAAO,UAAU,CAAC,EAAI,GAAG,AAC/C,CAAA,CAAK,CAAC,IAAI,CAAG,GAAY,EAAI,GAAY,EACzC,CAAK,CAAC,IAAI,CAAI,AAAA,CAAA,AAAW,GAAX,CAAW,GAAO,EAAI,GAAY,EAChD,CAAK,CAAC,IAAI,CAAI,AAAA,CAAA,AAAW,EAAX,CAAW,GAAM,EAAI,AAAW,GAAX,CACrC,CACA,OAAO,CACT,EDxB2B,GACzB,CAOA,UAAW,CACT,OAAO,AAAA,SCrCY,CAAK,EAE1B,IAAI,EAAS,GACb,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,GAAK,EACrC,GAAU,CAAK,CAAC,CAAK,CAAC,EAAE,EAAI,EAAE,CAC9B,GAAU,CAAK,CAAE,AAAA,CAAA,AAAW,EAAX,CAAK,CAAC,EAAE,AAAG,GAAM,EAAI,CAAK,CAAC,EAAI,EAAE,EAAI,EAAE,CACxD,GAAU,CAAK,CAAE,AAAA,CAAA,AAAe,GAAf,CAAK,CAAC,EAAI,EAAE,AAAG,GAAO,EAAI,CAAK,CAAC,EAAI,EAAE,EAAI,EAAE,CAC7D,GAAU,CAAK,CAAC,AAAe,GAAf,CAAK,CAAC,EAAI,EAAE,CAAM,CAOpC,OALI,EAAM,MAAM,CAAG,GAAM,EACvB,EAAS,EAAO,SAAS,CAAC,EAAG,EAAO,MAAM,CAAG,GAAK,IACzC,EAAM,MAAM,CAAG,GAAM,GAC9B,CAAA,EAAS,EAAO,SAAS,CAAC,EAAG,EAAO,MAAM,CAAG,GAAK,IAD7C,EAGA,CACT,EDsBkB,IAAI,CAAC,QAAQ,GAC7B,CAQA,WAAY,CACV,MAAO,yBAA2B,IAAI,CAAC,QAAQ,EACjD,CAOA,YAAY,CAAO,CAAE,CACnB,IAAI,CAAC,UAAU,CAAC,EAAQ,OAAO,CAAC,yBAA0B,IAC5D,CACF,C,I,G,C,E2BxEA,EAAA,WAeA,SAAS,EAAU,CAAnB,CAAwB,CAAxB,CAA8B,CAA9B,EACE,IAAI,EAAM,IAAI,cACd,CAAA,EAAI,IAAJ,CAAS,MAAO,GAChB,EAAI,YAAJ,CAAmB,OACnB,EAAI,MAAJ,CAAa,WACX,EAAO,EAAI,QAAL,CAAe,EAAM,EAC5B,EACD,EAAI,OAAJ,CAAc,WACZ,QAAQ,KAAR,CAAc,0BACf,EACD,EAAI,IAAJ,EACD,CAED,SAAS,EAAa,CAAtB,EACE,IAAI,EAAM,IAAI,eAEd,EAAI,IAAJ,CAAS,OAAQ,EAAjB,CAAA,GACA,GAAI,CACF,EAAI,IAAJ,EACD,CAAC,MAAO,EAAG,CAAE,CACd,OAAqB,KAAd,EAAI,MAAJ,EAAmC,KAAd,EAAI,MACjC,AAAA,CAGD,SAAS,EAAO,CAAhB,EACE,GAAI,CACF,EAAK,aAAL,CAAmB,IAAI,WAAW,SACnC,CAAC,MAAO,EAAG,CACV,IAAI,EAAM,SAAS,WAAT,CAAqB,cAC/B,CAAA,EAAI,cAAJ,CAAmB,QAAnB,CAAA,EAAA,CAAA,EAAwC,OAAQ,EAAG,EAAG,EAAG,GACnC,GADtB,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EACsD,EAAG,MACzD,EAAK,aAAL,CAAmB,EACpB,CACF,C,IAtDG,EAA4B,UAAlB,OAAO,QAAuB,OAAO,MAAP,GAAkB,OAC1D,OAAyB,UAAhB,OAAO,MAAqB,KAAK,IAAL,GAAc,KACnD,KAAyB,UAAlB,OAAO,GAAuB,EAAO,MAAP,GAAkB,EACvD,EADO,KAAA,EAyDP,EAAiB,EAAQ,SAAR,EAAqB,YAAY,IAAZ,CAAiB,UAAU,SAA3B,GAAyC,cAAc,IAAd,CAAmB,UAAU,SAA7B,GAA2C,CAAC,SAAS,IAAT,CAAc,UAAU,SAAxB,EAE3H,EAAS,EAAQ,MAAR,EAEQ,CAAA,UAAlB,OAAO,QAAuB,SAAW,EACtC,WAAiC,EAGlC,aAAc,kBAAkB,SAAhC,EAA6C,CAAC,EAC/C,SAAiB,CAAjB,CAAuB,CAAvB,CAA6B,CAA7B,EAAmC,IAC/B,EAAM,EAAQ,GAAR,EAAe,EAAQ,SADE,CAE/B,EAAI,SAAS,aAAT,CAAuB,IAC/B,CAAA,EAAO,GAAQ,EAAK,IAAb,EAAqB,WAE5B,EAAE,QAAF,CAAa,EACb,EAAE,GAAF,CAAQ,WAKY,UAAhB,OAAO,EAET,CAAA,EAAE,IAAF,CAAS,EACL,EAAE,MAAF,GAAa,SAAS,MAdO,CAmB/B,EAAM,GAJN,EAAY,EAAE,IAAH,EACP,EAAS,EAAM,EAAM,GACrB,EAAM,EAAG,EAAE,MAAF,CAAW,SAAA,EAM1B,CAAA,EAAE,IAAF,CAAS,EAAI,eAAJ,CAAoB,GAC7B,WAAW,WAAc,EAAI,eAAJ,CAAoB,EAAE,IAAtB,CAA6B,EAAE,KACxD,WAAW,WAAc,EAAM,EAAI,EAAE,EAAA,CAExC,EAGC,qBAAsB,UACtB,SAAiB,CAAjB,CAAuB,CAAvB,CAA6B,CAA7B,EAGA,GAFA,EAAO,GAAQ,EAAK,IAAb,EAAqB,WAER,UAAhB,OAAO,EAUT,KA1Gc,EA0Gd,UAAU,gBAAV,EAzGgB,KAAA,KADF,EA0GuB,GAzGR,EAAO,CAAE,QAAO,CAAA,CAAT,EACf,UAAhB,OAAO,GACd,CAAA,QAAQ,IAAR,CAAa,sDACb,EAAO,CAAE,QAAS,CAAC,CAAZ,CAAA,EAKL,EAAK,OAAL,EAAgB,6EAA6E,IAA7E,CAAkF,AAiGnE,EAjGwE,IAAvF,EACX,IAAI,KAAK,CAAA,SAgGiB,EAhG1B,CAA8C,CAAE,KAAM,AAgG5B,EAhGiC,IAAb,AAAA,GAgGpB,GAAa,EAV9C,MACE,GAAI,EAAY,GACd,EAAS,EAAM,EAAM,OAChB,CACL,IAAI,EAAI,SAAS,aAAT,CAAuB,IAC/B,CAAA,EAAE,IAAF,CAAS,EACT,EAAE,MAAF,CAAW,SACX,WAAW,WAAc,EAAM,EAAI,EACpC,CAIJ,EAGC,SAAiB,CAAjB,CAAuB,CAAvB,CAA6B,CAA7B,CAAmC,CAAnC,EASA,GANA,AACI,CADJ,EAAQ,GAAS,KAAK,GAAI,SAAA,GAExB,CAAA,EAAM,QAAN,CAAe,KAAf,CACA,EAAM,QAAN,CAAe,IAAf,CAAoB,SAApB,CAAgC,gBAAA,EAGd,UAAhB,OAAO,EAAmB,OAAO,EAAS,EAAM,EAAM,GAThB,IAWtC,EAAsB,6BAAd,EAAK,IAXyB,CAYtC,EAAW,eAAe,IAAf,CAAoB,EAAQ,WAA5B,GAA4C,EAAQ,MAZzB,CAatC,EAAc,eAAe,IAAf,CAAoB,UAAU,SAA9B,EAElB,GAAI,AAAC,CAAA,GAAgB,GAAS,GAAa,CAAA,GAAyC,aAAtB,OAAO,WAA4B,CAE/F,IAAI,EAAS,IAAI,UACjB,CAAA,EAAO,SAAP,CAAmB,WACjB,IAAI,EAAM,EAAO,MAAjB,AACA,CAAA,EAAM,EAAc,EAAM,EAAI,OAAJ,CAAY,eAAgB,yBAClD,EAAO,EAAM,QAAN,CAAe,IAAf,CAAsB,EAC5B,SAAW,EAChB,EAAQ,IACT,EACD,EAAO,aAAP,CAAqB,EACtB,KAAM,CAAA,IACD,EAAM,EAAQ,GAAR,EAAe,EAAQ,SAD5B,CAED,EAAM,EAAI,eAAJ,CAAoB,EAC1B,CAAA,EAAO,EAAM,QAAN,CAAiB,EACvB,SAAS,IAAT,CAAgB,EACrB,EAAQ,KACR,WAAW,WAAc,EAAI,eAAJ,CAAoB,EAAM,EAAE,IACtD,CACF,CAAA,CAGH,CAAA,EAAQ,MAAR,CAAiB,EAAO,MAAP,CAAgB,EAG/B,GAAiB,CAvJnB,EAAA,YAAA,OAAA,QAAA,OAAA,GAAA,CAAA,OAAA,EAAA,CAAA,GAAA,G5Bfe,OAAA,GACX,aAAc,CACV,IAAI,CAAC,OAAO,CAAG,EAAE,CACjB,IAAI,CAAC,YAAY,CAAG,GAAK,CAAA,OAAO,YAAY,EAAI,OAAO,kBAAiB,AAAjB,CAC3D,CAEA,MAAM,mBAAmB,CAAI,CAAE,CAC3B,OAAO,IAAI,QAAQ,CAAC,EAAS,KACzB,IAAI,EAAK,IAAI,WAEb,EAAG,aAAa,CAAC,GACjB,EAAG,SAAS,CAAG,KAEX,GAAI,AAAc,cAAd,EAAK,IAAI,EAAoB,AAAc,eAAd,EAAK,IAAI,EAAqB,AAAc,gBAAd,EAAK,IAAI,CAAoB,CACxF,IAAI,EAAI,IAAI,GACN,EAAe,EAAG,MAAM,CACzB,OAAO,CAAC,QAAS,IACjB,OAAO,CAAC,OAAQ,IACrB,EAAE,UAAU,CAAC,GAEb,EADO,EAAE,aAAa,GAE1B,MAEI,EAAQ,EAAE,CAElB,EACA,EAAG,OAAO,CAAG,CACjB,EACJ,CAEA,MAAM,qBAAqB,CAAM,CAAE,CAAO,CAAE,CACxC,QAAQ,GAAG,CAAC,sBACZ,IAAI,EAAO,IAAI,GAIf,IAAK,IAAI,KAHT,EAAK,WAAW,CAAC,EAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAE,MAAO,GAGtC,GACQ,OAAnB,EAAO,QAAQ,EACf,EAAK,WAAW,CAAC,CACb,SAAU,AAAc,IAAd,EAAO,IAAI,AACzB,GAIR,IAAK,IAAI,EAAI,EAAG,EAAI,EAAK,GAAG,CAAC,MAAM,CAAC,MAAM,CAAE,IACxC,EAAK,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,UAAU,CAAG,EAAK,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,CAGrE,IAAM,EAAO,EAAK,SAAS,GAI3B,QAAQ,GAAG,CAAC,kBACZ,AAAA,CAAA,EAAA,GAAA,MAAK,AAAL,EAAO,EAFU,aAGrB,CACJ,C,I,G,C,E,G,C,E+BxDA,GAAiB,SAAU,CAAS,CAAE,CAAM,CAAE,CAAK,EACjD,GAAI,IAAW,KAAK,QAAQ,CAAC,MAAM,CAGjC,OAAO,EAGP,IAAI,EAAS,EAAQ,UAAY,KAAK,SAAS,CAAC,GAAa,IAAM,iBAAmB,KAAK,SAAS,CAAC,GAAa,KAClH,OAAO,IAAI,eAAe,CAAC,IAAI,KAAK,CAAC,EAAO,CAAE,CAC5C,KAAM,wBACR,GAEJ,E,I,G,E,SDZA,IAAI,GAAM,GAAA,YAAA,CAAuB,SAAW,4CAA4C,GAAiB,GAAU,GAAK,GAAA,SAAA,CAAoB,IAAM,CAAA,EDFnI,OAAA,GACX,YAAY,CAAS,CAAE,CACnB,IAAI,CAAC,SAAS,CAAG,EACjB,IAAI,CAAC,MAAM,CAAG,KACd,IAAI,CAAC,UAAU,GACf,IAAI,CAAC,oBAAoB,EAC7B,CAEA,YAAa,CACT,IAAI,CAAC,MAAM,CAAG,IAAI,OAAlB,IAKA,IAAI,CAAC,MAAM,CAAC,SAAS,CAAG,AAAC,IAIrB,GAFA,IAAI,CAAC,eAAe,CAAC,CAAA,GAEjB,EAAE,IAAI,CAAC,KAAK,CAAE,CACd,QAAQ,KAAK,CAAC,yBAA0B,EAAE,IAAI,CAAC,KAAK,EACpD,MACJ,CAEI,EAAE,IAAI,CAAC,MAAM,GACb,QAAQ,GAAG,CAAC,SAAU,EAAE,IAAI,CAAC,MAAM,EACnC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,kBAAkB,CAAC,EAAE,IAAI,CAAC,MAAM,GAG9C,OAAf,EAAE,IAAI,CAAC,GAAG,EACV,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,IAAI,CAAC,GAAG,CAE3C,CACJ,CAEA,gBAAgB,CAAS,CAAE,CACvB,IAAM,EAAY,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CACjD,EACA,EAAU,SAAS,CAAC,GAAG,CAAC,sBAExB,EAAU,SAAS,CAAC,MAAM,CAAC,qBAEnC,CAEA,aAAa,CAAS,CAAE,CAAU,CAAE,CAChC,GAAI,CAAC,IAAI,CAAC,MAAM,CAAE,CACd,QAAQ,KAAK,CAAC,0BACd,MACJ,CAGA,IAAI,CAAC,eAAe,CAAC,CAAA,GAGrB,IAAM,EAAe,IAAI,aAAa,EAAU,MAAM,EACtD,IAAK,IAAI,EAAI,EAAG,EAAI,EAAU,MAAM,CAAE,IAClC,CAAY,CAAC,EAAE,CAAG,CAAS,CAAC,EAAE,CAGlC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CACpB,KAAM,eACN,UAAW,EACX,WAAA,CACJ,EACJ,CAEA,SAAU,CACF,IAAI,CAAC,MAAM,GACX,IAAI,CAAC,MAAM,CAAC,SAAS,GACrB,IAAI,CAAC,MAAM,CAAG,KAEtB,CAEA,sBAAuB,CACnB,SAAS,gBAAgB,CAAC,UAAW,AAAC,IAElC,GAAI,EAAE,GAAG,EAAI,KAAO,EAAE,GAAG,EAAI,KAAO,AAAU,MAAV,EAAE,GAAG,CAAU,CAC/C,IAAM,EAAQ,AAAU,MAAV,EAAE,GAAG,CAAW,EAAI,SAAS,EAAE,GAAG,EAAI,EACpD,IAAI,CAAC,gBAAgB,CAAC,EAC1B,CAIA,IAAM,EAAW,AADE,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAI,CACzC,OAAO,CAAC,EAAE,GAAG,CAAC,WAAW,GACpC,CAAA,KAAb,GACA,IAAI,CAAC,gBAAgB,CAAC,EAAW,GAEzC,EACJ,CAEA,iBAAiB,CAAK,CAAE,CACpB,IAAM,EAAU,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,UAAU,GACvD,GAAI,EAAQ,EAAQ,MAAM,CAAE,CAExB,IAAM,EAAY,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,GACpE,EAAa,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAGhE,EAAY,CAAO,CAAC,EAAM,CAC1B,EAAU,EAAQ,EAAQ,MAAM,CAAG,EACrC,CAAO,CAAC,EAAQ,EAAE,CAClB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,GAGnC,EAAc,KAAK,KAAK,CAAC,EAAU,IAAI,CAAG,GAC1C,EAAY,KAAK,KAAK,CAAC,EAAQ,IAAI,CAAG,GAGtC,EAAqB,IAAI,CAAC,uBAAuB,CAAC,EAAW,GAC7D,EAAmB,IAAI,CAAC,uBAAuB,CAAC,EAAW,GAO3D,EAAS,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,CAC/C,MALqB,EAAqB,EAM1C,IALmB,EAAmB,EAMtC,MAAO,0BACX,GAGA,EAAO,IAAI,GAGX,EAAO,IAAI,CAAC,MAAO,KACf,EAAO,MAAM,EACjB,EACJ,CACJ,CAEA,wBAAwB,CAAS,CAAE,CAAK,CAAE,EAAY,GAAG,CAAE,CAEvD,IAAI,EAAO,KAAK,GAAG,CAAC,EAAG,EAAQ,GAC3B,EAAQ,KAAK,GAAG,CAAC,EAAU,MAAM,CAAG,EAAG,EAAQ,GAGnD,IAAK,IAAI,EAAS,EAAG,GAAU,EAAW,IAAU,CAEhD,IAAI,EAAe,EAAQ,EAC3B,GAAI,GAAgB,GACZ,IAAI,CAAC,cAAc,CAAC,EAAW,GAC/B,OAAO,EAKf,IAAI,EAAgB,EAAQ,EAC5B,GAAI,GAAiB,GACb,IAAI,CAAC,cAAc,CAAC,EAAW,GAC/B,OAAO,CAGnB,CAGA,OAAO,CACX,CAEA,eAAe,CAAS,CAAE,CAAK,CAAE,CAG7B,GAAI,GAAS,EAAU,MAAM,CAAG,EAAG,MAAO,CAAA,EAE1C,IAAM,EAAU,CAAS,CAAC,EAAM,CAC1B,EAAO,CAAS,CAAC,EAAQ,EAAE,CAGjC,OAAQ,GAAW,GAAK,EAAO,GAAO,GAAW,GAAK,EAAO,CACjE,CACJ,CG1Ke,MAAA,GACX,YAAY,CAAS,CAAE,CACnB,IAAI,CAAC,SAAS,CAAG,EACjB,IAAI,CAAC,cAAc,GACnB,IAAI,CAAC,uBAAuB,EAChC,CAEA,gBAAiB,CACb,IAAM,EAAoB,SAAS,aAAa,CAAC,MACjD,CAAA,EAAkB,SAAS,CAAG,qBAG9B,IAAM,EAAmB,IAAI,CAAC,YAAY,CAAC,CACvC,GAAI,aACJ,MAAO,aACP,IAAK,IACL,IAAK,KACL,MAAO,KACP,KAAM,GACV,GAGM,EAAiB,IAAI,CAAC,YAAY,CAAC,CACrC,GAAI,WACJ,MAAO,aACP,IAAK,EACL,IAAK,IACL,MAAO,GACP,KAAM,CACV,GAGM,EAAqB,IAAI,CAAC,YAAY,CAAC,CACzC,GAAI,cACJ,MAAO,gBACP,IAAK,EACL,IAAK,IACL,MAAO,GACP,KAAM,CACV,GAGM,EAAkB,IAAI,CAAC,YAAY,CAAC,CACtC,GAAI,YACJ,MAAO,oBACP,IAAK,EACL,IAAK,IACL,MAAO,GACP,KAAM,EACV,GAEA,EAAkB,WAAW,CAAC,GAC9B,EAAkB,WAAW,CAAC,GAC9B,EAAkB,WAAW,CAAC,GAC9B,EAAkB,WAAW,CAAC,GAG9B,IAAM,EAAmB,SAAS,aAAa,CAAC,aAChD,EAAiB,YAAY,CAAC,EAAmB,EAAiB,UAAU,CAChF,CAEA,aAAa,CAAA,GAAE,CAAE,CAAA,MAAE,CAAK,CAAA,IAAE,CAAG,CAAA,IAAE,CAAG,CAAA,MAAE,CAAK,CAAA,KAAE,CAAI,CAAE,CAAE,CAC/C,IAAM,EAAY,SAAS,aAAa,CAAC,MACzC,CAAA,EAAU,SAAS,CAAG,mBAEtB,IAAM,EAAe,SAAS,aAAa,CAAC,QAC5C,CAAA,EAAa,OAAO,CAAG,EACvB,EAAa,WAAW,CAAG,EAE3B,IAAM,EAAS,SAAS,aAAa,CAAC,QACtC,CAAA,EAAO,IAAI,CAAG,QACd,EAAO,EAAE,CAAG,EACZ,EAAO,GAAG,CAAG,EACb,EAAO,GAAG,CAAG,EACb,EAAO,KAAK,CAAG,EACf,EAAO,IAAI,CAAG,EAGd,IAAM,EAAe,AAAA,CAAA,EAAQ,CAAA,EAAQ,CAAA,EAAM,CAAA,EAAQ,IACnD,EAAO,KAAK,CAAC,WAAW,CAAC,UAAW,EAAa,KAEjD,IAAM,EAAe,SAAS,aAAa,CAAC,QAgB5C,OAfA,EAAa,SAAS,CAAG,eACzB,EAAa,WAAW,CAAG,OAAO,GAAO,OAAO,CAAC,OAAO,GAAM,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,QAAU,GAEvF,EAAO,gBAAgB,CAAC,QAAS,AAAC,IAE9B,IAAM,EAAa,AAAE,CAAA,EAAE,MAAM,CAAC,KAAK,CAAG,CAAA,EAAQ,CAAA,EAAM,CAAA,EAAQ,IAC5D,EAAO,KAAK,CAAC,WAAW,CAAC,UAAW,EAAa,KACjD,EAAa,WAAW,CAAG,OAAO,EAAO,KAAK,EAAE,OAAO,CAAC,OAAO,GAAM,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,QAAU,GAC9F,IAAI,CAAC,kBAAkB,EAC3B,GAEA,EAAU,WAAW,CAAC,GACtB,EAAU,WAAW,CAAC,GACtB,EAAU,WAAW,CAAC,GAEf,CACX,CAEA,oBAAqB,KAUb,EAAM,EATV,IAAM,EAAY,SAAS,SAAS,cAAc,CAAC,cAAc,KAAK,EAChE,EAAiB,SAAS,SAAS,cAAc,CAAC,YAAY,KAAK,EACnE,EAAc,WAAW,SAAS,cAAc,CAAC,eAAe,KAAK,EACrE,EAAW,SAAS,SAAS,cAAc,CAAC,aAAa,KAAK,EAE9D,EAAU,KAAK,KAAK,CAAC,AAAa,EAAiB,IAA9B,GACrB,EAAY,EAAW,GAKzB,AAAa,CAAA,IAAb,GAEA,EAAO,CAAC,UAAU,CAClB,EAAc,CAAC,EAAE,EACV,AAAa,MAAb,GAEP,EAAO,CAAC,MAAM,CACd,EAAc,CAAC,EAAE,GAGjB,EAAO,CAAC,MAAO,UAAU,CACzB,EAAc,CAAC,EAfG,EAAI,EAekB,EAG5C,IAAM,EAAS,CACX,UAAA,EACA,QAAA,EACA,YAAa,EAAc,IAC3B,KAAA,EACA,YAAA,CACJ,CAEI,CAAA,IAAI,CAAC,SAAS,CAAC,YAAY,EAC3B,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,CAC3C,KAAM,eACN,OAAA,CACJ,EAER,CAEA,yBAA0B,CAEtB,IAAI,CAAC,kBAAkB,EAC3B,CACJ,C5E/IkB,ICOH,MACX,aAAc,CACV,IAAI,CAAC,SAAS,CAAG,EACjB,IAAI,CAAC,SAAS,CAAG,EACjB,IAAI,CAAC,UAAU,CAAG,EAElB,IAAI,CAAC,UAAU,CAAG,AAAA,AAAA,WAAA,EAAA,EAAA,GAAW,MAAM,CAAC,CAChC,UAAW,YACX,UAAW,UACX,cAAe,QACf,QAAS,CAAC,AAAA,EAAc,MAAM,GAAI,AAAA,EAAc,MAAM,GAAG,AAC7D,GAEA,IAAI,CAAC,WAAW,CAAG,IAAI,EAAY,IAAI,EACvC,IAAI,CAAC,aAAa,CAAG,IAAI,EAAc,IAAI,EAC3C,IAAI,CAAC,eAAe,CAAG,IAAI,EAAgB,IAAI,EAC/C,IAAI,CAAC,UAAU,CAAG,IAAI,GACtB,IAAI,CAAC,YAAY,CAAG,IAAI,GAAa,IAAI,EACzC,IAAI,CAAC,iBAAiB,CAAG,IAAI,GAAkB,IAAI,EAEnD,IAAI,CAAC,aAAa,GAElB,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,QAAQ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,GAGjD,IAAI,CAAC,iBAAiB,EAC1B,CAEA,QAAU,UACN,IAAI,CAAC,SAAS,CAAG,KAAK,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,WAAW,CAAG,IAAI,CAAC,UAAU,CAAC,WAAW,IAC/F,IAAI,CAAC,SAAS,CAAG,IAAI,CAAC,SAAS,CAC/B,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CACzD,CAAC,AAED,CAAA,eAAgB,CAEZ,AADqB,SAAS,cAAc,CAAC,UAChC,gBAAgB,CAAC,QAAS,AAAC,IACpC,IAAI,CAAC,KAAK,CAAC,SACf,EACJ,CAEA,MAAM,CAAC,CAAE,CAET,CAEA,cAAe,CACX,IAAM,EAAS,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAC7C,GAAI,CAAC,EAAQ,CACT,QAAQ,KAAK,CAAC,mBACd,MACJ,CAEA,IAAM,EAAY,EAAO,cAAc,CAAC,GAClC,EAAa,EAAO,UAAU,CAEpC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,EAAW,EAC9C,CAEA,mBAAoB,CAEhB,IAAM,EAAY,SAAS,aAAa,CAAC,MACzC,CAAA,EAAU,EAAE,CAAG,aACf,EAAU,SAAS,CAAG,aAGtB,IAAI,CAAC,UAAU,CAAG,SAAS,aAAa,CAAC,OACzC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAG,cACrB,EAAU,WAAW,CAAC,IAAI,CAAC,UAAU,EAGrC,IAAM,EAAW,SAAS,cAAc,CAAC,YACzC,EAAS,UAAU,CAAC,YAAY,CAAC,EAAW,EAAS,WAAW,CACpE,CAEA,UAAU,CAAG,CAAE,CACP,IAAI,CAAC,UAAU,EACf,CAAA,IAAI,CAAC,UAAU,CAAC,WAAW,CAAG,CAAC,KAAK,EAAE,EAAI,CAAC,AAAD,CAElD,CACJ,EDnFA,AADuB,SAAS,cAAc,CAAC,WAChC,WAAW,CALV,M","sources":["<anon>","node_modules/lodash/lodash.js","src/index.js","src/Morphaweb.js","node_modules/wavesurfer.js/dist/wavesurfer.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/webpack/universalModuleDefinition","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/drawer.canvasentry.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/drawer.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/drawer.multicanvas.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/mediaelement-webaudio.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/mediaelement.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/peakcache.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/util/absMax.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/util/clamp.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/util/fetch.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/util/frame.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/util/get-id.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/util/index.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/util/max.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/util/min.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/util/observer.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/util/orientation.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/util/prevent-click.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/util/request-animation-frame.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/util/silence-mode.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/util/style.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/wavesurfer.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/src/webaudio.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/node_modules/debounce/index.js","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/webpack/bootstrap","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/webpack/before-startup","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/webpack/startup","node_modules/wavesurfer.js/dist/webpack:/WaveSurfer/webpack/after-startup","node_modules/wavesurfer.js/src/plugin/markers/index.js","node_modules/wavesurfer.js/src/plugin/regions/index.js","node_modules/wavesurfer.js/src/plugin/regions/region.js","src/DropHandler.js","node_modules/crunker/dist/crunker.js","node_modules/crunker/dist/webpack:/Crunker/webpack/universalModuleDefinition","node_modules/crunker/dist/webpack:/Crunker/webpack/bootstrap","node_modules/crunker/dist/webpack:/Crunker/webpack/runtime/define property getters","node_modules/crunker/dist/webpack:/Crunker/webpack/runtime/hasOwnProperty shorthand","node_modules/crunker/dist/webpack:/Crunker/webpack/runtime/make namespace object","node_modules/crunker/dist/webpack:/Crunker/crunker.ts","src/ControlsHandler.js","src/MarkerHandler.js","src/WavHandler.js","node_modules/wavefile/index.js","node_modules/wavefile/lib/parsers/base64-arraybuffer.js","node_modules/wavefile/lib/wavefile-converter.js","node_modules/wavefile/lib/codecs/bitdepth.js","node_modules/wavefile/lib/codecs/imaadpcm.js","node_modules/wavefile/lib/codecs/alaw.js","node_modules/wavefile/lib/codecs/mulaw.js","node_modules/wavefile/lib/parsers/binary/index.js","node_modules/wavefile/lib/parsers/binary/lib/endianness.js","node_modules/wavefile/lib/parsers/binary/lib/utf8-parser.js","node_modules/wavefile/lib/parsers/binary/lib/int-parser.js","node_modules/wavefile/lib/parsers/binary/lib/float-parser.js","node_modules/wavefile/lib/wavefile-cue-editor.js","node_modules/wavefile/lib/wavefile-tag-editor.js","node_modules/wavefile/lib/wavefile-creator.js","node_modules/wavefile/lib/wavefile-parser.js","node_modules/wavefile/lib/wavefile-reader.js","node_modules/wavefile/lib/riff-file.js","node_modules/wavefile/lib/parsers/write-string.js","node_modules/wavefile/lib/parsers/interleave.js","node_modules/wavefile/lib/validators/validate-num-channels.js","node_modules/wavefile/lib/validators/validate-sample-rate.js","node_modules/wavefile/lib/resampler/index.js","node_modules/wavefile/lib/resampler/interpolator.js","node_modules/wavefile/lib/resampler/fir-lpf.js","node_modules/wavefile/lib/resampler/butterworth-lpf.js","node_modules/file-saver/dist/FileSaver.min.js","node_modules/file-saver/src/FileSaver.js","src/OnsetHandler.js","node_modules/@parcel/runtime-js/lib/runtime-71d66034bb59158c.js","node_modules/@parcel/runtime-js/lib/helpers/get-worker-url.js","src/AlgorithmControls.js"],"sourcesContent":["(function () {\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired167\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired167\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"1WSnx\", function(module, exports) {\n(function() {\n    /** Used as a safe reference for `undefined` in pre-ES5 environments. */ var undefined;\n    /** Used as the semantic version number. */ var VERSION = \"4.17.21\";\n    /** Used as the size to enable large array optimizations. */ var LARGE_ARRAY_SIZE = 200;\n    /** Error message constants. */ var CORE_ERROR_TEXT = \"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\", FUNC_ERROR_TEXT = \"Expected a function\", INVALID_TEMPL_VAR_ERROR_TEXT = \"Invalid `variable` option passed into `_.template`\";\n    /** Used to stand-in for `undefined` hash values. */ var HASH_UNDEFINED = \"__lodash_hash_undefined__\";\n    /** Used as the maximum memoize cache size. */ var MAX_MEMOIZE_SIZE = 500;\n    /** Used as the internal argument placeholder. */ var PLACEHOLDER = \"__lodash_placeholder__\";\n    /** Used to compose bitmasks for cloning. */ var CLONE_DEEP_FLAG = 1, CLONE_FLAT_FLAG = 2, CLONE_SYMBOLS_FLAG = 4;\n    /** Used to compose bitmasks for value comparisons. */ var COMPARE_PARTIAL_FLAG = 1, COMPARE_UNORDERED_FLAG = 2;\n    /** Used to compose bitmasks for function metadata. */ var WRAP_BIND_FLAG = 1, WRAP_BIND_KEY_FLAG = 2, WRAP_CURRY_BOUND_FLAG = 4, WRAP_CURRY_FLAG = 8, WRAP_CURRY_RIGHT_FLAG = 16, WRAP_PARTIAL_FLAG = 32, WRAP_PARTIAL_RIGHT_FLAG = 64, WRAP_ARY_FLAG = 128, WRAP_REARG_FLAG = 256, WRAP_FLIP_FLAG = 512;\n    /** Used as default options for `_.truncate`. */ var DEFAULT_TRUNC_LENGTH = 30, DEFAULT_TRUNC_OMISSION = \"...\";\n    /** Used to detect hot functions by number of calls within a span of milliseconds. */ var HOT_COUNT = 800, HOT_SPAN = 16;\n    /** Used to indicate the type of lazy iteratees. */ var LAZY_FILTER_FLAG = 1, LAZY_MAP_FLAG = 2, LAZY_WHILE_FLAG = 3;\n    /** Used as references for various `Number` constants. */ var INFINITY = 1 / 0, MAX_SAFE_INTEGER = 9007199254740991, MAX_INTEGER = 1.7976931348623157e+308, NAN = 0 / 0;\n    /** Used as references for the maximum length and index of an array. */ var MAX_ARRAY_LENGTH = 4294967295, MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1, HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n    /** Used to associate wrap methods with their bit flags. */ var wrapFlags = [\n        [\n            \"ary\",\n            WRAP_ARY_FLAG\n        ],\n        [\n            \"bind\",\n            WRAP_BIND_FLAG\n        ],\n        [\n            \"bindKey\",\n            WRAP_BIND_KEY_FLAG\n        ],\n        [\n            \"curry\",\n            WRAP_CURRY_FLAG\n        ],\n        [\n            \"curryRight\",\n            WRAP_CURRY_RIGHT_FLAG\n        ],\n        [\n            \"flip\",\n            WRAP_FLIP_FLAG\n        ],\n        [\n            \"partial\",\n            WRAP_PARTIAL_FLAG\n        ],\n        [\n            \"partialRight\",\n            WRAP_PARTIAL_RIGHT_FLAG\n        ],\n        [\n            \"rearg\",\n            WRAP_REARG_FLAG\n        ]\n    ];\n    /** `Object#toString` result references. */ var argsTag = \"[object Arguments]\", arrayTag = \"[object Array]\", asyncTag = \"[object AsyncFunction]\", boolTag = \"[object Boolean]\", dateTag = \"[object Date]\", domExcTag = \"[object DOMException]\", errorTag = \"[object Error]\", funcTag = \"[object Function]\", genTag = \"[object GeneratorFunction]\", mapTag = \"[object Map]\", numberTag = \"[object Number]\", nullTag = \"[object Null]\", objectTag = \"[object Object]\", promiseTag = \"[object Promise]\", proxyTag = \"[object Proxy]\", regexpTag = \"[object RegExp]\", setTag = \"[object Set]\", stringTag = \"[object String]\", symbolTag = \"[object Symbol]\", undefinedTag = \"[object Undefined]\", weakMapTag = \"[object WeakMap]\", weakSetTag = \"[object WeakSet]\";\n    var arrayBufferTag = \"[object ArrayBuffer]\", dataViewTag = \"[object DataView]\", float32Tag = \"[object Float32Array]\", float64Tag = \"[object Float64Array]\", int8Tag = \"[object Int8Array]\", int16Tag = \"[object Int16Array]\", int32Tag = \"[object Int32Array]\", uint8Tag = \"[object Uint8Array]\", uint8ClampedTag = \"[object Uint8ClampedArray]\", uint16Tag = \"[object Uint16Array]\", uint32Tag = \"[object Uint32Array]\";\n    /** Used to match empty string literals in compiled template source. */ var reEmptyStringLeading = /\\b__p \\+= '';/g, reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g, reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n    /** Used to match HTML entities and HTML characters. */ var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g, reUnescapedHtml = /[&<>\"']/g, reHasEscapedHtml = RegExp(reEscapedHtml.source), reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n    /** Used to match template delimiters. */ var reEscape = /<%-([\\s\\S]+?)%>/g, reEvaluate = /<%([\\s\\S]+?)%>/g, reInterpolate = /<%=([\\s\\S]+?)%>/g;\n    /** Used to match property names within property paths. */ var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/, reIsPlainProp = /^\\w*$/, rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n    /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */ var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g, reHasRegExpChar = RegExp(reRegExpChar.source);\n    /** Used to match leading whitespace. */ var reTrimStart = /^\\s+/;\n    /** Used to match a single whitespace character. */ var reWhitespace = /\\s/;\n    /** Used to match wrap detail comments. */ var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/, reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/, reSplitDetails = /,? & /;\n    /** Used to match words composed of alphanumeric characters. */ var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n    /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */ var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n    /** Used to match backslashes in property paths. */ var reEscapeChar = /\\\\(\\\\)?/g;\n    /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */ var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n    /** Used to match `RegExp` flags from their coerced string values. */ var reFlags = /\\w*$/;\n    /** Used to detect bad signed hexadecimal string values. */ var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n    /** Used to detect binary string values. */ var reIsBinary = /^0b[01]+$/i;\n    /** Used to detect host constructors (Safari). */ var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n    /** Used to detect octal string values. */ var reIsOctal = /^0o[0-7]+$/i;\n    /** Used to detect unsigned integer values. */ var reIsUint = /^(?:0|[1-9]\\d*)$/;\n    /** Used to match Latin Unicode letters (excluding mathematical operators). */ var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n    /** Used to ensure capturing order of template delimiters. */ var reNoMatch = /($^)/;\n    /** Used to match unescaped characters in compiled string literals. */ var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n    /** Used to compose unicode character classes. */ var rsAstralRange = \"\\ud800-\\udfff\", rsComboMarksRange = \"\\\\u0300-\\\\u036f\", reComboHalfMarksRange = \"\\\\ufe20-\\\\ufe2f\", rsComboSymbolsRange = \"\\\\u20d0-\\\\u20ff\", rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange, rsDingbatRange = \"\\\\u2700-\\\\u27bf\", rsLowerRange = \"a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff\", rsMathOpRange = \"\\\\xac\\\\xb1\\\\xd7\\\\xf7\", rsNonCharRange = \"\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\", rsPunctuationRange = \"\\\\u2000-\\\\u206f\", rsSpaceRange = \" \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\", rsUpperRange = \"A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde\", rsVarRange = \"\\\\ufe0e\\\\ufe0f\", rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n    /** Used to compose unicode capture groups. */ var rsApos = \"['\\u2019]\", rsAstral = \"[\" + rsAstralRange + \"]\", rsBreak = \"[\" + rsBreakRange + \"]\", rsCombo = \"[\" + rsComboRange + \"]\", rsDigits = \"\\\\d+\", rsDingbat = \"[\" + rsDingbatRange + \"]\", rsLower = \"[\" + rsLowerRange + \"]\", rsMisc = \"[^\" + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + \"]\", rsFitz = \"\\ud83c[\\udffb-\\udfff]\", rsModifier = \"(?:\" + rsCombo + \"|\" + rsFitz + \")\", rsNonAstral = \"[^\" + rsAstralRange + \"]\", rsRegional = \"(?:\\ud83c[\\udde6-\\uddff]){2}\", rsSurrPair = \"[\\ud800-\\udbff][\\udc00-\\udfff]\", rsUpper = \"[\" + rsUpperRange + \"]\", rsZWJ = \"\\\\u200d\";\n    /** Used to compose unicode regexes. */ var rsMiscLower = \"(?:\" + rsLower + \"|\" + rsMisc + \")\", rsMiscUpper = \"(?:\" + rsUpper + \"|\" + rsMisc + \")\", rsOptContrLower = \"(?:\" + rsApos + \"(?:d|ll|m|re|s|t|ve))?\", rsOptContrUpper = \"(?:\" + rsApos + \"(?:D|LL|M|RE|S|T|VE))?\", reOptMod = rsModifier + \"?\", rsOptVar = \"[\" + rsVarRange + \"]?\", rsOptJoin = \"(?:\" + rsZWJ + \"(?:\" + [\n        rsNonAstral,\n        rsRegional,\n        rsSurrPair\n    ].join(\"|\") + \")\" + rsOptVar + reOptMod + \")*\", rsOrdLower = \"\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])\", rsOrdUpper = \"\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])\", rsSeq = rsOptVar + reOptMod + rsOptJoin, rsEmoji = \"(?:\" + [\n        rsDingbat,\n        rsRegional,\n        rsSurrPair\n    ].join(\"|\") + \")\" + rsSeq, rsSymbol = \"(?:\" + [\n        rsNonAstral + rsCombo + \"?\",\n        rsCombo,\n        rsRegional,\n        rsSurrPair,\n        rsAstral\n    ].join(\"|\") + \")\";\n    /** Used to match apostrophes. */ var reApos = RegExp(rsApos, \"g\");\n    /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */ var reComboMark = RegExp(rsCombo, \"g\");\n    /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */ var reUnicode = RegExp(rsFitz + \"(?=\" + rsFitz + \")|\" + rsSymbol + rsSeq, \"g\");\n    /** Used to match complex or compound words. */ var reUnicodeWord = RegExp([\n        rsUpper + \"?\" + rsLower + \"+\" + rsOptContrLower + \"(?=\" + [\n            rsBreak,\n            rsUpper,\n            \"$\"\n        ].join(\"|\") + \")\",\n        rsMiscUpper + \"+\" + rsOptContrUpper + \"(?=\" + [\n            rsBreak,\n            rsUpper + rsMiscLower,\n            \"$\"\n        ].join(\"|\") + \")\",\n        rsUpper + \"?\" + rsMiscLower + \"+\" + rsOptContrLower,\n        rsUpper + \"+\" + rsOptContrUpper,\n        rsOrdUpper,\n        rsOrdLower,\n        rsDigits,\n        rsEmoji\n    ].join(\"|\"), \"g\");\n    /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */ var reHasUnicode = RegExp(\"[\" + rsZWJ + rsAstralRange + rsComboRange + rsVarRange + \"]\");\n    /** Used to detect strings that need a more robust regexp to match words. */ var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n    /** Used to assign default `context` object properties. */ var contextProps = [\n        \"Array\",\n        \"Buffer\",\n        \"DataView\",\n        \"Date\",\n        \"Error\",\n        \"Float32Array\",\n        \"Float64Array\",\n        \"Function\",\n        \"Int8Array\",\n        \"Int16Array\",\n        \"Int32Array\",\n        \"Map\",\n        \"Math\",\n        \"Object\",\n        \"Promise\",\n        \"RegExp\",\n        \"Set\",\n        \"String\",\n        \"Symbol\",\n        \"TypeError\",\n        \"Uint8Array\",\n        \"Uint8ClampedArray\",\n        \"Uint16Array\",\n        \"Uint32Array\",\n        \"WeakMap\",\n        \"_\",\n        \"clearTimeout\",\n        \"isFinite\",\n        \"parseInt\",\n        \"setTimeout\"\n    ];\n    /** Used to make template sourceURLs easier to identify. */ var templateCounter = -1;\n    /** Used to identify `toStringTag` values of typed arrays. */ var typedArrayTags = {};\n    typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\n    typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n    /** Used to identify `toStringTag` values supported by `_.clone`. */ var cloneableTags = {};\n    cloneableTags[argsTag] = cloneableTags[arrayTag] = cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] = cloneableTags[boolTag] = cloneableTags[dateTag] = cloneableTags[float32Tag] = cloneableTags[float64Tag] = cloneableTags[int8Tag] = cloneableTags[int16Tag] = cloneableTags[int32Tag] = cloneableTags[mapTag] = cloneableTags[numberTag] = cloneableTags[objectTag] = cloneableTags[regexpTag] = cloneableTags[setTag] = cloneableTags[stringTag] = cloneableTags[symbolTag] = cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n    cloneableTags[errorTag] = cloneableTags[funcTag] = cloneableTags[weakMapTag] = false;\n    /** Used to map Latin Unicode letters to basic Latin letters. */ var deburredLetters = {\n        // Latin-1 Supplement block.\n        \"\\xc0\": \"A\",\n        \"\\xc1\": \"A\",\n        \"\\xc2\": \"A\",\n        \"\\xc3\": \"A\",\n        \"\\xc4\": \"A\",\n        \"\\xc5\": \"A\",\n        \"\\xe0\": \"a\",\n        \"\\xe1\": \"a\",\n        \"\\xe2\": \"a\",\n        \"\\xe3\": \"a\",\n        \"\\xe4\": \"a\",\n        \"\\xe5\": \"a\",\n        \"\\xc7\": \"C\",\n        \"\\xe7\": \"c\",\n        \"\\xd0\": \"D\",\n        \"\\xf0\": \"d\",\n        \"\\xc8\": \"E\",\n        \"\\xc9\": \"E\",\n        \"\\xca\": \"E\",\n        \"\\xcb\": \"E\",\n        \"\\xe8\": \"e\",\n        \"\\xe9\": \"e\",\n        \"\\xea\": \"e\",\n        \"\\xeb\": \"e\",\n        \"\\xcc\": \"I\",\n        \"\\xcd\": \"I\",\n        \"\\xce\": \"I\",\n        \"\\xcf\": \"I\",\n        \"\\xec\": \"i\",\n        \"\\xed\": \"i\",\n        \"\\xee\": \"i\",\n        \"\\xef\": \"i\",\n        \"\\xd1\": \"N\",\n        \"\\xf1\": \"n\",\n        \"\\xd2\": \"O\",\n        \"\\xd3\": \"O\",\n        \"\\xd4\": \"O\",\n        \"\\xd5\": \"O\",\n        \"\\xd6\": \"O\",\n        \"\\xd8\": \"O\",\n        \"\\xf2\": \"o\",\n        \"\\xf3\": \"o\",\n        \"\\xf4\": \"o\",\n        \"\\xf5\": \"o\",\n        \"\\xf6\": \"o\",\n        \"\\xf8\": \"o\",\n        \"\\xd9\": \"U\",\n        \"\\xda\": \"U\",\n        \"\\xdb\": \"U\",\n        \"\\xdc\": \"U\",\n        \"\\xf9\": \"u\",\n        \"\\xfa\": \"u\",\n        \"\\xfb\": \"u\",\n        \"\\xfc\": \"u\",\n        \"\\xdd\": \"Y\",\n        \"\\xfd\": \"y\",\n        \"\\xff\": \"y\",\n        \"\\xc6\": \"Ae\",\n        \"\\xe6\": \"ae\",\n        \"\\xde\": \"Th\",\n        \"\\xfe\": \"th\",\n        \"\\xdf\": \"ss\",\n        // Latin Extended-A block.\n        \"\\u0100\": \"A\",\n        \"\\u0102\": \"A\",\n        \"\\u0104\": \"A\",\n        \"\\u0101\": \"a\",\n        \"\\u0103\": \"a\",\n        \"\\u0105\": \"a\",\n        \"\\u0106\": \"C\",\n        \"\\u0108\": \"C\",\n        \"\\u010A\": \"C\",\n        \"\\u010C\": \"C\",\n        \"\\u0107\": \"c\",\n        \"\\u0109\": \"c\",\n        \"\\u010B\": \"c\",\n        \"\\u010D\": \"c\",\n        \"\\u010E\": \"D\",\n        \"\\u0110\": \"D\",\n        \"\\u010F\": \"d\",\n        \"\\u0111\": \"d\",\n        \"\\u0112\": \"E\",\n        \"\\u0114\": \"E\",\n        \"\\u0116\": \"E\",\n        \"\\u0118\": \"E\",\n        \"\\u011A\": \"E\",\n        \"\\u0113\": \"e\",\n        \"\\u0115\": \"e\",\n        \"\\u0117\": \"e\",\n        \"\\u0119\": \"e\",\n        \"\\u011B\": \"e\",\n        \"\\u011C\": \"G\",\n        \"\\u011E\": \"G\",\n        \"\\u0120\": \"G\",\n        \"\\u0122\": \"G\",\n        \"\\u011D\": \"g\",\n        \"\\u011F\": \"g\",\n        \"\\u0121\": \"g\",\n        \"\\u0123\": \"g\",\n        \"\\u0124\": \"H\",\n        \"\\u0126\": \"H\",\n        \"\\u0125\": \"h\",\n        \"\\u0127\": \"h\",\n        \"\\u0128\": \"I\",\n        \"\\u012A\": \"I\",\n        \"\\u012C\": \"I\",\n        \"\\u012E\": \"I\",\n        \"\\u0130\": \"I\",\n        \"\\u0129\": \"i\",\n        \"\\u012B\": \"i\",\n        \"\\u012D\": \"i\",\n        \"\\u012F\": \"i\",\n        \"\\u0131\": \"i\",\n        \"\\u0134\": \"J\",\n        \"\\u0135\": \"j\",\n        \"\\u0136\": \"K\",\n        \"\\u0137\": \"k\",\n        \"\\u0138\": \"k\",\n        \"\\u0139\": \"L\",\n        \"\\u013B\": \"L\",\n        \"\\u013D\": \"L\",\n        \"\\u013F\": \"L\",\n        \"\\u0141\": \"L\",\n        \"\\u013A\": \"l\",\n        \"\\u013C\": \"l\",\n        \"\\u013E\": \"l\",\n        \"\\u0140\": \"l\",\n        \"\\u0142\": \"l\",\n        \"\\u0143\": \"N\",\n        \"\\u0145\": \"N\",\n        \"\\u0147\": \"N\",\n        \"\\u014A\": \"N\",\n        \"\\u0144\": \"n\",\n        \"\\u0146\": \"n\",\n        \"\\u0148\": \"n\",\n        \"\\u014B\": \"n\",\n        \"\\u014C\": \"O\",\n        \"\\u014E\": \"O\",\n        \"\\u0150\": \"O\",\n        \"\\u014D\": \"o\",\n        \"\\u014F\": \"o\",\n        \"\\u0151\": \"o\",\n        \"\\u0154\": \"R\",\n        \"\\u0156\": \"R\",\n        \"\\u0158\": \"R\",\n        \"\\u0155\": \"r\",\n        \"\\u0157\": \"r\",\n        \"\\u0159\": \"r\",\n        \"\\u015A\": \"S\",\n        \"\\u015C\": \"S\",\n        \"\\u015E\": \"S\",\n        \"\\u0160\": \"S\",\n        \"\\u015B\": \"s\",\n        \"\\u015D\": \"s\",\n        \"\\u015F\": \"s\",\n        \"\\u0161\": \"s\",\n        \"\\u0162\": \"T\",\n        \"\\u0164\": \"T\",\n        \"\\u0166\": \"T\",\n        \"\\u0163\": \"t\",\n        \"\\u0165\": \"t\",\n        \"\\u0167\": \"t\",\n        \"\\u0168\": \"U\",\n        \"\\u016A\": \"U\",\n        \"\\u016C\": \"U\",\n        \"\\u016E\": \"U\",\n        \"\\u0170\": \"U\",\n        \"\\u0172\": \"U\",\n        \"\\u0169\": \"u\",\n        \"\\u016B\": \"u\",\n        \"\\u016D\": \"u\",\n        \"\\u016F\": \"u\",\n        \"\\u0171\": \"u\",\n        \"\\u0173\": \"u\",\n        \"\\u0174\": \"W\",\n        \"\\u0175\": \"w\",\n        \"\\u0176\": \"Y\",\n        \"\\u0177\": \"y\",\n        \"\\u0178\": \"Y\",\n        \"\\u0179\": \"Z\",\n        \"\\u017B\": \"Z\",\n        \"\\u017D\": \"Z\",\n        \"\\u017A\": \"z\",\n        \"\\u017C\": \"z\",\n        \"\\u017E\": \"z\",\n        \"\\u0132\": \"IJ\",\n        \"\\u0133\": \"ij\",\n        \"\\u0152\": \"Oe\",\n        \"\\u0153\": \"oe\",\n        \"\\u0149\": \"'n\",\n        \"\\u017F\": \"s\"\n    };\n    /** Used to map characters to HTML entities. */ var htmlEscapes = {\n        \"&\": \"&amp;\",\n        \"<\": \"&lt;\",\n        \">\": \"&gt;\",\n        '\"': \"&quot;\",\n        \"'\": \"&#39;\"\n    };\n    /** Used to map HTML entities to characters. */ var htmlUnescapes = {\n        \"&amp;\": \"&\",\n        \"&lt;\": \"<\",\n        \"&gt;\": \">\",\n        \"&quot;\": '\"',\n        \"&#39;\": \"'\"\n    };\n    /** Used to escape characters for inclusion in compiled string literals. */ var stringEscapes = {\n        \"\\\\\": \"\\\\\",\n        \"'\": \"'\",\n        \"\\n\": \"n\",\n        \"\\r\": \"r\",\n        \"\\u2028\": \"u2028\",\n        \"\\u2029\": \"u2029\"\n    };\n    /** Built-in method references without a dependency on `root`. */ var freeParseFloat = parseFloat, freeParseInt = parseInt;\n    /** Detect free variable `global` from Node.js. */ var freeGlobal = typeof $parcel$global == \"object\" && $parcel$global && $parcel$global.Object === Object && $parcel$global;\n    /** Detect free variable `self`. */ var freeSelf = typeof self == \"object\" && self && self.Object === Object && self;\n    /** Used as a reference to the global object. */ var root = freeGlobal || freeSelf || Function(\"return this\")();\n    /** Detect free variable `exports`. */ var freeExports = exports && !exports.nodeType && exports;\n    /** Detect free variable `module`. */ var freeModule = freeExports && true && module && !module.nodeType && module;\n    /** Detect the popular CommonJS extension `module.exports`. */ var moduleExports = freeModule && freeModule.exports === freeExports;\n    /** Detect free variable `process` from Node.js. */ var freeProcess = moduleExports && freeGlobal.process;\n    /** Used to access faster Node.js helpers. */ var nodeUtil = function() {\n        try {\n            // Use `util.types` for Node.js 10+.\n            var types = freeModule && freeModule.require && freeModule.require(\"util\").types;\n            if (types) return types;\n            // Legacy `process.binding('util')` for Node.js < 10.\n            return freeProcess && freeProcess.binding && freeProcess.binding(\"util\");\n        } catch (e) {}\n    }();\n    /* Node.js helper references. */ var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer, nodeIsDate = nodeUtil && nodeUtil.isDate, nodeIsMap = nodeUtil && nodeUtil.isMap, nodeIsRegExp = nodeUtil && nodeUtil.isRegExp, nodeIsSet = nodeUtil && nodeUtil.isSet, nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n    /*--------------------------------------------------------------------------*/ /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */ function apply(func, thisArg, args) {\n        switch(args.length){\n            case 0:\n                return func.call(thisArg);\n            case 1:\n                return func.call(thisArg, args[0]);\n            case 2:\n                return func.call(thisArg, args[0], args[1]);\n            case 3:\n                return func.call(thisArg, args[0], args[1], args[2]);\n        }\n        return func.apply(thisArg, args);\n    }\n    /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */ function arrayAggregator(array, setter, iteratee, accumulator) {\n        var index = -1, length = array == null ? 0 : array.length;\n        while(++index < length){\n            var value = array[index];\n            setter(accumulator, value, iteratee(value), array);\n        }\n        return accumulator;\n    }\n    /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */ function arrayEach(array, iteratee) {\n        var index = -1, length = array == null ? 0 : array.length;\n        while(++index < length){\n            if (iteratee(array[index], index, array) === false) break;\n        }\n        return array;\n    }\n    /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */ function arrayEachRight(array, iteratee) {\n        var length = array == null ? 0 : array.length;\n        while(length--){\n            if (iteratee(array[length], length, array) === false) break;\n        }\n        return array;\n    }\n    /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */ function arrayEvery(array, predicate) {\n        var index = -1, length = array == null ? 0 : array.length;\n        while(++index < length){\n            if (!predicate(array[index], index, array)) return false;\n        }\n        return true;\n    }\n    /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */ function arrayFilter(array, predicate) {\n        var index = -1, length = array == null ? 0 : array.length, resIndex = 0, result = [];\n        while(++index < length){\n            var value = array[index];\n            if (predicate(value, index, array)) result[resIndex++] = value;\n        }\n        return result;\n    }\n    /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */ function arrayIncludes(array, value) {\n        var length = array == null ? 0 : array.length;\n        return !!length && baseIndexOf(array, value, 0) > -1;\n    }\n    /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */ function arrayIncludesWith(array, value, comparator) {\n        var index = -1, length = array == null ? 0 : array.length;\n        while(++index < length){\n            if (comparator(value, array[index])) return true;\n        }\n        return false;\n    }\n    /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */ function arrayMap(array, iteratee) {\n        var index = -1, length = array == null ? 0 : array.length, result = Array(length);\n        while(++index < length)result[index] = iteratee(array[index], index, array);\n        return result;\n    }\n    /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */ function arrayPush(array, values) {\n        var index = -1, length = values.length, offset = array.length;\n        while(++index < length)array[offset + index] = values[index];\n        return array;\n    }\n    /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */ function arrayReduce(array, iteratee, accumulator, initAccum) {\n        var index = -1, length = array == null ? 0 : array.length;\n        if (initAccum && length) accumulator = array[++index];\n        while(++index < length)accumulator = iteratee(accumulator, array[index], index, array);\n        return accumulator;\n    }\n    /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */ function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n        var length = array == null ? 0 : array.length;\n        if (initAccum && length) accumulator = array[--length];\n        while(length--)accumulator = iteratee(accumulator, array[length], length, array);\n        return accumulator;\n    }\n    /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */ function arraySome(array, predicate) {\n        var index = -1, length = array == null ? 0 : array.length;\n        while(++index < length){\n            if (predicate(array[index], index, array)) return true;\n        }\n        return false;\n    }\n    /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */ var asciiSize = baseProperty(\"length\");\n    /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */ function asciiToArray(string) {\n        return string.split(\"\");\n    }\n    /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */ function asciiWords(string) {\n        return string.match(reAsciiWord) || [];\n    }\n    /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */ function baseFindKey(collection, predicate, eachFunc) {\n        var result;\n        eachFunc(collection, function(value, key, collection) {\n            if (predicate(value, key, collection)) {\n                result = key;\n                return false;\n            }\n        });\n        return result;\n    }\n    /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */ function baseFindIndex(array, predicate, fromIndex, fromRight) {\n        var length = array.length, index = fromIndex + (fromRight ? 1 : -1);\n        while(fromRight ? index-- : ++index < length){\n            if (predicate(array[index], index, array)) return index;\n        }\n        return -1;\n    }\n    /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */ function baseIndexOf(array, value, fromIndex) {\n        return value === value ? strictIndexOf(array, value, fromIndex) : baseFindIndex(array, baseIsNaN, fromIndex);\n    }\n    /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */ function baseIndexOfWith(array, value, fromIndex, comparator) {\n        var index = fromIndex - 1, length = array.length;\n        while(++index < length){\n            if (comparator(array[index], value)) return index;\n        }\n        return -1;\n    }\n    /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */ function baseIsNaN(value) {\n        return value !== value;\n    }\n    /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */ function baseMean(array, iteratee) {\n        var length = array == null ? 0 : array.length;\n        return length ? baseSum(array, iteratee) / length : NAN;\n    }\n    /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */ function baseProperty(key) {\n        return function(object) {\n            return object == null ? undefined : object[key];\n        };\n    }\n    /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */ function basePropertyOf(object) {\n        return function(key) {\n            return object == null ? undefined : object[key];\n        };\n    }\n    /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */ function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n        eachFunc(collection, function(value, index, collection) {\n            accumulator = initAccum ? (initAccum = false, value) : iteratee(accumulator, value, index, collection);\n        });\n        return accumulator;\n    }\n    /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */ function baseSortBy(array, comparer) {\n        var length = array.length;\n        array.sort(comparer);\n        while(length--)array[length] = array[length].value;\n        return array;\n    }\n    /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */ function baseSum(array, iteratee) {\n        var result, index = -1, length = array.length;\n        while(++index < length){\n            var current = iteratee(array[index]);\n            if (current !== undefined) result = result === undefined ? current : result + current;\n        }\n        return result;\n    }\n    /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */ function baseTimes(n, iteratee) {\n        var index = -1, result = Array(n);\n        while(++index < n)result[index] = iteratee(index);\n        return result;\n    }\n    /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */ function baseToPairs(object, props) {\n        return arrayMap(props, function(key) {\n            return [\n                key,\n                object[key]\n            ];\n        });\n    }\n    /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */ function baseTrim(string) {\n        return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, \"\") : string;\n    }\n    /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */ function baseUnary(func) {\n        return function(value) {\n            return func(value);\n        };\n    }\n    /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */ function baseValues(object, props) {\n        return arrayMap(props, function(key) {\n            return object[key];\n        });\n    }\n    /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */ function cacheHas(cache, key) {\n        return cache.has(key);\n    }\n    /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */ function charsStartIndex(strSymbols, chrSymbols) {\n        var index = -1, length = strSymbols.length;\n        while(++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1);\n        return index;\n    }\n    /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */ function charsEndIndex(strSymbols, chrSymbols) {\n        var index = strSymbols.length;\n        while(index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1);\n        return index;\n    }\n    /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */ function countHolders(array, placeholder) {\n        var length = array.length, result = 0;\n        while(length--)if (array[length] === placeholder) ++result;\n        return result;\n    }\n    /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */ var deburrLetter = basePropertyOf(deburredLetters);\n    /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */ var escapeHtmlChar = basePropertyOf(htmlEscapes);\n    /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */ function escapeStringChar(chr) {\n        return \"\\\\\" + stringEscapes[chr];\n    }\n    /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */ function getValue(object, key) {\n        return object == null ? undefined : object[key];\n    }\n    /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */ function hasUnicode(string) {\n        return reHasUnicode.test(string);\n    }\n    /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */ function hasUnicodeWord(string) {\n        return reHasUnicodeWord.test(string);\n    }\n    /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */ function iteratorToArray(iterator) {\n        var data, result = [];\n        while(!(data = iterator.next()).done)result.push(data.value);\n        return result;\n    }\n    /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */ function mapToArray(map) {\n        var index = -1, result = Array(map.size);\n        map.forEach(function(value, key) {\n            result[++index] = [\n                key,\n                value\n            ];\n        });\n        return result;\n    }\n    /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */ function overArg(func, transform) {\n        return function(arg) {\n            return func(transform(arg));\n        };\n    }\n    /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */ function replaceHolders(array, placeholder) {\n        var index = -1, length = array.length, resIndex = 0, result = [];\n        while(++index < length){\n            var value = array[index];\n            if (value === placeholder || value === PLACEHOLDER) {\n                array[index] = PLACEHOLDER;\n                result[resIndex++] = index;\n            }\n        }\n        return result;\n    }\n    /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */ function setToArray(set) {\n        var index = -1, result = Array(set.size);\n        set.forEach(function(value) {\n            result[++index] = value;\n        });\n        return result;\n    }\n    /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */ function setToPairs(set) {\n        var index = -1, result = Array(set.size);\n        set.forEach(function(value) {\n            result[++index] = [\n                value,\n                value\n            ];\n        });\n        return result;\n    }\n    /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */ function strictIndexOf(array, value, fromIndex) {\n        var index = fromIndex - 1, length = array.length;\n        while(++index < length){\n            if (array[index] === value) return index;\n        }\n        return -1;\n    }\n    /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */ function strictLastIndexOf(array, value, fromIndex) {\n        var index = fromIndex + 1;\n        while(index--){\n            if (array[index] === value) return index;\n        }\n        return index;\n    }\n    /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */ function stringSize(string) {\n        return hasUnicode(string) ? unicodeSize(string) : asciiSize(string);\n    }\n    /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */ function stringToArray(string) {\n        return hasUnicode(string) ? unicodeToArray(string) : asciiToArray(string);\n    }\n    /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */ function trimmedEndIndex(string) {\n        var index = string.length;\n        while(index-- && reWhitespace.test(string.charAt(index)));\n        return index;\n    }\n    /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */ var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n    /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */ function unicodeSize(string) {\n        var result = reUnicode.lastIndex = 0;\n        while(reUnicode.test(string))++result;\n        return result;\n    }\n    /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */ function unicodeToArray(string) {\n        return string.match(reUnicode) || [];\n    }\n    /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */ function unicodeWords(string) {\n        return string.match(reUnicodeWord) || [];\n    }\n    /*--------------------------------------------------------------------------*/ /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */ var runInContext = function runInContext(context) {\n        context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n        /** Built-in constructor references. */ var Array1 = context.Array, Date = context.Date, Error = context.Error, Function1 = context.Function, Math = context.Math, Object1 = context.Object, RegExp1 = context.RegExp, String = context.String, TypeError = context.TypeError;\n        /** Used for built-in method references. */ var arrayProto = Array1.prototype, funcProto = Function1.prototype, objectProto = Object1.prototype;\n        /** Used to detect overreaching core-js shims. */ var coreJsData = context[\"__core-js_shared__\"];\n        /** Used to resolve the decompiled source of functions. */ var funcToString = funcProto.toString;\n        /** Used to check objects for own properties. */ var hasOwnProperty = objectProto.hasOwnProperty;\n        /** Used to generate unique IDs. */ var idCounter = 0;\n        /** Used to detect methods masquerading as native. */ var maskSrcKey = function() {\n            var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || \"\");\n            return uid ? \"Symbol(src)_1.\" + uid : \"\";\n        }();\n        /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */ var nativeObjectToString = objectProto.toString;\n        /** Used to infer the `Object` constructor. */ var objectCtorString = funcToString.call(Object1);\n        /** Used to restore the original `_` reference in `_.noConflict`. */ var oldDash = root._;\n        /** Used to detect if a method is native. */ var reIsNative = RegExp1(\"^\" + funcToString.call(hasOwnProperty).replace(reRegExpChar, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\");\n        /** Built-in value references. */ var Buffer = moduleExports ? context.Buffer : undefined, Symbol = context.Symbol, Uint8Array = context.Uint8Array, allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined, getPrototype = overArg(Object1.getPrototypeOf, Object1), objectCreate = Object1.create, propertyIsEnumerable = objectProto.propertyIsEnumerable, splice = arrayProto.splice, spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined, symIterator = Symbol ? Symbol.iterator : undefined, symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n        var defineProperty = function() {\n            try {\n                var func = getNative(Object1, \"defineProperty\");\n                func({}, \"\", {});\n                return func;\n            } catch (e) {}\n        }();\n        /** Mocked built-ins. */ var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout, ctxNow = Date && Date.now !== root.Date.now && Date.now, ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n        /* Built-in method references for those with the same name as other `lodash` methods. */ var nativeCeil = Math.ceil, nativeFloor = Math.floor, nativeGetSymbols = Object1.getOwnPropertySymbols, nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined, nativeIsFinite = context.isFinite, nativeJoin = arrayProto.join, nativeKeys = overArg(Object1.keys, Object1), nativeMax = Math.max, nativeMin = Math.min, nativeNow = Date.now, nativeParseInt = context.parseInt, nativeRandom = Math.random, nativeReverse = arrayProto.reverse;\n        /* Built-in method references that are verified to be native. */ var DataView = getNative(context, \"DataView\"), Map = getNative(context, \"Map\"), Promise = getNative(context, \"Promise\"), Set = getNative(context, \"Set\"), WeakMap = getNative(context, \"WeakMap\"), nativeCreate = getNative(Object1, \"create\");\n        /** Used to store function metadata. */ var metaMap = WeakMap && new WeakMap;\n        /** Used to lookup unminified function names. */ var realNames = {};\n        /** Used to detect maps, sets, and weakmaps. */ var dataViewCtorString = toSource(DataView), mapCtorString = toSource(Map), promiseCtorString = toSource(Promise), setCtorString = toSource(Set), weakMapCtorString = toSource(WeakMap);\n        /** Used to convert symbols to primitives and strings. */ var symbolProto = Symbol ? Symbol.prototype : undefined, symbolValueOf = symbolProto ? symbolProto.valueOf : undefined, symbolToString = symbolProto ? symbolProto.toString : undefined;\n        /*------------------------------------------------------------------------*/ /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */ function lodash(value) {\n            if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n                if (value instanceof LodashWrapper) return value;\n                if (hasOwnProperty.call(value, \"__wrapped__\")) return wrapperClone(value);\n            }\n            return new LodashWrapper(value);\n        }\n        /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */ var baseCreate = function() {\n            function object() {}\n            return function(proto) {\n                if (!isObject(proto)) return {};\n                if (objectCreate) return objectCreate(proto);\n                object.prototype = proto;\n                var result = new object;\n                object.prototype = undefined;\n                return result;\n            };\n        }();\n        /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */ function baseLodash() {\n        // No operation performed.\n        }\n        /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */ function LodashWrapper(value, chainAll) {\n            this.__wrapped__ = value;\n            this.__actions__ = [];\n            this.__chain__ = !!chainAll;\n            this.__index__ = 0;\n            this.__values__ = undefined;\n        }\n        /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */ lodash.templateSettings = {\n            /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */ \"escape\": reEscape,\n            /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */ \"evaluate\": reEvaluate,\n            /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */ \"interpolate\": reInterpolate,\n            /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */ \"variable\": \"\",\n            /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */ \"imports\": {\n                /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */ \"_\": lodash\n            }\n        };\n        // Ensure wrappers are instances of `baseLodash`.\n        lodash.prototype = baseLodash.prototype;\n        lodash.prototype.constructor = lodash;\n        LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n        LodashWrapper.prototype.constructor = LodashWrapper;\n        /*------------------------------------------------------------------------*/ /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */ function LazyWrapper(value) {\n            this.__wrapped__ = value;\n            this.__actions__ = [];\n            this.__dir__ = 1;\n            this.__filtered__ = false;\n            this.__iteratees__ = [];\n            this.__takeCount__ = MAX_ARRAY_LENGTH;\n            this.__views__ = [];\n        }\n        /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */ function lazyClone() {\n            var result = new LazyWrapper(this.__wrapped__);\n            result.__actions__ = copyArray(this.__actions__);\n            result.__dir__ = this.__dir__;\n            result.__filtered__ = this.__filtered__;\n            result.__iteratees__ = copyArray(this.__iteratees__);\n            result.__takeCount__ = this.__takeCount__;\n            result.__views__ = copyArray(this.__views__);\n            return result;\n        }\n        /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */ function lazyReverse() {\n            if (this.__filtered__) {\n                var result = new LazyWrapper(this);\n                result.__dir__ = -1;\n                result.__filtered__ = true;\n            } else {\n                result = this.clone();\n                result.__dir__ *= -1;\n            }\n            return result;\n        }\n        /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */ function lazyValue() {\n            var array = this.__wrapped__.value(), dir = this.__dir__, isArr = isArray(array), isRight = dir < 0, arrLength = isArr ? array.length : 0, view = getView(0, arrLength, this.__views__), start = view.start, end = view.end, length = end - start, index = isRight ? end : start - 1, iteratees = this.__iteratees__, iterLength = iteratees.length, resIndex = 0, takeCount = nativeMin(length, this.__takeCount__);\n            if (!isArr || !isRight && arrLength == length && takeCount == length) return baseWrapperValue(array, this.__actions__);\n            var result = [];\n            outer: while(length-- && resIndex < takeCount){\n                index += dir;\n                var iterIndex = -1, value = array[index];\n                while(++iterIndex < iterLength){\n                    var data = iteratees[iterIndex], iteratee = data.iteratee, type = data.type, computed = iteratee(value);\n                    if (type == LAZY_MAP_FLAG) value = computed;\n                    else if (!computed) {\n                        if (type == LAZY_FILTER_FLAG) continue outer;\n                        else break outer;\n                    }\n                }\n                result[resIndex++] = value;\n            }\n            return result;\n        }\n        // Ensure `LazyWrapper` is an instance of `baseLodash`.\n        LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n        LazyWrapper.prototype.constructor = LazyWrapper;\n        /*------------------------------------------------------------------------*/ /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */ function Hash(entries) {\n            var index = -1, length = entries == null ? 0 : entries.length;\n            this.clear();\n            while(++index < length){\n                var entry = entries[index];\n                this.set(entry[0], entry[1]);\n            }\n        }\n        /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */ function hashClear() {\n            this.__data__ = nativeCreate ? nativeCreate(null) : {};\n            this.size = 0;\n        }\n        /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */ function hashDelete(key) {\n            var result = this.has(key) && delete this.__data__[key];\n            this.size -= result ? 1 : 0;\n            return result;\n        }\n        /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */ function hashGet(key) {\n            var data = this.__data__;\n            if (nativeCreate) {\n                var result = data[key];\n                return result === HASH_UNDEFINED ? undefined : result;\n            }\n            return hasOwnProperty.call(data, key) ? data[key] : undefined;\n        }\n        /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */ function hashHas(key) {\n            var data = this.__data__;\n            return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n        }\n        /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */ function hashSet(key, value) {\n            var data = this.__data__;\n            this.size += this.has(key) ? 0 : 1;\n            data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;\n            return this;\n        }\n        // Add methods to `Hash`.\n        Hash.prototype.clear = hashClear;\n        Hash.prototype[\"delete\"] = hashDelete;\n        Hash.prototype.get = hashGet;\n        Hash.prototype.has = hashHas;\n        Hash.prototype.set = hashSet;\n        /*------------------------------------------------------------------------*/ /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */ function ListCache(entries) {\n            var index = -1, length = entries == null ? 0 : entries.length;\n            this.clear();\n            while(++index < length){\n                var entry = entries[index];\n                this.set(entry[0], entry[1]);\n            }\n        }\n        /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */ function listCacheClear() {\n            this.__data__ = [];\n            this.size = 0;\n        }\n        /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */ function listCacheDelete(key) {\n            var data = this.__data__, index = assocIndexOf(data, key);\n            if (index < 0) return false;\n            var lastIndex = data.length - 1;\n            if (index == lastIndex) data.pop();\n            else splice.call(data, index, 1);\n            --this.size;\n            return true;\n        }\n        /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */ function listCacheGet(key) {\n            var data = this.__data__, index = assocIndexOf(data, key);\n            return index < 0 ? undefined : data[index][1];\n        }\n        /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */ function listCacheHas(key) {\n            return assocIndexOf(this.__data__, key) > -1;\n        }\n        /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */ function listCacheSet(key, value) {\n            var data = this.__data__, index = assocIndexOf(data, key);\n            if (index < 0) {\n                ++this.size;\n                data.push([\n                    key,\n                    value\n                ]);\n            } else data[index][1] = value;\n            return this;\n        }\n        // Add methods to `ListCache`.\n        ListCache.prototype.clear = listCacheClear;\n        ListCache.prototype[\"delete\"] = listCacheDelete;\n        ListCache.prototype.get = listCacheGet;\n        ListCache.prototype.has = listCacheHas;\n        ListCache.prototype.set = listCacheSet;\n        /*------------------------------------------------------------------------*/ /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */ function MapCache(entries) {\n            var index = -1, length = entries == null ? 0 : entries.length;\n            this.clear();\n            while(++index < length){\n                var entry = entries[index];\n                this.set(entry[0], entry[1]);\n            }\n        }\n        /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */ function mapCacheClear() {\n            this.size = 0;\n            this.__data__ = {\n                \"hash\": new Hash,\n                \"map\": new (Map || ListCache),\n                \"string\": new Hash\n            };\n        }\n        /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */ function mapCacheDelete(key) {\n            var result = getMapData(this, key)[\"delete\"](key);\n            this.size -= result ? 1 : 0;\n            return result;\n        }\n        /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */ function mapCacheGet(key) {\n            return getMapData(this, key).get(key);\n        }\n        /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */ function mapCacheHas(key) {\n            return getMapData(this, key).has(key);\n        }\n        /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */ function mapCacheSet(key, value) {\n            var data = getMapData(this, key), size = data.size;\n            data.set(key, value);\n            this.size += data.size == size ? 0 : 1;\n            return this;\n        }\n        // Add methods to `MapCache`.\n        MapCache.prototype.clear = mapCacheClear;\n        MapCache.prototype[\"delete\"] = mapCacheDelete;\n        MapCache.prototype.get = mapCacheGet;\n        MapCache.prototype.has = mapCacheHas;\n        MapCache.prototype.set = mapCacheSet;\n        /*------------------------------------------------------------------------*/ /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */ function SetCache(values) {\n            var index = -1, length = values == null ? 0 : values.length;\n            this.__data__ = new MapCache;\n            while(++index < length)this.add(values[index]);\n        }\n        /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */ function setCacheAdd(value) {\n            this.__data__.set(value, HASH_UNDEFINED);\n            return this;\n        }\n        /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */ function setCacheHas(value) {\n            return this.__data__.has(value);\n        }\n        // Add methods to `SetCache`.\n        SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n        SetCache.prototype.has = setCacheHas;\n        /*------------------------------------------------------------------------*/ /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */ function Stack(entries) {\n            var data = this.__data__ = new ListCache(entries);\n            this.size = data.size;\n        }\n        /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */ function stackClear() {\n            this.__data__ = new ListCache;\n            this.size = 0;\n        }\n        /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */ function stackDelete(key) {\n            var data = this.__data__, result = data[\"delete\"](key);\n            this.size = data.size;\n            return result;\n        }\n        /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */ function stackGet(key) {\n            return this.__data__.get(key);\n        }\n        /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */ function stackHas(key) {\n            return this.__data__.has(key);\n        }\n        /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */ function stackSet(key, value) {\n            var data = this.__data__;\n            if (data instanceof ListCache) {\n                var pairs = data.__data__;\n                if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n                    pairs.push([\n                        key,\n                        value\n                    ]);\n                    this.size = ++data.size;\n                    return this;\n                }\n                data = this.__data__ = new MapCache(pairs);\n            }\n            data.set(key, value);\n            this.size = data.size;\n            return this;\n        }\n        // Add methods to `Stack`.\n        Stack.prototype.clear = stackClear;\n        Stack.prototype[\"delete\"] = stackDelete;\n        Stack.prototype.get = stackGet;\n        Stack.prototype.has = stackHas;\n        Stack.prototype.set = stackSet;\n        /*------------------------------------------------------------------------*/ /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */ function arrayLikeKeys(value, inherited) {\n            var isArr = isArray(value), isArg = !isArr && isArguments(value), isBuff = !isArr && !isArg && isBuffer(value), isType = !isArr && !isArg && !isBuff && isTypedArray(value), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes(value.length, String) : [], length = result.length;\n            for(var key in value)if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && // Safari 9 has enumerable `arguments.length` in strict mode.\n            (key == \"length\" || // Node.js 0.10 has enumerable non-index properties on buffers.\n            isBuff && (key == \"offset\" || key == \"parent\") || // PhantomJS 2 has enumerable non-index properties on typed arrays.\n            isType && (key == \"buffer\" || key == \"byteLength\" || key == \"byteOffset\") || // Skip index properties.\n            isIndex(key, length)))) result.push(key);\n            return result;\n        }\n        /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */ function arraySample(array) {\n            var length = array.length;\n            return length ? array[baseRandom(0, length - 1)] : undefined;\n        }\n        /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */ function arraySampleSize(array, n) {\n            return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n        }\n        /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */ function arrayShuffle(array) {\n            return shuffleSelf(copyArray(array));\n        }\n        /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */ function assignMergeValue(object, key, value) {\n            if (value !== undefined && !eq(object[key], value) || value === undefined && !(key in object)) baseAssignValue(object, key, value);\n        }\n        /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */ function assignValue(object, key, value) {\n            var objValue = object[key];\n            if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) || value === undefined && !(key in object)) baseAssignValue(object, key, value);\n        }\n        /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */ function assocIndexOf(array, key) {\n            var length = array.length;\n            while(length--){\n                if (eq(array[length][0], key)) return length;\n            }\n            return -1;\n        }\n        /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */ function baseAggregator(collection, setter, iteratee, accumulator) {\n            baseEach(collection, function(value, key, collection) {\n                setter(accumulator, value, iteratee(value), collection);\n            });\n            return accumulator;\n        }\n        /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */ function baseAssign(object, source) {\n            return object && copyObject(source, keys(source), object);\n        }\n        /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */ function baseAssignIn(object, source) {\n            return object && copyObject(source, keysIn(source), object);\n        }\n        /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */ function baseAssignValue(object, key, value) {\n            if (key == \"__proto__\" && defineProperty) defineProperty(object, key, {\n                \"configurable\": true,\n                \"enumerable\": true,\n                \"value\": value,\n                \"writable\": true\n            });\n            else object[key] = value;\n        }\n        /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */ function baseAt(object, paths) {\n            var index = -1, length = paths.length, result = Array1(length), skip = object == null;\n            while(++index < length)result[index] = skip ? undefined : get(object, paths[index]);\n            return result;\n        }\n        /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */ function baseClamp(number, lower, upper) {\n            if (number === number) {\n                if (upper !== undefined) number = number <= upper ? number : upper;\n                if (lower !== undefined) number = number >= lower ? number : lower;\n            }\n            return number;\n        }\n        /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */ function baseClone(value, bitmask, customizer, key, object, stack) {\n            var result, isDeep = bitmask & CLONE_DEEP_FLAG, isFlat = bitmask & CLONE_FLAT_FLAG, isFull = bitmask & CLONE_SYMBOLS_FLAG;\n            if (customizer) result = object ? customizer(value, key, object, stack) : customizer(value);\n            if (result !== undefined) return result;\n            if (!isObject(value)) return value;\n            var isArr = isArray(value);\n            if (isArr) {\n                result = initCloneArray(value);\n                if (!isDeep) return copyArray(value, result);\n            } else {\n                var tag = getTag(value), isFunc = tag == funcTag || tag == genTag;\n                if (isBuffer(value)) return cloneBuffer(value, isDeep);\n                if (tag == objectTag || tag == argsTag || isFunc && !object) {\n                    result = isFlat || isFunc ? {} : initCloneObject(value);\n                    if (!isDeep) return isFlat ? copySymbolsIn(value, baseAssignIn(result, value)) : copySymbols(value, baseAssign(result, value));\n                } else {\n                    if (!cloneableTags[tag]) return object ? value : {};\n                    result = initCloneByTag(value, tag, isDeep);\n                }\n            }\n            // Check for circular references and return its corresponding clone.\n            stack || (stack = new Stack);\n            var stacked = stack.get(value);\n            if (stacked) return stacked;\n            stack.set(value, result);\n            if (isSet(value)) value.forEach(function(subValue) {\n                result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n            });\n            else if (isMap(value)) value.forEach(function(subValue, key) {\n                result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n            });\n            var keysFunc = isFull ? isFlat ? getAllKeysIn : getAllKeys : isFlat ? keysIn : keys;\n            var props = isArr ? undefined : keysFunc(value);\n            arrayEach(props || value, function(subValue, key) {\n                if (props) {\n                    key = subValue;\n                    subValue = value[key];\n                }\n                // Recursively populate clone (susceptible to call stack limits).\n                assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n            });\n            return result;\n        }\n        /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */ function baseConforms(source) {\n            var props = keys(source);\n            return function(object) {\n                return baseConformsTo(object, source, props);\n            };\n        }\n        /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */ function baseConformsTo(object, source, props) {\n            var length = props.length;\n            if (object == null) return !length;\n            object = Object1(object);\n            while(length--){\n                var key = props[length], predicate = source[key], value = object[key];\n                if (value === undefined && !(key in object) || !predicate(value)) return false;\n            }\n            return true;\n        }\n        /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */ function baseDelay(func, wait, args) {\n            if (typeof func != \"function\") throw new TypeError(FUNC_ERROR_TEXT);\n            return setTimeout(function() {\n                func.apply(undefined, args);\n            }, wait);\n        }\n        /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */ function baseDifference(array, values, iteratee, comparator) {\n            var index = -1, includes = arrayIncludes, isCommon = true, length = array.length, result = [], valuesLength = values.length;\n            if (!length) return result;\n            if (iteratee) values = arrayMap(values, baseUnary(iteratee));\n            if (comparator) {\n                includes = arrayIncludesWith;\n                isCommon = false;\n            } else if (values.length >= LARGE_ARRAY_SIZE) {\n                includes = cacheHas;\n                isCommon = false;\n                values = new SetCache(values);\n            }\n            outer: while(++index < length){\n                var value = array[index], computed = iteratee == null ? value : iteratee(value);\n                value = comparator || value !== 0 ? value : 0;\n                if (isCommon && computed === computed) {\n                    var valuesIndex = valuesLength;\n                    while(valuesIndex--){\n                        if (values[valuesIndex] === computed) continue outer;\n                    }\n                    result.push(value);\n                } else if (!includes(values, computed, comparator)) result.push(value);\n            }\n            return result;\n        }\n        /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */ var baseEach = createBaseEach(baseForOwn);\n        /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */ var baseEachRight = createBaseEach(baseForOwnRight, true);\n        /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */ function baseEvery(collection, predicate) {\n            var result = true;\n            baseEach(collection, function(value, index, collection) {\n                result = !!predicate(value, index, collection);\n                return result;\n            });\n            return result;\n        }\n        /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */ function baseExtremum(array, iteratee, comparator) {\n            var index = -1, length = array.length;\n            while(++index < length){\n                var value = array[index], current = iteratee(value);\n                if (current != null && (computed === undefined ? current === current && !isSymbol(current) : comparator(current, computed))) var computed = current, result = value;\n            }\n            return result;\n        }\n        /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */ function baseFill(array, value, start, end) {\n            var length = array.length;\n            start = toInteger(start);\n            if (start < 0) start = -start > length ? 0 : length + start;\n            end = end === undefined || end > length ? length : toInteger(end);\n            if (end < 0) end += length;\n            end = start > end ? 0 : toLength(end);\n            while(start < end)array[start++] = value;\n            return array;\n        }\n        /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */ function baseFilter(collection, predicate) {\n            var result = [];\n            baseEach(collection, function(value, index, collection) {\n                if (predicate(value, index, collection)) result.push(value);\n            });\n            return result;\n        }\n        /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */ function baseFlatten(array, depth, predicate, isStrict, result) {\n            var index = -1, length = array.length;\n            predicate || (predicate = isFlattenable);\n            result || (result = []);\n            while(++index < length){\n                var value = array[index];\n                if (depth > 0 && predicate(value)) {\n                    if (depth > 1) // Recursively flatten arrays (susceptible to call stack limits).\n                    baseFlatten(value, depth - 1, predicate, isStrict, result);\n                    else arrayPush(result, value);\n                } else if (!isStrict) result[result.length] = value;\n            }\n            return result;\n        }\n        /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */ var baseFor = createBaseFor();\n        /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */ var baseForRight = createBaseFor(true);\n        /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */ function baseForOwn(object, iteratee) {\n            return object && baseFor(object, iteratee, keys);\n        }\n        /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */ function baseForOwnRight(object, iteratee) {\n            return object && baseForRight(object, iteratee, keys);\n        }\n        /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */ function baseFunctions(object, props) {\n            return arrayFilter(props, function(key) {\n                return isFunction(object[key]);\n            });\n        }\n        /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */ function baseGet(object, path) {\n            path = castPath(path, object);\n            var index = 0, length = path.length;\n            while(object != null && index < length)object = object[toKey(path[index++])];\n            return index && index == length ? object : undefined;\n        }\n        /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */ function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n            var result = keysFunc(object);\n            return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n        }\n        /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */ function baseGetTag(value) {\n            if (value == null) return value === undefined ? undefinedTag : nullTag;\n            return symToStringTag && symToStringTag in Object1(value) ? getRawTag(value) : objectToString(value);\n        }\n        /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */ function baseGt(value, other) {\n            return value > other;\n        }\n        /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */ function baseHas(object, key) {\n            return object != null && hasOwnProperty.call(object, key);\n        }\n        /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */ function baseHasIn(object, key) {\n            return object != null && key in Object1(object);\n        }\n        /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */ function baseInRange(number, start, end) {\n            return number >= nativeMin(start, end) && number < nativeMax(start, end);\n        }\n        /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */ function baseIntersection(arrays, iteratee, comparator) {\n            var includes = comparator ? arrayIncludesWith : arrayIncludes, length = arrays[0].length, othLength = arrays.length, othIndex = othLength, caches = Array1(othLength), maxLength = Infinity, result = [];\n            while(othIndex--){\n                var array = arrays[othIndex];\n                if (othIndex && iteratee) array = arrayMap(array, baseUnary(iteratee));\n                maxLength = nativeMin(array.length, maxLength);\n                caches[othIndex] = !comparator && (iteratee || length >= 120 && array.length >= 120) ? new SetCache(othIndex && array) : undefined;\n            }\n            array = arrays[0];\n            var index = -1, seen = caches[0];\n            outer: while(++index < length && result.length < maxLength){\n                var value = array[index], computed = iteratee ? iteratee(value) : value;\n                value = comparator || value !== 0 ? value : 0;\n                if (!(seen ? cacheHas(seen, computed) : includes(result, computed, comparator))) {\n                    othIndex = othLength;\n                    while(--othIndex){\n                        var cache = caches[othIndex];\n                        if (!(cache ? cacheHas(cache, computed) : includes(arrays[othIndex], computed, comparator))) continue outer;\n                    }\n                    if (seen) seen.push(computed);\n                    result.push(value);\n                }\n            }\n            return result;\n        }\n        /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */ function baseInverter(object, setter, iteratee, accumulator) {\n            baseForOwn(object, function(value, key, object) {\n                setter(accumulator, iteratee(value), key, object);\n            });\n            return accumulator;\n        }\n        /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */ function baseInvoke(object, path, args) {\n            path = castPath(path, object);\n            object = parent(object, path);\n            var func = object == null ? object : object[toKey(last(path))];\n            return func == null ? undefined : apply(func, object, args);\n        }\n        /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */ function baseIsArguments(value) {\n            return isObjectLike(value) && baseGetTag(value) == argsTag;\n        }\n        /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */ function baseIsArrayBuffer(value) {\n            return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n        }\n        /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */ function baseIsDate(value) {\n            return isObjectLike(value) && baseGetTag(value) == dateTag;\n        }\n        /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */ function baseIsEqual(value, other, bitmask, customizer, stack) {\n            if (value === other) return true;\n            if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) return value !== value && other !== other;\n            return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n        }\n        /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */ function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n            var objIsArr = isArray(object), othIsArr = isArray(other), objTag = objIsArr ? arrayTag : getTag(object), othTag = othIsArr ? arrayTag : getTag(other);\n            objTag = objTag == argsTag ? objectTag : objTag;\n            othTag = othTag == argsTag ? objectTag : othTag;\n            var objIsObj = objTag == objectTag, othIsObj = othTag == objectTag, isSameTag = objTag == othTag;\n            if (isSameTag && isBuffer(object)) {\n                if (!isBuffer(other)) return false;\n                objIsArr = true;\n                objIsObj = false;\n            }\n            if (isSameTag && !objIsObj) {\n                stack || (stack = new Stack);\n                return objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n            }\n            if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n                var objIsWrapped = objIsObj && hasOwnProperty.call(object, \"__wrapped__\"), othIsWrapped = othIsObj && hasOwnProperty.call(other, \"__wrapped__\");\n                if (objIsWrapped || othIsWrapped) {\n                    var objUnwrapped = objIsWrapped ? object.value() : object, othUnwrapped = othIsWrapped ? other.value() : other;\n                    stack || (stack = new Stack);\n                    return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n                }\n            }\n            if (!isSameTag) return false;\n            stack || (stack = new Stack);\n            return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n        }\n        /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */ function baseIsMap(value) {\n            return isObjectLike(value) && getTag(value) == mapTag;\n        }\n        /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */ function baseIsMatch(object, source, matchData, customizer) {\n            var index = matchData.length, length = index, noCustomizer = !customizer;\n            if (object == null) return !length;\n            object = Object1(object);\n            while(index--){\n                var data = matchData[index];\n                if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) return false;\n            }\n            while(++index < length){\n                data = matchData[index];\n                var key = data[0], objValue = object[key], srcValue = data[1];\n                if (noCustomizer && data[2]) {\n                    if (objValue === undefined && !(key in object)) return false;\n                } else {\n                    var stack = new Stack;\n                    if (customizer) var result = customizer(objValue, srcValue, key, object, source, stack);\n                    if (!(result === undefined ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) : result)) return false;\n                }\n            }\n            return true;\n        }\n        /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */ function baseIsNative(value) {\n            if (!isObject(value) || isMasked(value)) return false;\n            var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n            return pattern.test(toSource(value));\n        }\n        /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */ function baseIsRegExp(value) {\n            return isObjectLike(value) && baseGetTag(value) == regexpTag;\n        }\n        /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */ function baseIsSet(value) {\n            return isObjectLike(value) && getTag(value) == setTag;\n        }\n        /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */ function baseIsTypedArray(value) {\n            return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n        }\n        /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */ function baseIteratee(value) {\n            // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n            // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n            if (typeof value == \"function\") return value;\n            if (value == null) return identity;\n            if (typeof value == \"object\") return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);\n            return property(value);\n        }\n        /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */ function baseKeys(object) {\n            if (!isPrototype(object)) return nativeKeys(object);\n            var result = [];\n            for(var key in Object1(object))if (hasOwnProperty.call(object, key) && key != \"constructor\") result.push(key);\n            return result;\n        }\n        /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */ function baseKeysIn(object) {\n            if (!isObject(object)) return nativeKeysIn(object);\n            var isProto = isPrototype(object), result = [];\n            for(var key in object)if (!(key == \"constructor\" && (isProto || !hasOwnProperty.call(object, key)))) result.push(key);\n            return result;\n        }\n        /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */ function baseLt(value, other) {\n            return value < other;\n        }\n        /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */ function baseMap(collection, iteratee) {\n            var index = -1, result = isArrayLike(collection) ? Array1(collection.length) : [];\n            baseEach(collection, function(value, key, collection) {\n                result[++index] = iteratee(value, key, collection);\n            });\n            return result;\n        }\n        /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */ function baseMatches(source) {\n            var matchData = getMatchData(source);\n            if (matchData.length == 1 && matchData[0][2]) return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n            return function(object) {\n                return object === source || baseIsMatch(object, source, matchData);\n            };\n        }\n        /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */ function baseMatchesProperty(path, srcValue) {\n            if (isKey(path) && isStrictComparable(srcValue)) return matchesStrictComparable(toKey(path), srcValue);\n            return function(object) {\n                var objValue = get(object, path);\n                return objValue === undefined && objValue === srcValue ? hasIn(object, path) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n            };\n        }\n        /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */ function baseMerge(object, source, srcIndex, customizer, stack) {\n            if (object === source) return;\n            baseFor(source, function(srcValue, key) {\n                stack || (stack = new Stack);\n                if (isObject(srcValue)) baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n                else {\n                    var newValue = customizer ? customizer(safeGet(object, key), srcValue, key + \"\", object, source, stack) : undefined;\n                    if (newValue === undefined) newValue = srcValue;\n                    assignMergeValue(object, key, newValue);\n                }\n            }, keysIn);\n        }\n        /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */ function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n            var objValue = safeGet(object, key), srcValue = safeGet(source, key), stacked = stack.get(srcValue);\n            if (stacked) {\n                assignMergeValue(object, key, stacked);\n                return;\n            }\n            var newValue = customizer ? customizer(objValue, srcValue, key + \"\", object, source, stack) : undefined;\n            var isCommon = newValue === undefined;\n            if (isCommon) {\n                var isArr = isArray(srcValue), isBuff = !isArr && isBuffer(srcValue), isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n                newValue = srcValue;\n                if (isArr || isBuff || isTyped) {\n                    if (isArray(objValue)) newValue = objValue;\n                    else if (isArrayLikeObject(objValue)) newValue = copyArray(objValue);\n                    else if (isBuff) {\n                        isCommon = false;\n                        newValue = cloneBuffer(srcValue, true);\n                    } else if (isTyped) {\n                        isCommon = false;\n                        newValue = cloneTypedArray(srcValue, true);\n                    } else newValue = [];\n                } else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n                    newValue = objValue;\n                    if (isArguments(objValue)) newValue = toPlainObject(objValue);\n                    else if (!isObject(objValue) || isFunction(objValue)) newValue = initCloneObject(srcValue);\n                } else isCommon = false;\n            }\n            if (isCommon) {\n                // Recursively merge objects and arrays (susceptible to call stack limits).\n                stack.set(srcValue, newValue);\n                mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n                stack[\"delete\"](srcValue);\n            }\n            assignMergeValue(object, key, newValue);\n        }\n        /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */ function baseNth(array, n) {\n            var length = array.length;\n            if (!length) return;\n            n += n < 0 ? length : 0;\n            return isIndex(n, length) ? array[n] : undefined;\n        }\n        /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */ function baseOrderBy(collection, iteratees, orders) {\n            if (iteratees.length) iteratees = arrayMap(iteratees, function(iteratee) {\n                if (isArray(iteratee)) return function(value) {\n                    return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n                };\n                return iteratee;\n            });\n            else iteratees = [\n                identity\n            ];\n            var index = -1;\n            iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n            var result = baseMap(collection, function(value, key, collection) {\n                var criteria = arrayMap(iteratees, function(iteratee) {\n                    return iteratee(value);\n                });\n                return {\n                    \"criteria\": criteria,\n                    \"index\": ++index,\n                    \"value\": value\n                };\n            });\n            return baseSortBy(result, function(object, other) {\n                return compareMultiple(object, other, orders);\n            });\n        }\n        /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */ function basePick(object, paths) {\n            return basePickBy(object, paths, function(value, path) {\n                return hasIn(object, path);\n            });\n        }\n        /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */ function basePickBy(object, paths, predicate) {\n            var index = -1, length = paths.length, result = {};\n            while(++index < length){\n                var path = paths[index], value = baseGet(object, path);\n                if (predicate(value, path)) baseSet(result, castPath(path, object), value);\n            }\n            return result;\n        }\n        /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */ function basePropertyDeep(path) {\n            return function(object) {\n                return baseGet(object, path);\n            };\n        }\n        /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */ function basePullAll(array, values, iteratee, comparator) {\n            var indexOf = comparator ? baseIndexOfWith : baseIndexOf, index = -1, length = values.length, seen = array;\n            if (array === values) values = copyArray(values);\n            if (iteratee) seen = arrayMap(array, baseUnary(iteratee));\n            while(++index < length){\n                var fromIndex = 0, value = values[index], computed = iteratee ? iteratee(value) : value;\n                while((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1){\n                    if (seen !== array) splice.call(seen, fromIndex, 1);\n                    splice.call(array, fromIndex, 1);\n                }\n            }\n            return array;\n        }\n        /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */ function basePullAt(array, indexes) {\n            var length = array ? indexes.length : 0, lastIndex = length - 1;\n            while(length--){\n                var index = indexes[length];\n                if (length == lastIndex || index !== previous) {\n                    var previous = index;\n                    if (isIndex(index)) splice.call(array, index, 1);\n                    else baseUnset(array, index);\n                }\n            }\n            return array;\n        }\n        /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */ function baseRandom(lower, upper) {\n            return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n        }\n        /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */ function baseRange(start, end, step, fromRight) {\n            var index = -1, length = nativeMax(nativeCeil((end - start) / (step || 1)), 0), result = Array1(length);\n            while(length--){\n                result[fromRight ? length : ++index] = start;\n                start += step;\n            }\n            return result;\n        }\n        /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */ function baseRepeat(string, n) {\n            var result = \"\";\n            if (!string || n < 1 || n > MAX_SAFE_INTEGER) return result;\n            // Leverage the exponentiation by squaring algorithm for a faster repeat.\n            // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n            do {\n                if (n % 2) result += string;\n                n = nativeFloor(n / 2);\n                if (n) string += string;\n            }while (n);\n            return result;\n        }\n        /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */ function baseRest(func, start) {\n            return setToString(overRest(func, start, identity), func + \"\");\n        }\n        /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */ function baseSample(collection) {\n            return arraySample(values(collection));\n        }\n        /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */ function baseSampleSize(collection, n) {\n            var array = values(collection);\n            return shuffleSelf(array, baseClamp(n, 0, array.length));\n        }\n        /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */ function baseSet(object, path, value, customizer) {\n            if (!isObject(object)) return object;\n            path = castPath(path, object);\n            var index = -1, length = path.length, lastIndex = length - 1, nested = object;\n            while(nested != null && ++index < length){\n                var key = toKey(path[index]), newValue = value;\n                if (key === \"__proto__\" || key === \"constructor\" || key === \"prototype\") return object;\n                if (index != lastIndex) {\n                    var objValue = nested[key];\n                    newValue = customizer ? customizer(objValue, key, nested) : undefined;\n                    if (newValue === undefined) newValue = isObject(objValue) ? objValue : isIndex(path[index + 1]) ? [] : {};\n                }\n                assignValue(nested, key, newValue);\n                nested = nested[key];\n            }\n            return object;\n        }\n        /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */ var baseSetData = !metaMap ? identity : function(func, data) {\n            metaMap.set(func, data);\n            return func;\n        };\n        /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */ var baseSetToString = !defineProperty ? identity : function(func, string) {\n            return defineProperty(func, \"toString\", {\n                \"configurable\": true,\n                \"enumerable\": false,\n                \"value\": constant(string),\n                \"writable\": true\n            });\n        };\n        /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */ function baseShuffle(collection) {\n            return shuffleSelf(values(collection));\n        }\n        /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */ function baseSlice(array, start, end) {\n            var index = -1, length = array.length;\n            if (start < 0) start = -start > length ? 0 : length + start;\n            end = end > length ? length : end;\n            if (end < 0) end += length;\n            length = start > end ? 0 : end - start >>> 0;\n            start >>>= 0;\n            var result = Array1(length);\n            while(++index < length)result[index] = array[index + start];\n            return result;\n        }\n        /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */ function baseSome(collection, predicate) {\n            var result;\n            baseEach(collection, function(value, index, collection) {\n                result = predicate(value, index, collection);\n                return !result;\n            });\n            return !!result;\n        }\n        /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */ function baseSortedIndex(array, value, retHighest) {\n            var low = 0, high = array == null ? low : array.length;\n            if (typeof value == \"number\" && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n                while(low < high){\n                    var mid = low + high >>> 1, computed = array[mid];\n                    if (computed !== null && !isSymbol(computed) && (retHighest ? computed <= value : computed < value)) low = mid + 1;\n                    else high = mid;\n                }\n                return high;\n            }\n            return baseSortedIndexBy(array, value, identity, retHighest);\n        }\n        /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */ function baseSortedIndexBy(array, value, iteratee, retHighest) {\n            var low = 0, high = array == null ? 0 : array.length;\n            if (high === 0) return 0;\n            value = iteratee(value);\n            var valIsNaN = value !== value, valIsNull = value === null, valIsSymbol = isSymbol(value), valIsUndefined = value === undefined;\n            while(low < high){\n                var mid = nativeFloor((low + high) / 2), computed = iteratee(array[mid]), othIsDefined = computed !== undefined, othIsNull = computed === null, othIsReflexive = computed === computed, othIsSymbol = isSymbol(computed);\n                if (valIsNaN) var setLow = retHighest || othIsReflexive;\n                else if (valIsUndefined) setLow = othIsReflexive && (retHighest || othIsDefined);\n                else if (valIsNull) setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n                else if (valIsSymbol) setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n                else if (othIsNull || othIsSymbol) setLow = false;\n                else setLow = retHighest ? computed <= value : computed < value;\n                if (setLow) low = mid + 1;\n                else high = mid;\n            }\n            return nativeMin(high, MAX_ARRAY_INDEX);\n        }\n        /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */ function baseSortedUniq(array, iteratee) {\n            var index = -1, length = array.length, resIndex = 0, result = [];\n            while(++index < length){\n                var value = array[index], computed = iteratee ? iteratee(value) : value;\n                if (!index || !eq(computed, seen)) {\n                    var seen = computed;\n                    result[resIndex++] = value === 0 ? 0 : value;\n                }\n            }\n            return result;\n        }\n        /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */ function baseToNumber(value) {\n            if (typeof value == \"number\") return value;\n            if (isSymbol(value)) return NAN;\n            return +value;\n        }\n        /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */ function baseToString(value) {\n            // Exit early for strings to avoid a performance hit in some environments.\n            if (typeof value == \"string\") return value;\n            if (isArray(value)) // Recursively convert values (susceptible to call stack limits).\n            return arrayMap(value, baseToString) + \"\";\n            if (isSymbol(value)) return symbolToString ? symbolToString.call(value) : \"\";\n            var result = value + \"\";\n            return result == \"0\" && 1 / value == -INFINITY ? \"-0\" : result;\n        }\n        /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */ function baseUniq(array, iteratee, comparator) {\n            var index = -1, includes = arrayIncludes, length = array.length, isCommon = true, result = [], seen = result;\n            if (comparator) {\n                isCommon = false;\n                includes = arrayIncludesWith;\n            } else if (length >= LARGE_ARRAY_SIZE) {\n                var set = iteratee ? null : createSet(array);\n                if (set) return setToArray(set);\n                isCommon = false;\n                includes = cacheHas;\n                seen = new SetCache;\n            } else seen = iteratee ? [] : result;\n            outer: while(++index < length){\n                var value = array[index], computed = iteratee ? iteratee(value) : value;\n                value = comparator || value !== 0 ? value : 0;\n                if (isCommon && computed === computed) {\n                    var seenIndex = seen.length;\n                    while(seenIndex--){\n                        if (seen[seenIndex] === computed) continue outer;\n                    }\n                    if (iteratee) seen.push(computed);\n                    result.push(value);\n                } else if (!includes(seen, computed, comparator)) {\n                    if (seen !== result) seen.push(computed);\n                    result.push(value);\n                }\n            }\n            return result;\n        }\n        /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */ function baseUnset(object, path) {\n            path = castPath(path, object);\n            object = parent(object, path);\n            return object == null || delete object[toKey(last(path))];\n        }\n        /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */ function baseUpdate(object, path, updater, customizer) {\n            return baseSet(object, path, updater(baseGet(object, path)), customizer);\n        }\n        /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */ function baseWhile(array, predicate, isDrop, fromRight) {\n            var length = array.length, index = fromRight ? length : -1;\n            while((fromRight ? index-- : ++index < length) && predicate(array[index], index, array));\n            return isDrop ? baseSlice(array, fromRight ? 0 : index, fromRight ? index + 1 : length) : baseSlice(array, fromRight ? index + 1 : 0, fromRight ? length : index);\n        }\n        /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */ function baseWrapperValue(value, actions) {\n            var result = value;\n            if (result instanceof LazyWrapper) result = result.value();\n            return arrayReduce(actions, function(result, action) {\n                return action.func.apply(action.thisArg, arrayPush([\n                    result\n                ], action.args));\n            }, result);\n        }\n        /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */ function baseXor(arrays, iteratee, comparator) {\n            var length = arrays.length;\n            if (length < 2) return length ? baseUniq(arrays[0]) : [];\n            var index = -1, result = Array1(length);\n            while(++index < length){\n                var array = arrays[index], othIndex = -1;\n                while(++othIndex < length)if (othIndex != index) result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n            }\n            return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n        }\n        /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */ function baseZipObject(props, values, assignFunc) {\n            var index = -1, length = props.length, valsLength = values.length, result = {};\n            while(++index < length){\n                var value = index < valsLength ? values[index] : undefined;\n                assignFunc(result, props[index], value);\n            }\n            return result;\n        }\n        /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */ function castArrayLikeObject(value) {\n            return isArrayLikeObject(value) ? value : [];\n        }\n        /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */ function castFunction(value) {\n            return typeof value == \"function\" ? value : identity;\n        }\n        /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */ function castPath(value, object) {\n            if (isArray(value)) return value;\n            return isKey(value, object) ? [\n                value\n            ] : stringToPath(toString(value));\n        }\n        /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */ var castRest = baseRest;\n        /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */ function castSlice(array, start, end) {\n            var length = array.length;\n            end = end === undefined ? length : end;\n            return !start && end >= length ? array : baseSlice(array, start, end);\n        }\n        /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */ var clearTimeout = ctxClearTimeout || function(id) {\n            return root.clearTimeout(id);\n        };\n        /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */ function cloneBuffer(buffer, isDeep) {\n            if (isDeep) return buffer.slice();\n            var length = buffer.length, result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n            buffer.copy(result);\n            return result;\n        }\n        /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */ function cloneArrayBuffer(arrayBuffer) {\n            var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n            new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n            return result;\n        }\n        /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */ function cloneDataView(dataView, isDeep) {\n            var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n            return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n        }\n        /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */ function cloneRegExp(regexp) {\n            var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n            result.lastIndex = regexp.lastIndex;\n            return result;\n        }\n        /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */ function cloneSymbol(symbol) {\n            return symbolValueOf ? Object1(symbolValueOf.call(symbol)) : {};\n        }\n        /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */ function cloneTypedArray(typedArray, isDeep) {\n            var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n            return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n        }\n        /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */ function compareAscending(value, other) {\n            if (value !== other) {\n                var valIsDefined = value !== undefined, valIsNull = value === null, valIsReflexive = value === value, valIsSymbol = isSymbol(value);\n                var othIsDefined = other !== undefined, othIsNull = other === null, othIsReflexive = other === other, othIsSymbol = isSymbol(other);\n                if (!othIsNull && !othIsSymbol && !valIsSymbol && value > other || valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol || valIsNull && othIsDefined && othIsReflexive || !valIsDefined && othIsReflexive || !valIsReflexive) return 1;\n                if (!valIsNull && !valIsSymbol && !othIsSymbol && value < other || othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol || othIsNull && valIsDefined && valIsReflexive || !othIsDefined && valIsReflexive || !othIsReflexive) return -1;\n            }\n            return 0;\n        }\n        /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */ function compareMultiple(object, other, orders) {\n            var index = -1, objCriteria = object.criteria, othCriteria = other.criteria, length = objCriteria.length, ordersLength = orders.length;\n            while(++index < length){\n                var result = compareAscending(objCriteria[index], othCriteria[index]);\n                if (result) {\n                    if (index >= ordersLength) return result;\n                    var order = orders[index];\n                    return result * (order == \"desc\" ? -1 : 1);\n                }\n            }\n            // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n            // that causes it, under certain circumstances, to provide the same value for\n            // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n            // for more details.\n            //\n            // This also ensures a stable sort in V8 and other engines.\n            // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n            return object.index - other.index;\n        }\n        /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */ function composeArgs(args, partials, holders, isCurried) {\n            var argsIndex = -1, argsLength = args.length, holdersLength = holders.length, leftIndex = -1, leftLength = partials.length, rangeLength = nativeMax(argsLength - holdersLength, 0), result = Array1(leftLength + rangeLength), isUncurried = !isCurried;\n            while(++leftIndex < leftLength)result[leftIndex] = partials[leftIndex];\n            while(++argsIndex < holdersLength)if (isUncurried || argsIndex < argsLength) result[holders[argsIndex]] = args[argsIndex];\n            while(rangeLength--)result[leftIndex++] = args[argsIndex++];\n            return result;\n        }\n        /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */ function composeArgsRight(args, partials, holders, isCurried) {\n            var argsIndex = -1, argsLength = args.length, holdersIndex = -1, holdersLength = holders.length, rightIndex = -1, rightLength = partials.length, rangeLength = nativeMax(argsLength - holdersLength, 0), result = Array1(rangeLength + rightLength), isUncurried = !isCurried;\n            while(++argsIndex < rangeLength)result[argsIndex] = args[argsIndex];\n            var offset = argsIndex;\n            while(++rightIndex < rightLength)result[offset + rightIndex] = partials[rightIndex];\n            while(++holdersIndex < holdersLength)if (isUncurried || argsIndex < argsLength) result[offset + holders[holdersIndex]] = args[argsIndex++];\n            return result;\n        }\n        /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */ function copyArray(source, array) {\n            var index = -1, length = source.length;\n            array || (array = Array1(length));\n            while(++index < length)array[index] = source[index];\n            return array;\n        }\n        /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */ function copyObject(source, props, object, customizer) {\n            var isNew = !object;\n            object || (object = {});\n            var index = -1, length = props.length;\n            while(++index < length){\n                var key = props[index];\n                var newValue = customizer ? customizer(object[key], source[key], key, object, source) : undefined;\n                if (newValue === undefined) newValue = source[key];\n                if (isNew) baseAssignValue(object, key, newValue);\n                else assignValue(object, key, newValue);\n            }\n            return object;\n        }\n        /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */ function copySymbols(source, object) {\n            return copyObject(source, getSymbols(source), object);\n        }\n        /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */ function copySymbolsIn(source, object) {\n            return copyObject(source, getSymbolsIn(source), object);\n        }\n        /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */ function createAggregator(setter, initializer) {\n            return function(collection, iteratee) {\n                var func = isArray(collection) ? arrayAggregator : baseAggregator, accumulator = initializer ? initializer() : {};\n                return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n            };\n        }\n        /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */ function createAssigner(assigner) {\n            return baseRest(function(object, sources) {\n                var index = -1, length = sources.length, customizer = length > 1 ? sources[length - 1] : undefined, guard = length > 2 ? sources[2] : undefined;\n                customizer = assigner.length > 3 && typeof customizer == \"function\" ? (length--, customizer) : undefined;\n                if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n                    customizer = length < 3 ? undefined : customizer;\n                    length = 1;\n                }\n                object = Object1(object);\n                while(++index < length){\n                    var source = sources[index];\n                    if (source) assigner(object, source, index, customizer);\n                }\n                return object;\n            });\n        }\n        /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */ function createBaseEach(eachFunc, fromRight) {\n            return function(collection, iteratee) {\n                if (collection == null) return collection;\n                if (!isArrayLike(collection)) return eachFunc(collection, iteratee);\n                var length = collection.length, index = fromRight ? length : -1, iterable = Object1(collection);\n                while(fromRight ? index-- : ++index < length){\n                    if (iteratee(iterable[index], index, iterable) === false) break;\n                }\n                return collection;\n            };\n        }\n        /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */ function createBaseFor(fromRight) {\n            return function(object, iteratee, keysFunc) {\n                var index = -1, iterable = Object1(object), props = keysFunc(object), length = props.length;\n                while(length--){\n                    var key = props[fromRight ? length : ++index];\n                    if (iteratee(iterable[key], key, iterable) === false) break;\n                }\n                return object;\n            };\n        }\n        /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */ function createBind(func, bitmask, thisArg) {\n            var isBind = bitmask & WRAP_BIND_FLAG, Ctor = createCtor(func);\n            function wrapper() {\n                var fn = this && this !== root && this instanceof wrapper ? Ctor : func;\n                return fn.apply(isBind ? thisArg : this, arguments);\n            }\n            return wrapper;\n        }\n        /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */ function createCaseFirst(methodName) {\n            return function(string) {\n                string = toString(string);\n                var strSymbols = hasUnicode(string) ? stringToArray(string) : undefined;\n                var chr = strSymbols ? strSymbols[0] : string.charAt(0);\n                var trailing = strSymbols ? castSlice(strSymbols, 1).join(\"\") : string.slice(1);\n                return chr[methodName]() + trailing;\n            };\n        }\n        /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */ function createCompounder(callback) {\n            return function(string) {\n                return arrayReduce(words(deburr(string).replace(reApos, \"\")), callback, \"\");\n            };\n        }\n        /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */ function createCtor(Ctor) {\n            return function() {\n                // Use a `switch` statement to work with class constructors. See\n                // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n                // for more details.\n                var args = arguments;\n                switch(args.length){\n                    case 0:\n                        return new Ctor;\n                    case 1:\n                        return new Ctor(args[0]);\n                    case 2:\n                        return new Ctor(args[0], args[1]);\n                    case 3:\n                        return new Ctor(args[0], args[1], args[2]);\n                    case 4:\n                        return new Ctor(args[0], args[1], args[2], args[3]);\n                    case 5:\n                        return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n                    case 6:\n                        return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n                    case 7:\n                        return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n                }\n                var thisBinding = baseCreate(Ctor.prototype), result = Ctor.apply(thisBinding, args);\n                // Mimic the constructor's `return` behavior.\n                // See https://es5.github.io/#x13.2.2 for more details.\n                return isObject(result) ? result : thisBinding;\n            };\n        }\n        /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */ function createCurry(func, bitmask, arity) {\n            var Ctor = createCtor(func);\n            function wrapper() {\n                var length = arguments.length, args = Array1(length), index = length, placeholder = getHolder(wrapper);\n                while(index--)args[index] = arguments[index];\n                var holders = length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder ? [] : replaceHolders(args, placeholder);\n                length -= holders.length;\n                if (length < arity) return createRecurry(func, bitmask, createHybrid, wrapper.placeholder, undefined, args, holders, undefined, undefined, arity - length);\n                var fn = this && this !== root && this instanceof wrapper ? Ctor : func;\n                return apply(fn, this, args);\n            }\n            return wrapper;\n        }\n        /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */ function createFind(findIndexFunc) {\n            return function(collection, predicate, fromIndex) {\n                var iterable = Object1(collection);\n                if (!isArrayLike(collection)) {\n                    var iteratee = getIteratee(predicate, 3);\n                    collection = keys(collection);\n                    predicate = function(key) {\n                        return iteratee(iterable[key], key, iterable);\n                    };\n                }\n                var index = findIndexFunc(collection, predicate, fromIndex);\n                return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n            };\n        }\n        /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */ function createFlow(fromRight) {\n            return flatRest(function(funcs) {\n                var length = funcs.length, index = length, prereq = LodashWrapper.prototype.thru;\n                if (fromRight) funcs.reverse();\n                while(index--){\n                    var func = funcs[index];\n                    if (typeof func != \"function\") throw new TypeError(FUNC_ERROR_TEXT);\n                    if (prereq && !wrapper && getFuncName(func) == \"wrapper\") var wrapper = new LodashWrapper([], true);\n                }\n                index = wrapper ? index : length;\n                while(++index < length){\n                    func = funcs[index];\n                    var funcName = getFuncName(func), data = funcName == \"wrapper\" ? getData(func) : undefined;\n                    if (data && isLaziable(data[0]) && data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) && !data[4].length && data[9] == 1) wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n                    else wrapper = func.length == 1 && isLaziable(func) ? wrapper[funcName]() : wrapper.thru(func);\n                }\n                return function() {\n                    var args = arguments, value = args[0];\n                    if (wrapper && args.length == 1 && isArray(value)) return wrapper.plant(value).value();\n                    var index = 0, result = length ? funcs[index].apply(this, args) : value;\n                    while(++index < length)result = funcs[index].call(this, result);\n                    return result;\n                };\n            });\n        }\n        /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */ function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n            var isAry = bitmask & WRAP_ARY_FLAG, isBind = bitmask & WRAP_BIND_FLAG, isBindKey = bitmask & WRAP_BIND_KEY_FLAG, isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG), isFlip = bitmask & WRAP_FLIP_FLAG, Ctor = isBindKey ? undefined : createCtor(func);\n            function wrapper() {\n                var length = arguments.length, args = Array1(length), index = length;\n                while(index--)args[index] = arguments[index];\n                if (isCurried) var placeholder = getHolder(wrapper), holdersCount = countHolders(args, placeholder);\n                if (partials) args = composeArgs(args, partials, holders, isCurried);\n                if (partialsRight) args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n                length -= holdersCount;\n                if (isCurried && length < arity) {\n                    var newHolders = replaceHolders(args, placeholder);\n                    return createRecurry(func, bitmask, createHybrid, wrapper.placeholder, thisArg, args, newHolders, argPos, ary, arity - length);\n                }\n                var thisBinding = isBind ? thisArg : this, fn = isBindKey ? thisBinding[func] : func;\n                length = args.length;\n                if (argPos) args = reorder(args, argPos);\n                else if (isFlip && length > 1) args.reverse();\n                if (isAry && ary < length) args.length = ary;\n                if (this && this !== root && this instanceof wrapper) fn = Ctor || createCtor(fn);\n                return fn.apply(thisBinding, args);\n            }\n            return wrapper;\n        }\n        /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */ function createInverter(setter, toIteratee) {\n            return function(object, iteratee) {\n                return baseInverter(object, setter, toIteratee(iteratee), {});\n            };\n        }\n        /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */ function createMathOperation(operator, defaultValue) {\n            return function(value, other) {\n                var result;\n                if (value === undefined && other === undefined) return defaultValue;\n                if (value !== undefined) result = value;\n                if (other !== undefined) {\n                    if (result === undefined) return other;\n                    if (typeof value == \"string\" || typeof other == \"string\") {\n                        value = baseToString(value);\n                        other = baseToString(other);\n                    } else {\n                        value = baseToNumber(value);\n                        other = baseToNumber(other);\n                    }\n                    result = operator(value, other);\n                }\n                return result;\n            };\n        }\n        /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */ function createOver(arrayFunc) {\n            return flatRest(function(iteratees) {\n                iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n                return baseRest(function(args) {\n                    var thisArg = this;\n                    return arrayFunc(iteratees, function(iteratee) {\n                        return apply(iteratee, thisArg, args);\n                    });\n                });\n            });\n        }\n        /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */ function createPadding(length, chars) {\n            chars = chars === undefined ? \" \" : baseToString(chars);\n            var charsLength = chars.length;\n            if (charsLength < 2) return charsLength ? baseRepeat(chars, length) : chars;\n            var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n            return hasUnicode(chars) ? castSlice(stringToArray(result), 0, length).join(\"\") : result.slice(0, length);\n        }\n        /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */ function createPartial(func, bitmask, thisArg, partials) {\n            var isBind = bitmask & WRAP_BIND_FLAG, Ctor = createCtor(func);\n            function wrapper() {\n                var argsIndex = -1, argsLength = arguments.length, leftIndex = -1, leftLength = partials.length, args = Array1(leftLength + argsLength), fn = this && this !== root && this instanceof wrapper ? Ctor : func;\n                while(++leftIndex < leftLength)args[leftIndex] = partials[leftIndex];\n                while(argsLength--)args[leftIndex++] = arguments[++argsIndex];\n                return apply(fn, isBind ? thisArg : this, args);\n            }\n            return wrapper;\n        }\n        /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */ function createRange(fromRight) {\n            return function(start, end, step) {\n                if (step && typeof step != \"number\" && isIterateeCall(start, end, step)) end = step = undefined;\n                // Ensure the sign of `-0` is preserved.\n                start = toFinite(start);\n                if (end === undefined) {\n                    end = start;\n                    start = 0;\n                } else end = toFinite(end);\n                step = step === undefined ? start < end ? 1 : -1 : toFinite(step);\n                return baseRange(start, end, step, fromRight);\n            };\n        }\n        /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */ function createRelationalOperation(operator) {\n            return function(value, other) {\n                if (!(typeof value == \"string\" && typeof other == \"string\")) {\n                    value = toNumber(value);\n                    other = toNumber(other);\n                }\n                return operator(value, other);\n            };\n        }\n        /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */ function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n            var isCurry = bitmask & WRAP_CURRY_FLAG, newHolders = isCurry ? holders : undefined, newHoldersRight = isCurry ? undefined : holders, newPartials = isCurry ? partials : undefined, newPartialsRight = isCurry ? undefined : partials;\n            bitmask |= isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG;\n            bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n            if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n            var newData = [\n                func,\n                bitmask,\n                thisArg,\n                newPartials,\n                newHolders,\n                newPartialsRight,\n                newHoldersRight,\n                argPos,\n                ary,\n                arity\n            ];\n            var result = wrapFunc.apply(undefined, newData);\n            if (isLaziable(func)) setData(result, newData);\n            result.placeholder = placeholder;\n            return setWrapToString(result, func, bitmask);\n        }\n        /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */ function createRound(methodName) {\n            var func = Math[methodName];\n            return function(number, precision) {\n                number = toNumber(number);\n                precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n                if (precision && nativeIsFinite(number)) {\n                    // Shift with exponential notation to avoid floating-point issues.\n                    // See [MDN](https://mdn.io/round#Examples) for more details.\n                    var pair = (toString(number) + \"e\").split(\"e\"), value = func(pair[0] + \"e\" + (+pair[1] + precision));\n                    pair = (toString(value) + \"e\").split(\"e\");\n                    return +(pair[0] + \"e\" + (+pair[1] - precision));\n                }\n                return func(number);\n            };\n        }\n        /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */ var createSet = !(Set && 1 / setToArray(new Set([\n            ,\n            -0\n        ]))[1] == INFINITY) ? noop : function(values) {\n            return new Set(values);\n        };\n        /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */ function createToPairs(keysFunc) {\n            return function(object) {\n                var tag = getTag(object);\n                if (tag == mapTag) return mapToArray(object);\n                if (tag == setTag) return setToPairs(object);\n                return baseToPairs(object, keysFunc(object));\n            };\n        }\n        /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */ function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n            var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n            if (!isBindKey && typeof func != \"function\") throw new TypeError(FUNC_ERROR_TEXT);\n            var length = partials ? partials.length : 0;\n            if (!length) {\n                bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n                partials = holders = undefined;\n            }\n            ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n            arity = arity === undefined ? arity : toInteger(arity);\n            length -= holders ? holders.length : 0;\n            if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n                var partialsRight = partials, holdersRight = holders;\n                partials = holders = undefined;\n            }\n            var data = isBindKey ? undefined : getData(func);\n            var newData = [\n                func,\n                bitmask,\n                thisArg,\n                partials,\n                holders,\n                partialsRight,\n                holdersRight,\n                argPos,\n                ary,\n                arity\n            ];\n            if (data) mergeData(newData, data);\n            func = newData[0];\n            bitmask = newData[1];\n            thisArg = newData[2];\n            partials = newData[3];\n            holders = newData[4];\n            arity = newData[9] = newData[9] === undefined ? isBindKey ? 0 : func.length : nativeMax(newData[9] - length, 0);\n            if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n            if (!bitmask || bitmask == WRAP_BIND_FLAG) var result = createBind(func, bitmask, thisArg);\n            else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) result = createCurry(func, bitmask, arity);\n            else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) result = createPartial(func, bitmask, thisArg, partials);\n            else result = createHybrid.apply(undefined, newData);\n            var setter = data ? baseSetData : setData;\n            return setWrapToString(setter(result, newData), func, bitmask);\n        }\n        /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */ function customDefaultsAssignIn(objValue, srcValue, key, object) {\n            if (objValue === undefined || eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key)) return srcValue;\n            return objValue;\n        }\n        /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */ function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n            if (isObject(objValue) && isObject(srcValue)) {\n                // Recursively merge objects and arrays (susceptible to call stack limits).\n                stack.set(srcValue, objValue);\n                baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n                stack[\"delete\"](srcValue);\n            }\n            return objValue;\n        }\n        /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */ function customOmitClone(value) {\n            return isPlainObject(value) ? undefined : value;\n        }\n        /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */ function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n            var isPartial = bitmask & COMPARE_PARTIAL_FLAG, arrLength = array.length, othLength = other.length;\n            if (arrLength != othLength && !(isPartial && othLength > arrLength)) return false;\n            // Check that cyclic values are equal.\n            var arrStacked = stack.get(array);\n            var othStacked = stack.get(other);\n            if (arrStacked && othStacked) return arrStacked == other && othStacked == array;\n            var index = -1, result = true, seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache : undefined;\n            stack.set(array, other);\n            stack.set(other, array);\n            // Ignore non-index properties.\n            while(++index < arrLength){\n                var arrValue = array[index], othValue = other[index];\n                if (customizer) var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);\n                if (compared !== undefined) {\n                    if (compared) continue;\n                    result = false;\n                    break;\n                }\n                // Recursively compare arrays (susceptible to call stack limits).\n                if (seen) {\n                    if (!arraySome(other, function(othValue, othIndex) {\n                        if (!cacheHas(seen, othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) return seen.push(othIndex);\n                    })) {\n                        result = false;\n                        break;\n                    }\n                } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                    result = false;\n                    break;\n                }\n            }\n            stack[\"delete\"](array);\n            stack[\"delete\"](other);\n            return result;\n        }\n        /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */ function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n            switch(tag){\n                case dataViewTag:\n                    if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) return false;\n                    object = object.buffer;\n                    other = other.buffer;\n                case arrayBufferTag:\n                    if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other))) return false;\n                    return true;\n                case boolTag:\n                case dateTag:\n                case numberTag:\n                    // Coerce booleans to `1` or `0` and dates to milliseconds.\n                    // Invalid dates are coerced to `NaN`.\n                    return eq(+object, +other);\n                case errorTag:\n                    return object.name == other.name && object.message == other.message;\n                case regexpTag:\n                case stringTag:\n                    // Coerce regexes to strings and treat strings, primitives and objects,\n                    // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n                    // for more details.\n                    return object == other + \"\";\n                case mapTag:\n                    var convert = mapToArray;\n                case setTag:\n                    var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n                    convert || (convert = setToArray);\n                    if (object.size != other.size && !isPartial) return false;\n                    // Assume cyclic values are equal.\n                    var stacked = stack.get(object);\n                    if (stacked) return stacked == other;\n                    bitmask |= COMPARE_UNORDERED_FLAG;\n                    // Recursively compare objects (susceptible to call stack limits).\n                    stack.set(object, other);\n                    var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n                    stack[\"delete\"](object);\n                    return result;\n                case symbolTag:\n                    if (symbolValueOf) return symbolValueOf.call(object) == symbolValueOf.call(other);\n            }\n            return false;\n        }\n        /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */ function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n            var isPartial = bitmask & COMPARE_PARTIAL_FLAG, objProps = getAllKeys(object), objLength = objProps.length, othProps = getAllKeys(other), othLength = othProps.length;\n            if (objLength != othLength && !isPartial) return false;\n            var index = objLength;\n            while(index--){\n                var key = objProps[index];\n                if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) return false;\n            }\n            // Check that cyclic values are equal.\n            var objStacked = stack.get(object);\n            var othStacked = stack.get(other);\n            if (objStacked && othStacked) return objStacked == other && othStacked == object;\n            var result = true;\n            stack.set(object, other);\n            stack.set(other, object);\n            var skipCtor = isPartial;\n            while(++index < objLength){\n                key = objProps[index];\n                var objValue = object[key], othValue = other[key];\n                if (customizer) var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);\n                // Recursively compare objects (susceptible to call stack limits).\n                if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {\n                    result = false;\n                    break;\n                }\n                skipCtor || (skipCtor = key == \"constructor\");\n            }\n            if (result && !skipCtor) {\n                var objCtor = object.constructor, othCtor = other.constructor;\n                // Non `Object` object instances with different constructors are not equal.\n                if (objCtor != othCtor && \"constructor\" in object && \"constructor\" in other && !(typeof objCtor == \"function\" && objCtor instanceof objCtor && typeof othCtor == \"function\" && othCtor instanceof othCtor)) result = false;\n            }\n            stack[\"delete\"](object);\n            stack[\"delete\"](other);\n            return result;\n        }\n        /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */ function flatRest(func) {\n            return setToString(overRest(func, undefined, flatten), func + \"\");\n        }\n        /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */ function getAllKeys(object) {\n            return baseGetAllKeys(object, keys, getSymbols);\n        }\n        /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */ function getAllKeysIn(object) {\n            return baseGetAllKeys(object, keysIn, getSymbolsIn);\n        }\n        /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */ var getData = !metaMap ? noop : function(func) {\n            return metaMap.get(func);\n        };\n        /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */ function getFuncName(func) {\n            var result = func.name + \"\", array = realNames[result], length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n            while(length--){\n                var data = array[length], otherFunc = data.func;\n                if (otherFunc == null || otherFunc == func) return data.name;\n            }\n            return result;\n        }\n        /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */ function getHolder(func) {\n            var object = hasOwnProperty.call(lodash, \"placeholder\") ? lodash : func;\n            return object.placeholder;\n        }\n        /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */ function getIteratee() {\n            var result = lodash.iteratee || iteratee;\n            result = result === iteratee ? baseIteratee : result;\n            return arguments.length ? result(arguments[0], arguments[1]) : result;\n        }\n        /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */ function getMapData(map, key) {\n            var data = map.__data__;\n            return isKeyable(key) ? data[typeof key == \"string\" ? \"string\" : \"hash\"] : data.map;\n        }\n        /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */ function getMatchData(object) {\n            var result = keys(object), length = result.length;\n            while(length--){\n                var key = result[length], value = object[key];\n                result[length] = [\n                    key,\n                    value,\n                    isStrictComparable(value)\n                ];\n            }\n            return result;\n        }\n        /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */ function getNative(object, key) {\n            var value = getValue(object, key);\n            return baseIsNative(value) ? value : undefined;\n        }\n        /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */ function getRawTag(value) {\n            var isOwn = hasOwnProperty.call(value, symToStringTag), tag = value[symToStringTag];\n            try {\n                value[symToStringTag] = undefined;\n                var unmasked = true;\n            } catch (e) {}\n            var result = nativeObjectToString.call(value);\n            if (unmasked) {\n                if (isOwn) value[symToStringTag] = tag;\n                else delete value[symToStringTag];\n            }\n            return result;\n        }\n        /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */ var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n            if (object == null) return [];\n            object = Object1(object);\n            return arrayFilter(nativeGetSymbols(object), function(symbol) {\n                return propertyIsEnumerable.call(object, symbol);\n            });\n        };\n        /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */ var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n            var result = [];\n            while(object){\n                arrayPush(result, getSymbols(object));\n                object = getPrototype(object);\n            }\n            return result;\n        };\n        /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */ var getTag = baseGetTag;\n        // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n        if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map && getTag(new Map) != mapTag || Promise && getTag(Promise.resolve()) != promiseTag || Set && getTag(new Set) != setTag || WeakMap && getTag(new WeakMap) != weakMapTag) getTag = function(value) {\n            var result = baseGetTag(value), Ctor = result == objectTag ? value.constructor : undefined, ctorString = Ctor ? toSource(Ctor) : \"\";\n            if (ctorString) switch(ctorString){\n                case dataViewCtorString:\n                    return dataViewTag;\n                case mapCtorString:\n                    return mapTag;\n                case promiseCtorString:\n                    return promiseTag;\n                case setCtorString:\n                    return setTag;\n                case weakMapCtorString:\n                    return weakMapTag;\n            }\n            return result;\n        };\n        /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */ function getView(start, end, transforms) {\n            var index = -1, length = transforms.length;\n            while(++index < length){\n                var data = transforms[index], size = data.size;\n                switch(data.type){\n                    case \"drop\":\n                        start += size;\n                        break;\n                    case \"dropRight\":\n                        end -= size;\n                        break;\n                    case \"take\":\n                        end = nativeMin(end, start + size);\n                        break;\n                    case \"takeRight\":\n                        start = nativeMax(start, end - size);\n                        break;\n                }\n            }\n            return {\n                \"start\": start,\n                \"end\": end\n            };\n        }\n        /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */ function getWrapDetails(source) {\n            var match = source.match(reWrapDetails);\n            return match ? match[1].split(reSplitDetails) : [];\n        }\n        /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */ function hasPath(object, path, hasFunc) {\n            path = castPath(path, object);\n            var index = -1, length = path.length, result = false;\n            while(++index < length){\n                var key = toKey(path[index]);\n                if (!(result = object != null && hasFunc(object, key))) break;\n                object = object[key];\n            }\n            if (result || ++index != length) return result;\n            length = object == null ? 0 : object.length;\n            return !!length && isLength(length) && isIndex(key, length) && (isArray(object) || isArguments(object));\n        }\n        /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */ function initCloneArray(array) {\n            var length = array.length, result = new array.constructor(length);\n            // Add properties assigned by `RegExp#exec`.\n            if (length && typeof array[0] == \"string\" && hasOwnProperty.call(array, \"index\")) {\n                result.index = array.index;\n                result.input = array.input;\n            }\n            return result;\n        }\n        /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */ function initCloneObject(object) {\n            return typeof object.constructor == \"function\" && !isPrototype(object) ? baseCreate(getPrototype(object)) : {};\n        }\n        /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */ function initCloneByTag(object, tag, isDeep) {\n            var Ctor = object.constructor;\n            switch(tag){\n                case arrayBufferTag:\n                    return cloneArrayBuffer(object);\n                case boolTag:\n                case dateTag:\n                    return new Ctor(+object);\n                case dataViewTag:\n                    return cloneDataView(object, isDeep);\n                case float32Tag:\n                case float64Tag:\n                case int8Tag:\n                case int16Tag:\n                case int32Tag:\n                case uint8Tag:\n                case uint8ClampedTag:\n                case uint16Tag:\n                case uint32Tag:\n                    return cloneTypedArray(object, isDeep);\n                case mapTag:\n                    return new Ctor;\n                case numberTag:\n                case stringTag:\n                    return new Ctor(object);\n                case regexpTag:\n                    return cloneRegExp(object);\n                case setTag:\n                    return new Ctor;\n                case symbolTag:\n                    return cloneSymbol(object);\n            }\n        }\n        /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */ function insertWrapDetails(source, details) {\n            var length = details.length;\n            if (!length) return source;\n            var lastIndex = length - 1;\n            details[lastIndex] = (length > 1 ? \"& \" : \"\") + details[lastIndex];\n            details = details.join(length > 2 ? \", \" : \" \");\n            return source.replace(reWrapComment, \"{\\n/* [wrapped with \" + details + \"] */\\n\");\n        }\n        /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */ function isFlattenable(value) {\n            return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);\n        }\n        /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */ function isIndex(value, length) {\n            var type = typeof value;\n            length = length == null ? MAX_SAFE_INTEGER : length;\n            return !!length && (type == \"number\" || type != \"symbol\" && reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n        }\n        /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */ function isIterateeCall(value, index, object) {\n            if (!isObject(object)) return false;\n            var type = typeof index;\n            if (type == \"number\" ? isArrayLike(object) && isIndex(index, object.length) : type == \"string\" && index in object) return eq(object[index], value);\n            return false;\n        }\n        /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */ function isKey(value, object) {\n            if (isArray(value)) return false;\n            var type = typeof value;\n            if (type == \"number\" || type == \"symbol\" || type == \"boolean\" || value == null || isSymbol(value)) return true;\n            return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object1(object);\n        }\n        /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */ function isKeyable(value) {\n            var type = typeof value;\n            return type == \"string\" || type == \"number\" || type == \"symbol\" || type == \"boolean\" ? value !== \"__proto__\" : value === null;\n        }\n        /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */ function isLaziable(func) {\n            var funcName = getFuncName(func), other = lodash[funcName];\n            if (typeof other != \"function\" || !(funcName in LazyWrapper.prototype)) return false;\n            if (func === other) return true;\n            var data = getData(other);\n            return !!data && func === data[0];\n        }\n        /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */ function isMasked(func) {\n            return !!maskSrcKey && maskSrcKey in func;\n        }\n        /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */ var isMaskable = coreJsData ? isFunction : stubFalse;\n        /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */ function isPrototype(value) {\n            var Ctor = value && value.constructor, proto = typeof Ctor == \"function\" && Ctor.prototype || objectProto;\n            return value === proto;\n        }\n        /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */ function isStrictComparable(value) {\n            return value === value && !isObject(value);\n        }\n        /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */ function matchesStrictComparable(key, srcValue) {\n            return function(object) {\n                if (object == null) return false;\n                return object[key] === srcValue && (srcValue !== undefined || key in Object1(object));\n            };\n        }\n        /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */ function memoizeCapped(func) {\n            var result = memoize(func, function(key) {\n                if (cache.size === MAX_MEMOIZE_SIZE) cache.clear();\n                return key;\n            });\n            var cache = result.cache;\n            return result;\n        }\n        /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */ function mergeData(data, source) {\n            var bitmask = data[1], srcBitmask = source[1], newBitmask = bitmask | srcBitmask, isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n            var isCombo = srcBitmask == WRAP_ARY_FLAG && bitmask == WRAP_CURRY_FLAG || srcBitmask == WRAP_ARY_FLAG && bitmask == WRAP_REARG_FLAG && data[7].length <= source[8] || srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG) && source[7].length <= source[8] && bitmask == WRAP_CURRY_FLAG;\n            // Exit early if metadata can't be merged.\n            if (!(isCommon || isCombo)) return data;\n            // Use source `thisArg` if available.\n            if (srcBitmask & WRAP_BIND_FLAG) {\n                data[2] = source[2];\n                // Set when currying a bound function.\n                newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n            }\n            // Compose partial arguments.\n            var value = source[3];\n            if (value) {\n                var partials = data[3];\n                data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n                data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n            }\n            // Compose partial right arguments.\n            value = source[5];\n            if (value) {\n                partials = data[5];\n                data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n                data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n            }\n            // Use source `argPos` if available.\n            value = source[7];\n            if (value) data[7] = value;\n            // Use source `ary` if it's smaller.\n            if (srcBitmask & WRAP_ARY_FLAG) data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n            // Use source `arity` if one is not provided.\n            if (data[9] == null) data[9] = source[9];\n            // Use source `func` and merge bitmasks.\n            data[0] = source[0];\n            data[1] = newBitmask;\n            return data;\n        }\n        /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */ function nativeKeysIn(object) {\n            var result = [];\n            if (object != null) for(var key in Object1(object))result.push(key);\n            return result;\n        }\n        /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */ function objectToString(value) {\n            return nativeObjectToString.call(value);\n        }\n        /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */ function overRest(func, start, transform) {\n            start = nativeMax(start === undefined ? func.length - 1 : start, 0);\n            return function() {\n                var args = arguments, index = -1, length = nativeMax(args.length - start, 0), array = Array1(length);\n                while(++index < length)array[index] = args[start + index];\n                index = -1;\n                var otherArgs = Array1(start + 1);\n                while(++index < start)otherArgs[index] = args[index];\n                otherArgs[start] = transform(array);\n                return apply(func, this, otherArgs);\n            };\n        }\n        /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */ function parent(object, path) {\n            return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n        }\n        /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */ function reorder(array, indexes) {\n            var arrLength = array.length, length = nativeMin(indexes.length, arrLength), oldArray = copyArray(array);\n            while(length--){\n                var index = indexes[length];\n                array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n            }\n            return array;\n        }\n        /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */ function safeGet(object, key) {\n            if (key === \"constructor\" && typeof object[key] === \"function\") return;\n            if (key == \"__proto__\") return;\n            return object[key];\n        }\n        /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */ var setData = shortOut(baseSetData);\n        /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */ var setTimeout = ctxSetTimeout || function(func, wait) {\n            return root.setTimeout(func, wait);\n        };\n        /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */ var setToString = shortOut(baseSetToString);\n        /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */ function setWrapToString(wrapper, reference, bitmask) {\n            var source = reference + \"\";\n            return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n        }\n        /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */ function shortOut(func) {\n            var count = 0, lastCalled = 0;\n            return function() {\n                var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);\n                lastCalled = stamp;\n                if (remaining > 0) {\n                    if (++count >= HOT_COUNT) return arguments[0];\n                } else count = 0;\n                return func.apply(undefined, arguments);\n            };\n        }\n        /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */ function shuffleSelf(array, size) {\n            var index = -1, length = array.length, lastIndex = length - 1;\n            size = size === undefined ? length : size;\n            while(++index < size){\n                var rand = baseRandom(index, lastIndex), value = array[rand];\n                array[rand] = array[index];\n                array[index] = value;\n            }\n            array.length = size;\n            return array;\n        }\n        /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */ var stringToPath = memoizeCapped(function(string) {\n            var result = [];\n            if (string.charCodeAt(0) === 46 /* . */ ) result.push(\"\");\n            string.replace(rePropName, function(match, number, quote, subString) {\n                result.push(quote ? subString.replace(reEscapeChar, \"$1\") : number || match);\n            });\n            return result;\n        });\n        /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */ function toKey(value) {\n            if (typeof value == \"string\" || isSymbol(value)) return value;\n            var result = value + \"\";\n            return result == \"0\" && 1 / value == -INFINITY ? \"-0\" : result;\n        }\n        /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */ function toSource(func) {\n            if (func != null) {\n                try {\n                    return funcToString.call(func);\n                } catch (e) {}\n                try {\n                    return func + \"\";\n                } catch (e) {}\n            }\n            return \"\";\n        }\n        /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */ function updateWrapDetails(details, bitmask) {\n            arrayEach(wrapFlags, function(pair) {\n                var value = \"_.\" + pair[0];\n                if (bitmask & pair[1] && !arrayIncludes(details, value)) details.push(value);\n            });\n            return details.sort();\n        }\n        /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */ function wrapperClone(wrapper) {\n            if (wrapper instanceof LazyWrapper) return wrapper.clone();\n            var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n            result.__actions__ = copyArray(wrapper.__actions__);\n            result.__index__ = wrapper.__index__;\n            result.__values__ = wrapper.__values__;\n            return result;\n        }\n        /*------------------------------------------------------------------------*/ /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */ function chunk(array, size, guard) {\n            if (guard ? isIterateeCall(array, size, guard) : size === undefined) size = 1;\n            else size = nativeMax(toInteger(size), 0);\n            var length = array == null ? 0 : array.length;\n            if (!length || size < 1) return [];\n            var index = 0, resIndex = 0, result = Array1(nativeCeil(length / size));\n            while(index < length)result[resIndex++] = baseSlice(array, index, index += size);\n            return result;\n        }\n        /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */ function compact(array) {\n            var index = -1, length = array == null ? 0 : array.length, resIndex = 0, result = [];\n            while(++index < length){\n                var value = array[index];\n                if (value) result[resIndex++] = value;\n            }\n            return result;\n        }\n        /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */ function concat() {\n            var length = arguments.length;\n            if (!length) return [];\n            var args = Array1(length - 1), array = arguments[0], index = length;\n            while(index--)args[index - 1] = arguments[index];\n            return arrayPush(isArray(array) ? copyArray(array) : [\n                array\n            ], baseFlatten(args, 1));\n        }\n        /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */ var difference = baseRest(function(array, values) {\n            return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true)) : [];\n        });\n        /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */ var differenceBy = baseRest(function(array, values) {\n            var iteratee = last(values);\n            if (isArrayLikeObject(iteratee)) iteratee = undefined;\n            return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2)) : [];\n        });\n        /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */ var differenceWith = baseRest(function(array, values) {\n            var comparator = last(values);\n            if (isArrayLikeObject(comparator)) comparator = undefined;\n            return isArrayLikeObject(array) ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator) : [];\n        });\n        /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */ function drop(array, n, guard) {\n            var length = array == null ? 0 : array.length;\n            if (!length) return [];\n            n = guard || n === undefined ? 1 : toInteger(n);\n            return baseSlice(array, n < 0 ? 0 : n, length);\n        }\n        /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */ function dropRight(array, n, guard) {\n            var length = array == null ? 0 : array.length;\n            if (!length) return [];\n            n = guard || n === undefined ? 1 : toInteger(n);\n            n = length - n;\n            return baseSlice(array, 0, n < 0 ? 0 : n);\n        }\n        /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */ function dropRightWhile(array, predicate) {\n            return array && array.length ? baseWhile(array, getIteratee(predicate, 3), true, true) : [];\n        }\n        /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */ function dropWhile(array, predicate) {\n            return array && array.length ? baseWhile(array, getIteratee(predicate, 3), true) : [];\n        }\n        /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */ function fill(array, value, start, end) {\n            var length = array == null ? 0 : array.length;\n            if (!length) return [];\n            if (start && typeof start != \"number\" && isIterateeCall(array, value, start)) {\n                start = 0;\n                end = length;\n            }\n            return baseFill(array, value, start, end);\n        }\n        /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */ function findIndex(array, predicate, fromIndex) {\n            var length = array == null ? 0 : array.length;\n            if (!length) return -1;\n            var index = fromIndex == null ? 0 : toInteger(fromIndex);\n            if (index < 0) index = nativeMax(length + index, 0);\n            return baseFindIndex(array, getIteratee(predicate, 3), index);\n        }\n        /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */ function findLastIndex(array, predicate, fromIndex) {\n            var length = array == null ? 0 : array.length;\n            if (!length) return -1;\n            var index = length - 1;\n            if (fromIndex !== undefined) {\n                index = toInteger(fromIndex);\n                index = fromIndex < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n            }\n            return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n        }\n        /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */ function flatten(array) {\n            var length = array == null ? 0 : array.length;\n            return length ? baseFlatten(array, 1) : [];\n        }\n        /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */ function flattenDeep(array) {\n            var length = array == null ? 0 : array.length;\n            return length ? baseFlatten(array, INFINITY) : [];\n        }\n        /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */ function flattenDepth(array, depth) {\n            var length = array == null ? 0 : array.length;\n            if (!length) return [];\n            depth = depth === undefined ? 1 : toInteger(depth);\n            return baseFlatten(array, depth);\n        }\n        /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */ function fromPairs(pairs) {\n            var index = -1, length = pairs == null ? 0 : pairs.length, result = {};\n            while(++index < length){\n                var pair = pairs[index];\n                result[pair[0]] = pair[1];\n            }\n            return result;\n        }\n        /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */ function head(array) {\n            return array && array.length ? array[0] : undefined;\n        }\n        /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */ function indexOf(array, value, fromIndex) {\n            var length = array == null ? 0 : array.length;\n            if (!length) return -1;\n            var index = fromIndex == null ? 0 : toInteger(fromIndex);\n            if (index < 0) index = nativeMax(length + index, 0);\n            return baseIndexOf(array, value, index);\n        }\n        /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */ function initial(array) {\n            var length = array == null ? 0 : array.length;\n            return length ? baseSlice(array, 0, -1) : [];\n        }\n        /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */ var intersection = baseRest(function(arrays) {\n            var mapped = arrayMap(arrays, castArrayLikeObject);\n            return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped) : [];\n        });\n        /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */ var intersectionBy = baseRest(function(arrays) {\n            var iteratee = last(arrays), mapped = arrayMap(arrays, castArrayLikeObject);\n            if (iteratee === last(mapped)) iteratee = undefined;\n            else mapped.pop();\n            return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped, getIteratee(iteratee, 2)) : [];\n        });\n        /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */ var intersectionWith = baseRest(function(arrays) {\n            var comparator = last(arrays), mapped = arrayMap(arrays, castArrayLikeObject);\n            comparator = typeof comparator == \"function\" ? comparator : undefined;\n            if (comparator) mapped.pop();\n            return mapped.length && mapped[0] === arrays[0] ? baseIntersection(mapped, undefined, comparator) : [];\n        });\n        /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */ function join(array, separator) {\n            return array == null ? \"\" : nativeJoin.call(array, separator);\n        }\n        /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */ function last(array) {\n            var length = array == null ? 0 : array.length;\n            return length ? array[length - 1] : undefined;\n        }\n        /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */ function lastIndexOf(array, value, fromIndex) {\n            var length = array == null ? 0 : array.length;\n            if (!length) return -1;\n            var index = length;\n            if (fromIndex !== undefined) {\n                index = toInteger(fromIndex);\n                index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n            }\n            return value === value ? strictLastIndexOf(array, value, index) : baseFindIndex(array, baseIsNaN, index, true);\n        }\n        /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */ function nth(array, n) {\n            return array && array.length ? baseNth(array, toInteger(n)) : undefined;\n        }\n        /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */ var pull = baseRest(pullAll);\n        /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */ function pullAll(array, values) {\n            return array && array.length && values && values.length ? basePullAll(array, values) : array;\n        }\n        /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */ function pullAllBy(array, values, iteratee) {\n            return array && array.length && values && values.length ? basePullAll(array, values, getIteratee(iteratee, 2)) : array;\n        }\n        /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */ function pullAllWith(array, values, comparator) {\n            return array && array.length && values && values.length ? basePullAll(array, values, undefined, comparator) : array;\n        }\n        /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */ var pullAt = flatRest(function(array, indexes) {\n            var length = array == null ? 0 : array.length, result = baseAt(array, indexes);\n            basePullAt(array, arrayMap(indexes, function(index) {\n                return isIndex(index, length) ? +index : index;\n            }).sort(compareAscending));\n            return result;\n        });\n        /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */ function remove(array, predicate) {\n            var result = [];\n            if (!(array && array.length)) return result;\n            var index = -1, indexes = [], length = array.length;\n            predicate = getIteratee(predicate, 3);\n            while(++index < length){\n                var value = array[index];\n                if (predicate(value, index, array)) {\n                    result.push(value);\n                    indexes.push(index);\n                }\n            }\n            basePullAt(array, indexes);\n            return result;\n        }\n        /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */ function reverse(array) {\n            return array == null ? array : nativeReverse.call(array);\n        }\n        /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */ function slice(array, start, end) {\n            var length = array == null ? 0 : array.length;\n            if (!length) return [];\n            if (end && typeof end != \"number\" && isIterateeCall(array, start, end)) {\n                start = 0;\n                end = length;\n            } else {\n                start = start == null ? 0 : toInteger(start);\n                end = end === undefined ? length : toInteger(end);\n            }\n            return baseSlice(array, start, end);\n        }\n        /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */ function sortedIndex(array, value) {\n            return baseSortedIndex(array, value);\n        }\n        /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */ function sortedIndexBy(array, value, iteratee) {\n            return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n        }\n        /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */ function sortedIndexOf(array, value) {\n            var length = array == null ? 0 : array.length;\n            if (length) {\n                var index = baseSortedIndex(array, value);\n                if (index < length && eq(array[index], value)) return index;\n            }\n            return -1;\n        }\n        /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */ function sortedLastIndex(array, value) {\n            return baseSortedIndex(array, value, true);\n        }\n        /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */ function sortedLastIndexBy(array, value, iteratee) {\n            return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n        }\n        /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */ function sortedLastIndexOf(array, value) {\n            var length = array == null ? 0 : array.length;\n            if (length) {\n                var index = baseSortedIndex(array, value, true) - 1;\n                if (eq(array[index], value)) return index;\n            }\n            return -1;\n        }\n        /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */ function sortedUniq(array) {\n            return array && array.length ? baseSortedUniq(array) : [];\n        }\n        /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */ function sortedUniqBy(array, iteratee) {\n            return array && array.length ? baseSortedUniq(array, getIteratee(iteratee, 2)) : [];\n        }\n        /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */ function tail(array) {\n            var length = array == null ? 0 : array.length;\n            return length ? baseSlice(array, 1, length) : [];\n        }\n        /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */ function take(array, n, guard) {\n            if (!(array && array.length)) return [];\n            n = guard || n === undefined ? 1 : toInteger(n);\n            return baseSlice(array, 0, n < 0 ? 0 : n);\n        }\n        /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */ function takeRight(array, n, guard) {\n            var length = array == null ? 0 : array.length;\n            if (!length) return [];\n            n = guard || n === undefined ? 1 : toInteger(n);\n            n = length - n;\n            return baseSlice(array, n < 0 ? 0 : n, length);\n        }\n        /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */ function takeRightWhile(array, predicate) {\n            return array && array.length ? baseWhile(array, getIteratee(predicate, 3), false, true) : [];\n        }\n        /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */ function takeWhile(array, predicate) {\n            return array && array.length ? baseWhile(array, getIteratee(predicate, 3)) : [];\n        }\n        /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */ var union = baseRest(function(arrays) {\n            return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n        });\n        /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */ var unionBy = baseRest(function(arrays) {\n            var iteratee = last(arrays);\n            if (isArrayLikeObject(iteratee)) iteratee = undefined;\n            return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n        });\n        /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */ var unionWith = baseRest(function(arrays) {\n            var comparator = last(arrays);\n            comparator = typeof comparator == \"function\" ? comparator : undefined;\n            return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n        });\n        /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */ function uniq(array) {\n            return array && array.length ? baseUniq(array) : [];\n        }\n        /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */ function uniqBy(array, iteratee) {\n            return array && array.length ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n        }\n        /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */ function uniqWith(array, comparator) {\n            comparator = typeof comparator == \"function\" ? comparator : undefined;\n            return array && array.length ? baseUniq(array, undefined, comparator) : [];\n        }\n        /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */ function unzip(array) {\n            if (!(array && array.length)) return [];\n            var length = 0;\n            array = arrayFilter(array, function(group) {\n                if (isArrayLikeObject(group)) {\n                    length = nativeMax(group.length, length);\n                    return true;\n                }\n            });\n            return baseTimes(length, function(index) {\n                return arrayMap(array, baseProperty(index));\n            });\n        }\n        /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */ function unzipWith(array, iteratee) {\n            if (!(array && array.length)) return [];\n            var result = unzip(array);\n            if (iteratee == null) return result;\n            return arrayMap(result, function(group) {\n                return apply(iteratee, undefined, group);\n            });\n        }\n        /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */ var without = baseRest(function(array, values) {\n            return isArrayLikeObject(array) ? baseDifference(array, values) : [];\n        });\n        /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */ var xor = baseRest(function(arrays) {\n            return baseXor(arrayFilter(arrays, isArrayLikeObject));\n        });\n        /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */ var xorBy = baseRest(function(arrays) {\n            var iteratee = last(arrays);\n            if (isArrayLikeObject(iteratee)) iteratee = undefined;\n            return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n        });\n        /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */ var xorWith = baseRest(function(arrays) {\n            var comparator = last(arrays);\n            comparator = typeof comparator == \"function\" ? comparator : undefined;\n            return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n        });\n        /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */ var zip = baseRest(unzip);\n        /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */ function zipObject(props, values) {\n            return baseZipObject(props || [], values || [], assignValue);\n        }\n        /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */ function zipObjectDeep(props, values) {\n            return baseZipObject(props || [], values || [], baseSet);\n        }\n        /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */ var zipWith = baseRest(function(arrays) {\n            var length = arrays.length, iteratee = length > 1 ? arrays[length - 1] : undefined;\n            iteratee = typeof iteratee == \"function\" ? (arrays.pop(), iteratee) : undefined;\n            return unzipWith(arrays, iteratee);\n        });\n        /*------------------------------------------------------------------------*/ /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */ function chain(value) {\n            var result = lodash(value);\n            result.__chain__ = true;\n            return result;\n        }\n        /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */ function tap(value, interceptor) {\n            interceptor(value);\n            return value;\n        }\n        /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */ function thru(value, interceptor) {\n            return interceptor(value);\n        }\n        /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */ var wrapperAt = flatRest(function(paths) {\n            var length = paths.length, start = length ? paths[0] : 0, value = this.__wrapped__, interceptor = function(object) {\n                return baseAt(object, paths);\n            };\n            if (length > 1 || this.__actions__.length || !(value instanceof LazyWrapper) || !isIndex(start)) return this.thru(interceptor);\n            value = value.slice(start, +start + (length ? 1 : 0));\n            value.__actions__.push({\n                \"func\": thru,\n                \"args\": [\n                    interceptor\n                ],\n                \"thisArg\": undefined\n            });\n            return new LodashWrapper(value, this.__chain__).thru(function(array) {\n                if (length && !array.length) array.push(undefined);\n                return array;\n            });\n        });\n        /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */ function wrapperChain() {\n            return chain(this);\n        }\n        /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */ function wrapperCommit() {\n            return new LodashWrapper(this.value(), this.__chain__);\n        }\n        /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */ function wrapperNext() {\n            if (this.__values__ === undefined) this.__values__ = toArray(this.value());\n            var done = this.__index__ >= this.__values__.length, value = done ? undefined : this.__values__[this.__index__++];\n            return {\n                \"done\": done,\n                \"value\": value\n            };\n        }\n        /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */ function wrapperToIterator() {\n            return this;\n        }\n        /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */ function wrapperPlant(value) {\n            var result, parent = this;\n            while(parent instanceof baseLodash){\n                var clone = wrapperClone(parent);\n                clone.__index__ = 0;\n                clone.__values__ = undefined;\n                if (result) previous.__wrapped__ = clone;\n                else result = clone;\n                var previous = clone;\n                parent = parent.__wrapped__;\n            }\n            previous.__wrapped__ = value;\n            return result;\n        }\n        /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */ function wrapperReverse() {\n            var value = this.__wrapped__;\n            if (value instanceof LazyWrapper) {\n                var wrapped = value;\n                if (this.__actions__.length) wrapped = new LazyWrapper(this);\n                wrapped = wrapped.reverse();\n                wrapped.__actions__.push({\n                    \"func\": thru,\n                    \"args\": [\n                        reverse\n                    ],\n                    \"thisArg\": undefined\n                });\n                return new LodashWrapper(wrapped, this.__chain__);\n            }\n            return this.thru(reverse);\n        }\n        /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */ function wrapperValue() {\n            return baseWrapperValue(this.__wrapped__, this.__actions__);\n        }\n        /*------------------------------------------------------------------------*/ /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */ var countBy = createAggregator(function(result, value, key) {\n            if (hasOwnProperty.call(result, key)) ++result[key];\n            else baseAssignValue(result, key, 1);\n        });\n        /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */ function every(collection, predicate, guard) {\n            var func = isArray(collection) ? arrayEvery : baseEvery;\n            if (guard && isIterateeCall(collection, predicate, guard)) predicate = undefined;\n            return func(collection, getIteratee(predicate, 3));\n        }\n        /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */ function filter(collection, predicate) {\n            var func = isArray(collection) ? arrayFilter : baseFilter;\n            return func(collection, getIteratee(predicate, 3));\n        }\n        /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */ var find = createFind(findIndex);\n        /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */ var findLast = createFind(findLastIndex);\n        /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */ function flatMap(collection, iteratee) {\n            return baseFlatten(map(collection, iteratee), 1);\n        }\n        /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */ function flatMapDeep(collection, iteratee) {\n            return baseFlatten(map(collection, iteratee), INFINITY);\n        }\n        /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */ function flatMapDepth(collection, iteratee, depth) {\n            depth = depth === undefined ? 1 : toInteger(depth);\n            return baseFlatten(map(collection, iteratee), depth);\n        }\n        /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */ function forEach(collection, iteratee) {\n            var func = isArray(collection) ? arrayEach : baseEach;\n            return func(collection, getIteratee(iteratee, 3));\n        }\n        /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */ function forEachRight(collection, iteratee) {\n            var func = isArray(collection) ? arrayEachRight : baseEachRight;\n            return func(collection, getIteratee(iteratee, 3));\n        }\n        /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */ var groupBy = createAggregator(function(result, value, key) {\n            if (hasOwnProperty.call(result, key)) result[key].push(value);\n            else baseAssignValue(result, key, [\n                value\n            ]);\n        });\n        /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */ function includes(collection, value, fromIndex, guard) {\n            collection = isArrayLike(collection) ? collection : values(collection);\n            fromIndex = fromIndex && !guard ? toInteger(fromIndex) : 0;\n            var length = collection.length;\n            if (fromIndex < 0) fromIndex = nativeMax(length + fromIndex, 0);\n            return isString(collection) ? fromIndex <= length && collection.indexOf(value, fromIndex) > -1 : !!length && baseIndexOf(collection, value, fromIndex) > -1;\n        }\n        /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */ var invokeMap = baseRest(function(collection, path, args) {\n            var index = -1, isFunc = typeof path == \"function\", result = isArrayLike(collection) ? Array1(collection.length) : [];\n            baseEach(collection, function(value) {\n                result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n            });\n            return result;\n        });\n        /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */ var keyBy = createAggregator(function(result, value, key) {\n            baseAssignValue(result, key, value);\n        });\n        /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */ function map(collection, iteratee) {\n            var func = isArray(collection) ? arrayMap : baseMap;\n            return func(collection, getIteratee(iteratee, 3));\n        }\n        /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */ function orderBy(collection, iteratees, orders, guard) {\n            if (collection == null) return [];\n            if (!isArray(iteratees)) iteratees = iteratees == null ? [] : [\n                iteratees\n            ];\n            orders = guard ? undefined : orders;\n            if (!isArray(orders)) orders = orders == null ? [] : [\n                orders\n            ];\n            return baseOrderBy(collection, iteratees, orders);\n        }\n        /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */ var partition = createAggregator(function(result, value, key) {\n            result[key ? 0 : 1].push(value);\n        }, function() {\n            return [\n                [],\n                []\n            ];\n        });\n        /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */ function reduce(collection, iteratee, accumulator) {\n            var func = isArray(collection) ? arrayReduce : baseReduce, initAccum = arguments.length < 3;\n            return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n        }\n        /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */ function reduceRight(collection, iteratee, accumulator) {\n            var func = isArray(collection) ? arrayReduceRight : baseReduce, initAccum = arguments.length < 3;\n            return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n        }\n        /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */ function reject(collection, predicate) {\n            var func = isArray(collection) ? arrayFilter : baseFilter;\n            return func(collection, negate(getIteratee(predicate, 3)));\n        }\n        /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */ function sample(collection) {\n            var func = isArray(collection) ? arraySample : baseSample;\n            return func(collection);\n        }\n        /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */ function sampleSize(collection, n, guard) {\n            if (guard ? isIterateeCall(collection, n, guard) : n === undefined) n = 1;\n            else n = toInteger(n);\n            var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n            return func(collection, n);\n        }\n        /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */ function shuffle(collection) {\n            var func = isArray(collection) ? arrayShuffle : baseShuffle;\n            return func(collection);\n        }\n        /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */ function size(collection) {\n            if (collection == null) return 0;\n            if (isArrayLike(collection)) return isString(collection) ? stringSize(collection) : collection.length;\n            var tag = getTag(collection);\n            if (tag == mapTag || tag == setTag) return collection.size;\n            return baseKeys(collection).length;\n        }\n        /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */ function some(collection, predicate, guard) {\n            var func = isArray(collection) ? arraySome : baseSome;\n            if (guard && isIterateeCall(collection, predicate, guard)) predicate = undefined;\n            return func(collection, getIteratee(predicate, 3));\n        }\n        /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */ var sortBy = baseRest(function(collection, iteratees) {\n            if (collection == null) return [];\n            var length = iteratees.length;\n            if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) iteratees = [];\n            else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) iteratees = [\n                iteratees[0]\n            ];\n            return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n        });\n        /*------------------------------------------------------------------------*/ /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */ var now = ctxNow || function() {\n            return root.Date.now();\n        };\n        /*------------------------------------------------------------------------*/ /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */ function after(n, func) {\n            if (typeof func != \"function\") throw new TypeError(FUNC_ERROR_TEXT);\n            n = toInteger(n);\n            return function() {\n                if (--n < 1) return func.apply(this, arguments);\n            };\n        }\n        /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */ function ary(func, n, guard) {\n            n = guard ? undefined : n;\n            n = func && n == null ? func.length : n;\n            return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n        }\n        /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */ function before(n, func) {\n            var result;\n            if (typeof func != \"function\") throw new TypeError(FUNC_ERROR_TEXT);\n            n = toInteger(n);\n            return function() {\n                if (--n > 0) result = func.apply(this, arguments);\n                if (n <= 1) func = undefined;\n                return result;\n            };\n        }\n        /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */ var bind = baseRest(function(func, thisArg, partials) {\n            var bitmask = WRAP_BIND_FLAG;\n            if (partials.length) {\n                var holders = replaceHolders(partials, getHolder(bind));\n                bitmask |= WRAP_PARTIAL_FLAG;\n            }\n            return createWrap(func, bitmask, thisArg, partials, holders);\n        });\n        /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */ var bindKey = baseRest(function(object, key, partials) {\n            var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n            if (partials.length) {\n                var holders = replaceHolders(partials, getHolder(bindKey));\n                bitmask |= WRAP_PARTIAL_FLAG;\n            }\n            return createWrap(key, bitmask, object, partials, holders);\n        });\n        /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */ function curry(func, arity, guard) {\n            arity = guard ? undefined : arity;\n            var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n            result.placeholder = curry.placeholder;\n            return result;\n        }\n        /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */ function curryRight(func, arity, guard) {\n            arity = guard ? undefined : arity;\n            var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n            result.placeholder = curryRight.placeholder;\n            return result;\n        }\n        /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */ function debounce(func, wait, options) {\n            var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;\n            if (typeof func != \"function\") throw new TypeError(FUNC_ERROR_TEXT);\n            wait = toNumber(wait) || 0;\n            if (isObject(options)) {\n                leading = !!options.leading;\n                maxing = \"maxWait\" in options;\n                maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n                trailing = \"trailing\" in options ? !!options.trailing : trailing;\n            }\n            function invokeFunc(time) {\n                var args = lastArgs, thisArg = lastThis;\n                lastArgs = lastThis = undefined;\n                lastInvokeTime = time;\n                result = func.apply(thisArg, args);\n                return result;\n            }\n            function leadingEdge(time) {\n                // Reset any `maxWait` timer.\n                lastInvokeTime = time;\n                // Start the timer for the trailing edge.\n                timerId = setTimeout(timerExpired, wait);\n                // Invoke the leading edge.\n                return leading ? invokeFunc(time) : result;\n            }\n            function remainingWait(time) {\n                var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, timeWaiting = wait - timeSinceLastCall;\n                return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n            }\n            function shouldInvoke(time) {\n                var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;\n                // Either this is the first call, activity has stopped and we're at the\n                // trailing edge, the system time has gone backwards and we're treating\n                // it as the trailing edge, or we've hit the `maxWait` limit.\n                return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n            }\n            function timerExpired() {\n                var time = now();\n                if (shouldInvoke(time)) return trailingEdge(time);\n                // Restart the timer.\n                timerId = setTimeout(timerExpired, remainingWait(time));\n            }\n            function trailingEdge(time) {\n                timerId = undefined;\n                // Only invoke if we have `lastArgs` which means `func` has been\n                // debounced at least once.\n                if (trailing && lastArgs) return invokeFunc(time);\n                lastArgs = lastThis = undefined;\n                return result;\n            }\n            function cancel() {\n                if (timerId !== undefined) clearTimeout(timerId);\n                lastInvokeTime = 0;\n                lastArgs = lastCallTime = lastThis = timerId = undefined;\n            }\n            function flush() {\n                return timerId === undefined ? result : trailingEdge(now());\n            }\n            function debounced() {\n                var time = now(), isInvoking = shouldInvoke(time);\n                lastArgs = arguments;\n                lastThis = this;\n                lastCallTime = time;\n                if (isInvoking) {\n                    if (timerId === undefined) return leadingEdge(lastCallTime);\n                    if (maxing) {\n                        // Handle invocations in a tight loop.\n                        clearTimeout(timerId);\n                        timerId = setTimeout(timerExpired, wait);\n                        return invokeFunc(lastCallTime);\n                    }\n                }\n                if (timerId === undefined) timerId = setTimeout(timerExpired, wait);\n                return result;\n            }\n            debounced.cancel = cancel;\n            debounced.flush = flush;\n            return debounced;\n        }\n        /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */ var defer = baseRest(function(func, args) {\n            return baseDelay(func, 1, args);\n        });\n        /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */ var delay = baseRest(function(func, wait, args) {\n            return baseDelay(func, toNumber(wait) || 0, args);\n        });\n        /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */ function flip(func) {\n            return createWrap(func, WRAP_FLIP_FLAG);\n        }\n        /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */ function memoize(func, resolver) {\n            if (typeof func != \"function\" || resolver != null && typeof resolver != \"function\") throw new TypeError(FUNC_ERROR_TEXT);\n            var memoized = function() {\n                var args = arguments, key = resolver ? resolver.apply(this, args) : args[0], cache = memoized.cache;\n                if (cache.has(key)) return cache.get(key);\n                var result = func.apply(this, args);\n                memoized.cache = cache.set(key, result) || cache;\n                return result;\n            };\n            memoized.cache = new (memoize.Cache || MapCache);\n            return memoized;\n        }\n        // Expose `MapCache`.\n        memoize.Cache = MapCache;\n        /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */ function negate(predicate) {\n            if (typeof predicate != \"function\") throw new TypeError(FUNC_ERROR_TEXT);\n            return function() {\n                var args = arguments;\n                switch(args.length){\n                    case 0:\n                        return !predicate.call(this);\n                    case 1:\n                        return !predicate.call(this, args[0]);\n                    case 2:\n                        return !predicate.call(this, args[0], args[1]);\n                    case 3:\n                        return !predicate.call(this, args[0], args[1], args[2]);\n                }\n                return !predicate.apply(this, args);\n            };\n        }\n        /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */ function once(func) {\n            return before(2, func);\n        }\n        /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */ var overArgs = castRest(function(func, transforms) {\n            transforms = transforms.length == 1 && isArray(transforms[0]) ? arrayMap(transforms[0], baseUnary(getIteratee())) : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n            var funcsLength = transforms.length;\n            return baseRest(function(args) {\n                var index = -1, length = nativeMin(args.length, funcsLength);\n                while(++index < length)args[index] = transforms[index].call(this, args[index]);\n                return apply(func, this, args);\n            });\n        });\n        /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */ var partial = baseRest(function(func, partials) {\n            var holders = replaceHolders(partials, getHolder(partial));\n            return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n        });\n        /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */ var partialRight = baseRest(function(func, partials) {\n            var holders = replaceHolders(partials, getHolder(partialRight));\n            return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n        });\n        /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */ var rearg = flatRest(function(func, indexes) {\n            return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n        });\n        /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */ function rest(func, start) {\n            if (typeof func != \"function\") throw new TypeError(FUNC_ERROR_TEXT);\n            start = start === undefined ? start : toInteger(start);\n            return baseRest(func, start);\n        }\n        /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */ function spread(func, start) {\n            if (typeof func != \"function\") throw new TypeError(FUNC_ERROR_TEXT);\n            start = start == null ? 0 : nativeMax(toInteger(start), 0);\n            return baseRest(function(args) {\n                var array = args[start], otherArgs = castSlice(args, 0, start);\n                if (array) arrayPush(otherArgs, array);\n                return apply(func, this, otherArgs);\n            });\n        }\n        /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */ function throttle(func, wait, options) {\n            var leading = true, trailing = true;\n            if (typeof func != \"function\") throw new TypeError(FUNC_ERROR_TEXT);\n            if (isObject(options)) {\n                leading = \"leading\" in options ? !!options.leading : leading;\n                trailing = \"trailing\" in options ? !!options.trailing : trailing;\n            }\n            return debounce(func, wait, {\n                \"leading\": leading,\n                \"maxWait\": wait,\n                \"trailing\": trailing\n            });\n        }\n        /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */ function unary(func) {\n            return ary(func, 1);\n        }\n        /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */ function wrap(value, wrapper) {\n            return partial(castFunction(wrapper), value);\n        }\n        /*------------------------------------------------------------------------*/ /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */ function castArray() {\n            if (!arguments.length) return [];\n            var value = arguments[0];\n            return isArray(value) ? value : [\n                value\n            ];\n        }\n        /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */ function clone(value) {\n            return baseClone(value, CLONE_SYMBOLS_FLAG);\n        }\n        /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */ function cloneWith(value, customizer) {\n            customizer = typeof customizer == \"function\" ? customizer : undefined;\n            return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n        }\n        /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */ function cloneDeep(value) {\n            return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n        }\n        /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */ function cloneDeepWith(value, customizer) {\n            customizer = typeof customizer == \"function\" ? customizer : undefined;\n            return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n        }\n        /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */ function conformsTo(object, source) {\n            return source == null || baseConformsTo(object, source, keys(source));\n        }\n        /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */ function eq(value, other) {\n            return value === other || value !== value && other !== other;\n        }\n        /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */ var gt = createRelationalOperation(baseGt);\n        /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */ var gte = createRelationalOperation(function(value, other) {\n            return value >= other;\n        });\n        /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */ var isArguments = baseIsArguments(function() {\n            return arguments;\n        }()) ? baseIsArguments : function(value) {\n            return isObjectLike(value) && hasOwnProperty.call(value, \"callee\") && !propertyIsEnumerable.call(value, \"callee\");\n        };\n        /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */ var isArray = Array1.isArray;\n        /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */ var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n        /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */ function isArrayLike(value) {\n            return value != null && isLength(value.length) && !isFunction(value);\n        }\n        /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */ function isArrayLikeObject(value) {\n            return isObjectLike(value) && isArrayLike(value);\n        }\n        /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */ function isBoolean(value) {\n            return value === true || value === false || isObjectLike(value) && baseGetTag(value) == boolTag;\n        }\n        /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */ var isBuffer = nativeIsBuffer || stubFalse;\n        /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */ var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n        /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */ function isElement(value) {\n            return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n        }\n        /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */ function isEmpty(value) {\n            if (value == null) return true;\n            if (isArrayLike(value) && (isArray(value) || typeof value == \"string\" || typeof value.splice == \"function\" || isBuffer(value) || isTypedArray(value) || isArguments(value))) return !value.length;\n            var tag = getTag(value);\n            if (tag == mapTag || tag == setTag) return !value.size;\n            if (isPrototype(value)) return !baseKeys(value).length;\n            for(var key in value){\n                if (hasOwnProperty.call(value, key)) return false;\n            }\n            return true;\n        }\n        /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */ function isEqual(value, other) {\n            return baseIsEqual(value, other);\n        }\n        /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */ function isEqualWith(value, other, customizer) {\n            customizer = typeof customizer == \"function\" ? customizer : undefined;\n            var result = customizer ? customizer(value, other) : undefined;\n            return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n        }\n        /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */ function isError(value) {\n            if (!isObjectLike(value)) return false;\n            var tag = baseGetTag(value);\n            return tag == errorTag || tag == domExcTag || typeof value.message == \"string\" && typeof value.name == \"string\" && !isPlainObject(value);\n        }\n        /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */ function isFinite(value) {\n            return typeof value == \"number\" && nativeIsFinite(value);\n        }\n        /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */ function isFunction(value) {\n            if (!isObject(value)) return false;\n            // The use of `Object#toString` avoids issues with the `typeof` operator\n            // in Safari 9 which returns 'object' for typed arrays and other constructors.\n            var tag = baseGetTag(value);\n            return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n        }\n        /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */ function isInteger(value) {\n            return typeof value == \"number\" && value == toInteger(value);\n        }\n        /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */ function isLength(value) {\n            return typeof value == \"number\" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n        }\n        /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */ function isObject(value) {\n            var type = typeof value;\n            return value != null && (type == \"object\" || type == \"function\");\n        }\n        /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */ function isObjectLike(value) {\n            return value != null && typeof value == \"object\";\n        }\n        /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */ var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n        /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */ function isMatch(object, source) {\n            return object === source || baseIsMatch(object, source, getMatchData(source));\n        }\n        /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */ function isMatchWith(object, source, customizer) {\n            customizer = typeof customizer == \"function\" ? customizer : undefined;\n            return baseIsMatch(object, source, getMatchData(source), customizer);\n        }\n        /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */ function isNaN(value) {\n            // An `NaN` primitive is the only value that is not equal to itself.\n            // Perform the `toStringTag` check first to avoid errors with some\n            // ActiveX objects in IE.\n            return isNumber(value) && value != +value;\n        }\n        /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */ function isNative(value) {\n            if (isMaskable(value)) throw new Error(CORE_ERROR_TEXT);\n            return baseIsNative(value);\n        }\n        /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */ function isNull(value) {\n            return value === null;\n        }\n        /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */ function isNil(value) {\n            return value == null;\n        }\n        /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */ function isNumber(value) {\n            return typeof value == \"number\" || isObjectLike(value) && baseGetTag(value) == numberTag;\n        }\n        /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */ function isPlainObject(value) {\n            if (!isObjectLike(value) || baseGetTag(value) != objectTag) return false;\n            var proto = getPrototype(value);\n            if (proto === null) return true;\n            var Ctor = hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n            return typeof Ctor == \"function\" && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;\n        }\n        /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */ var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n        /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */ function isSafeInteger(value) {\n            return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n        }\n        /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */ var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n        /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */ function isString(value) {\n            return typeof value == \"string\" || !isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag;\n        }\n        /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */ function isSymbol(value) {\n            return typeof value == \"symbol\" || isObjectLike(value) && baseGetTag(value) == symbolTag;\n        }\n        /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */ var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n        /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */ function isUndefined(value) {\n            return value === undefined;\n        }\n        /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */ function isWeakMap(value) {\n            return isObjectLike(value) && getTag(value) == weakMapTag;\n        }\n        /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */ function isWeakSet(value) {\n            return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n        }\n        /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */ var lt = createRelationalOperation(baseLt);\n        /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */ var lte = createRelationalOperation(function(value, other) {\n            return value <= other;\n        });\n        /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */ function toArray(value) {\n            if (!value) return [];\n            if (isArrayLike(value)) return isString(value) ? stringToArray(value) : copyArray(value);\n            if (symIterator && value[symIterator]) return iteratorToArray(value[symIterator]());\n            var tag = getTag(value), func = tag == mapTag ? mapToArray : tag == setTag ? setToArray : values;\n            return func(value);\n        }\n        /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */ function toFinite(value) {\n            if (!value) return value === 0 ? value : 0;\n            value = toNumber(value);\n            if (value === INFINITY || value === -INFINITY) {\n                var sign = value < 0 ? -1 : 1;\n                return sign * MAX_INTEGER;\n            }\n            return value === value ? value : 0;\n        }\n        /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */ function toInteger(value) {\n            var result = toFinite(value), remainder = result % 1;\n            return result === result ? remainder ? result - remainder : result : 0;\n        }\n        /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */ function toLength(value) {\n            return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n        }\n        /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */ function toNumber(value) {\n            if (typeof value == \"number\") return value;\n            if (isSymbol(value)) return NAN;\n            if (isObject(value)) {\n                var other = typeof value.valueOf == \"function\" ? value.valueOf() : value;\n                value = isObject(other) ? other + \"\" : other;\n            }\n            if (typeof value != \"string\") return value === 0 ? value : +value;\n            value = baseTrim(value);\n            var isBinary = reIsBinary.test(value);\n            return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n        }\n        /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */ function toPlainObject(value) {\n            return copyObject(value, keysIn(value));\n        }\n        /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */ function toSafeInteger(value) {\n            return value ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER) : value === 0 ? value : 0;\n        }\n        /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */ function toString(value) {\n            return value == null ? \"\" : baseToString(value);\n        }\n        /*------------------------------------------------------------------------*/ /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */ var assign = createAssigner(function(object, source) {\n            if (isPrototype(source) || isArrayLike(source)) {\n                copyObject(source, keys(source), object);\n                return;\n            }\n            for(var key in source)if (hasOwnProperty.call(source, key)) assignValue(object, key, source[key]);\n        });\n        /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */ var assignIn = createAssigner(function(object, source) {\n            copyObject(source, keysIn(source), object);\n        });\n        /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */ var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n            copyObject(source, keysIn(source), object, customizer);\n        });\n        /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */ var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n            copyObject(source, keys(source), object, customizer);\n        });\n        /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */ var at = flatRest(baseAt);\n        /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */ function create(prototype, properties) {\n            var result = baseCreate(prototype);\n            return properties == null ? result : baseAssign(result, properties);\n        }\n        /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */ var defaults = baseRest(function(object, sources) {\n            object = Object1(object);\n            var index = -1;\n            var length = sources.length;\n            var guard = length > 2 ? sources[2] : undefined;\n            if (guard && isIterateeCall(sources[0], sources[1], guard)) length = 1;\n            while(++index < length){\n                var source = sources[index];\n                var props = keysIn(source);\n                var propsIndex = -1;\n                var propsLength = props.length;\n                while(++propsIndex < propsLength){\n                    var key = props[propsIndex];\n                    var value = object[key];\n                    if (value === undefined || eq(value, objectProto[key]) && !hasOwnProperty.call(object, key)) object[key] = source[key];\n                }\n            }\n            return object;\n        });\n        /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */ var defaultsDeep = baseRest(function(args) {\n            args.push(undefined, customDefaultsMerge);\n            return apply(mergeWith, undefined, args);\n        });\n        /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */ function findKey(object, predicate) {\n            return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n        }\n        /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */ function findLastKey(object, predicate) {\n            return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n        }\n        /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */ function forIn(object, iteratee) {\n            return object == null ? object : baseFor(object, getIteratee(iteratee, 3), keysIn);\n        }\n        /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */ function forInRight(object, iteratee) {\n            return object == null ? object : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n        }\n        /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */ function forOwn(object, iteratee) {\n            return object && baseForOwn(object, getIteratee(iteratee, 3));\n        }\n        /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */ function forOwnRight(object, iteratee) {\n            return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n        }\n        /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */ function functions(object) {\n            return object == null ? [] : baseFunctions(object, keys(object));\n        }\n        /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */ function functionsIn(object) {\n            return object == null ? [] : baseFunctions(object, keysIn(object));\n        }\n        /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */ function get(object, path, defaultValue) {\n            var result = object == null ? undefined : baseGet(object, path);\n            return result === undefined ? defaultValue : result;\n        }\n        /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */ function has(object, path) {\n            return object != null && hasPath(object, path, baseHas);\n        }\n        /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */ function hasIn(object, path) {\n            return object != null && hasPath(object, path, baseHasIn);\n        }\n        /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */ var invert = createInverter(function(result, value, key) {\n            if (value != null && typeof value.toString != \"function\") value = nativeObjectToString.call(value);\n            result[value] = key;\n        }, constant(identity));\n        /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */ var invertBy = createInverter(function(result, value, key) {\n            if (value != null && typeof value.toString != \"function\") value = nativeObjectToString.call(value);\n            if (hasOwnProperty.call(result, value)) result[value].push(key);\n            else result[value] = [\n                key\n            ];\n        }, getIteratee);\n        /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */ var invoke = baseRest(baseInvoke);\n        /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */ function keys(object) {\n            return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n        }\n        /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */ function keysIn(object) {\n            return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n        }\n        /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */ function mapKeys(object, iteratee) {\n            var result = {};\n            iteratee = getIteratee(iteratee, 3);\n            baseForOwn(object, function(value, key, object) {\n                baseAssignValue(result, iteratee(value, key, object), value);\n            });\n            return result;\n        }\n        /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */ function mapValues(object, iteratee) {\n            var result = {};\n            iteratee = getIteratee(iteratee, 3);\n            baseForOwn(object, function(value, key, object) {\n                baseAssignValue(result, key, iteratee(value, key, object));\n            });\n            return result;\n        }\n        /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */ var merge = createAssigner(function(object, source, srcIndex) {\n            baseMerge(object, source, srcIndex);\n        });\n        /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */ var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n            baseMerge(object, source, srcIndex, customizer);\n        });\n        /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */ var omit = flatRest(function(object, paths) {\n            var result = {};\n            if (object == null) return result;\n            var isDeep = false;\n            paths = arrayMap(paths, function(path) {\n                path = castPath(path, object);\n                isDeep || (isDeep = path.length > 1);\n                return path;\n            });\n            copyObject(object, getAllKeysIn(object), result);\n            if (isDeep) result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n            var length = paths.length;\n            while(length--)baseUnset(result, paths[length]);\n            return result;\n        });\n        /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */ function omitBy(object, predicate) {\n            return pickBy(object, negate(getIteratee(predicate)));\n        }\n        /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */ var pick = flatRest(function(object, paths) {\n            return object == null ? {} : basePick(object, paths);\n        });\n        /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */ function pickBy(object, predicate) {\n            if (object == null) return {};\n            var props = arrayMap(getAllKeysIn(object), function(prop) {\n                return [\n                    prop\n                ];\n            });\n            predicate = getIteratee(predicate);\n            return basePickBy(object, props, function(value, path) {\n                return predicate(value, path[0]);\n            });\n        }\n        /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */ function result(object, path, defaultValue) {\n            path = castPath(path, object);\n            var index = -1, length = path.length;\n            // Ensure the loop is entered when path is empty.\n            if (!length) {\n                length = 1;\n                object = undefined;\n            }\n            while(++index < length){\n                var value = object == null ? undefined : object[toKey(path[index])];\n                if (value === undefined) {\n                    index = length;\n                    value = defaultValue;\n                }\n                object = isFunction(value) ? value.call(object) : value;\n            }\n            return object;\n        }\n        /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */ function set(object, path, value) {\n            return object == null ? object : baseSet(object, path, value);\n        }\n        /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */ function setWith(object, path, value, customizer) {\n            customizer = typeof customizer == \"function\" ? customizer : undefined;\n            return object == null ? object : baseSet(object, path, value, customizer);\n        }\n        /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */ var toPairs = createToPairs(keys);\n        /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */ var toPairsIn = createToPairs(keysIn);\n        /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */ function transform(object, iteratee, accumulator) {\n            var isArr = isArray(object), isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n            iteratee = getIteratee(iteratee, 4);\n            if (accumulator == null) {\n                var Ctor = object && object.constructor;\n                if (isArrLike) accumulator = isArr ? new Ctor : [];\n                else if (isObject(object)) accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n                else accumulator = {};\n            }\n            (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n                return iteratee(accumulator, value, index, object);\n            });\n            return accumulator;\n        }\n        /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */ function unset(object, path) {\n            return object == null ? true : baseUnset(object, path);\n        }\n        /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */ function update(object, path, updater) {\n            return object == null ? object : baseUpdate(object, path, castFunction(updater));\n        }\n        /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */ function updateWith(object, path, updater, customizer) {\n            customizer = typeof customizer == \"function\" ? customizer : undefined;\n            return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n        }\n        /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */ function values(object) {\n            return object == null ? [] : baseValues(object, keys(object));\n        }\n        /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */ function valuesIn(object) {\n            return object == null ? [] : baseValues(object, keysIn(object));\n        }\n        /*------------------------------------------------------------------------*/ /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */ function clamp(number, lower, upper) {\n            if (upper === undefined) {\n                upper = lower;\n                lower = undefined;\n            }\n            if (upper !== undefined) {\n                upper = toNumber(upper);\n                upper = upper === upper ? upper : 0;\n            }\n            if (lower !== undefined) {\n                lower = toNumber(lower);\n                lower = lower === lower ? lower : 0;\n            }\n            return baseClamp(toNumber(number), lower, upper);\n        }\n        /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */ function inRange(number, start, end) {\n            start = toFinite(start);\n            if (end === undefined) {\n                end = start;\n                start = 0;\n            } else end = toFinite(end);\n            number = toNumber(number);\n            return baseInRange(number, start, end);\n        }\n        /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */ function random(lower, upper, floating) {\n            if (floating && typeof floating != \"boolean\" && isIterateeCall(lower, upper, floating)) upper = floating = undefined;\n            if (floating === undefined) {\n                if (typeof upper == \"boolean\") {\n                    floating = upper;\n                    upper = undefined;\n                } else if (typeof lower == \"boolean\") {\n                    floating = lower;\n                    lower = undefined;\n                }\n            }\n            if (lower === undefined && upper === undefined) {\n                lower = 0;\n                upper = 1;\n            } else {\n                lower = toFinite(lower);\n                if (upper === undefined) {\n                    upper = lower;\n                    lower = 0;\n                } else upper = toFinite(upper);\n            }\n            if (lower > upper) {\n                var temp = lower;\n                lower = upper;\n                upper = temp;\n            }\n            if (floating || lower % 1 || upper % 1) {\n                var rand = nativeRandom();\n                return nativeMin(lower + rand * (upper - lower + freeParseFloat(\"1e-\" + ((rand + \"\").length - 1))), upper);\n            }\n            return baseRandom(lower, upper);\n        }\n        /*------------------------------------------------------------------------*/ /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */ var camelCase = createCompounder(function(result, word, index) {\n            word = word.toLowerCase();\n            return result + (index ? capitalize(word) : word);\n        });\n        /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */ function capitalize(string) {\n            return upperFirst(toString(string).toLowerCase());\n        }\n        /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */ function deburr(string) {\n            string = toString(string);\n            return string && string.replace(reLatin, deburrLetter).replace(reComboMark, \"\");\n        }\n        /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */ function endsWith(string, target, position) {\n            string = toString(string);\n            target = baseToString(target);\n            var length = string.length;\n            position = position === undefined ? length : baseClamp(toInteger(position), 0, length);\n            var end = position;\n            position -= target.length;\n            return position >= 0 && string.slice(position, end) == target;\n        }\n        /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */ function escape(string) {\n            string = toString(string);\n            return string && reHasUnescapedHtml.test(string) ? string.replace(reUnescapedHtml, escapeHtmlChar) : string;\n        }\n        /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */ function escapeRegExp(string) {\n            string = toString(string);\n            return string && reHasRegExpChar.test(string) ? string.replace(reRegExpChar, \"\\\\$&\") : string;\n        }\n        /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */ var kebabCase = createCompounder(function(result, word, index) {\n            return result + (index ? \"-\" : \"\") + word.toLowerCase();\n        });\n        /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */ var lowerCase = createCompounder(function(result, word, index) {\n            return result + (index ? \" \" : \"\") + word.toLowerCase();\n        });\n        /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */ var lowerFirst = createCaseFirst(\"toLowerCase\");\n        /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */ function pad(string, length, chars) {\n            string = toString(string);\n            length = toInteger(length);\n            var strLength = length ? stringSize(string) : 0;\n            if (!length || strLength >= length) return string;\n            var mid = (length - strLength) / 2;\n            return createPadding(nativeFloor(mid), chars) + string + createPadding(nativeCeil(mid), chars);\n        }\n        /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */ function padEnd(string, length, chars) {\n            string = toString(string);\n            length = toInteger(length);\n            var strLength = length ? stringSize(string) : 0;\n            return length && strLength < length ? string + createPadding(length - strLength, chars) : string;\n        }\n        /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */ function padStart(string, length, chars) {\n            string = toString(string);\n            length = toInteger(length);\n            var strLength = length ? stringSize(string) : 0;\n            return length && strLength < length ? createPadding(length - strLength, chars) + string : string;\n        }\n        /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */ function parseInt1(string, radix, guard) {\n            if (guard || radix == null) radix = 0;\n            else if (radix) radix = +radix;\n            return nativeParseInt(toString(string).replace(reTrimStart, \"\"), radix || 0);\n        }\n        /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */ function repeat(string, n, guard) {\n            if (guard ? isIterateeCall(string, n, guard) : n === undefined) n = 1;\n            else n = toInteger(n);\n            return baseRepeat(toString(string), n);\n        }\n        /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */ function replace() {\n            var args = arguments, string = toString(args[0]);\n            return args.length < 3 ? string : string.replace(args[1], args[2]);\n        }\n        /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */ var snakeCase = createCompounder(function(result, word, index) {\n            return result + (index ? \"_\" : \"\") + word.toLowerCase();\n        });\n        /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */ function split(string, separator, limit) {\n            if (limit && typeof limit != \"number\" && isIterateeCall(string, separator, limit)) separator = limit = undefined;\n            limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n            if (!limit) return [];\n            string = toString(string);\n            if (string && (typeof separator == \"string\" || separator != null && !isRegExp(separator))) {\n                separator = baseToString(separator);\n                if (!separator && hasUnicode(string)) return castSlice(stringToArray(string), 0, limit);\n            }\n            return string.split(separator, limit);\n        }\n        /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */ var startCase = createCompounder(function(result, word, index) {\n            return result + (index ? \" \" : \"\") + upperFirst(word);\n        });\n        /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */ function startsWith(string, target, position) {\n            string = toString(string);\n            position = position == null ? 0 : baseClamp(toInteger(position), 0, string.length);\n            target = baseToString(target);\n            return string.slice(position, position + target.length) == target;\n        }\n        /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */ function template(string, options, guard) {\n            // Based on John Resig's `tmpl` implementation\n            // (http://ejohn.org/blog/javascript-micro-templating/)\n            // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n            var settings = lodash.templateSettings;\n            if (guard && isIterateeCall(string, options, guard)) options = undefined;\n            string = toString(string);\n            options = assignInWith({}, options, settings, customDefaultsAssignIn);\n            var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn), importsKeys = keys(imports), importsValues = baseValues(imports, importsKeys);\n            var isEscaping, isEvaluating, index = 0, interpolate = options.interpolate || reNoMatch, source = \"__p += '\";\n            // Compile the regexp to match each delimiter.\n            var reDelimiters = RegExp1((options.escape || reNoMatch).source + \"|\" + interpolate.source + \"|\" + (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + \"|\" + (options.evaluate || reNoMatch).source + \"|$\", \"g\");\n            // Use a sourceURL for easier debugging.\n            // The sourceURL gets injected into the source that's eval-ed, so be careful\n            // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n            // and escape the comment, thus injecting code that gets evaled.\n            var sourceURL = \"//# sourceURL=\" + (hasOwnProperty.call(options, \"sourceURL\") ? (options.sourceURL + \"\").replace(/\\s/g, \" \") : \"lodash.templateSources[\" + ++templateCounter + \"]\") + \"\\n\";\n            string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n                interpolateValue || (interpolateValue = esTemplateValue);\n                // Escape characters that can't be included in string literals.\n                source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n                // Replace delimiters with snippets.\n                if (escapeValue) {\n                    isEscaping = true;\n                    source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n                }\n                if (evaluateValue) {\n                    isEvaluating = true;\n                    source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n                }\n                if (interpolateValue) source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n                index = offset + match.length;\n                // The JS engine embedded in Adobe products needs `match` returned in\n                // order to produce the correct `offset` value.\n                return match;\n            });\n            source += \"';\\n\";\n            // If `variable` is not specified wrap a with-statement around the generated\n            // code to add the data object to the top of the scope chain.\n            var variable = hasOwnProperty.call(options, \"variable\") && options.variable;\n            if (!variable) source = \"with (obj) {\\n\" + source + \"\\n}\\n\";\n            else if (reForbiddenIdentifierChars.test(variable)) throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n            // Cleanup code by stripping empty strings.\n            source = (isEvaluating ? source.replace(reEmptyStringLeading, \"\") : source).replace(reEmptyStringMiddle, \"$1\").replace(reEmptyStringTrailing, \"$1;\");\n            // Frame code as the function body.\n            source = \"function(\" + (variable || \"obj\") + \") {\\n\" + (variable ? \"\" : \"obj || (obj = {});\\n\") + \"var __t, __p = ''\" + (isEscaping ? \", __e = _.escape\" : \"\") + (isEvaluating ? \", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\" : \";\\n\") + source + \"return __p\\n}\";\n            var result = attempt(function() {\n                return Function1(importsKeys, sourceURL + \"return \" + source).apply(undefined, importsValues);\n            });\n            // Provide the compiled function's source by its `toString` method or\n            // the `source` property as a convenience for inlining compiled templates.\n            result.source = source;\n            if (isError(result)) throw result;\n            return result;\n        }\n        /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */ function toLower(value) {\n            return toString(value).toLowerCase();\n        }\n        /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */ function toUpper(value) {\n            return toString(value).toUpperCase();\n        }\n        /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */ function trim(string, chars, guard) {\n            string = toString(string);\n            if (string && (guard || chars === undefined)) return baseTrim(string);\n            if (!string || !(chars = baseToString(chars))) return string;\n            var strSymbols = stringToArray(string), chrSymbols = stringToArray(chars), start = charsStartIndex(strSymbols, chrSymbols), end = charsEndIndex(strSymbols, chrSymbols) + 1;\n            return castSlice(strSymbols, start, end).join(\"\");\n        }\n        /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */ function trimEnd(string, chars, guard) {\n            string = toString(string);\n            if (string && (guard || chars === undefined)) return string.slice(0, trimmedEndIndex(string) + 1);\n            if (!string || !(chars = baseToString(chars))) return string;\n            var strSymbols = stringToArray(string), end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n            return castSlice(strSymbols, 0, end).join(\"\");\n        }\n        /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */ function trimStart(string, chars, guard) {\n            string = toString(string);\n            if (string && (guard || chars === undefined)) return string.replace(reTrimStart, \"\");\n            if (!string || !(chars = baseToString(chars))) return string;\n            var strSymbols = stringToArray(string), start = charsStartIndex(strSymbols, stringToArray(chars));\n            return castSlice(strSymbols, start).join(\"\");\n        }\n        /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */ function truncate(string, options) {\n            var length = DEFAULT_TRUNC_LENGTH, omission = DEFAULT_TRUNC_OMISSION;\n            if (isObject(options)) {\n                var separator = \"separator\" in options ? options.separator : separator;\n                length = \"length\" in options ? toInteger(options.length) : length;\n                omission = \"omission\" in options ? baseToString(options.omission) : omission;\n            }\n            string = toString(string);\n            var strLength = string.length;\n            if (hasUnicode(string)) {\n                var strSymbols = stringToArray(string);\n                strLength = strSymbols.length;\n            }\n            if (length >= strLength) return string;\n            var end = length - stringSize(omission);\n            if (end < 1) return omission;\n            var result = strSymbols ? castSlice(strSymbols, 0, end).join(\"\") : string.slice(0, end);\n            if (separator === undefined) return result + omission;\n            if (strSymbols) end += result.length - end;\n            if (isRegExp(separator)) {\n                if (string.slice(end).search(separator)) {\n                    var match, substring = result;\n                    if (!separator.global) separator = RegExp1(separator.source, toString(reFlags.exec(separator)) + \"g\");\n                    separator.lastIndex = 0;\n                    while(match = separator.exec(substring))var newEnd = match.index;\n                    result = result.slice(0, newEnd === undefined ? end : newEnd);\n                }\n            } else if (string.indexOf(baseToString(separator), end) != end) {\n                var index = result.lastIndexOf(separator);\n                if (index > -1) result = result.slice(0, index);\n            }\n            return result + omission;\n        }\n        /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */ function unescape(string) {\n            string = toString(string);\n            return string && reHasEscapedHtml.test(string) ? string.replace(reEscapedHtml, unescapeHtmlChar) : string;\n        }\n        /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */ var upperCase = createCompounder(function(result, word, index) {\n            return result + (index ? \" \" : \"\") + word.toUpperCase();\n        });\n        /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */ var upperFirst = createCaseFirst(\"toUpperCase\");\n        /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */ function words(string, pattern, guard) {\n            string = toString(string);\n            pattern = guard ? undefined : pattern;\n            if (pattern === undefined) return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n            return string.match(pattern) || [];\n        }\n        /*------------------------------------------------------------------------*/ /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */ var attempt = baseRest(function(func, args) {\n            try {\n                return apply(func, undefined, args);\n            } catch (e) {\n                return isError(e) ? e : new Error(e);\n            }\n        });\n        /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */ var bindAll = flatRest(function(object, methodNames) {\n            arrayEach(methodNames, function(key) {\n                key = toKey(key);\n                baseAssignValue(object, key, bind(object[key], object));\n            });\n            return object;\n        });\n        /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */ function cond(pairs) {\n            var length = pairs == null ? 0 : pairs.length, toIteratee = getIteratee();\n            pairs = !length ? [] : arrayMap(pairs, function(pair) {\n                if (typeof pair[1] != \"function\") throw new TypeError(FUNC_ERROR_TEXT);\n                return [\n                    toIteratee(pair[0]),\n                    pair[1]\n                ];\n            });\n            return baseRest(function(args) {\n                var index = -1;\n                while(++index < length){\n                    var pair = pairs[index];\n                    if (apply(pair[0], this, args)) return apply(pair[1], this, args);\n                }\n            });\n        }\n        /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */ function conforms(source) {\n            return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n        }\n        /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */ function constant(value) {\n            return function() {\n                return value;\n            };\n        }\n        /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */ function defaultTo(value, defaultValue) {\n            return value == null || value !== value ? defaultValue : value;\n        }\n        /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */ var flow = createFlow();\n        /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */ var flowRight = createFlow(true);\n        /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */ function identity(value) {\n            return value;\n        }\n        /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */ function iteratee(func) {\n            return baseIteratee(typeof func == \"function\" ? func : baseClone(func, CLONE_DEEP_FLAG));\n        }\n        /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */ function matches(source) {\n            return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n        }\n        /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */ function matchesProperty(path, srcValue) {\n            return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n        }\n        /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */ var method = baseRest(function(path, args) {\n            return function(object) {\n                return baseInvoke(object, path, args);\n            };\n        });\n        /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */ var methodOf = baseRest(function(object, args) {\n            return function(path) {\n                return baseInvoke(object, path, args);\n            };\n        });\n        /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */ function mixin(object, source, options) {\n            var props = keys(source), methodNames = baseFunctions(source, props);\n            if (options == null && !(isObject(source) && (methodNames.length || !props.length))) {\n                options = source;\n                source = object;\n                object = this;\n                methodNames = baseFunctions(source, keys(source));\n            }\n            var chain = !(isObject(options) && \"chain\" in options) || !!options.chain, isFunc = isFunction(object);\n            arrayEach(methodNames, function(methodName) {\n                var func = source[methodName];\n                object[methodName] = func;\n                if (isFunc) object.prototype[methodName] = function() {\n                    var chainAll = this.__chain__;\n                    if (chain || chainAll) {\n                        var result = object(this.__wrapped__), actions = result.__actions__ = copyArray(this.__actions__);\n                        actions.push({\n                            \"func\": func,\n                            \"args\": arguments,\n                            \"thisArg\": object\n                        });\n                        result.__chain__ = chainAll;\n                        return result;\n                    }\n                    return func.apply(object, arrayPush([\n                        this.value()\n                    ], arguments));\n                };\n            });\n            return object;\n        }\n        /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */ function noConflict() {\n            if (root._ === this) root._ = oldDash;\n            return this;\n        }\n        /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */ function noop() {\n        // No operation performed.\n        }\n        /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */ function nthArg(n) {\n            n = toInteger(n);\n            return baseRest(function(args) {\n                return baseNth(args, n);\n            });\n        }\n        /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */ var over = createOver(arrayMap);\n        /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */ var overEvery = createOver(arrayEvery);\n        /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */ var overSome = createOver(arraySome);\n        /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */ function property(path) {\n            return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n        }\n        /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */ function propertyOf(object) {\n            return function(path) {\n                return object == null ? undefined : baseGet(object, path);\n            };\n        }\n        /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */ var range = createRange();\n        /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */ var rangeRight = createRange(true);\n        /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */ function stubArray() {\n            return [];\n        }\n        /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */ function stubFalse() {\n            return false;\n        }\n        /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */ function stubObject() {\n            return {};\n        }\n        /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */ function stubString() {\n            return \"\";\n        }\n        /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */ function stubTrue() {\n            return true;\n        }\n        /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */ function times(n, iteratee) {\n            n = toInteger(n);\n            if (n < 1 || n > MAX_SAFE_INTEGER) return [];\n            var index = MAX_ARRAY_LENGTH, length = nativeMin(n, MAX_ARRAY_LENGTH);\n            iteratee = getIteratee(iteratee);\n            n -= MAX_ARRAY_LENGTH;\n            var result = baseTimes(length, iteratee);\n            while(++index < n)iteratee(index);\n            return result;\n        }\n        /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */ function toPath(value) {\n            if (isArray(value)) return arrayMap(value, toKey);\n            return isSymbol(value) ? [\n                value\n            ] : copyArray(stringToPath(toString(value)));\n        }\n        /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */ function uniqueId(prefix) {\n            var id = ++idCounter;\n            return toString(prefix) + id;\n        }\n        /*------------------------------------------------------------------------*/ /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */ var add = createMathOperation(function(augend, addend) {\n            return augend + addend;\n        }, 0);\n        /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */ var ceil = createRound(\"ceil\");\n        /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */ var divide = createMathOperation(function(dividend, divisor) {\n            return dividend / divisor;\n        }, 1);\n        /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */ var floor = createRound(\"floor\");\n        /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */ function max(array) {\n            return array && array.length ? baseExtremum(array, identity, baseGt) : undefined;\n        }\n        /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */ function maxBy(array, iteratee) {\n            return array && array.length ? baseExtremum(array, getIteratee(iteratee, 2), baseGt) : undefined;\n        }\n        /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */ function mean(array) {\n            return baseMean(array, identity);\n        }\n        /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */ function meanBy(array, iteratee) {\n            return baseMean(array, getIteratee(iteratee, 2));\n        }\n        /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */ function min(array) {\n            return array && array.length ? baseExtremum(array, identity, baseLt) : undefined;\n        }\n        /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */ function minBy(array, iteratee) {\n            return array && array.length ? baseExtremum(array, getIteratee(iteratee, 2), baseLt) : undefined;\n        }\n        /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */ var multiply = createMathOperation(function(multiplier, multiplicand) {\n            return multiplier * multiplicand;\n        }, 1);\n        /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */ var round = createRound(\"round\");\n        /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */ var subtract = createMathOperation(function(minuend, subtrahend) {\n            return minuend - subtrahend;\n        }, 0);\n        /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */ function sum(array) {\n            return array && array.length ? baseSum(array, identity) : 0;\n        }\n        /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */ function sumBy(array, iteratee) {\n            return array && array.length ? baseSum(array, getIteratee(iteratee, 2)) : 0;\n        }\n        /*------------------------------------------------------------------------*/ // Add methods that return wrapped values in chain sequences.\n        lodash.after = after;\n        lodash.ary = ary;\n        lodash.assign = assign;\n        lodash.assignIn = assignIn;\n        lodash.assignInWith = assignInWith;\n        lodash.assignWith = assignWith;\n        lodash.at = at;\n        lodash.before = before;\n        lodash.bind = bind;\n        lodash.bindAll = bindAll;\n        lodash.bindKey = bindKey;\n        lodash.castArray = castArray;\n        lodash.chain = chain;\n        lodash.chunk = chunk;\n        lodash.compact = compact;\n        lodash.concat = concat;\n        lodash.cond = cond;\n        lodash.conforms = conforms;\n        lodash.constant = constant;\n        lodash.countBy = countBy;\n        lodash.create = create;\n        lodash.curry = curry;\n        lodash.curryRight = curryRight;\n        lodash.debounce = debounce;\n        lodash.defaults = defaults;\n        lodash.defaultsDeep = defaultsDeep;\n        lodash.defer = defer;\n        lodash.delay = delay;\n        lodash.difference = difference;\n        lodash.differenceBy = differenceBy;\n        lodash.differenceWith = differenceWith;\n        lodash.drop = drop;\n        lodash.dropRight = dropRight;\n        lodash.dropRightWhile = dropRightWhile;\n        lodash.dropWhile = dropWhile;\n        lodash.fill = fill;\n        lodash.filter = filter;\n        lodash.flatMap = flatMap;\n        lodash.flatMapDeep = flatMapDeep;\n        lodash.flatMapDepth = flatMapDepth;\n        lodash.flatten = flatten;\n        lodash.flattenDeep = flattenDeep;\n        lodash.flattenDepth = flattenDepth;\n        lodash.flip = flip;\n        lodash.flow = flow;\n        lodash.flowRight = flowRight;\n        lodash.fromPairs = fromPairs;\n        lodash.functions = functions;\n        lodash.functionsIn = functionsIn;\n        lodash.groupBy = groupBy;\n        lodash.initial = initial;\n        lodash.intersection = intersection;\n        lodash.intersectionBy = intersectionBy;\n        lodash.intersectionWith = intersectionWith;\n        lodash.invert = invert;\n        lodash.invertBy = invertBy;\n        lodash.invokeMap = invokeMap;\n        lodash.iteratee = iteratee;\n        lodash.keyBy = keyBy;\n        lodash.keys = keys;\n        lodash.keysIn = keysIn;\n        lodash.map = map;\n        lodash.mapKeys = mapKeys;\n        lodash.mapValues = mapValues;\n        lodash.matches = matches;\n        lodash.matchesProperty = matchesProperty;\n        lodash.memoize = memoize;\n        lodash.merge = merge;\n        lodash.mergeWith = mergeWith;\n        lodash.method = method;\n        lodash.methodOf = methodOf;\n        lodash.mixin = mixin;\n        lodash.negate = negate;\n        lodash.nthArg = nthArg;\n        lodash.omit = omit;\n        lodash.omitBy = omitBy;\n        lodash.once = once;\n        lodash.orderBy = orderBy;\n        lodash.over = over;\n        lodash.overArgs = overArgs;\n        lodash.overEvery = overEvery;\n        lodash.overSome = overSome;\n        lodash.partial = partial;\n        lodash.partialRight = partialRight;\n        lodash.partition = partition;\n        lodash.pick = pick;\n        lodash.pickBy = pickBy;\n        lodash.property = property;\n        lodash.propertyOf = propertyOf;\n        lodash.pull = pull;\n        lodash.pullAll = pullAll;\n        lodash.pullAllBy = pullAllBy;\n        lodash.pullAllWith = pullAllWith;\n        lodash.pullAt = pullAt;\n        lodash.range = range;\n        lodash.rangeRight = rangeRight;\n        lodash.rearg = rearg;\n        lodash.reject = reject;\n        lodash.remove = remove;\n        lodash.rest = rest;\n        lodash.reverse = reverse;\n        lodash.sampleSize = sampleSize;\n        lodash.set = set;\n        lodash.setWith = setWith;\n        lodash.shuffle = shuffle;\n        lodash.slice = slice;\n        lodash.sortBy = sortBy;\n        lodash.sortedUniq = sortedUniq;\n        lodash.sortedUniqBy = sortedUniqBy;\n        lodash.split = split;\n        lodash.spread = spread;\n        lodash.tail = tail;\n        lodash.take = take;\n        lodash.takeRight = takeRight;\n        lodash.takeRightWhile = takeRightWhile;\n        lodash.takeWhile = takeWhile;\n        lodash.tap = tap;\n        lodash.throttle = throttle;\n        lodash.thru = thru;\n        lodash.toArray = toArray;\n        lodash.toPairs = toPairs;\n        lodash.toPairsIn = toPairsIn;\n        lodash.toPath = toPath;\n        lodash.toPlainObject = toPlainObject;\n        lodash.transform = transform;\n        lodash.unary = unary;\n        lodash.union = union;\n        lodash.unionBy = unionBy;\n        lodash.unionWith = unionWith;\n        lodash.uniq = uniq;\n        lodash.uniqBy = uniqBy;\n        lodash.uniqWith = uniqWith;\n        lodash.unset = unset;\n        lodash.unzip = unzip;\n        lodash.unzipWith = unzipWith;\n        lodash.update = update;\n        lodash.updateWith = updateWith;\n        lodash.values = values;\n        lodash.valuesIn = valuesIn;\n        lodash.without = without;\n        lodash.words = words;\n        lodash.wrap = wrap;\n        lodash.xor = xor;\n        lodash.xorBy = xorBy;\n        lodash.xorWith = xorWith;\n        lodash.zip = zip;\n        lodash.zipObject = zipObject;\n        lodash.zipObjectDeep = zipObjectDeep;\n        lodash.zipWith = zipWith;\n        // Add aliases.\n        lodash.entries = toPairs;\n        lodash.entriesIn = toPairsIn;\n        lodash.extend = assignIn;\n        lodash.extendWith = assignInWith;\n        // Add methods to `lodash.prototype`.\n        mixin(lodash, lodash);\n        /*------------------------------------------------------------------------*/ // Add methods that return unwrapped values in chain sequences.\n        lodash.add = add;\n        lodash.attempt = attempt;\n        lodash.camelCase = camelCase;\n        lodash.capitalize = capitalize;\n        lodash.ceil = ceil;\n        lodash.clamp = clamp;\n        lodash.clone = clone;\n        lodash.cloneDeep = cloneDeep;\n        lodash.cloneDeepWith = cloneDeepWith;\n        lodash.cloneWith = cloneWith;\n        lodash.conformsTo = conformsTo;\n        lodash.deburr = deburr;\n        lodash.defaultTo = defaultTo;\n        lodash.divide = divide;\n        lodash.endsWith = endsWith;\n        lodash.eq = eq;\n        lodash.escape = escape;\n        lodash.escapeRegExp = escapeRegExp;\n        lodash.every = every;\n        lodash.find = find;\n        lodash.findIndex = findIndex;\n        lodash.findKey = findKey;\n        lodash.findLast = findLast;\n        lodash.findLastIndex = findLastIndex;\n        lodash.findLastKey = findLastKey;\n        lodash.floor = floor;\n        lodash.forEach = forEach;\n        lodash.forEachRight = forEachRight;\n        lodash.forIn = forIn;\n        lodash.forInRight = forInRight;\n        lodash.forOwn = forOwn;\n        lodash.forOwnRight = forOwnRight;\n        lodash.get = get;\n        lodash.gt = gt;\n        lodash.gte = gte;\n        lodash.has = has;\n        lodash.hasIn = hasIn;\n        lodash.head = head;\n        lodash.identity = identity;\n        lodash.includes = includes;\n        lodash.indexOf = indexOf;\n        lodash.inRange = inRange;\n        lodash.invoke = invoke;\n        lodash.isArguments = isArguments;\n        lodash.isArray = isArray;\n        lodash.isArrayBuffer = isArrayBuffer;\n        lodash.isArrayLike = isArrayLike;\n        lodash.isArrayLikeObject = isArrayLikeObject;\n        lodash.isBoolean = isBoolean;\n        lodash.isBuffer = isBuffer;\n        lodash.isDate = isDate;\n        lodash.isElement = isElement;\n        lodash.isEmpty = isEmpty;\n        lodash.isEqual = isEqual;\n        lodash.isEqualWith = isEqualWith;\n        lodash.isError = isError;\n        lodash.isFinite = isFinite;\n        lodash.isFunction = isFunction;\n        lodash.isInteger = isInteger;\n        lodash.isLength = isLength;\n        lodash.isMap = isMap;\n        lodash.isMatch = isMatch;\n        lodash.isMatchWith = isMatchWith;\n        lodash.isNaN = isNaN;\n        lodash.isNative = isNative;\n        lodash.isNil = isNil;\n        lodash.isNull = isNull;\n        lodash.isNumber = isNumber;\n        lodash.isObject = isObject;\n        lodash.isObjectLike = isObjectLike;\n        lodash.isPlainObject = isPlainObject;\n        lodash.isRegExp = isRegExp;\n        lodash.isSafeInteger = isSafeInteger;\n        lodash.isSet = isSet;\n        lodash.isString = isString;\n        lodash.isSymbol = isSymbol;\n        lodash.isTypedArray = isTypedArray;\n        lodash.isUndefined = isUndefined;\n        lodash.isWeakMap = isWeakMap;\n        lodash.isWeakSet = isWeakSet;\n        lodash.join = join;\n        lodash.kebabCase = kebabCase;\n        lodash.last = last;\n        lodash.lastIndexOf = lastIndexOf;\n        lodash.lowerCase = lowerCase;\n        lodash.lowerFirst = lowerFirst;\n        lodash.lt = lt;\n        lodash.lte = lte;\n        lodash.max = max;\n        lodash.maxBy = maxBy;\n        lodash.mean = mean;\n        lodash.meanBy = meanBy;\n        lodash.min = min;\n        lodash.minBy = minBy;\n        lodash.stubArray = stubArray;\n        lodash.stubFalse = stubFalse;\n        lodash.stubObject = stubObject;\n        lodash.stubString = stubString;\n        lodash.stubTrue = stubTrue;\n        lodash.multiply = multiply;\n        lodash.nth = nth;\n        lodash.noConflict = noConflict;\n        lodash.noop = noop;\n        lodash.now = now;\n        lodash.pad = pad;\n        lodash.padEnd = padEnd;\n        lodash.padStart = padStart;\n        lodash.parseInt = parseInt1;\n        lodash.random = random;\n        lodash.reduce = reduce;\n        lodash.reduceRight = reduceRight;\n        lodash.repeat = repeat;\n        lodash.replace = replace;\n        lodash.result = result;\n        lodash.round = round;\n        lodash.runInContext = runInContext;\n        lodash.sample = sample;\n        lodash.size = size;\n        lodash.snakeCase = snakeCase;\n        lodash.some = some;\n        lodash.sortedIndex = sortedIndex;\n        lodash.sortedIndexBy = sortedIndexBy;\n        lodash.sortedIndexOf = sortedIndexOf;\n        lodash.sortedLastIndex = sortedLastIndex;\n        lodash.sortedLastIndexBy = sortedLastIndexBy;\n        lodash.sortedLastIndexOf = sortedLastIndexOf;\n        lodash.startCase = startCase;\n        lodash.startsWith = startsWith;\n        lodash.subtract = subtract;\n        lodash.sum = sum;\n        lodash.sumBy = sumBy;\n        lodash.template = template;\n        lodash.times = times;\n        lodash.toFinite = toFinite;\n        lodash.toInteger = toInteger;\n        lodash.toLength = toLength;\n        lodash.toLower = toLower;\n        lodash.toNumber = toNumber;\n        lodash.toSafeInteger = toSafeInteger;\n        lodash.toString = toString;\n        lodash.toUpper = toUpper;\n        lodash.trim = trim;\n        lodash.trimEnd = trimEnd;\n        lodash.trimStart = trimStart;\n        lodash.truncate = truncate;\n        lodash.unescape = unescape;\n        lodash.uniqueId = uniqueId;\n        lodash.upperCase = upperCase;\n        lodash.upperFirst = upperFirst;\n        // Add aliases.\n        lodash.each = forEach;\n        lodash.eachRight = forEachRight;\n        lodash.first = head;\n        mixin(lodash, function() {\n            var source = {};\n            baseForOwn(lodash, function(func, methodName) {\n                if (!hasOwnProperty.call(lodash.prototype, methodName)) source[methodName] = func;\n            });\n            return source;\n        }(), {\n            \"chain\": false\n        });\n        /*------------------------------------------------------------------------*/ /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */ lodash.VERSION = VERSION;\n        // Assign default placeholders.\n        arrayEach([\n            \"bind\",\n            \"bindKey\",\n            \"curry\",\n            \"curryRight\",\n            \"partial\",\n            \"partialRight\"\n        ], function(methodName) {\n            lodash[methodName].placeholder = lodash;\n        });\n        // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n        arrayEach([\n            \"drop\",\n            \"take\"\n        ], function(methodName, index) {\n            LazyWrapper.prototype[methodName] = function(n) {\n                n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n                var result = this.__filtered__ && !index ? new LazyWrapper(this) : this.clone();\n                if (result.__filtered__) result.__takeCount__ = nativeMin(n, result.__takeCount__);\n                else result.__views__.push({\n                    \"size\": nativeMin(n, MAX_ARRAY_LENGTH),\n                    \"type\": methodName + (result.__dir__ < 0 ? \"Right\" : \"\")\n                });\n                return result;\n            };\n            LazyWrapper.prototype[methodName + \"Right\"] = function(n) {\n                return this.reverse()[methodName](n).reverse();\n            };\n        });\n        // Add `LazyWrapper` methods that accept an `iteratee` value.\n        arrayEach([\n            \"filter\",\n            \"map\",\n            \"takeWhile\"\n        ], function(methodName, index) {\n            var type = index + 1, isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n            LazyWrapper.prototype[methodName] = function(iteratee) {\n                var result = this.clone();\n                result.__iteratees__.push({\n                    \"iteratee\": getIteratee(iteratee, 3),\n                    \"type\": type\n                });\n                result.__filtered__ = result.__filtered__ || isFilter;\n                return result;\n            };\n        });\n        // Add `LazyWrapper` methods for `_.head` and `_.last`.\n        arrayEach([\n            \"head\",\n            \"last\"\n        ], function(methodName, index) {\n            var takeName = \"take\" + (index ? \"Right\" : \"\");\n            LazyWrapper.prototype[methodName] = function() {\n                return this[takeName](1).value()[0];\n            };\n        });\n        // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n        arrayEach([\n            \"initial\",\n            \"tail\"\n        ], function(methodName, index) {\n            var dropName = \"drop\" + (index ? \"\" : \"Right\");\n            LazyWrapper.prototype[methodName] = function() {\n                return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n            };\n        });\n        LazyWrapper.prototype.compact = function() {\n            return this.filter(identity);\n        };\n        LazyWrapper.prototype.find = function(predicate) {\n            return this.filter(predicate).head();\n        };\n        LazyWrapper.prototype.findLast = function(predicate) {\n            return this.reverse().find(predicate);\n        };\n        LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n            if (typeof path == \"function\") return new LazyWrapper(this);\n            return this.map(function(value) {\n                return baseInvoke(value, path, args);\n            });\n        });\n        LazyWrapper.prototype.reject = function(predicate) {\n            return this.filter(negate(getIteratee(predicate)));\n        };\n        LazyWrapper.prototype.slice = function(start, end) {\n            start = toInteger(start);\n            var result = this;\n            if (result.__filtered__ && (start > 0 || end < 0)) return new LazyWrapper(result);\n            if (start < 0) result = result.takeRight(-start);\n            else if (start) result = result.drop(start);\n            if (end !== undefined) {\n                end = toInteger(end);\n                result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n            }\n            return result;\n        };\n        LazyWrapper.prototype.takeRightWhile = function(predicate) {\n            return this.reverse().takeWhile(predicate).reverse();\n        };\n        LazyWrapper.prototype.toArray = function() {\n            return this.take(MAX_ARRAY_LENGTH);\n        };\n        // Add `LazyWrapper` methods to `lodash.prototype`.\n        baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n            var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName), isTaker = /^(?:head|last)$/.test(methodName), lodashFunc = lodash[isTaker ? \"take\" + (methodName == \"last\" ? \"Right\" : \"\") : methodName], retUnwrapped = isTaker || /^find/.test(methodName);\n            if (!lodashFunc) return;\n            lodash.prototype[methodName] = function() {\n                var value = this.__wrapped__, args = isTaker ? [\n                    1\n                ] : arguments, isLazy = value instanceof LazyWrapper, iteratee = args[0], useLazy = isLazy || isArray(value);\n                var interceptor = function(value) {\n                    var result = lodashFunc.apply(lodash, arrayPush([\n                        value\n                    ], args));\n                    return isTaker && chainAll ? result[0] : result;\n                };\n                if (useLazy && checkIteratee && typeof iteratee == \"function\" && iteratee.length != 1) // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n                isLazy = useLazy = false;\n                var chainAll = this.__chain__, isHybrid = !!this.__actions__.length, isUnwrapped = retUnwrapped && !chainAll, onlyLazy = isLazy && !isHybrid;\n                if (!retUnwrapped && useLazy) {\n                    value = onlyLazy ? value : new LazyWrapper(this);\n                    var result = func.apply(value, args);\n                    result.__actions__.push({\n                        \"func\": thru,\n                        \"args\": [\n                            interceptor\n                        ],\n                        \"thisArg\": undefined\n                    });\n                    return new LodashWrapper(result, chainAll);\n                }\n                if (isUnwrapped && onlyLazy) return func.apply(this, args);\n                result = this.thru(interceptor);\n                return isUnwrapped ? isTaker ? result.value()[0] : result.value() : result;\n            };\n        });\n        // Add `Array` methods to `lodash.prototype`.\n        arrayEach([\n            \"pop\",\n            \"push\",\n            \"shift\",\n            \"sort\",\n            \"splice\",\n            \"unshift\"\n        ], function(methodName) {\n            var func = arrayProto[methodName], chainName = /^(?:push|sort|unshift)$/.test(methodName) ? \"tap\" : \"thru\", retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n            lodash.prototype[methodName] = function() {\n                var args = arguments;\n                if (retUnwrapped && !this.__chain__) {\n                    var value = this.value();\n                    return func.apply(isArray(value) ? value : [], args);\n                }\n                return this[chainName](function(value) {\n                    return func.apply(isArray(value) ? value : [], args);\n                });\n            };\n        });\n        // Map minified method names to their real names.\n        baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n            var lodashFunc = lodash[methodName];\n            if (lodashFunc) {\n                var key = lodashFunc.name + \"\";\n                if (!hasOwnProperty.call(realNames, key)) realNames[key] = [];\n                realNames[key].push({\n                    \"name\": methodName,\n                    \"func\": lodashFunc\n                });\n            }\n        });\n        realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [\n            {\n                \"name\": \"wrapper\",\n                \"func\": undefined\n            }\n        ];\n        // Add methods to `LazyWrapper`.\n        LazyWrapper.prototype.clone = lazyClone;\n        LazyWrapper.prototype.reverse = lazyReverse;\n        LazyWrapper.prototype.value = lazyValue;\n        // Add chain sequence methods to the `lodash` wrapper.\n        lodash.prototype.at = wrapperAt;\n        lodash.prototype.chain = wrapperChain;\n        lodash.prototype.commit = wrapperCommit;\n        lodash.prototype.next = wrapperNext;\n        lodash.prototype.plant = wrapperPlant;\n        lodash.prototype.reverse = wrapperReverse;\n        lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n        // Add lazy aliases.\n        lodash.prototype.first = lodash.prototype.head;\n        if (symIterator) lodash.prototype[symIterator] = wrapperToIterator;\n        return lodash;\n    };\n    /*--------------------------------------------------------------------------*/ // Export lodash.\n    var _ = runInContext();\n    // Some AMD build optimizers, like r.js, check for condition patterns like:\n    if (typeof define == \"function\" && typeof define.amd == \"object\" && define.amd) {\n        // Expose Lodash on the global object to prevent errors when Lodash is\n        // loaded by a script tag in the presence of an AMD loader.\n        // See http://requirejs.org/docs/errors.html#mismatch for more details.\n        // Use `_.noConflict` to remove Lodash from the global object.\n        root._ = _;\n        // Define as an anonymous module so, through path mapping, it can be\n        // referenced as the \"underscore\" module.\n        define(function() {\n            return _;\n        });\n    } else if (freeModule) {\n        // Export for Node.js.\n        (freeModule.exports = _)._ = _;\n        // Export for CommonJS support.\n        freeExports._ = _;\n    } else // Export to the global object.\n    root._ = _;\n}).call(this);\n\n});\n\nvar $494d646c3cbf7cf3$exports = {};\n/*!\n * wavesurfer.js 6.6.4 (2023-06-10)\n * https://wavesurfer-js.org\n * @license BSD-3-Clause\n */ (function webpackUniversalModuleDefinition(root, factory) {\n    $494d646c3cbf7cf3$exports = factory();\n})(self, ()=>{\n    return /******/ (()=>{\n        /******/ var __webpack_modules__ = {\n            /***/ \"./src/drawer.canvasentry.js\": /*!***********************************!*\\\n  !*** ./src/drawer.canvasentry.js ***!\n  \\***********************************/ /***/ (module1, exports, __webpack_require__)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = void 0;\n                var _style = _interopRequireDefault(__webpack_require__(/*! ./util/style */ \"./src/util/style.js\"));\n                var _getId = _interopRequireDefault(__webpack_require__(/*! ./util/get-id */ \"./src/util/get-id.js\"));\n                function _interopRequireDefault(obj) {\n                    return obj && obj.__esModule ? obj : {\n                        default: obj\n                    };\n                }\n                function _typeof(obj) {\n                    \"@babel/helpers - typeof\";\n                    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n                        return typeof obj;\n                    } : function(obj) {\n                        return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n                    }, _typeof(obj);\n                }\n                function _classCallCheck(instance, Constructor) {\n                    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n                }\n                function _defineProperties(target, props) {\n                    for(var i = 0; i < props.length; i++){\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if (\"value\" in descriptor) descriptor.writable = true;\n                        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n                    }\n                }\n                function _createClass(Constructor, protoProps, staticProps) {\n                    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) _defineProperties(Constructor, staticProps);\n                    Object.defineProperty(Constructor, \"prototype\", {\n                        writable: false\n                    });\n                    return Constructor;\n                }\n                function _toPropertyKey(arg) {\n                    var key = _toPrimitive(arg, \"string\");\n                    return _typeof(key) === \"symbol\" ? key : String(key);\n                }\n                function _toPrimitive(input, hint) {\n                    if (_typeof(input) !== \"object\" || input === null) return input;\n                    var prim = input[Symbol.toPrimitive];\n                    if (prim !== undefined) {\n                        var res = prim.call(input, hint || \"default\");\n                        if (_typeof(res) !== \"object\") return res;\n                        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n                    }\n                    return (hint === \"string\" ? String : Number)(input);\n                }\n                /**\n * The `CanvasEntry` class represents an element consisting of a wave `canvas`\n * and an (optional) progress wave `canvas`.\n *\n * The `MultiCanvas` renderer uses one or more `CanvasEntry` instances to\n * render a waveform, depending on the zoom level.\n */ var CanvasEntry = /*#__PURE__*/ function() {\n                    function CanvasEntry() {\n                        _classCallCheck(this, CanvasEntry);\n                        /**\n     * The wave node\n     *\n     * @type {HTMLCanvasElement}\n     */ this.wave = null;\n                        /**\n     * The wave canvas rendering context\n     *\n     * @type {CanvasRenderingContext2D}\n     */ this.waveCtx = null;\n                        /**\n     * The (optional) progress wave node\n     *\n     * @type {HTMLCanvasElement}\n     */ this.progress = null;\n                        /**\n     * The (optional) progress wave canvas rendering context\n     *\n     * @type {CanvasRenderingContext2D}\n     */ this.progressCtx = null;\n                        /**\n     * Start of the area the canvas should render, between 0 and 1\n     *\n     * @type {number}\n     */ this.start = 0;\n                        /**\n     * End of the area the canvas should render, between 0 and 1\n     *\n     * @type {number}\n     */ this.end = 1;\n                        /**\n     * Unique identifier for this entry\n     *\n     * @type {string}\n     */ this.id = (0, _getId.default)(typeof this.constructor.name !== \"undefined\" ? this.constructor.name.toLowerCase() + \"_\" : \"canvasentry_\");\n                        /**\n     * Canvas 2d context attributes\n     *\n     * @type {object}\n     */ this.canvasContextAttributes = {};\n                    }\n                    /**\n   * Store the wave canvas element and create the 2D rendering context\n   *\n   * @param {HTMLCanvasElement} element The wave `canvas` element.\n   */ _createClass(CanvasEntry, [\n                        {\n                            key: \"initWave\",\n                            value: function initWave(element) {\n                                this.wave = element;\n                                this.waveCtx = this.wave.getContext(\"2d\", this.canvasContextAttributes);\n                            }\n                        },\n                        {\n                            key: \"initProgress\",\n                            value: function initProgress(element) {\n                                this.progress = element;\n                                this.progressCtx = this.progress.getContext(\"2d\", this.canvasContextAttributes);\n                            }\n                        },\n                        {\n                            key: \"updateDimensions\",\n                            value: function updateDimensions(elementWidth, totalWidth, width, height) {\n                                // where the canvas starts and ends in the waveform, represented as a\n                                // decimal between 0 and 1\n                                this.start = this.wave.offsetLeft / totalWidth || 0;\n                                this.end = this.start + elementWidth / totalWidth;\n                                // set wave canvas dimensions\n                                this.wave.width = width;\n                                this.wave.height = height;\n                                var elementSize = {\n                                    width: elementWidth + \"px\"\n                                };\n                                (0, _style.default)(this.wave, elementSize);\n                                if (this.hasProgressCanvas) {\n                                    // set progress canvas dimensions\n                                    this.progress.width = width;\n                                    this.progress.height = height;\n                                    (0, _style.default)(this.progress, elementSize);\n                                }\n                            }\n                        },\n                        {\n                            key: \"clearWave\",\n                            value: function clearWave() {\n                                // wave\n                                this.waveCtx.clearRect(0, 0, this.waveCtx.canvas.width, this.waveCtx.canvas.height);\n                                // progress\n                                if (this.hasProgressCanvas) this.progressCtx.clearRect(0, 0, this.progressCtx.canvas.width, this.progressCtx.canvas.height);\n                            }\n                        },\n                        {\n                            key: \"setFillStyles\",\n                            value: function setFillStyles(waveColor, progressColor) {\n                                this.waveCtx.fillStyle = this.getFillStyle(this.waveCtx, waveColor);\n                                if (this.hasProgressCanvas) this.progressCtx.fillStyle = this.getFillStyle(this.progressCtx, progressColor);\n                            }\n                        },\n                        {\n                            key: \"getFillStyle\",\n                            value: function getFillStyle(ctx, color) {\n                                if (typeof color == \"string\" || color instanceof CanvasGradient) return color;\n                                var waveGradient = ctx.createLinearGradient(0, 0, 0, ctx.canvas.height);\n                                color.forEach(function(value, index) {\n                                    return waveGradient.addColorStop(index / color.length, value);\n                                });\n                                return waveGradient;\n                            }\n                        },\n                        {\n                            key: \"applyCanvasTransforms\",\n                            value: function applyCanvasTransforms(vertical) {\n                                if (vertical) {\n                                    // Reflect the waveform across the line y = -x\n                                    this.waveCtx.setTransform(0, 1, 1, 0, 0, 0);\n                                    if (this.hasProgressCanvas) this.progressCtx.setTransform(0, 1, 1, 0, 0, 0);\n                                }\n                            }\n                        },\n                        {\n                            key: \"fillRects\",\n                            value: function fillRects(x, y, width, height, radius) {\n                                this.fillRectToContext(this.waveCtx, x, y, width, height, radius);\n                                if (this.hasProgressCanvas) this.fillRectToContext(this.progressCtx, x, y, width, height, radius);\n                            }\n                        },\n                        {\n                            key: \"fillRectToContext\",\n                            value: function fillRectToContext(ctx, x, y, width, height, radius) {\n                                if (!ctx) return;\n                                if (radius) this.drawRoundedRect(ctx, x, y, width, height, radius);\n                                else ctx.fillRect(x, y, width, height);\n                            }\n                        },\n                        {\n                            key: \"drawRoundedRect\",\n                            value: function drawRoundedRect(ctx, x, y, width, height, radius) {\n                                if (height === 0) return;\n                                // peaks are float values from -1 to 1. Use absolute height values in\n                                // order to correctly calculate rounded rectangle coordinates\n                                if (height < 0) {\n                                    height *= -1;\n                                    y -= height;\n                                }\n                                ctx.beginPath();\n                                ctx.moveTo(x + radius, y);\n                                ctx.lineTo(x + width - radius, y);\n                                ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n                                ctx.lineTo(x + width, y + height - radius);\n                                ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n                                ctx.lineTo(x + radius, y + height);\n                                ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n                                ctx.lineTo(x, y + radius);\n                                ctx.quadraticCurveTo(x, y, x + radius, y);\n                                ctx.closePath();\n                                ctx.fill();\n                            }\n                        },\n                        {\n                            key: \"drawLines\",\n                            value: function drawLines(peaks, absmax, halfH, offsetY, start, end) {\n                                this.drawLineToContext(this.waveCtx, peaks, absmax, halfH, offsetY, start, end);\n                                if (this.hasProgressCanvas) this.drawLineToContext(this.progressCtx, peaks, absmax, halfH, offsetY, start, end);\n                            }\n                        },\n                        {\n                            key: \"drawLineToContext\",\n                            value: function drawLineToContext(ctx, peaks, absmax, halfH, offsetY, start, end) {\n                                if (!ctx) return;\n                                var length = peaks.length / 2;\n                                var first = Math.round(length * this.start);\n                                // use one more peak value to make sure we join peaks at ends -- unless,\n                                // of course, this is the last canvas\n                                var last = Math.round(length * this.end) + 1;\n                                var canvasStart = first;\n                                var canvasEnd = last;\n                                var scale = this.wave.width / (canvasEnd - canvasStart - 1);\n                                // optimization\n                                var halfOffset = halfH + offsetY;\n                                var absmaxHalf = absmax / halfH;\n                                ctx.beginPath();\n                                ctx.moveTo((canvasStart - first) * scale, halfOffset);\n                                ctx.lineTo((canvasStart - first) * scale, halfOffset - Math.round((peaks[2 * canvasStart] || 0) / absmaxHalf));\n                                var i, peak, h;\n                                for(i = canvasStart; i < canvasEnd; i++){\n                                    peak = peaks[2 * i] || 0;\n                                    h = Math.round(peak / absmaxHalf);\n                                    ctx.lineTo((i - first) * scale + this.halfPixel, halfOffset - h);\n                                }\n                                // draw the bottom edge going backwards, to make a single\n                                // closed hull to fill\n                                var j = canvasEnd - 1;\n                                for(j; j >= canvasStart; j--){\n                                    peak = peaks[2 * j + 1] || 0;\n                                    h = Math.round(peak / absmaxHalf);\n                                    ctx.lineTo((j - first) * scale + this.halfPixel, halfOffset - h);\n                                }\n                                ctx.lineTo((canvasStart - first) * scale, halfOffset - Math.round((peaks[2 * canvasStart + 1] || 0) / absmaxHalf));\n                                ctx.closePath();\n                                ctx.fill();\n                            }\n                        },\n                        {\n                            key: \"destroy\",\n                            value: function destroy() {\n                                this.waveCtx = null;\n                                this.wave = null;\n                                this.progressCtx = null;\n                                this.progress = null;\n                            }\n                        },\n                        {\n                            key: \"getImage\",\n                            value: function getImage(format, quality, type) {\n                                var _this = this;\n                                if (type === \"blob\") return new Promise(function(resolve) {\n                                    _this.wave.toBlob(resolve, format, quality);\n                                });\n                                else if (type === \"dataURL\") return this.wave.toDataURL(format, quality);\n                            }\n                        }\n                    ]);\n                    return CanvasEntry;\n                }();\n                exports[\"default\"] = CanvasEntry;\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/drawer.js\": /*!***********************!*\\\n  !*** ./src/drawer.js ***!\n  \\***********************/ /***/ (module1, exports, __webpack_require__)=>{\n                \"use strict\";\n                function _typeof(obj) {\n                    \"@babel/helpers - typeof\";\n                    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n                        return typeof obj;\n                    } : function(obj) {\n                        return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n                    }, _typeof(obj);\n                }\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = void 0;\n                var util = _interopRequireWildcard(__webpack_require__(/*! ./util */ \"./src/util/index.js\"));\n                function _getRequireWildcardCache(nodeInterop) {\n                    if (typeof WeakMap !== \"function\") return null;\n                    var cacheBabelInterop = new WeakMap();\n                    var cacheNodeInterop = new WeakMap();\n                    return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n                        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n                    })(nodeInterop);\n                }\n                function _interopRequireWildcard(obj, nodeInterop) {\n                    if (!nodeInterop && obj && obj.__esModule) return obj;\n                    if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") return {\n                        default: obj\n                    };\n                    var cache = _getRequireWildcardCache(nodeInterop);\n                    if (cache && cache.has(obj)) return cache.get(obj);\n                    var newObj = {};\n                    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n                    for(var key in obj)if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n                        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n                        if (desc && (desc.get || desc.set)) Object.defineProperty(newObj, key, desc);\n                        else newObj[key] = obj[key];\n                    }\n                    newObj.default = obj;\n                    if (cache) cache.set(obj, newObj);\n                    return newObj;\n                }\n                function _classCallCheck(instance, Constructor) {\n                    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n                }\n                function _defineProperties(target, props) {\n                    for(var i = 0; i < props.length; i++){\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if (\"value\" in descriptor) descriptor.writable = true;\n                        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n                    }\n                }\n                function _createClass(Constructor, protoProps, staticProps) {\n                    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) _defineProperties(Constructor, staticProps);\n                    Object.defineProperty(Constructor, \"prototype\", {\n                        writable: false\n                    });\n                    return Constructor;\n                }\n                function _toPropertyKey(arg) {\n                    var key = _toPrimitive(arg, \"string\");\n                    return _typeof(key) === \"symbol\" ? key : String(key);\n                }\n                function _toPrimitive(input, hint) {\n                    if (_typeof(input) !== \"object\" || input === null) return input;\n                    var prim = input[Symbol.toPrimitive];\n                    if (prim !== undefined) {\n                        var res = prim.call(input, hint || \"default\");\n                        if (_typeof(res) !== \"object\") return res;\n                        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n                    }\n                    return (hint === \"string\" ? String : Number)(input);\n                }\n                function _inherits(subClass, superClass) {\n                    if (typeof superClass !== \"function\" && superClass !== null) throw new TypeError(\"Super expression must either be null or a function\");\n                    subClass.prototype = Object.create(superClass && superClass.prototype, {\n                        constructor: {\n                            value: subClass,\n                            writable: true,\n                            configurable: true\n                        }\n                    });\n                    Object.defineProperty(subClass, \"prototype\", {\n                        writable: false\n                    });\n                    if (superClass) _setPrototypeOf(subClass, superClass);\n                }\n                function _setPrototypeOf(o, p) {\n                    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n                        o.__proto__ = p;\n                        return o;\n                    };\n                    return _setPrototypeOf(o, p);\n                }\n                function _createSuper(Derived) {\n                    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n                    return function _createSuperInternal() {\n                        var Super = _getPrototypeOf(Derived), result;\n                        if (hasNativeReflectConstruct) {\n                            var NewTarget = _getPrototypeOf(this).constructor;\n                            result = Reflect.construct(Super, arguments, NewTarget);\n                        } else result = Super.apply(this, arguments);\n                        return _possibleConstructorReturn(this, result);\n                    };\n                }\n                function _possibleConstructorReturn(self1, call) {\n                    if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) return call;\n                    else if (call !== void 0) throw new TypeError(\"Derived constructors may only return object or undefined\");\n                    return _assertThisInitialized(self1);\n                }\n                function _assertThisInitialized(self1) {\n                    if (self1 === void 0) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n                    return self1;\n                }\n                function _isNativeReflectConstruct() {\n                    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n                    if (Reflect.construct.sham) return false;\n                    if (typeof Proxy === \"function\") return true;\n                    try {\n                        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n                        return true;\n                    } catch (e) {\n                        return false;\n                    }\n                }\n                function _getPrototypeOf(o) {\n                    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n                        return o.__proto__ || Object.getPrototypeOf(o);\n                    };\n                    return _getPrototypeOf(o);\n                }\n                /**\n * Parent class for renderers\n *\n * @extends {Observer}\n */ var Drawer = /*#__PURE__*/ function(_util$Observer) {\n                    _inherits(Drawer, _util$Observer);\n                    var _super = _createSuper(Drawer);\n                    /**\n   * @param {HTMLElement} container The container node of the wavesurfer instance\n   * @param {WavesurferParams} params The wavesurfer initialisation options\n   */ function Drawer(container, params) {\n                        var _this;\n                        _classCallCheck(this, Drawer);\n                        _this = _super.call(this);\n                        _this.container = util.withOrientation(container, params.vertical);\n                        /**\n     * @type {WavesurferParams}\n     */ _this.params = params;\n                        /**\n     * The width of the renderer\n     * @type {number}\n     */ _this.width = 0;\n                        /**\n     * The height of the renderer\n     * @type {number}\n     */ _this.height = params.height * _this.params.pixelRatio;\n                        _this.lastPos = 0;\n                        /**\n     * The `<wave>` element which is added to the container\n     * @type {HTMLElement}\n     */ _this.wrapper = null;\n                        return _this;\n                    }\n                    /**\n   * Alias of `util.style`\n   *\n   * @param {HTMLElement} el The element that the styles will be applied to\n   * @param {Object} styles The map of propName: attribute, both are used as-is\n   * @return {HTMLElement} el\n   */ _createClass(Drawer, [\n                        {\n                            key: \"style\",\n                            value: function style(el, styles) {\n                                return util.style(el, styles);\n                            }\n                        },\n                        {\n                            key: \"createWrapper\",\n                            value: function createWrapper() {\n                                this.wrapper = util.withOrientation(this.container.appendChild(document.createElement(\"wave\")), this.params.vertical);\n                                this.style(this.wrapper, {\n                                    display: \"block\",\n                                    position: \"relative\",\n                                    userSelect: \"none\",\n                                    webkitUserSelect: \"none\",\n                                    height: this.params.height + \"px\"\n                                });\n                                if (this.params.fillParent || this.params.scrollParent) this.style(this.wrapper, {\n                                    width: \"100%\",\n                                    cursor: this.params.hideCursor ? \"none\" : \"auto\",\n                                    overflowX: this.params.hideScrollbar ? \"hidden\" : \"auto\",\n                                    overflowY: \"hidden\"\n                                });\n                                this.setupWrapperEvents();\n                            }\n                        },\n                        {\n                            key: \"handleEvent\",\n                            value: function handleEvent(e, noPrevent) {\n                                !noPrevent && e.preventDefault();\n                                var clientX = util.withOrientation(e.targetTouches ? e.targetTouches[0] : e, this.params.vertical).clientX;\n                                var bbox = this.wrapper.getBoundingClientRect();\n                                var nominalWidth = this.width;\n                                var parentWidth = this.getWidth();\n                                var progressPixels = this.getProgressPixels(bbox, clientX);\n                                var progress;\n                                if (!this.params.fillParent && nominalWidth < parentWidth) progress = progressPixels * (this.params.pixelRatio / nominalWidth) || 0;\n                                else progress = (progressPixels + this.wrapper.scrollLeft) / this.wrapper.scrollWidth || 0;\n                                return util.clamp(progress, 0, 1);\n                            }\n                        },\n                        {\n                            key: \"getProgressPixels\",\n                            value: function getProgressPixels(wrapperBbox, clientX) {\n                                if (this.params.rtl) return wrapperBbox.right - clientX;\n                                else return clientX - wrapperBbox.left;\n                            }\n                        },\n                        {\n                            key: \"setupWrapperEvents\",\n                            value: function setupWrapperEvents() {\n                                var _this2 = this;\n                                this.wrapper.addEventListener(\"click\", function(e) {\n                                    var orientedEvent = util.withOrientation(e, _this2.params.vertical);\n                                    var scrollbarHeight = _this2.wrapper.offsetHeight - _this2.wrapper.clientHeight;\n                                    if (scrollbarHeight !== 0) {\n                                        // scrollbar is visible.  Check if click was on it\n                                        var bbox = _this2.wrapper.getBoundingClientRect();\n                                        if (orientedEvent.clientY >= bbox.bottom - scrollbarHeight) // ignore mousedown as it was on the scrollbar\n                                        return;\n                                    }\n                                    if (_this2.params.interact) _this2.fireEvent(\"click\", e, _this2.handleEvent(e));\n                                });\n                                this.wrapper.addEventListener(\"dblclick\", function(e) {\n                                    if (_this2.params.interact) _this2.fireEvent(\"dblclick\", e, _this2.handleEvent(e));\n                                });\n                                this.wrapper.addEventListener(\"scroll\", function(e) {\n                                    return _this2.fireEvent(\"scroll\", e);\n                                });\n                            }\n                        },\n                        {\n                            key: \"drawPeaks\",\n                            value: function drawPeaks(peaks, length, start, end) {\n                                if (!this.setWidth(length)) this.clearWave();\n                                this.params.barWidth ? this.drawBars(peaks, 0, start, end) : this.drawWave(peaks, 0, start, end);\n                            }\n                        },\n                        {\n                            key: \"resetScroll\",\n                            value: function resetScroll() {\n                                if (this.wrapper !== null) this.wrapper.scrollLeft = 0;\n                            }\n                        },\n                        {\n                            key: \"recenter\",\n                            value: function recenter(percent) {\n                                var position = this.wrapper.scrollWidth * percent;\n                                this.recenterOnPosition(position, true);\n                            }\n                        },\n                        {\n                            key: \"recenterOnPosition\",\n                            value: function recenterOnPosition(position, immediate) {\n                                var scrollLeft = this.wrapper.scrollLeft;\n                                var half = ~~(this.wrapper.clientWidth / 2);\n                                var maxScroll = this.wrapper.scrollWidth - this.wrapper.clientWidth;\n                                var target = position - half;\n                                var offset = target - scrollLeft;\n                                if (maxScroll == 0) // no need to continue if scrollbar is not there\n                                return;\n                                // if the cursor is currently visible...\n                                if (!immediate && -half <= offset && offset < half) {\n                                    // set rate at which waveform is centered\n                                    var rate = this.params.autoCenterRate;\n                                    // make rate depend on width of view and length of waveform\n                                    rate /= half;\n                                    rate *= maxScroll;\n                                    offset = Math.max(-rate, Math.min(rate, offset));\n                                    target = scrollLeft + offset;\n                                }\n                                // limit target to valid range (0 to maxScroll)\n                                target = Math.max(0, Math.min(maxScroll, target));\n                                // no use attempting to scroll if we're not moving\n                                if (target != scrollLeft) this.wrapper.scrollLeft = target;\n                            }\n                        },\n                        {\n                            key: \"getScrollX\",\n                            value: function getScrollX() {\n                                var x = 0;\n                                if (this.wrapper) {\n                                    var pixelRatio = this.params.pixelRatio;\n                                    x = Math.round(this.wrapper.scrollLeft * pixelRatio);\n                                    // In cases of elastic scroll (safari with mouse wheel) you can\n                                    // scroll beyond the limits of the container\n                                    // Calculate and floor the scrollable extent to make sure an out\n                                    // of bounds value is not returned\n                                    // Ticket #1312\n                                    if (this.params.scrollParent) {\n                                        var maxScroll = ~~(this.wrapper.scrollWidth * pixelRatio - this.getWidth());\n                                        x = Math.min(maxScroll, Math.max(0, x));\n                                    }\n                                }\n                                return x;\n                            }\n                        },\n                        {\n                            key: \"getWidth\",\n                            value: function getWidth() {\n                                return Math.round(this.container.clientWidth * this.params.pixelRatio);\n                            }\n                        },\n                        {\n                            key: \"setWidth\",\n                            value: function setWidth(width) {\n                                if (this.width == width) return false;\n                                this.width = width;\n                                if (this.params.fillParent || this.params.scrollParent) this.style(this.wrapper, {\n                                    width: \"\"\n                                });\n                                else {\n                                    var newWidth = ~~(this.width / this.params.pixelRatio) + \"px\";\n                                    this.style(this.wrapper, {\n                                        width: newWidth\n                                    });\n                                }\n                                this.updateSize();\n                                return true;\n                            }\n                        },\n                        {\n                            key: \"setHeight\",\n                            value: function setHeight(height) {\n                                if (height == this.height) return false;\n                                this.height = height;\n                                this.style(this.wrapper, {\n                                    height: ~~(this.height / this.params.pixelRatio) + \"px\"\n                                });\n                                this.updateSize();\n                                return true;\n                            }\n                        },\n                        {\n                            key: \"progress\",\n                            value: function progress(_progress) {\n                                var minPxDelta = 1 / this.params.pixelRatio;\n                                var pos = Math.round(_progress * this.width) * minPxDelta;\n                                if (pos < this.lastPos || pos - this.lastPos >= minPxDelta) {\n                                    this.lastPos = pos;\n                                    if (this.params.scrollParent && this.params.autoCenter) {\n                                        var newPos = ~~(this.wrapper.scrollWidth * _progress);\n                                        this.recenterOnPosition(newPos, this.params.autoCenterImmediately);\n                                    }\n                                    this.updateProgress(pos);\n                                }\n                            }\n                        },\n                        {\n                            key: \"destroy\",\n                            value: function destroy() {\n                                this.unAll();\n                                if (this.wrapper) {\n                                    if (this.wrapper.parentNode == this.container.domElement) this.container.removeChild(this.wrapper.domElement);\n                                    this.wrapper = null;\n                                }\n                            }\n                        },\n                        {\n                            key: \"updateCursor\",\n                            value: function updateCursor() {}\n                        },\n                        {\n                            key: \"updateSize\",\n                            value: function updateSize() {}\n                        },\n                        {\n                            key: \"drawBars\",\n                            value: function drawBars(peaks, channelIndex, start, end) {}\n                        },\n                        {\n                            key: \"drawWave\",\n                            value: function drawWave(peaks, channelIndex, start, end) {}\n                        },\n                        {\n                            key: \"clearWave\",\n                            value: function clearWave() {}\n                        },\n                        {\n                            key: \"updateProgress\",\n                            value: function updateProgress(position) {}\n                        }\n                    ]);\n                    return Drawer;\n                }(util.Observer);\n                exports[\"default\"] = Drawer;\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/drawer.multicanvas.js\": /*!***********************************!*\\\n  !*** ./src/drawer.multicanvas.js ***!\n  \\***********************************/ /***/ (module1, exports, __webpack_require__)=>{\n                \"use strict\";\n                function _typeof(obj) {\n                    \"@babel/helpers - typeof\";\n                    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n                        return typeof obj;\n                    } : function(obj) {\n                        return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n                    }, _typeof(obj);\n                }\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = void 0;\n                var _drawer = _interopRequireDefault(__webpack_require__(/*! ./drawer */ \"./src/drawer.js\"));\n                var util = _interopRequireWildcard(__webpack_require__(/*! ./util */ \"./src/util/index.js\"));\n                var _drawer2 = _interopRequireDefault(__webpack_require__(/*! ./drawer.canvasentry */ \"./src/drawer.canvasentry.js\"));\n                function _getRequireWildcardCache(nodeInterop) {\n                    if (typeof WeakMap !== \"function\") return null;\n                    var cacheBabelInterop = new WeakMap();\n                    var cacheNodeInterop = new WeakMap();\n                    return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n                        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n                    })(nodeInterop);\n                }\n                function _interopRequireWildcard(obj, nodeInterop) {\n                    if (!nodeInterop && obj && obj.__esModule) return obj;\n                    if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") return {\n                        default: obj\n                    };\n                    var cache = _getRequireWildcardCache(nodeInterop);\n                    if (cache && cache.has(obj)) return cache.get(obj);\n                    var newObj = {};\n                    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n                    for(var key in obj)if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n                        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n                        if (desc && (desc.get || desc.set)) Object.defineProperty(newObj, key, desc);\n                        else newObj[key] = obj[key];\n                    }\n                    newObj.default = obj;\n                    if (cache) cache.set(obj, newObj);\n                    return newObj;\n                }\n                function _interopRequireDefault(obj) {\n                    return obj && obj.__esModule ? obj : {\n                        default: obj\n                    };\n                }\n                function _classCallCheck(instance, Constructor) {\n                    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n                }\n                function _defineProperties(target, props) {\n                    for(var i = 0; i < props.length; i++){\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if (\"value\" in descriptor) descriptor.writable = true;\n                        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n                    }\n                }\n                function _createClass(Constructor, protoProps, staticProps) {\n                    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) _defineProperties(Constructor, staticProps);\n                    Object.defineProperty(Constructor, \"prototype\", {\n                        writable: false\n                    });\n                    return Constructor;\n                }\n                function _toPropertyKey(arg) {\n                    var key = _toPrimitive(arg, \"string\");\n                    return _typeof(key) === \"symbol\" ? key : String(key);\n                }\n                function _toPrimitive(input, hint) {\n                    if (_typeof(input) !== \"object\" || input === null) return input;\n                    var prim = input[Symbol.toPrimitive];\n                    if (prim !== undefined) {\n                        var res = prim.call(input, hint || \"default\");\n                        if (_typeof(res) !== \"object\") return res;\n                        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n                    }\n                    return (hint === \"string\" ? String : Number)(input);\n                }\n                function _inherits(subClass, superClass) {\n                    if (typeof superClass !== \"function\" && superClass !== null) throw new TypeError(\"Super expression must either be null or a function\");\n                    subClass.prototype = Object.create(superClass && superClass.prototype, {\n                        constructor: {\n                            value: subClass,\n                            writable: true,\n                            configurable: true\n                        }\n                    });\n                    Object.defineProperty(subClass, \"prototype\", {\n                        writable: false\n                    });\n                    if (superClass) _setPrototypeOf(subClass, superClass);\n                }\n                function _setPrototypeOf(o, p) {\n                    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n                        o.__proto__ = p;\n                        return o;\n                    };\n                    return _setPrototypeOf(o, p);\n                }\n                function _createSuper(Derived) {\n                    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n                    return function _createSuperInternal() {\n                        var Super = _getPrototypeOf(Derived), result;\n                        if (hasNativeReflectConstruct) {\n                            var NewTarget = _getPrototypeOf(this).constructor;\n                            result = Reflect.construct(Super, arguments, NewTarget);\n                        } else result = Super.apply(this, arguments);\n                        return _possibleConstructorReturn(this, result);\n                    };\n                }\n                function _possibleConstructorReturn(self1, call) {\n                    if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) return call;\n                    else if (call !== void 0) throw new TypeError(\"Derived constructors may only return object or undefined\");\n                    return _assertThisInitialized(self1);\n                }\n                function _assertThisInitialized(self1) {\n                    if (self1 === void 0) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n                    return self1;\n                }\n                function _isNativeReflectConstruct() {\n                    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n                    if (Reflect.construct.sham) return false;\n                    if (typeof Proxy === \"function\") return true;\n                    try {\n                        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n                        return true;\n                    } catch (e) {\n                        return false;\n                    }\n                }\n                function _getPrototypeOf(o) {\n                    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n                        return o.__proto__ || Object.getPrototypeOf(o);\n                    };\n                    return _getPrototypeOf(o);\n                }\n                /**\n * MultiCanvas renderer for wavesurfer. Is currently the default and sole\n * builtin renderer.\n *\n * A `MultiCanvas` consists of one or more `CanvasEntry` instances, depending\n * on the zoom level.\n */ var MultiCanvas = /*#__PURE__*/ function(_Drawer) {\n                    _inherits(MultiCanvas, _Drawer);\n                    var _super = _createSuper(MultiCanvas);\n                    /**\n   * @param {HTMLElement} container The container node of the wavesurfer instance\n   * @param {WavesurferParams} params The wavesurfer initialisation options\n   */ function MultiCanvas(container, params) {\n                        var _this;\n                        _classCallCheck(this, MultiCanvas);\n                        _this = _super.call(this, container, params);\n                        /**\n     * @type {number}\n     */ _this.maxCanvasWidth = params.maxCanvasWidth;\n                        /**\n     * @type {number}\n     */ _this.maxCanvasElementWidth = Math.round(params.maxCanvasWidth / params.pixelRatio);\n                        /**\n     * Whether or not the progress wave is rendered. If the `waveColor`\n     * and `progressColor` are the same color it is not.\n     *\n     * @type {boolean}\n     */ _this.hasProgressCanvas = params.waveColor != params.progressColor;\n                        /**\n     * @type {number}\n     */ _this.halfPixel = 0.5 / params.pixelRatio;\n                        /**\n     * List of `CanvasEntry` instances.\n     *\n     * @type {Array}\n     */ _this.canvases = [];\n                        /**\n     * @type {HTMLElement}\n     */ _this.progressWave = null;\n                        /**\n     * Class used to generate entries.\n     *\n     * @type {function}\n     */ _this.EntryClass = _drawer2.default;\n                        /**\n     * Canvas 2d context attributes.\n     *\n     * @type {object}\n     */ _this.canvasContextAttributes = params.drawingContextAttributes;\n                        /**\n     * Overlap added between entries to prevent vertical white stripes\n     * between `canvas` elements.\n     *\n     * @type {number}\n     */ _this.overlap = 2 * Math.ceil(params.pixelRatio / 2);\n                        /**\n     * The radius of the wave bars. Makes bars rounded\n     *\n     * @type {number}\n     */ _this.barRadius = params.barRadius || 0;\n                        /**\n     * Whether to render the waveform vertically. Defaults to false.\n     *\n     * @type {boolean}\n     */ _this.vertical = params.vertical;\n                        return _this;\n                    }\n                    /**\n   * Initialize the drawer\n   */ _createClass(MultiCanvas, [\n                        {\n                            key: \"init\",\n                            value: function init() {\n                                this.createWrapper();\n                                this.createElements();\n                            }\n                        },\n                        {\n                            key: \"createElements\",\n                            value: function createElements() {\n                                this.progressWave = util.withOrientation(this.wrapper.appendChild(document.createElement(\"wave\")), this.params.vertical);\n                                this.style(this.progressWave, {\n                                    position: \"absolute\",\n                                    zIndex: 3,\n                                    left: 0,\n                                    top: 0,\n                                    bottom: 0,\n                                    overflow: \"hidden\",\n                                    width: \"0\",\n                                    display: \"none\",\n                                    boxSizing: \"border-box\",\n                                    borderRightStyle: \"solid\",\n                                    pointerEvents: \"none\"\n                                });\n                                this.addCanvas();\n                                this.updateCursor();\n                            }\n                        },\n                        {\n                            key: \"updateCursor\",\n                            value: function updateCursor() {\n                                this.style(this.progressWave, {\n                                    borderRightWidth: this.params.cursorWidth + \"px\",\n                                    borderRightColor: this.params.cursorColor\n                                });\n                            }\n                        },\n                        {\n                            key: \"updateSize\",\n                            value: function updateSize() {\n                                var _this2 = this;\n                                var totalWidth = Math.round(this.width / this.params.pixelRatio);\n                                var requiredCanvases = Math.ceil(totalWidth / (this.maxCanvasElementWidth + this.overlap));\n                                // add required canvases\n                                while(this.canvases.length < requiredCanvases)this.addCanvas();\n                                // remove older existing canvases, if any\n                                while(this.canvases.length > requiredCanvases)this.removeCanvas();\n                                var canvasWidth = this.maxCanvasWidth + this.overlap;\n                                var lastCanvas = this.canvases.length - 1;\n                                this.canvases.forEach(function(entry, i) {\n                                    if (i == lastCanvas) canvasWidth = _this2.width - _this2.maxCanvasWidth * lastCanvas;\n                                    _this2.updateDimensions(entry, canvasWidth, _this2.height);\n                                    entry.clearWave();\n                                });\n                            }\n                        },\n                        {\n                            key: \"addCanvas\",\n                            value: function addCanvas() {\n                                var entry = new this.EntryClass();\n                                entry.canvasContextAttributes = this.canvasContextAttributes;\n                                entry.hasProgressCanvas = this.hasProgressCanvas;\n                                entry.halfPixel = this.halfPixel;\n                                var leftOffset = this.maxCanvasElementWidth * this.canvases.length;\n                                // wave\n                                var wave = util.withOrientation(this.wrapper.appendChild(document.createElement(\"canvas\")), this.params.vertical);\n                                this.style(wave, {\n                                    position: \"absolute\",\n                                    zIndex: 2,\n                                    left: leftOffset + \"px\",\n                                    top: 0,\n                                    bottom: 0,\n                                    height: \"100%\",\n                                    pointerEvents: \"none\"\n                                });\n                                entry.initWave(wave);\n                                // progress\n                                if (this.hasProgressCanvas) {\n                                    var progress = util.withOrientation(this.progressWave.appendChild(document.createElement(\"canvas\")), this.params.vertical);\n                                    this.style(progress, {\n                                        position: \"absolute\",\n                                        left: leftOffset + \"px\",\n                                        top: 0,\n                                        bottom: 0,\n                                        height: \"100%\"\n                                    });\n                                    entry.initProgress(progress);\n                                }\n                                this.canvases.push(entry);\n                            }\n                        },\n                        {\n                            key: \"removeCanvas\",\n                            value: function removeCanvas() {\n                                var lastEntry = this.canvases[this.canvases.length - 1];\n                                // wave\n                                lastEntry.wave.parentElement.removeChild(lastEntry.wave.domElement);\n                                // progress\n                                if (this.hasProgressCanvas) lastEntry.progress.parentElement.removeChild(lastEntry.progress.domElement);\n                                // cleanup\n                                if (lastEntry) {\n                                    lastEntry.destroy();\n                                    lastEntry = null;\n                                }\n                                this.canvases.pop();\n                            }\n                        },\n                        {\n                            key: \"updateDimensions\",\n                            value: function updateDimensions(entry, width, height) {\n                                var elementWidth = Math.round(width / this.params.pixelRatio);\n                                var totalWidth = Math.round(this.width / this.params.pixelRatio);\n                                // update canvas dimensions\n                                entry.updateDimensions(elementWidth, totalWidth, width, height);\n                                // style element\n                                this.style(this.progressWave, {\n                                    display: \"block\"\n                                });\n                            }\n                        },\n                        {\n                            key: \"clearWave\",\n                            value: function clearWave() {\n                                var _this3 = this;\n                                util.frame(function() {\n                                    _this3.canvases.forEach(function(entry) {\n                                        return entry.clearWave();\n                                    });\n                                })();\n                            }\n                        },\n                        {\n                            key: \"drawBars\",\n                            value: function drawBars(peaks, channelIndex, start, end) {\n                                var _this4 = this;\n                                return this.prepareDraw(peaks, channelIndex, start, end, function(_ref) {\n                                    var absmax = _ref.absmax, hasMinVals = _ref.hasMinVals, height = _ref.height, offsetY = _ref.offsetY, halfH = _ref.halfH, peaks = _ref.peaks, ch = _ref.channelIndex;\n                                    // if drawBars was called within ws.empty we don't pass a start and\n                                    // don't want anything to happen\n                                    if (start === undefined) return;\n                                    // Skip every other value if there are negatives.\n                                    var peakIndexScale = hasMinVals ? 2 : 1;\n                                    var length = peaks.length / peakIndexScale;\n                                    var bar = _this4.params.barWidth * _this4.params.pixelRatio;\n                                    var gap = _this4.params.barGap === null ? Math.max(_this4.params.pixelRatio, ~~(bar / 2)) : Math.max(_this4.params.pixelRatio, _this4.params.barGap * _this4.params.pixelRatio);\n                                    var step = bar + gap;\n                                    var scale = length / _this4.width;\n                                    var first = start;\n                                    var last = end;\n                                    var peakIndex = first;\n                                    for(peakIndex; peakIndex < last; peakIndex += step){\n                                        // search for the highest peak in the range this bar falls into\n                                        var peak = 0;\n                                        var peakIndexRange = Math.floor(peakIndex * scale) * peakIndexScale; // start index\n                                        var peakIndexEnd = Math.floor((peakIndex + step) * scale) * peakIndexScale;\n                                        do {\n                                            // do..while makes sure at least one peak is always evaluated\n                                            var newPeak = Math.abs(peaks[peakIndexRange]); // for arrays starting with negative values\n                                            if (newPeak > peak) peak = newPeak; // higher\n                                            peakIndexRange += peakIndexScale; // skip every other value for negatives\n                                        }while (peakIndexRange < peakIndexEnd);\n                                        // calculate the height of this bar according to the highest peak found\n                                        var h = Math.round(peak / absmax * halfH);\n                                        // raise the bar height to the specified minimum height\n                                        // Math.max is used to replace any value smaller than barMinHeight (not just 0) with barMinHeight\n                                        if (_this4.params.barMinHeight) h = Math.max(h, _this4.params.barMinHeight);\n                                        _this4.fillRect(peakIndex + _this4.halfPixel, halfH - h + offsetY, bar + _this4.halfPixel, h * 2, _this4.barRadius, ch);\n                                    }\n                                });\n                            }\n                        },\n                        {\n                            key: \"drawWave\",\n                            value: function drawWave(peaks, channelIndex, start, end) {\n                                var _this5 = this;\n                                return this.prepareDraw(peaks, channelIndex, start, end, function(_ref2) {\n                                    var absmax = _ref2.absmax, hasMinVals = _ref2.hasMinVals, height = _ref2.height, offsetY = _ref2.offsetY, halfH = _ref2.halfH, peaks = _ref2.peaks, channelIndex = _ref2.channelIndex;\n                                    if (!hasMinVals) {\n                                        var reflectedPeaks = [];\n                                        var len = peaks.length;\n                                        var i = 0;\n                                        for(i; i < len; i++){\n                                            reflectedPeaks[2 * i] = peaks[i];\n                                            reflectedPeaks[2 * i + 1] = -peaks[i];\n                                        }\n                                        peaks = reflectedPeaks;\n                                    }\n                                    // if drawWave was called within ws.empty we don't pass a start and\n                                    // end and simply want a flat line\n                                    if (start !== undefined) _this5.drawLine(peaks, absmax, halfH, offsetY, start, end, channelIndex);\n                                    // always draw a median line\n                                    _this5.fillRect(0, halfH + offsetY - _this5.halfPixel, _this5.width, _this5.halfPixel, _this5.barRadius, channelIndex);\n                                });\n                            }\n                        },\n                        {\n                            key: \"drawLine\",\n                            value: function drawLine(peaks, absmax, halfH, offsetY, start, end, channelIndex) {\n                                var _this6 = this;\n                                var _ref3 = this.params.splitChannelsOptions.channelColors[channelIndex] || {}, waveColor = _ref3.waveColor, progressColor = _ref3.progressColor;\n                                this.canvases.forEach(function(entry, i) {\n                                    _this6.setFillStyles(entry, waveColor, progressColor);\n                                    _this6.applyCanvasTransforms(entry, _this6.params.vertical);\n                                    entry.drawLines(peaks, absmax, halfH, offsetY, start, end);\n                                });\n                            }\n                        },\n                        {\n                            key: \"fillRect\",\n                            value: function fillRect(x, y, width, height, radius, channelIndex) {\n                                var startCanvas = Math.floor(x / this.maxCanvasWidth);\n                                var endCanvas = Math.min(Math.ceil((x + width) / this.maxCanvasWidth) + 1, this.canvases.length);\n                                var i = startCanvas;\n                                for(i; i < endCanvas; i++){\n                                    var entry = this.canvases[i];\n                                    var leftOffset = i * this.maxCanvasWidth;\n                                    var intersection = {\n                                        x1: Math.max(x, i * this.maxCanvasWidth),\n                                        y1: y,\n                                        x2: Math.min(x + width, i * this.maxCanvasWidth + entry.wave.width),\n                                        y2: y + height\n                                    };\n                                    if (intersection.x1 < intersection.x2) {\n                                        var _ref4 = this.params.splitChannelsOptions.channelColors[channelIndex] || {}, waveColor = _ref4.waveColor, progressColor = _ref4.progressColor;\n                                        this.setFillStyles(entry, waveColor, progressColor);\n                                        this.applyCanvasTransforms(entry, this.params.vertical);\n                                        entry.fillRects(intersection.x1 - leftOffset, intersection.y1, intersection.x2 - intersection.x1, intersection.y2 - intersection.y1, radius);\n                                    }\n                                }\n                            }\n                        },\n                        {\n                            key: \"hideChannel\",\n                            value: function hideChannel(channelIndex) {\n                                return this.params.splitChannels && this.params.splitChannelsOptions.filterChannels.includes(channelIndex);\n                            }\n                        },\n                        {\n                            key: \"prepareDraw\",\n                            value: function prepareDraw(peaks, channelIndex, start, end, fn, drawIndex, normalizedMax) {\n                                var _this7 = this;\n                                return util.frame(function() {\n                                    // Split channels and call this function with the channelIndex set\n                                    if (peaks[0] instanceof Array) {\n                                        var channels = peaks;\n                                        if (_this7.params.splitChannels) {\n                                            var filteredChannels = channels.filter(function(c, i) {\n                                                return !_this7.hideChannel(i);\n                                            });\n                                            if (!_this7.params.splitChannelsOptions.overlay) _this7.setHeight(Math.max(filteredChannels.length, 1) * _this7.params.height * _this7.params.pixelRatio);\n                                            var overallAbsMax;\n                                            if (_this7.params.splitChannelsOptions && _this7.params.splitChannelsOptions.relativeNormalization) // calculate maximum peak across channels to use for normalization\n                                            overallAbsMax = util.max(channels.map(function(channelPeaks) {\n                                                return util.absMax(channelPeaks);\n                                            }));\n                                            return channels.forEach(function(channelPeaks, i) {\n                                                return _this7.prepareDraw(channelPeaks, i, start, end, fn, filteredChannels.indexOf(channelPeaks), overallAbsMax);\n                                            });\n                                        }\n                                        peaks = channels[0];\n                                    }\n                                    // Return and do not draw channel peaks if hidden.\n                                    if (_this7.hideChannel(channelIndex)) return;\n                                    // calculate maximum modulation value, either from the barHeight\n                                    // parameter or if normalize=true from the largest value in the peak\n                                    // set\n                                    var absmax = 1 / _this7.params.barHeight;\n                                    if (_this7.params.normalize) absmax = normalizedMax === undefined ? util.absMax(peaks) : normalizedMax;\n                                    // Bar wave draws the bottom only as a reflection of the top,\n                                    // so we don't need negative values\n                                    var hasMinVals = [].some.call(peaks, function(val) {\n                                        return val < 0;\n                                    });\n                                    var height = _this7.params.height * _this7.params.pixelRatio;\n                                    var halfH = height / 2;\n                                    var offsetY = height * drawIndex || 0;\n                                    // Override offsetY if overlay is true\n                                    if (_this7.params.splitChannelsOptions && _this7.params.splitChannelsOptions.overlay) offsetY = 0;\n                                    return fn({\n                                        absmax: absmax,\n                                        hasMinVals: hasMinVals,\n                                        height: height,\n                                        offsetY: offsetY,\n                                        halfH: halfH,\n                                        peaks: peaks,\n                                        channelIndex: channelIndex\n                                    });\n                                })();\n                            }\n                        },\n                        {\n                            key: \"setFillStyles\",\n                            value: function setFillStyles(entry) {\n                                var waveColor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.params.waveColor;\n                                var progressColor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.params.progressColor;\n                                entry.setFillStyles(waveColor, progressColor);\n                            }\n                        },\n                        {\n                            key: \"applyCanvasTransforms\",\n                            value: function applyCanvasTransforms(entry) {\n                                var vertical = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n                                entry.applyCanvasTransforms(vertical);\n                            }\n                        },\n                        {\n                            key: \"getImage\",\n                            value: function getImage(format, quality, type) {\n                                if (type === \"blob\") return Promise.all(this.canvases.map(function(entry) {\n                                    return entry.getImage(format, quality, type);\n                                }));\n                                else if (type === \"dataURL\") {\n                                    var images = this.canvases.map(function(entry) {\n                                        return entry.getImage(format, quality, type);\n                                    });\n                                    return images.length > 1 ? images : images[0];\n                                }\n                            }\n                        },\n                        {\n                            key: \"updateProgress\",\n                            value: function updateProgress(position) {\n                                this.style(this.progressWave, {\n                                    width: position + \"px\"\n                                });\n                            }\n                        }\n                    ]);\n                    return MultiCanvas;\n                }(_drawer.default);\n                exports[\"default\"] = MultiCanvas;\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/mediaelement-webaudio.js\": /*!**************************************!*\\\n  !*** ./src/mediaelement-webaudio.js ***!\n  \\**************************************/ /***/ (module1, exports, __webpack_require__)=>{\n                \"use strict\";\n                function _typeof(obj) {\n                    \"@babel/helpers - typeof\";\n                    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n                        return typeof obj;\n                    } : function(obj) {\n                        return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n                    }, _typeof(obj);\n                }\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = void 0;\n                var _mediaelement = _interopRequireDefault(__webpack_require__(/*! ./mediaelement */ \"./src/mediaelement.js\"));\n                function _interopRequireDefault(obj) {\n                    return obj && obj.__esModule ? obj : {\n                        default: obj\n                    };\n                }\n                function _classCallCheck(instance, Constructor) {\n                    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n                }\n                function _defineProperties(target, props) {\n                    for(var i = 0; i < props.length; i++){\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if (\"value\" in descriptor) descriptor.writable = true;\n                        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n                    }\n                }\n                function _createClass(Constructor, protoProps, staticProps) {\n                    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) _defineProperties(Constructor, staticProps);\n                    Object.defineProperty(Constructor, \"prototype\", {\n                        writable: false\n                    });\n                    return Constructor;\n                }\n                function _toPropertyKey(arg) {\n                    var key = _toPrimitive(arg, \"string\");\n                    return _typeof(key) === \"symbol\" ? key : String(key);\n                }\n                function _toPrimitive(input, hint) {\n                    if (_typeof(input) !== \"object\" || input === null) return input;\n                    var prim = input[Symbol.toPrimitive];\n                    if (prim !== undefined) {\n                        var res = prim.call(input, hint || \"default\");\n                        if (_typeof(res) !== \"object\") return res;\n                        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n                    }\n                    return (hint === \"string\" ? String : Number)(input);\n                }\n                function _get() {\n                    if (typeof Reflect !== \"undefined\" && Reflect.get) _get = Reflect.get.bind();\n                    else _get = function _get(target, property, receiver) {\n                        var base = _superPropBase(target, property);\n                        if (!base) return;\n                        var desc = Object.getOwnPropertyDescriptor(base, property);\n                        if (desc.get) return desc.get.call(arguments.length < 3 ? target : receiver);\n                        return desc.value;\n                    };\n                    return _get.apply(this, arguments);\n                }\n                function _superPropBase(object, property) {\n                    while(!Object.prototype.hasOwnProperty.call(object, property)){\n                        object = _getPrototypeOf(object);\n                        if (object === null) break;\n                    }\n                    return object;\n                }\n                function _inherits(subClass, superClass) {\n                    if (typeof superClass !== \"function\" && superClass !== null) throw new TypeError(\"Super expression must either be null or a function\");\n                    subClass.prototype = Object.create(superClass && superClass.prototype, {\n                        constructor: {\n                            value: subClass,\n                            writable: true,\n                            configurable: true\n                        }\n                    });\n                    Object.defineProperty(subClass, \"prototype\", {\n                        writable: false\n                    });\n                    if (superClass) _setPrototypeOf(subClass, superClass);\n                }\n                function _setPrototypeOf(o, p) {\n                    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n                        o.__proto__ = p;\n                        return o;\n                    };\n                    return _setPrototypeOf(o, p);\n                }\n                function _createSuper(Derived) {\n                    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n                    return function _createSuperInternal() {\n                        var Super = _getPrototypeOf(Derived), result;\n                        if (hasNativeReflectConstruct) {\n                            var NewTarget = _getPrototypeOf(this).constructor;\n                            result = Reflect.construct(Super, arguments, NewTarget);\n                        } else result = Super.apply(this, arguments);\n                        return _possibleConstructorReturn(this, result);\n                    };\n                }\n                function _possibleConstructorReturn(self1, call) {\n                    if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) return call;\n                    else if (call !== void 0) throw new TypeError(\"Derived constructors may only return object or undefined\");\n                    return _assertThisInitialized(self1);\n                }\n                function _assertThisInitialized(self1) {\n                    if (self1 === void 0) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n                    return self1;\n                }\n                function _isNativeReflectConstruct() {\n                    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n                    if (Reflect.construct.sham) return false;\n                    if (typeof Proxy === \"function\") return true;\n                    try {\n                        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n                        return true;\n                    } catch (e) {\n                        return false;\n                    }\n                }\n                function _getPrototypeOf(o) {\n                    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n                        return o.__proto__ || Object.getPrototypeOf(o);\n                    };\n                    return _getPrototypeOf(o);\n                }\n                /**\n * MediaElementWebAudio backend: load audio via an HTML5 audio tag, but playback with the WebAudio API.\n * The advantage here is that the html5 <audio> tag can perform range requests on the server and not\n * buffer the entire file in one request, and you still get the filtering and scripting functionality\n * of the webaudio API.\n * Note that in order to use range requests and prevent buffering, you must provide peak data.\n *\n * @since 3.2.0\n */ var MediaElementWebAudio = /*#__PURE__*/ function(_MediaElement) {\n                    _inherits(MediaElementWebAudio, _MediaElement);\n                    var _super = _createSuper(MediaElementWebAudio);\n                    /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */ function MediaElementWebAudio(params) {\n                        var _this;\n                        _classCallCheck(this, MediaElementWebAudio);\n                        _this = _super.call(this, params);\n                        /** @private */ _this.params = params;\n                        /** @private */ _this.sourceMediaElement = null;\n                        return _this;\n                    }\n                    /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */ _createClass(MediaElementWebAudio, [\n                        {\n                            key: \"init\",\n                            value: function init() {\n                                this.setPlaybackRate(this.params.audioRate);\n                                this.createTimer();\n                                this.createVolumeNode();\n                                this.createScriptNode();\n                                this.createAnalyserNode();\n                            }\n                        },\n                        {\n                            key: \"_load\",\n                            value: function _load(media, peaks, preload) {\n                                _get(_getPrototypeOf(MediaElementWebAudio.prototype), \"_load\", this).call(this, media, peaks, preload);\n                                this.createMediaElementSource(media);\n                            }\n                        },\n                        {\n                            key: \"createMediaElementSource\",\n                            value: function createMediaElementSource(mediaElement) {\n                                this.sourceMediaElement = this.ac.createMediaElementSource(mediaElement);\n                                this.sourceMediaElement.connect(this.analyser);\n                            }\n                        },\n                        {\n                            key: \"play\",\n                            value: function play(start, end) {\n                                this.resumeAudioContext();\n                                return _get(_getPrototypeOf(MediaElementWebAudio.prototype), \"play\", this).call(this, start, end);\n                            }\n                        },\n                        {\n                            key: \"destroy\",\n                            value: function destroy() {\n                                _get(_getPrototypeOf(MediaElementWebAudio.prototype), \"destroy\", this).call(this);\n                                this.destroyWebAudio();\n                            }\n                        }\n                    ]);\n                    return MediaElementWebAudio;\n                }(_mediaelement.default);\n                exports[\"default\"] = MediaElementWebAudio;\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/mediaelement.js\": /*!*****************************!*\\\n  !*** ./src/mediaelement.js ***!\n  \\*****************************/ /***/ (module1, exports, __webpack_require__)=>{\n                \"use strict\";\n                function _typeof(obj) {\n                    \"@babel/helpers - typeof\";\n                    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n                        return typeof obj;\n                    } : function(obj) {\n                        return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n                    }, _typeof(obj);\n                }\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = void 0;\n                var _webaudio = _interopRequireDefault(__webpack_require__(/*! ./webaudio */ \"./src/webaudio.js\"));\n                var util = _interopRequireWildcard(__webpack_require__(/*! ./util */ \"./src/util/index.js\"));\n                function _getRequireWildcardCache(nodeInterop) {\n                    if (typeof WeakMap !== \"function\") return null;\n                    var cacheBabelInterop = new WeakMap();\n                    var cacheNodeInterop = new WeakMap();\n                    return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n                        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n                    })(nodeInterop);\n                }\n                function _interopRequireWildcard(obj, nodeInterop) {\n                    if (!nodeInterop && obj && obj.__esModule) return obj;\n                    if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") return {\n                        default: obj\n                    };\n                    var cache = _getRequireWildcardCache(nodeInterop);\n                    if (cache && cache.has(obj)) return cache.get(obj);\n                    var newObj = {};\n                    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n                    for(var key in obj)if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n                        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n                        if (desc && (desc.get || desc.set)) Object.defineProperty(newObj, key, desc);\n                        else newObj[key] = obj[key];\n                    }\n                    newObj.default = obj;\n                    if (cache) cache.set(obj, newObj);\n                    return newObj;\n                }\n                function _interopRequireDefault(obj) {\n                    return obj && obj.__esModule ? obj : {\n                        default: obj\n                    };\n                }\n                function _classCallCheck(instance, Constructor) {\n                    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n                }\n                function _defineProperties(target, props) {\n                    for(var i = 0; i < props.length; i++){\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if (\"value\" in descriptor) descriptor.writable = true;\n                        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n                    }\n                }\n                function _createClass(Constructor, protoProps, staticProps) {\n                    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) _defineProperties(Constructor, staticProps);\n                    Object.defineProperty(Constructor, \"prototype\", {\n                        writable: false\n                    });\n                    return Constructor;\n                }\n                function _toPropertyKey(arg) {\n                    var key = _toPrimitive(arg, \"string\");\n                    return _typeof(key) === \"symbol\" ? key : String(key);\n                }\n                function _toPrimitive(input, hint) {\n                    if (_typeof(input) !== \"object\" || input === null) return input;\n                    var prim = input[Symbol.toPrimitive];\n                    if (prim !== undefined) {\n                        var res = prim.call(input, hint || \"default\");\n                        if (_typeof(res) !== \"object\") return res;\n                        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n                    }\n                    return (hint === \"string\" ? String : Number)(input);\n                }\n                function _get() {\n                    if (typeof Reflect !== \"undefined\" && Reflect.get) _get = Reflect.get.bind();\n                    else _get = function _get(target, property, receiver) {\n                        var base = _superPropBase(target, property);\n                        if (!base) return;\n                        var desc = Object.getOwnPropertyDescriptor(base, property);\n                        if (desc.get) return desc.get.call(arguments.length < 3 ? target : receiver);\n                        return desc.value;\n                    };\n                    return _get.apply(this, arguments);\n                }\n                function _superPropBase(object, property) {\n                    while(!Object.prototype.hasOwnProperty.call(object, property)){\n                        object = _getPrototypeOf(object);\n                        if (object === null) break;\n                    }\n                    return object;\n                }\n                function _inherits(subClass, superClass) {\n                    if (typeof superClass !== \"function\" && superClass !== null) throw new TypeError(\"Super expression must either be null or a function\");\n                    subClass.prototype = Object.create(superClass && superClass.prototype, {\n                        constructor: {\n                            value: subClass,\n                            writable: true,\n                            configurable: true\n                        }\n                    });\n                    Object.defineProperty(subClass, \"prototype\", {\n                        writable: false\n                    });\n                    if (superClass) _setPrototypeOf(subClass, superClass);\n                }\n                function _setPrototypeOf(o, p) {\n                    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n                        o.__proto__ = p;\n                        return o;\n                    };\n                    return _setPrototypeOf(o, p);\n                }\n                function _createSuper(Derived) {\n                    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n                    return function _createSuperInternal() {\n                        var Super = _getPrototypeOf(Derived), result;\n                        if (hasNativeReflectConstruct) {\n                            var NewTarget = _getPrototypeOf(this).constructor;\n                            result = Reflect.construct(Super, arguments, NewTarget);\n                        } else result = Super.apply(this, arguments);\n                        return _possibleConstructorReturn(this, result);\n                    };\n                }\n                function _possibleConstructorReturn(self1, call) {\n                    if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) return call;\n                    else if (call !== void 0) throw new TypeError(\"Derived constructors may only return object or undefined\");\n                    return _assertThisInitialized(self1);\n                }\n                function _assertThisInitialized(self1) {\n                    if (self1 === void 0) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n                    return self1;\n                }\n                function _isNativeReflectConstruct() {\n                    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n                    if (Reflect.construct.sham) return false;\n                    if (typeof Proxy === \"function\") return true;\n                    try {\n                        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n                        return true;\n                    } catch (e) {\n                        return false;\n                    }\n                }\n                function _getPrototypeOf(o) {\n                    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n                        return o.__proto__ || Object.getPrototypeOf(o);\n                    };\n                    return _getPrototypeOf(o);\n                }\n                /**\n * MediaElement backend\n */ var MediaElement = /*#__PURE__*/ function(_WebAudio) {\n                    _inherits(MediaElement, _WebAudio);\n                    var _super = _createSuper(MediaElement);\n                    /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */ function MediaElement(params) {\n                        var _this;\n                        _classCallCheck(this, MediaElement);\n                        _this = _super.call(this, params);\n                        /** @private */ _this.params = params;\n                        /**\n     * Initially a dummy media element to catch errors. Once `_load` is\n     * called, this will contain the actual `HTMLMediaElement`.\n     * @private\n     */ _this.media = {\n                            currentTime: 0,\n                            duration: 0,\n                            paused: true,\n                            playbackRate: 1,\n                            play: function play() {},\n                            pause: function pause() {},\n                            volume: 0\n                        };\n                        /** @private */ _this.mediaType = params.mediaType.toLowerCase();\n                        /** @private */ _this.elementPosition = params.elementPosition;\n                        /** @private */ _this.peaks = null;\n                        /** @private */ _this.playbackRate = 1;\n                        /** @private */ _this.volume = 1;\n                        /** @private */ _this.isMuted = false;\n                        /** @private */ _this.buffer = null;\n                        /** @private */ _this.onPlayEnd = null;\n                        /** @private */ _this.mediaListeners = {};\n                        return _this;\n                    }\n                    /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */ _createClass(MediaElement, [\n                        {\n                            key: \"init\",\n                            value: function init() {\n                                this.setPlaybackRate(this.params.audioRate);\n                                this.createTimer();\n                            }\n                        },\n                        {\n                            key: \"_setupMediaListeners\",\n                            value: function _setupMediaListeners() {\n                                var _this2 = this;\n                                this.mediaListeners.error = function() {\n                                    _this2.fireEvent(\"error\", \"Error loading media element\");\n                                };\n                                this.mediaListeners.waiting = function() {\n                                    _this2.fireEvent(\"waiting\");\n                                };\n                                this.mediaListeners.canplay = function() {\n                                    _this2.fireEvent(\"canplay\");\n                                };\n                                this.mediaListeners.ended = function() {\n                                    _this2.fireEvent(\"finish\");\n                                };\n                                // listen to and relay play, pause and seeked events to enable\n                                // playback control from the external media element\n                                this.mediaListeners.play = function() {\n                                    _this2.fireEvent(\"play\");\n                                };\n                                this.mediaListeners.pause = function() {\n                                    _this2.fireEvent(\"pause\");\n                                };\n                                this.mediaListeners.seeked = function(event) {\n                                    _this2.fireEvent(\"seek\");\n                                };\n                                this.mediaListeners.volumechange = function(event) {\n                                    _this2.isMuted = _this2.media.muted;\n                                    if (_this2.isMuted) _this2.volume = 0;\n                                    else _this2.volume = _this2.media.volume;\n                                    _this2.fireEvent(\"volume\");\n                                };\n                                // reset event listeners\n                                Object.keys(this.mediaListeners).forEach(function(id) {\n                                    _this2.media.removeEventListener(id, _this2.mediaListeners[id]);\n                                    _this2.media.addEventListener(id, _this2.mediaListeners[id]);\n                                });\n                            }\n                        },\n                        {\n                            key: \"createTimer\",\n                            value: function createTimer() {\n                                var _this3 = this;\n                                var onAudioProcess = function onAudioProcess() {\n                                    if (_this3.isPaused()) return;\n                                    _this3.fireEvent(\"audioprocess\", _this3.getCurrentTime());\n                                    // Call again in the next frame\n                                    util.frame(onAudioProcess)();\n                                };\n                                this.on(\"play\", onAudioProcess);\n                                // Update the progress one more time to prevent it from being stuck in\n                                // case of lower framerates\n                                this.on(\"pause\", function() {\n                                    _this3.fireEvent(\"audioprocess\", _this3.getCurrentTime());\n                                });\n                            }\n                        },\n                        {\n                            key: \"load\",\n                            value: function load(url, container, peaks, preload) {\n                                var media = document.createElement(this.mediaType);\n                                media.controls = this.params.mediaControls;\n                                media.autoplay = this.params.autoplay || false;\n                                media.preload = preload == null ? \"auto\" : preload;\n                                media.src = url;\n                                media.style.width = \"100%\";\n                                var prevMedia = container.querySelector(this.mediaType);\n                                if (prevMedia) container.removeChild(prevMedia);\n                                container.appendChild(media);\n                                this._load(media, peaks, preload);\n                            }\n                        },\n                        {\n                            key: \"loadElt\",\n                            value: function loadElt(elt, peaks) {\n                                elt.controls = this.params.mediaControls;\n                                elt.autoplay = this.params.autoplay || false;\n                                this._load(elt, peaks, elt.preload);\n                            }\n                        },\n                        {\n                            key: \"_load\",\n                            value: function _load(media, peaks, preload) {\n                                // verify media element is valid\n                                if (!(media instanceof HTMLMediaElement) || typeof media.addEventListener === \"undefined\") throw new Error(\"media parameter is not a valid media element\");\n                                // load must be called manually on iOS, otherwise peaks won't draw\n                                // until a user interaction triggers load --> 'ready' event\n                                //\n                                // note that we avoid calling media.load here when given peaks and preload == 'none'\n                                // as this almost always triggers some browser fetch of the media.\n                                if (typeof media.load == \"function\" && !(peaks && preload == \"none\")) // Resets the media element and restarts the media resource. Any\n                                // pending events are discarded. How much media data is fetched is\n                                // still affected by the preload attribute.\n                                media.load();\n                                this.media = media;\n                                this._setupMediaListeners();\n                                this.peaks = peaks;\n                                this.onPlayEnd = null;\n                                this.buffer = null;\n                                this.isMuted = media.muted;\n                                this.setPlaybackRate(this.playbackRate);\n                                this.setVolume(this.volume);\n                            }\n                        },\n                        {\n                            key: \"isPaused\",\n                            value: function isPaused() {\n                                return !this.media || this.media.paused;\n                            }\n                        },\n                        {\n                            key: \"getDuration\",\n                            value: function getDuration() {\n                                if (this.explicitDuration) return this.explicitDuration;\n                                var duration = (this.buffer || this.media).duration;\n                                if (duration >= Infinity) // streaming audio\n                                duration = this.media.seekable.end(0);\n                                return duration;\n                            }\n                        },\n                        {\n                            key: \"getCurrentTime\",\n                            value: function getCurrentTime() {\n                                return this.media && this.media.currentTime;\n                            }\n                        },\n                        {\n                            key: \"getPlayedPercents\",\n                            value: function getPlayedPercents() {\n                                return this.getCurrentTime() / this.getDuration() || 0;\n                            }\n                        },\n                        {\n                            key: \"getPlaybackRate\",\n                            value: function getPlaybackRate() {\n                                return this.playbackRate || this.media.playbackRate;\n                            }\n                        },\n                        {\n                            key: \"setPlaybackRate\",\n                            value: function setPlaybackRate(value) {\n                                this.playbackRate = value || 1;\n                                this.media.playbackRate = this.playbackRate;\n                            }\n                        },\n                        {\n                            key: \"seekTo\",\n                            value: function seekTo(start) {\n                                if (start != null && !isNaN(start)) this.media.currentTime = start;\n                                this.clearPlayEnd();\n                            }\n                        },\n                        {\n                            key: \"play\",\n                            value: function play(start, end) {\n                                this.seekTo(start);\n                                var promise = this.media.play();\n                                end && this.setPlayEnd(end);\n                                return promise;\n                            }\n                        },\n                        {\n                            key: \"pause\",\n                            value: function pause() {\n                                var promise;\n                                if (this.media) promise = this.media.pause();\n                                this.clearPlayEnd();\n                                return promise;\n                            }\n                        },\n                        {\n                            key: \"setPlayEnd\",\n                            value: function setPlayEnd(end) {\n                                var _this4 = this;\n                                this.clearPlayEnd();\n                                this._onPlayEnd = function(time) {\n                                    if (time >= end) {\n                                        _this4.pause();\n                                        _this4.seekTo(end);\n                                    }\n                                };\n                                this.on(\"audioprocess\", this._onPlayEnd);\n                            }\n                        },\n                        {\n                            key: \"clearPlayEnd\",\n                            value: function clearPlayEnd() {\n                                if (this._onPlayEnd) {\n                                    this.un(\"audioprocess\", this._onPlayEnd);\n                                    this._onPlayEnd = null;\n                                }\n                            }\n                        },\n                        {\n                            key: \"getPeaks\",\n                            value: function getPeaks(length, first, last) {\n                                if (this.buffer) return _get(_getPrototypeOf(MediaElement.prototype), \"getPeaks\", this).call(this, length, first, last);\n                                return this.peaks || [];\n                            }\n                        },\n                        {\n                            key: \"setSinkId\",\n                            value: function setSinkId(deviceId) {\n                                if (deviceId) {\n                                    if (!this.media.setSinkId) return Promise.reject(new Error(\"setSinkId is not supported in your browser\"));\n                                    return this.media.setSinkId(deviceId);\n                                }\n                                return Promise.reject(new Error(\"Invalid deviceId: \" + deviceId));\n                            }\n                        },\n                        {\n                            key: \"getVolume\",\n                            value: function getVolume() {\n                                return this.volume;\n                            }\n                        },\n                        {\n                            key: \"setVolume\",\n                            value: function setVolume(value) {\n                                this.volume = value;\n                                // no need to change when it's already at that volume\n                                if (this.media.volume !== this.volume) this.media.volume = this.volume;\n                            }\n                        },\n                        {\n                            key: \"setMute\",\n                            value: function setMute(muted) {\n                                // This causes a volume change to be emitted too through the\n                                // volumechange event listener.\n                                this.isMuted = this.media.muted = muted;\n                            }\n                        },\n                        {\n                            key: \"destroy\",\n                            value: function destroy() {\n                                var _this5 = this;\n                                this.pause();\n                                this.unAll();\n                                this.destroyed = true;\n                                // cleanup media event listeners\n                                Object.keys(this.mediaListeners).forEach(function(id) {\n                                    if (_this5.media) _this5.media.removeEventListener(id, _this5.mediaListeners[id]);\n                                });\n                                if (this.params.removeMediaElementOnDestroy && this.media && this.media.parentNode) this.media.parentNode.removeChild(this.media);\n                                this.media = null;\n                            }\n                        }\n                    ]);\n                    return MediaElement;\n                }(_webaudio.default);\n                exports[\"default\"] = MediaElement;\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/peakcache.js\": /*!**************************!*\\\n  !*** ./src/peakcache.js ***!\n  \\**************************/ /***/ (module1, exports)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = void 0;\n                function _typeof(obj) {\n                    \"@babel/helpers - typeof\";\n                    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n                        return typeof obj;\n                    } : function(obj) {\n                        return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n                    }, _typeof(obj);\n                }\n                function _classCallCheck(instance, Constructor) {\n                    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n                }\n                function _defineProperties(target, props) {\n                    for(var i = 0; i < props.length; i++){\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if (\"value\" in descriptor) descriptor.writable = true;\n                        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n                    }\n                }\n                function _createClass(Constructor, protoProps, staticProps) {\n                    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) _defineProperties(Constructor, staticProps);\n                    Object.defineProperty(Constructor, \"prototype\", {\n                        writable: false\n                    });\n                    return Constructor;\n                }\n                function _toPropertyKey(arg) {\n                    var key = _toPrimitive(arg, \"string\");\n                    return _typeof(key) === \"symbol\" ? key : String(key);\n                }\n                function _toPrimitive(input, hint) {\n                    if (_typeof(input) !== \"object\" || input === null) return input;\n                    var prim = input[Symbol.toPrimitive];\n                    if (prim !== undefined) {\n                        var res = prim.call(input, hint || \"default\");\n                        if (_typeof(res) !== \"object\") return res;\n                        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n                    }\n                    return (hint === \"string\" ? String : Number)(input);\n                }\n                /**\n * Caches the decoded peaks data to improve rendering speed for large audio\n *\n * Is used if the option parameter `partialRender` is set to `true`\n */ var PeakCache = /*#__PURE__*/ function() {\n                    /**\n   * Instantiate cache\n   */ function PeakCache() {\n                        _classCallCheck(this, PeakCache);\n                        this.clearPeakCache();\n                    }\n                    /**\n   * Empty the cache\n   */ _createClass(PeakCache, [\n                        {\n                            key: \"clearPeakCache\",\n                            value: function clearPeakCache() {\n                                /**\n       * Flat array with entries that are always in pairs to mark the\n       * beginning and end of each subrange.  This is a convenience so we can\n       * iterate over the pairs for easy set difference operations.\n       * @private\n       */ this.peakCacheRanges = [];\n                                /**\n       * Length of the entire cachable region, used for resetting the cache\n       * when this changes (zoom events, for instance).\n       * @private\n       */ this.peakCacheLength = -1;\n                            }\n                        },\n                        {\n                            key: \"addRangeToPeakCache\",\n                            value: function addRangeToPeakCache(length, start, end) {\n                                if (length != this.peakCacheLength) {\n                                    this.clearPeakCache();\n                                    this.peakCacheLength = length;\n                                }\n                                // Return ranges that weren't in the cache before the call.\n                                var uncachedRanges = [];\n                                var i = 0;\n                                // Skip ranges before the current start.\n                                while(i < this.peakCacheRanges.length && this.peakCacheRanges[i] < start)i++;\n                                // If |i| is even, |start| falls after an existing range.  Otherwise,\n                                // |start| falls between an existing range, and the uncached region\n                                // starts when we encounter the next node in |peakCacheRanges| or\n                                // |end|, whichever comes first.\n                                if (i % 2 == 0) uncachedRanges.push(start);\n                                while(i < this.peakCacheRanges.length && this.peakCacheRanges[i] <= end){\n                                    uncachedRanges.push(this.peakCacheRanges[i]);\n                                    i++;\n                                }\n                                // If |i| is even, |end| is after all existing ranges.\n                                if (i % 2 == 0) uncachedRanges.push(end);\n                                // Filter out the 0-length ranges.\n                                uncachedRanges = uncachedRanges.filter(function(item, pos, arr) {\n                                    if (pos == 0) return item != arr[pos + 1];\n                                    else if (pos == arr.length - 1) return item != arr[pos - 1];\n                                    return item != arr[pos - 1] && item != arr[pos + 1];\n                                });\n                                // Merge the two ranges together, uncachedRanges will either contain\n                                // wholly new points, or duplicates of points in peakCacheRanges.  If\n                                // duplicates are detected, remove both and extend the range.\n                                this.peakCacheRanges = this.peakCacheRanges.concat(uncachedRanges);\n                                this.peakCacheRanges = this.peakCacheRanges.sort(function(a, b) {\n                                    return a - b;\n                                }).filter(function(item, pos, arr) {\n                                    if (pos == 0) return item != arr[pos + 1];\n                                    else if (pos == arr.length - 1) return item != arr[pos - 1];\n                                    return item != arr[pos - 1] && item != arr[pos + 1];\n                                });\n                                // Push the uncached ranges into an array of arrays for ease of\n                                // iteration in the functions that call this.\n                                var uncachedRangePairs = [];\n                                for(i = 0; i < uncachedRanges.length; i += 2)uncachedRangePairs.push([\n                                    uncachedRanges[i],\n                                    uncachedRanges[i + 1]\n                                ]);\n                                return uncachedRangePairs;\n                            }\n                        },\n                        {\n                            key: \"getCacheRanges\",\n                            value: function getCacheRanges() {\n                                var peakCacheRangePairs = [];\n                                var i;\n                                for(i = 0; i < this.peakCacheRanges.length; i += 2)peakCacheRangePairs.push([\n                                    this.peakCacheRanges[i],\n                                    this.peakCacheRanges[i + 1]\n                                ]);\n                                return peakCacheRangePairs;\n                            }\n                        }\n                    ]);\n                    return PeakCache;\n                }();\n                exports[\"default\"] = PeakCache;\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/util/absMax.js\": /*!****************************!*\\\n  !*** ./src/util/absMax.js ***!\n  \\****************************/ /***/ (module1, exports, __webpack_require__)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = absMax;\n                var _max = _interopRequireDefault(__webpack_require__(/*! ./max */ \"./src/util/max.js\"));\n                var _min = _interopRequireDefault(__webpack_require__(/*! ./min */ \"./src/util/min.js\"));\n                function _interopRequireDefault(obj) {\n                    return obj && obj.__esModule ? obj : {\n                        default: obj\n                    };\n                }\n                /**\r\n * Get the largest absolute value in an array\r\n *\r\n * @param   {Array} values Array of numbers\r\n * @returns {Number} Largest number found\r\n * @example console.log(max([-3, 2, 1]), max([-3, 2, 4])); // logs 3 4\r\n * @since 4.3.0\r\n */ function absMax(values) {\n                    var max = (0, _max.default)(values);\n                    var min = (0, _min.default)(values);\n                    return -min > max ? -min : max;\n                }\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/util/clamp.js\": /*!***************************!*\\\n  !*** ./src/util/clamp.js ***!\n  \\***************************/ /***/ (module1, exports)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = clamp;\n                /**\n * Returns a number limited to the given range.\n *\n * @param {number} val The number to be limited to a range\n * @param {number} min The lower boundary of the limit range\n * @param {number} max The upper boundary of the limit range\n * @returns {number} A number in the range [min, max]\n */ function clamp(val, min, max) {\n                    return Math.min(Math.max(min, val), max);\n                }\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/util/fetch.js\": /*!***************************!*\\\n  !*** ./src/util/fetch.js ***!\n  \\***************************/ /***/ (module1, exports, __webpack_require__)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = fetchFile;\n                var _observer = _interopRequireDefault(__webpack_require__(/*! ./observer */ \"./src/util/observer.js\"));\n                function _interopRequireDefault(obj) {\n                    return obj && obj.__esModule ? obj : {\n                        default: obj\n                    };\n                }\n                function _typeof(obj) {\n                    \"@babel/helpers - typeof\";\n                    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n                        return typeof obj;\n                    } : function(obj) {\n                        return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n                    }, _typeof(obj);\n                }\n                function _classCallCheck(instance, Constructor) {\n                    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n                }\n                function _defineProperties(target, props) {\n                    for(var i = 0; i < props.length; i++){\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if (\"value\" in descriptor) descriptor.writable = true;\n                        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n                    }\n                }\n                function _createClass(Constructor, protoProps, staticProps) {\n                    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) _defineProperties(Constructor, staticProps);\n                    Object.defineProperty(Constructor, \"prototype\", {\n                        writable: false\n                    });\n                    return Constructor;\n                }\n                function _toPropertyKey(arg) {\n                    var key = _toPrimitive(arg, \"string\");\n                    return _typeof(key) === \"symbol\" ? key : String(key);\n                }\n                function _toPrimitive(input, hint) {\n                    if (_typeof(input) !== \"object\" || input === null) return input;\n                    var prim = input[Symbol.toPrimitive];\n                    if (prim !== undefined) {\n                        var res = prim.call(input, hint || \"default\");\n                        if (_typeof(res) !== \"object\") return res;\n                        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n                    }\n                    return (hint === \"string\" ? String : Number)(input);\n                }\n                var ProgressHandler = /*#__PURE__*/ function() {\n                    /**\n   * Instantiate ProgressHandler\n   *\n   * @param {Observer} instance The `fetchFile` observer instance.\n   * @param {Number} contentLength Content length.\n   * @param {Response} response Response object.\n   */ function ProgressHandler(instance, contentLength, response) {\n                        _classCallCheck(this, ProgressHandler);\n                        this.instance = instance;\n                        this.instance._reader = response.body.getReader();\n                        this.total = parseInt(contentLength, 10);\n                        this.loaded = 0;\n                    }\n                    /**\n   * A method that is called once, immediately after the `ReadableStream``\n   * is constructed.\n   *\n   * @param {ReadableStreamDefaultController} controller Controller instance\n   *     used to control the stream.\n   */ _createClass(ProgressHandler, [\n                        {\n                            key: \"start\",\n                            value: function start(controller) {\n                                var _this = this;\n                                var read = function read() {\n                                    // instance._reader.read() returns a promise that resolves\n                                    // when a value has been received\n                                    _this.instance._reader.read().then(function(_ref) {\n                                        var done = _ref.done, value = _ref.value;\n                                        // result objects contain two properties:\n                                        // done  - true if the stream has already given you all its data.\n                                        // value - some data. Always undefined when done is true.\n                                        if (done) {\n                                            // ensure onProgress called when content-length=0\n                                            if (_this.total === 0) _this.instance.onProgress.call(_this.instance, {\n                                                loaded: _this.loaded,\n                                                total: _this.total,\n                                                lengthComputable: false\n                                            });\n                                            // no more data needs to be consumed, close the stream\n                                            controller.close();\n                                            return;\n                                        }\n                                        _this.loaded += value.byteLength;\n                                        _this.instance.onProgress.call(_this.instance, {\n                                            loaded: _this.loaded,\n                                            total: _this.total,\n                                            lengthComputable: !(_this.total === 0)\n                                        });\n                                        // enqueue the next data chunk into our target stream\n                                        controller.enqueue(value);\n                                        read();\n                                    }).catch(function(error) {\n                                        controller.error(error);\n                                    });\n                                };\n                                read();\n                            }\n                        }\n                    ]);\n                    return ProgressHandler;\n                }();\n                /**\n * Load a file using `fetch`.\n *\n * @param {object} options Request options to use. See example below.\n * @returns {Observer} Observer instance\n * @example\n * // default options\n * let options = {\n *     url: undefined,\n *     method: 'GET',\n *     mode: 'cors',\n *     credentials: 'same-origin',\n *     cache: 'default',\n *     responseType: 'json',\n *     requestHeaders: [],\n *     redirect: 'follow',\n *     referrer: 'client'\n * };\n *\n * // override some options\n * options.url = '../media/demo.wav';\n\n * // available types: 'arraybuffer', 'blob', 'json' or 'text'\n * options.responseType = 'arraybuffer';\n *\n * // make fetch call\n * let request = util.fetchFile(options);\n *\n * // listen for events\n * request.on('progress', e => {\n *     console.log('progress', e);\n * });\n *\n * request.on('success', data => {\n *     console.log('success!', data);\n * });\n *\n * request.on('error', e => {\n *     console.warn('fetchFile error: ', e);\n * });\n */ function fetchFile(options) {\n                    if (!options) throw new Error(\"fetch options missing\");\n                    else if (!options.url) throw new Error(\"fetch url missing\");\n                    var instance = new _observer.default();\n                    var fetchHeaders = new Headers();\n                    var fetchRequest = new Request(options.url);\n                    // add ability to abort\n                    instance.controller = new AbortController();\n                    // check if headers have to be added\n                    if (options && options.requestHeaders) // add custom request headers\n                    options.requestHeaders.forEach(function(header) {\n                        fetchHeaders.append(header.key, header.value);\n                    });\n                    // parse fetch options\n                    var responseType = options.responseType || \"json\";\n                    var fetchOptions = {\n                        method: options.method || \"GET\",\n                        headers: fetchHeaders,\n                        mode: options.mode || \"cors\",\n                        credentials: options.credentials || \"same-origin\",\n                        cache: options.cache || \"default\",\n                        redirect: options.redirect || \"follow\",\n                        referrer: options.referrer || \"client\",\n                        signal: instance.controller.signal\n                    };\n                    fetch(fetchRequest, fetchOptions).then(function(response) {\n                        // store response reference\n                        instance.response = response;\n                        var progressAvailable = true;\n                        if (!response.body) // ReadableStream is not yet supported in this browser\n                        // see https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\n                        progressAvailable = false;\n                        // Server must send CORS header \"Access-Control-Expose-Headers: content-length\"\n                        var contentLength = response.headers.get(\"content-length\");\n                        if (contentLength === null) // Content-Length server response header missing.\n                        // Don't evaluate download progress if we can't compare against a total size\n                        // see https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Access-Control-Expose-Headers\n                        progressAvailable = false;\n                        if (!progressAvailable) // not able to check download progress so skip it\n                        return response;\n                        // fire progress event when during load\n                        instance.onProgress = function(e) {\n                            instance.fireEvent(\"progress\", e);\n                        };\n                        return new Response(new ReadableStream(new ProgressHandler(instance, contentLength, response)), fetchOptions);\n                    }).then(function(response) {\n                        var errMsg;\n                        if (response.ok) switch(responseType){\n                            case \"arraybuffer\":\n                                return response.arrayBuffer();\n                            case \"json\":\n                                return response.json();\n                            case \"blob\":\n                                return response.blob();\n                            case \"text\":\n                                return response.text();\n                            default:\n                                errMsg = \"Unknown responseType: \" + responseType;\n                                break;\n                        }\n                        if (!errMsg) errMsg = \"HTTP error status: \" + response.status;\n                        throw new Error(errMsg);\n                    }).then(function(response) {\n                        instance.fireEvent(\"success\", response);\n                    }).catch(function(error) {\n                        instance.fireEvent(\"error\", error);\n                    });\n                    // return the fetch request\n                    instance.fetchRequest = fetchRequest;\n                    return instance;\n                }\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/util/frame.js\": /*!***************************!*\\\n  !*** ./src/util/frame.js ***!\n  \\***************************/ /***/ (module1, exports, __webpack_require__)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = frame;\n                var _requestAnimationFrame = _interopRequireDefault(__webpack_require__(/*! ./request-animation-frame */ \"./src/util/request-animation-frame.js\"));\n                function _interopRequireDefault(obj) {\n                    return obj && obj.__esModule ? obj : {\n                        default: obj\n                    };\n                }\n                /**\n * Create a function which will be called at the next requestAnimationFrame\n * cycle\n *\n * @param {function} func The function to call\n *\n * @return {func} The function wrapped within a requestAnimationFrame\n */ function frame(func) {\n                    return function() {\n                        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];\n                        return (0, _requestAnimationFrame.default)(function() {\n                            return func.apply(void 0, args);\n                        });\n                    };\n                }\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/util/get-id.js\": /*!****************************!*\\\n  !*** ./src/util/get-id.js ***!\n  \\****************************/ /***/ (module1, exports)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = getId;\n                /**\n * Get a random prefixed ID\n *\n * @param {String} prefix Prefix to use. Default is `'wavesurfer_'`.\n * @returns {String} Random prefixed ID\n * @example\n * console.log(getId()); // logs 'wavesurfer_b5pors4ru6g'\n *\n * let prefix = 'foo-';\n * console.log(getId(prefix)); // logs 'foo-b5pors4ru6g'\n */ function getId(prefix) {\n                    if (prefix === undefined) prefix = \"wavesurfer_\";\n                    return prefix + Math.random().toString(32).substring(2);\n                }\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/util/index.js\": /*!***************************!*\\\n  !*** ./src/util/index.js ***!\n  \\***************************/ /***/ (__unused_webpack_module, exports, __webpack_require__)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                Object.defineProperty(exports, \"Observer\", {\n                    enumerable: true,\n                    get: function get() {\n                        return _observer.default;\n                    }\n                });\n                Object.defineProperty(exports, \"absMax\", {\n                    enumerable: true,\n                    get: function get() {\n                        return _absMax.default;\n                    }\n                });\n                Object.defineProperty(exports, \"clamp\", {\n                    enumerable: true,\n                    get: function get() {\n                        return _clamp.default;\n                    }\n                });\n                Object.defineProperty(exports, \"debounce\", {\n                    enumerable: true,\n                    get: function get() {\n                        return _debounce.default;\n                    }\n                });\n                Object.defineProperty(exports, \"fetchFile\", {\n                    enumerable: true,\n                    get: function get() {\n                        return _fetch.default;\n                    }\n                });\n                Object.defineProperty(exports, \"frame\", {\n                    enumerable: true,\n                    get: function get() {\n                        return _frame.default;\n                    }\n                });\n                Object.defineProperty(exports, \"getId\", {\n                    enumerable: true,\n                    get: function get() {\n                        return _getId.default;\n                    }\n                });\n                Object.defineProperty(exports, \"ignoreSilenceMode\", {\n                    enumerable: true,\n                    get: function get() {\n                        return _silenceMode.default;\n                    }\n                });\n                Object.defineProperty(exports, \"max\", {\n                    enumerable: true,\n                    get: function get() {\n                        return _max.default;\n                    }\n                });\n                Object.defineProperty(exports, \"min\", {\n                    enumerable: true,\n                    get: function get() {\n                        return _min.default;\n                    }\n                });\n                Object.defineProperty(exports, \"preventClick\", {\n                    enumerable: true,\n                    get: function get() {\n                        return _preventClick.default;\n                    }\n                });\n                Object.defineProperty(exports, \"requestAnimationFrame\", {\n                    enumerable: true,\n                    get: function get() {\n                        return _requestAnimationFrame.default;\n                    }\n                });\n                Object.defineProperty(exports, \"style\", {\n                    enumerable: true,\n                    get: function get() {\n                        return _style.default;\n                    }\n                });\n                Object.defineProperty(exports, \"withOrientation\", {\n                    enumerable: true,\n                    get: function get() {\n                        return _orientation.default;\n                    }\n                });\n                var _getId = _interopRequireDefault(__webpack_require__(/*! ./get-id */ \"./src/util/get-id.js\"));\n                var _max = _interopRequireDefault(__webpack_require__(/*! ./max */ \"./src/util/max.js\"));\n                var _min = _interopRequireDefault(__webpack_require__(/*! ./min */ \"./src/util/min.js\"));\n                var _absMax = _interopRequireDefault(__webpack_require__(/*! ./absMax */ \"./src/util/absMax.js\"));\n                var _observer = _interopRequireDefault(__webpack_require__(/*! ./observer */ \"./src/util/observer.js\"));\n                var _style = _interopRequireDefault(__webpack_require__(/*! ./style */ \"./src/util/style.js\"));\n                var _requestAnimationFrame = _interopRequireDefault(__webpack_require__(/*! ./request-animation-frame */ \"./src/util/request-animation-frame.js\"));\n                var _frame = _interopRequireDefault(__webpack_require__(/*! ./frame */ \"./src/util/frame.js\"));\n                var _debounce = _interopRequireDefault(__webpack_require__(/*! debounce */ \"./node_modules/debounce/index.js\"));\n                var _preventClick = _interopRequireDefault(__webpack_require__(/*! ./prevent-click */ \"./src/util/prevent-click.js\"));\n                var _fetch = _interopRequireDefault(__webpack_require__(/*! ./fetch */ \"./src/util/fetch.js\"));\n                var _clamp = _interopRequireDefault(__webpack_require__(/*! ./clamp */ \"./src/util/clamp.js\"));\n                var _orientation = _interopRequireDefault(__webpack_require__(/*! ./orientation */ \"./src/util/orientation.js\"));\n                var _silenceMode = _interopRequireDefault(__webpack_require__(/*! ./silence-mode */ \"./src/util/silence-mode.js\"));\n                function _interopRequireDefault(obj) {\n                    return obj && obj.__esModule ? obj : {\n                        default: obj\n                    };\n                }\n            /***/ },\n            /***/ \"./src/util/max.js\": /*!*************************!*\\\n  !*** ./src/util/max.js ***!\n  \\*************************/ /***/ (module1, exports)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = max;\n                /**\n * Get the largest value\n *\n * @param   {Array} values Array of numbers\n * @returns {Number} Largest number found\n * @example console.log(max([1, 2, 3])); // logs 3\n */ function max(values) {\n                    var largest = -Infinity;\n                    Object.keys(values).forEach(function(i) {\n                        if (values[i] > largest) largest = values[i];\n                    });\n                    return largest;\n                }\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/util/min.js\": /*!*************************!*\\\n  !*** ./src/util/min.js ***!\n  \\*************************/ /***/ (module1, exports)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = min;\n                /**\n * Get the smallest value\n *\n * @param   {Array} values Array of numbers\n * @returns {Number} Smallest number found\n * @example console.log(min([1, 2, 3])); // logs 1\n */ function min(values) {\n                    var smallest = Number(Infinity);\n                    Object.keys(values).forEach(function(i) {\n                        if (values[i] < smallest) smallest = values[i];\n                    });\n                    return smallest;\n                }\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/util/observer.js\": /*!******************************!*\\\n  !*** ./src/util/observer.js ***!\n  \\******************************/ /***/ (module1, exports)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = void 0;\n                function _typeof(obj) {\n                    \"@babel/helpers - typeof\";\n                    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n                        return typeof obj;\n                    } : function(obj) {\n                        return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n                    }, _typeof(obj);\n                }\n                function _classCallCheck(instance, Constructor) {\n                    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n                }\n                function _defineProperties(target, props) {\n                    for(var i = 0; i < props.length; i++){\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if (\"value\" in descriptor) descriptor.writable = true;\n                        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n                    }\n                }\n                function _createClass(Constructor, protoProps, staticProps) {\n                    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) _defineProperties(Constructor, staticProps);\n                    Object.defineProperty(Constructor, \"prototype\", {\n                        writable: false\n                    });\n                    return Constructor;\n                }\n                function _toPropertyKey(arg) {\n                    var key = _toPrimitive(arg, \"string\");\n                    return _typeof(key) === \"symbol\" ? key : String(key);\n                }\n                function _toPrimitive(input, hint) {\n                    if (_typeof(input) !== \"object\" || input === null) return input;\n                    var prim = input[Symbol.toPrimitive];\n                    if (prim !== undefined) {\n                        var res = prim.call(input, hint || \"default\");\n                        if (_typeof(res) !== \"object\") return res;\n                        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n                    }\n                    return (hint === \"string\" ? String : Number)(input);\n                }\n                /**\n * @typedef {Object} ListenerDescriptor\n * @property {string} name The name of the event\n * @property {function} callback The callback\n * @property {function} un The function to call to remove the listener\n */ /**\n * Observer class\n */ var Observer = /*#__PURE__*/ function() {\n                    /**\n   * Instantiate Observer\n   */ function Observer() {\n                        _classCallCheck(this, Observer);\n                        /**\n     * @private\n     * @todo Initialise the handlers here already and remove the conditional\n     * assignment in `on()`\n     */ this._disabledEventEmissions = [];\n                        this.handlers = null;\n                    }\n                    /**\n   * Attach a handler function for an event.\n   *\n   * @param {string} event Name of the event to listen to\n   * @param {function} fn The callback to trigger when the event is fired\n   * @return {ListenerDescriptor} The event descriptor\n   */ _createClass(Observer, [\n                        {\n                            key: \"on\",\n                            value: function on(event, fn) {\n                                var _this = this;\n                                if (!this.handlers) this.handlers = {};\n                                var handlers = this.handlers[event];\n                                if (!handlers) handlers = this.handlers[event] = [];\n                                handlers.push(fn);\n                                // Return an event descriptor\n                                return {\n                                    name: event,\n                                    callback: fn,\n                                    un: function un(e, fn) {\n                                        return _this.un(e, fn);\n                                    }\n                                };\n                            }\n                        },\n                        {\n                            key: \"un\",\n                            value: function un(event, fn) {\n                                if (!this.handlers) return;\n                                var handlers = this.handlers[event];\n                                var i;\n                                if (handlers) {\n                                    if (fn) {\n                                        for(i = handlers.length - 1; i >= 0; i--)if (handlers[i] == fn) handlers.splice(i, 1);\n                                    } else handlers.length = 0;\n                                }\n                            }\n                        },\n                        {\n                            key: \"unAll\",\n                            value: function unAll() {\n                                this.handlers = null;\n                            }\n                        },\n                        {\n                            key: \"once\",\n                            value: function once(event, handler) {\n                                var _this2 = this;\n                                var fn = function fn() {\n                                    for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];\n                                    /*  eslint-disable no-invalid-this */ handler.apply(_this2, args);\n                                    /*  eslint-enable no-invalid-this */ setTimeout(function() {\n                                        _this2.un(event, fn);\n                                    }, 0);\n                                };\n                                return this.on(event, fn);\n                            }\n                        },\n                        {\n                            key: \"setDisabledEventEmissions\",\n                            value: function setDisabledEventEmissions(eventNames) {\n                                this._disabledEventEmissions = eventNames;\n                            }\n                        },\n                        {\n                            key: \"_isDisabledEventEmission\",\n                            value: function _isDisabledEventEmission(event) {\n                                return this._disabledEventEmissions && this._disabledEventEmissions.includes(event);\n                            }\n                        },\n                        {\n                            key: \"fireEvent\",\n                            value: function fireEvent(event) {\n                                for(var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++)args[_key2 - 1] = arguments[_key2];\n                                if (!this.handlers || this._isDisabledEventEmission(event)) return;\n                                var handlers = this.handlers[event];\n                                handlers && handlers.forEach(function(fn) {\n                                    fn.apply(void 0, args);\n                                });\n                            }\n                        }\n                    ]);\n                    return Observer;\n                }();\n                exports[\"default\"] = Observer;\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/util/orientation.js\": /*!*********************************!*\\\n  !*** ./src/util/orientation.js ***!\n  \\*********************************/ /***/ (module1, exports)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = withOrientation;\n                var verticalPropMap = {\n                    width: \"height\",\n                    height: \"width\",\n                    overflowX: \"overflowY\",\n                    overflowY: \"overflowX\",\n                    clientWidth: \"clientHeight\",\n                    clientHeight: \"clientWidth\",\n                    clientX: \"clientY\",\n                    clientY: \"clientX\",\n                    scrollWidth: \"scrollHeight\",\n                    scrollLeft: \"scrollTop\",\n                    offsetLeft: \"offsetTop\",\n                    offsetTop: \"offsetLeft\",\n                    offsetHeight: \"offsetWidth\",\n                    offsetWidth: \"offsetHeight\",\n                    left: \"top\",\n                    right: \"bottom\",\n                    top: \"left\",\n                    bottom: \"right\",\n                    borderRightStyle: \"borderBottomStyle\",\n                    borderRightWidth: \"borderBottomWidth\",\n                    borderRightColor: \"borderBottomColor\"\n                };\n                /**\n * Convert a horizontally-oriented property name to a vertical one.\n *\n * @param {string} prop A property name\n * @param {bool} vertical Whether the element is oriented vertically\n * @returns {string} prop, converted appropriately\n */ function mapProp(prop, vertical) {\n                    if (Object.prototype.hasOwnProperty.call(verticalPropMap, prop)) return vertical ? verticalPropMap[prop] : prop;\n                    else return prop;\n                }\n                var isProxy = Symbol(\"isProxy\");\n                /**\n * Returns an appropriately oriented object based on vertical.\n * If vertical is true, attribute getting and setting will be mapped through\n * verticalPropMap, so that e.g. getting the object's .width will give its\n * .height instead.\n * Certain methods of an oriented object will return oriented objects as well.\n * Oriented objects can't be added to the DOM directly since they are Proxy objects\n * and thus fail typechecks. Use domElement to get the actual element for this.\n *\n * @param {object} target The object to be wrapped and oriented\n * @param {bool} vertical Whether the element is oriented vertically\n * @returns {Proxy} An oriented object with attr translation via verticalAttrMap\n * @since 5.0.0\n */ function withOrientation(target, vertical) {\n                    if (target[isProxy]) return target;\n                    else return new Proxy(target, {\n                        get: function get(obj, prop, receiver) {\n                            if (prop === isProxy) return true;\n                            else if (prop === \"domElement\") return obj;\n                            else if (prop === \"style\") return withOrientation(obj.style, vertical);\n                            else if (prop === \"canvas\") return withOrientation(obj.canvas, vertical);\n                            else if (prop === \"getBoundingClientRect\") return function() {\n                                return withOrientation(obj.getBoundingClientRect.apply(obj, arguments), vertical);\n                            };\n                            else if (prop === \"getContext\") return function() {\n                                return withOrientation(obj.getContext.apply(obj, arguments), vertical);\n                            };\n                            else {\n                                var value = obj[mapProp(prop, vertical)];\n                                return typeof value == \"function\" ? value.bind(obj) : value;\n                            }\n                        },\n                        set: function set(obj, prop, value) {\n                            obj[mapProp(prop, vertical)] = value;\n                            return true;\n                        }\n                    });\n                }\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/util/prevent-click.js\": /*!***********************************!*\\\n  !*** ./src/util/prevent-click.js ***!\n  \\***********************************/ /***/ (module1, exports)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = preventClick;\n                /**\n * Stops propagation of click event and removes event listener\n *\n * @private\n * @param {object} event The click event\n */ function preventClickHandler(event) {\n                    event.stopPropagation();\n                    document.body.removeEventListener(\"click\", preventClickHandler, true);\n                }\n                /**\n * Starts listening for click event and prevent propagation\n *\n * @param {object} values Values\n */ function preventClick(values) {\n                    document.body.addEventListener(\"click\", preventClickHandler, true);\n                }\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/util/request-animation-frame.js\": /*!*********************************************!*\\\n  !*** ./src/util/request-animation-frame.js ***!\n  \\*********************************************/ /***/ (module1, exports)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = void 0;\n                /* eslint-disable valid-jsdoc */ /**\n * Returns the `requestAnimationFrame` function for the browser, or a shim with\n * `setTimeout` if the function is not found\n *\n * @return {function} Available `requestAnimationFrame` function for the browser\n */ var _default = (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback, element) {\n                    return setTimeout(callback, 1000 / 60);\n                }).bind(window);\n                exports[\"default\"] = _default;\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/util/silence-mode.js\": /*!**********************************!*\\\n  !*** ./src/util/silence-mode.js ***!\n  \\**********************************/ /***/ (module1, exports)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = ignoreSilenceMode;\n                /**\n * Ignores device silence mode when using the `WebAudio` backend.\n *\n * Many mobile devices contain a hardware button to mute the ringtone for incoming\n * calls and messages. Unfortunately, on some platforms like iOS, this also mutes\n * wavesurfer's audio when using the `WebAudio` backend. This function creates a\n * temporary `<audio>` element that makes sure the WebAudio backend keeps playing\n * when muting the device ringer.\n *\n * @since 5.2.0\n */ function ignoreSilenceMode() {\n                    // Set webaudio context with 1 second silent audio 44100 bit rate buffer to allow playing audio even if silent switch is on the device\n                    var silentAC = new AudioContext();\n                    var silentBS = silentAC.createBufferSource();\n                    silentBS.buffer = silentAC.createBuffer(1, 1, 44100);\n                    silentBS.connect(silentAC.destination);\n                    silentBS.start();\n                    // Set the src to a short bit of url encoded as a silent mp3\n                    // NOTE The silence MP3 must be high quality, when web audio sounds are played\n                    // in parallel the web audio sound is mixed to match the bitrate of the html sound\n                    // 0.01 seconds of silence VBR220-260 Joint Stereo 859B\n                    var audioData = \"data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==\";\n                    // disable iOS Airplay (setting the attribute in js doesn't work)\n                    var tmp = document.createElement(\"div\");\n                    tmp.innerHTML = '<audio x-webkit-airplay=\"deny\"></audio>';\n                    var audioSilentMode = tmp.children.item(0);\n                    audioSilentMode.src = audioData;\n                    audioSilentMode.preload = \"auto\";\n                    audioSilentMode.type = \"audio/mpeg\";\n                    audioSilentMode.disableRemotePlayback = true;\n                    // play\n                    audioSilentMode.play();\n                    // cleanup\n                    audioSilentMode.remove();\n                    tmp.remove();\n                }\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/util/style.js\": /*!***************************!*\\\n  !*** ./src/util/style.js ***!\n  \\***************************/ /***/ (module1, exports)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = style;\n                /**\n * Apply a map of styles to an element\n *\n * @param {HTMLElement} el The element that the styles will be applied to\n * @param {Object} styles The map of propName: attribute, both are used as-is\n *\n * @return {HTMLElement} el\n */ function style(el, styles) {\n                    Object.keys(styles).forEach(function(prop) {\n                        if (el.style[prop] !== styles[prop]) el.style[prop] = styles[prop];\n                    });\n                    return el;\n                }\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/wavesurfer.js\": /*!***************************!*\\\n  !*** ./src/wavesurfer.js ***!\n  \\***************************/ /***/ (module1, exports, __webpack_require__)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = void 0;\n                var util = _interopRequireWildcard(__webpack_require__(/*! ./util */ \"./src/util/index.js\"));\n                var _drawer = _interopRequireDefault(__webpack_require__(/*! ./drawer.multicanvas */ \"./src/drawer.multicanvas.js\"));\n                var _webaudio = _interopRequireDefault(__webpack_require__(/*! ./webaudio */ \"./src/webaudio.js\"));\n                var _mediaelement = _interopRequireDefault(__webpack_require__(/*! ./mediaelement */ \"./src/mediaelement.js\"));\n                var _peakcache = _interopRequireDefault(__webpack_require__(/*! ./peakcache */ \"./src/peakcache.js\"));\n                var _mediaelementWebaudio = _interopRequireDefault(__webpack_require__(/*! ./mediaelement-webaudio */ \"./src/mediaelement-webaudio.js\"));\n                function _interopRequireDefault(obj) {\n                    return obj && obj.__esModule ? obj : {\n                        default: obj\n                    };\n                }\n                function _getRequireWildcardCache(nodeInterop) {\n                    if (typeof WeakMap !== \"function\") return null;\n                    var cacheBabelInterop = new WeakMap();\n                    var cacheNodeInterop = new WeakMap();\n                    return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n                        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n                    })(nodeInterop);\n                }\n                function _interopRequireWildcard(obj, nodeInterop) {\n                    if (!nodeInterop && obj && obj.__esModule) return obj;\n                    if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") return {\n                        default: obj\n                    };\n                    var cache = _getRequireWildcardCache(nodeInterop);\n                    if (cache && cache.has(obj)) return cache.get(obj);\n                    var newObj = {};\n                    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n                    for(var key in obj)if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n                        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n                        if (desc && (desc.get || desc.set)) Object.defineProperty(newObj, key, desc);\n                        else newObj[key] = obj[key];\n                    }\n                    newObj.default = obj;\n                    if (cache) cache.set(obj, newObj);\n                    return newObj;\n                }\n                function _inherits(subClass, superClass) {\n                    if (typeof superClass !== \"function\" && superClass !== null) throw new TypeError(\"Super expression must either be null or a function\");\n                    subClass.prototype = Object.create(superClass && superClass.prototype, {\n                        constructor: {\n                            value: subClass,\n                            writable: true,\n                            configurable: true\n                        }\n                    });\n                    Object.defineProperty(subClass, \"prototype\", {\n                        writable: false\n                    });\n                    if (superClass) _setPrototypeOf(subClass, superClass);\n                }\n                function _setPrototypeOf(o, p) {\n                    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n                        o.__proto__ = p;\n                        return o;\n                    };\n                    return _setPrototypeOf(o, p);\n                }\n                function _createSuper(Derived) {\n                    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n                    return function _createSuperInternal() {\n                        var Super = _getPrototypeOf(Derived), result;\n                        if (hasNativeReflectConstruct) {\n                            var NewTarget = _getPrototypeOf(this).constructor;\n                            result = Reflect.construct(Super, arguments, NewTarget);\n                        } else result = Super.apply(this, arguments);\n                        return _possibleConstructorReturn(this, result);\n                    };\n                }\n                function _possibleConstructorReturn(self1, call) {\n                    if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) return call;\n                    else if (call !== void 0) throw new TypeError(\"Derived constructors may only return object or undefined\");\n                    return _assertThisInitialized(self1);\n                }\n                function _assertThisInitialized(self1) {\n                    if (self1 === void 0) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n                    return self1;\n                }\n                function _isNativeReflectConstruct() {\n                    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n                    if (Reflect.construct.sham) return false;\n                    if (typeof Proxy === \"function\") return true;\n                    try {\n                        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n                        return true;\n                    } catch (e) {\n                        return false;\n                    }\n                }\n                function _getPrototypeOf(o) {\n                    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n                        return o.__proto__ || Object.getPrototypeOf(o);\n                    };\n                    return _getPrototypeOf(o);\n                }\n                function _defineProperty(obj, key, value) {\n                    key = _toPropertyKey(key);\n                    if (key in obj) Object.defineProperty(obj, key, {\n                        value: value,\n                        enumerable: true,\n                        configurable: true,\n                        writable: true\n                    });\n                    else obj[key] = value;\n                    return obj;\n                }\n                function _typeof(obj) {\n                    \"@babel/helpers - typeof\";\n                    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n                        return typeof obj;\n                    } : function(obj) {\n                        return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n                    }, _typeof(obj);\n                }\n                function _classCallCheck(instance, Constructor) {\n                    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n                }\n                function _defineProperties(target, props) {\n                    for(var i = 0; i < props.length; i++){\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if (\"value\" in descriptor) descriptor.writable = true;\n                        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n                    }\n                }\n                function _createClass(Constructor, protoProps, staticProps) {\n                    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) _defineProperties(Constructor, staticProps);\n                    Object.defineProperty(Constructor, \"prototype\", {\n                        writable: false\n                    });\n                    return Constructor;\n                }\n                function _toPropertyKey(arg) {\n                    var key = _toPrimitive(arg, \"string\");\n                    return _typeof(key) === \"symbol\" ? key : String(key);\n                }\n                function _toPrimitive(input, hint) {\n                    if (_typeof(input) !== \"object\" || input === null) return input;\n                    var prim = input[Symbol.toPrimitive];\n                    if (prim !== undefined) {\n                        var res = prim.call(input, hint || \"default\");\n                        if (_typeof(res) !== \"object\") return res;\n                        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n                    }\n                    return (hint === \"string\" ? String : Number)(input);\n                }\n                /*\n * This work is licensed under a BSD-3-Clause License.\n */ /** @external {HTMLElement} https://developer.mozilla.org/en/docs/Web/API/HTMLElement */ /** @external {OfflineAudioContext} https://developer.mozilla.org/en-US/docs/Web/API/OfflineAudioContext */ /** @external {File} https://developer.mozilla.org/en-US/docs/Web/API/File */ /** @external {Blob} https://developer.mozilla.org/en-US/docs/Web/API/Blob */ /** @external {CanvasRenderingContext2D} https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D */ /** @external {MediaStreamConstraints} https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints */ /** @external {AudioNode} https://developer.mozilla.org/de/docs/Web/API/AudioNode */ /**\n * @typedef {Object} WavesurferParams\n * @property {AudioContext} audioContext=null Use your own previously\n * initialized AudioContext or leave blank.\n * @property {number} audioRate=1 Speed at which to play audio. Lower number is\n * slower.\n * @property {ScriptProcessorNode} audioScriptProcessor=null Use your own previously\n * initialized ScriptProcessorNode or leave blank.\n * @property {boolean} autoCenter=true If a scrollbar is present, center the\n * waveform on current progress\n * @property {number} autoCenterRate=5 If autoCenter is active, rate at which the\n * waveform is centered\n * @property {boolean} autoCenterImmediately=false If autoCenter is active, immediately\n * center waveform on current progress\n * @property {string} backend='WebAudio' `'WebAudio'|'MediaElement'|'MediaElementWebAudio'` In most cases\n * you don't have to set this manually. MediaElement is a fallback for unsupported browsers.\n * MediaElementWebAudio allows to use WebAudio API also with big audio files, loading audio like with\n * MediaElement backend (HTML5 audio tag). You have to use the same methods of MediaElement backend for loading and\n * playback, giving also peaks, so the audio data are not decoded. In this way you can use WebAudio features, like filters,\n * also with audio with big duration. For example:\n * ` wavesurfer.load(url | HTMLMediaElement, peaks, preload, duration);\n *   wavesurfer.play();\n *   wavesurfer.setFilter(customFilter);\n * `\n * @property {string} backgroundColor=null Change background color of the\n * waveform container.\n * @property {number} barHeight=1 The height of the wave bars.\n * @property {number} barRadius=0 The radius of the wave bars. Makes bars rounded\n * @property {number} barGap=null The optional spacing between bars of the wave,\n * if not provided will be calculated in legacy format.\n * @property {number} barWidth=null Draw the waveform using bars.\n * @property {number} barMinHeight=null If specified, draw at least a bar of this height,\n * eliminating waveform gaps\n * @property {boolean} closeAudioContext=false Close and nullify all audio\n * contexts when the destroy method is called.\n * @property {!string|HTMLElement} container CSS selector or HTML element where\n * the waveform should be drawn. This is the only required parameter.\n * @property {string} cursorColor='#333' The fill color of the cursor indicating\n * the playhead position.\n * @property {number} cursorWidth=1 Measured in pixels.\n * @property {object} drawingContextAttributes={desynchronized: false} Drawing context\n * attributes.\n * @property {number} duration=null Optional audio length so pre-rendered peaks\n * can be display immediately for example.\n * @property {boolean} fillParent=true Whether to fill the entire container or\n * draw only according to `minPxPerSec`.\n * @property {boolean} forceDecode=false Force decoding of audio using web audio\n * when zooming to get a more detailed waveform.\n * @property {number} height=128 The height of the waveform. Measured in\n * pixels.\n * @property {boolean} hideScrollbar=false Whether to hide the horizontal\n * scrollbar when one would normally be shown.\n * @property {boolean} hideCursor=false Whether to hide the mouse cursor\n * when one would normally be shown by default.\n * @property {boolean} ignoreSilenceMode=false If true, ignores device silence mode\n * when using the `WebAudio` backend.\n * @property {boolean} interact=true Whether the mouse interaction will be\n * enabled at initialization. You can switch this parameter at any time later\n * on.\n * @property {boolean} loopSelection=true (Use with regions plugin) Enable\n * looping of selected regions\n * @property {number} maxCanvasWidth=4000 Maximum width of a single canvas in\n * pixels, excluding a small overlap (2 * `pixelRatio`, rounded up to the next\n * even integer). If the waveform is longer than this value, additional canvases\n * will be used to render the waveform, which is useful for very large waveforms\n * that may be too wide for browsers to draw on a single canvas.\n * @property {boolean} mediaControls=false (Use with backend `MediaElement` or `MediaElementWebAudio`)\n * this enables the native controls for the media element\n * @property {string} mediaType='audio' (Use with backend `MediaElement` or `MediaElementWebAudio`)\n * `'audio'|'video'` ('video' only for `MediaElement`)\n * @property {number} minPxPerSec=20 Minimum number of pixels per second of\n * audio.\n * @property {boolean} normalize=false If true, normalize by the maximum peak\n * instead of 1.0.\n * @property {boolean} partialRender=false Use the PeakCache to improve\n * rendering speed of large waveforms\n * @property {number} pixelRatio=window.devicePixelRatio The pixel ratio used to\n * calculate display\n * @property {PluginDefinition[]} plugins=[] An array of plugin definitions to\n * register during instantiation, they will be directly initialised unless they\n * are added with the `deferInit` property set to true.\n * @property {string} progressColor='#555' The fill color of the part of the\n * waveform behind the cursor. When `progressColor` and `waveColor` are the same\n * the progress wave is not rendered at all.\n * @property {boolean} removeMediaElementOnDestroy=true Set to false to keep the\n * media element in the DOM when the player is destroyed. This is useful when\n * reusing an existing media element via the `loadMediaElement` method.\n * @property {Object} renderer=MultiCanvas Can be used to inject a custom\n * renderer.\n * @property {boolean|number} responsive=false If set to `true` resize the\n * waveform, when the window is resized. This is debounced with a `100ms`\n * timeout by default. If this parameter is a number it represents that timeout.\n * @property {boolean} rtl=false If set to `true`, renders waveform from\n * right-to-left.\n * @property {boolean} scrollParent=false Whether to scroll the container with a\n * lengthy waveform. Otherwise the waveform is shrunk to the container width\n * (see fillParent).\n * @property {number} skipLength=2 Number of seconds to skip with the\n * skipForward() and skipBackward() methods.\n * @property {boolean} splitChannels=false Render with separate waveforms for\n * the channels of the audio\n * @property {SplitChannelOptions} splitChannelsOptions={} Options for splitChannel rendering\n * @property {boolean} vertical=false Render the waveform vertically instead of horizontally.\n * @property {string} waveColor='#999' The fill color of the waveform after the\n * cursor.\n * @property {object} xhr={} XHR options. For example:\n * `let xhr = {\n *     cache: 'default',\n *     mode: 'cors',\n *     method: 'GET',\n *     credentials: 'same-origin',\n *     redirect: 'follow',\n *     referrer: 'client',\n *     requestHeaders: [\n *         {\n *             key: 'Authorization',\n *             value: 'my-token'\n *         }\n *     ]\n * };`\n */ /**\n * @typedef {Object} PluginDefinition\n * @desc The Object used to describe a plugin\n * @example wavesurfer.addPlugin(pluginDefinition);\n * @property {string} name The name of the plugin, the plugin instance will be\n * added as a property to the wavesurfer instance under this name\n * @property {?Object} staticProps The properties that should be added to the\n * wavesurfer instance as static properties\n * @property {?boolean} deferInit Don't initialise plugin\n * automatically\n * @property {Object} params={} The plugin parameters, they are the first parameter\n * passed to the plugin class constructor function\n * @property {PluginClass} instance The plugin instance factory, is called with\n * the dependency specified in extends. Returns the plugin class.\n */ /**\n * @typedef {Object} SplitChannelOptions\n * @desc parameters applied when splitChannels option is true\n * @property {boolean} overlay=false determines whether channels are rendered on top of each other or on separate tracks\n * @property {object} channelColors={} object describing color for each channel. Example:\n * {\n *     0: {\n *         progressColor: 'green',\n *         waveColor: 'pink'\n *     },\n *     1: {\n *         progressColor: 'orange',\n *         waveColor: 'purple'\n *     }\n * }\n * @property {number[]} filterChannels=[] indexes of channels to be hidden from rendering\n * @property {boolean} relativeNormalization=false determines whether\n * normalization is done per channel or maintains proportionality between\n * channels. Only applied when normalize and splitChannels are both true.\n * @property {boolean} splitDragSelection=false determines if drag selection in regions\n * plugin works separately on each channel or only one selection for all channels\n * @since 4.3.0\n */ /**\n * @interface PluginClass\n *\n * @desc This is the interface which is implemented by all plugin classes. Note\n * that this only turns into an observer after being passed through\n * `wavesurfer.addPlugin`.\n *\n * @extends {Observer}\n */ var PluginClass = /*#__PURE__*/ function() {\n                    /**\n   * Construct the plugin\n   *\n   * @param {Object} params={} The plugin params (specific to the plugin)\n   * @param {Object} ws The wavesurfer instance\n   */ function PluginClass(params, ws) {\n                        _classCallCheck(this, PluginClass);\n                    }\n                    /**\n   * Initialise the plugin\n   *\n   * Start doing something. This is called by\n   * `wavesurfer.initPlugin(pluginName)`\n   */ _createClass(PluginClass, [\n                        {\n                            key: \"create\",\n                            value: /**\n     * Plugin definition factory\n     *\n     * This function must be used to create a plugin definition which can be\n     * used by wavesurfer to correctly instantiate the plugin.\n     *\n     * It returns a `PluginDefinition` object representing the plugin.\n     *\n     * @param {Object} params={} The plugin params (specific to the plugin)\n     */ function create(params) {}\n                        },\n                        {\n                            key: \"init\",\n                            value: function init() {}\n                        },\n                        {\n                            key: \"destroy\",\n                            value: function destroy() {}\n                        }\n                    ]);\n                    return PluginClass;\n                }();\n                /**\n * WaveSurfer core library class\n *\n * @extends {Observer}\n * @example\n * const params = {\n *   container: '#waveform',\n *   waveColor: 'violet',\n *   progressColor: 'purple'\n * };\n *\n * // initialise like this\n * const wavesurfer = WaveSurfer.create(params);\n *\n * // or like this ...\n * const wavesurfer = new WaveSurfer(params);\n * wavesurfer.init();\n *\n * // load audio file\n * wavesurfer.load('example/media/demo.wav');\n */ var WaveSurfer = /*#__PURE__*/ function(_util$Observer) {\n                    _inherits(WaveSurfer, _util$Observer);\n                    var _super = _createSuper(WaveSurfer);\n                    /**\n   * Initialise wavesurfer instance\n   *\n   * @param {WavesurferParams} params Instantiation options for wavesurfer\n   * @example\n   * const wavesurfer = new WaveSurfer(params);\n   * @returns {this} Wavesurfer instance\n   */ function WaveSurfer(params) {\n                        var _this;\n                        _classCallCheck(this, WaveSurfer);\n                        _this = _super.call(this);\n                        /**\n     * Extract relevant parameters (or defaults)\n     * @private\n     */ /** @private */ _defineProperty(_assertThisInitialized(_this), \"defaultParams\", {\n                            audioContext: null,\n                            audioScriptProcessor: null,\n                            audioRate: 1,\n                            autoCenter: true,\n                            autoCenterRate: 5,\n                            autoCenterImmediately: false,\n                            backend: \"WebAudio\",\n                            backgroundColor: null,\n                            barHeight: 1,\n                            barRadius: 0,\n                            barGap: null,\n                            barMinHeight: null,\n                            container: null,\n                            cursorColor: \"#333\",\n                            cursorWidth: 1,\n                            dragSelection: true,\n                            drawingContextAttributes: {\n                                // Boolean that hints the user agent to reduce the latency\n                                // by desynchronizing the canvas paint cycle from the event\n                                // loop\n                                desynchronized: false\n                            },\n                            duration: null,\n                            fillParent: true,\n                            forceDecode: false,\n                            height: 128,\n                            hideScrollbar: false,\n                            hideCursor: false,\n                            ignoreSilenceMode: false,\n                            interact: true,\n                            loopSelection: true,\n                            maxCanvasWidth: 4000,\n                            mediaContainer: null,\n                            mediaControls: false,\n                            mediaType: \"audio\",\n                            minPxPerSec: 20,\n                            normalize: false,\n                            partialRender: false,\n                            pixelRatio: window.devicePixelRatio || screen.deviceXDPI / screen.logicalXDPI,\n                            plugins: [],\n                            progressColor: \"#555\",\n                            removeMediaElementOnDestroy: true,\n                            renderer: _drawer.default,\n                            responsive: false,\n                            rtl: false,\n                            scrollParent: false,\n                            skipLength: 2,\n                            splitChannels: false,\n                            splitChannelsOptions: {\n                                overlay: false,\n                                channelColors: {},\n                                filterChannels: [],\n                                relativeNormalization: false,\n                                splitDragSelection: false\n                            },\n                            vertical: false,\n                            waveColor: \"#999\",\n                            xhr: {}\n                        });\n                        /** @private */ _defineProperty(_assertThisInitialized(_this), \"backends\", {\n                            MediaElement: _mediaelement.default,\n                            WebAudio: _webaudio.default,\n                            MediaElementWebAudio: _mediaelementWebaudio.default\n                        });\n                        /**\n     * Functions in the `util` property are available as a prototype property to\n     * all instances\n     *\n     * @type {Object}\n     * @example\n     * const wavesurfer = WaveSurfer.create(params);\n     * wavesurfer.util.style(myElement, { background: 'blue' });\n     */ _defineProperty(_assertThisInitialized(_this), \"util\", util);\n                        _this.params = Object.assign({}, _this.defaultParams, params);\n                        _this.params.splitChannelsOptions = Object.assign({}, _this.defaultParams.splitChannelsOptions, params.splitChannelsOptions);\n                        /** @private */ _this.container = \"string\" == typeof params.container ? document.querySelector(_this.params.container) : _this.params.container;\n                        if (!_this.container) throw new Error(\"Container element not found\");\n                        if (_this.params.mediaContainer == null) /** @private */ _this.mediaContainer = _this.container;\n                        else if (typeof _this.params.mediaContainer == \"string\") /** @private */ _this.mediaContainer = document.querySelector(_this.params.mediaContainer);\n                        else /** @private */ _this.mediaContainer = _this.params.mediaContainer;\n                        if (!_this.mediaContainer) throw new Error(\"Media Container element not found\");\n                        if (_this.params.maxCanvasWidth <= 1) throw new Error(\"maxCanvasWidth must be greater than 1\");\n                        else if (_this.params.maxCanvasWidth % 2 == 1) throw new Error(\"maxCanvasWidth must be an even number\");\n                        if (_this.params.rtl === true) {\n                            if (_this.params.vertical === true) util.style(_this.container, {\n                                transform: \"rotateX(180deg)\"\n                            });\n                            else util.style(_this.container, {\n                                transform: \"rotateY(180deg)\"\n                            });\n                        }\n                        if (_this.params.backgroundColor) _this.setBackgroundColor(_this.params.backgroundColor);\n                        /**\n     * @private Used to save the current volume when muting so we can\n     * restore once unmuted\n     * @type {number}\n     */ _this.savedVolume = 0;\n                        /**\n     * @private The current muted state\n     * @type {boolean}\n     */ _this.isMuted = false;\n                        /**\n     * @private Will hold a list of event descriptors that need to be\n     * canceled on subsequent loads of audio\n     * @type {Object[]}\n     */ _this.tmpEvents = [];\n                        /**\n     * @private Holds any running audio downloads\n     * @type {Observer}\n     */ _this.currentRequest = null;\n                        /** @private */ _this.arraybuffer = null;\n                        /** @private */ _this.drawer = null;\n                        /** @private */ _this.backend = null;\n                        /** @private */ _this.peakCache = null;\n                        // cache constructor objects\n                        if (typeof _this.params.renderer !== \"function\") throw new Error(\"Renderer parameter is invalid\");\n                        /**\n     * @private The uninitialised Drawer class\n     */ _this.Drawer = _this.params.renderer;\n                        /**\n     * @private The uninitialised Backend class\n     */ // Back compat\n                        if (_this.params.backend == \"AudioElement\") _this.params.backend = \"MediaElement\";\n                        if ((_this.params.backend == \"WebAudio\" || _this.params.backend === \"MediaElementWebAudio\") && !_webaudio.default.prototype.supportsWebAudio.call(null)) _this.params.backend = \"MediaElement\";\n                        _this.Backend = _this.backends[_this.params.backend];\n                        /**\n     * @private map of plugin names that are currently initialised\n     */ _this.initialisedPluginList = {};\n                        /** @private */ _this.isDestroyed = false;\n                        /**\n     * Get the current ready status.\n     *\n     * @example const isReady = wavesurfer.isReady;\n     * @return {boolean}\n     */ _this.isReady = false;\n                        // responsive debounced event listener. If this.params.responsive is not\n                        // set, this is never called. Use 100ms or this.params.responsive as\n                        // timeout for the debounce function.\n                        var prevWidth = 0;\n                        _this._onResize = util.debounce(function() {\n                            if (_this.drawer.wrapper && prevWidth != _this.drawer.wrapper.clientWidth && !_this.params.scrollParent) {\n                                prevWidth = _this.drawer.wrapper.clientWidth;\n                                if (prevWidth) // redraw only if waveform container is rendered and has a width\n                                _this.drawer.fireEvent(\"redraw\");\n                            }\n                        }, typeof _this.params.responsive === \"number\" ? _this.params.responsive : 100);\n                        return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n                    }\n                    /**\n   * Initialise the wave\n   *\n   * @example\n   * var wavesurfer = new WaveSurfer(params);\n   * wavesurfer.init();\n   * @return {this} The wavesurfer instance\n   */ _createClass(WaveSurfer, [\n                        {\n                            key: \"init\",\n                            value: function init() {\n                                this.registerPlugins(this.params.plugins);\n                                this.createDrawer();\n                                this.createBackend();\n                                this.createPeakCache();\n                                return this;\n                            }\n                        },\n                        {\n                            key: \"registerPlugins\",\n                            value: function registerPlugins(plugins) {\n                                var _this2 = this;\n                                // first instantiate all the plugins\n                                plugins.forEach(function(plugin) {\n                                    return _this2.addPlugin(plugin);\n                                });\n                                // now run the init functions\n                                plugins.forEach(function(plugin) {\n                                    // call init function of the plugin if deferInit is falsey\n                                    // in that case you would manually use initPlugins()\n                                    if (!plugin.deferInit) _this2.initPlugin(plugin.name);\n                                });\n                                this.fireEvent(\"plugins-registered\", plugins);\n                                return this;\n                            }\n                        },\n                        {\n                            key: \"getActivePlugins\",\n                            value: function getActivePlugins() {\n                                return this.initialisedPluginList;\n                            }\n                        },\n                        {\n                            key: \"addPlugin\",\n                            value: function addPlugin(plugin) {\n                                var _this3 = this;\n                                if (!plugin.name) throw new Error(\"Plugin does not have a name!\");\n                                if (!plugin.instance) throw new Error(\"Plugin \".concat(plugin.name, \" does not have an instance property!\"));\n                                // staticProps properties are applied to wavesurfer instance\n                                if (plugin.staticProps) Object.keys(plugin.staticProps).forEach(function(pluginStaticProp) {\n                                    /**\n           * Properties defined in a plugin definition's `staticProps` property are added as\n           * staticProps properties of the WaveSurfer instance\n           */ _this3[pluginStaticProp] = plugin.staticProps[pluginStaticProp];\n                                });\n                                var Instance = plugin.instance;\n                                // turn the plugin instance into an observer\n                                var observerPrototypeKeys = Object.getOwnPropertyNames(util.Observer.prototype);\n                                observerPrototypeKeys.forEach(function(key) {\n                                    Instance.prototype[key] = util.Observer.prototype[key];\n                                });\n                                /**\n       * Instantiated plugin classes are added as a property of the wavesurfer\n       * instance\n       * @type {Object}\n       */ this[plugin.name] = new Instance(plugin.params || {}, this);\n                                this.fireEvent(\"plugin-added\", plugin.name);\n                                return this;\n                            }\n                        },\n                        {\n                            key: \"initPlugin\",\n                            value: function initPlugin(name) {\n                                if (!this[name]) throw new Error(\"Plugin \".concat(name, \" has not been added yet!\"));\n                                if (this.initialisedPluginList[name]) // destroy any already initialised plugins\n                                this.destroyPlugin(name);\n                                this[name].init();\n                                this.initialisedPluginList[name] = true;\n                                this.fireEvent(\"plugin-initialised\", name);\n                                return this;\n                            }\n                        },\n                        {\n                            key: \"destroyPlugin\",\n                            value: function destroyPlugin(name) {\n                                if (!this[name]) throw new Error(\"Plugin \".concat(name, \" has not been added yet and cannot be destroyed!\"));\n                                if (!this.initialisedPluginList[name]) throw new Error(\"Plugin \".concat(name, \" is not active and cannot be destroyed!\"));\n                                if (typeof this[name].destroy !== \"function\") throw new Error(\"Plugin \".concat(name, \" does not have a destroy function!\"));\n                                this[name].destroy();\n                                delete this.initialisedPluginList[name];\n                                this.fireEvent(\"plugin-destroyed\", name);\n                                return this;\n                            }\n                        },\n                        {\n                            key: \"destroyAllPlugins\",\n                            value: function destroyAllPlugins() {\n                                var _this4 = this;\n                                Object.keys(this.initialisedPluginList).forEach(function(name) {\n                                    return _this4.destroyPlugin(name);\n                                });\n                            }\n                        },\n                        {\n                            key: \"createDrawer\",\n                            value: function createDrawer() {\n                                var _this5 = this;\n                                this.drawer = new this.Drawer(this.container, this.params);\n                                this.drawer.init();\n                                this.fireEvent(\"drawer-created\", this.drawer);\n                                if (this.params.responsive !== false) {\n                                    window.addEventListener(\"resize\", this._onResize, true);\n                                    window.addEventListener(\"orientationchange\", this._onResize, true);\n                                }\n                                this.drawer.on(\"redraw\", function() {\n                                    _this5.drawBuffer();\n                                    _this5.drawer.progress(_this5.backend.getPlayedPercents());\n                                });\n                                // Click-to-seek\n                                this.drawer.on(\"click\", function(e, progress) {\n                                    setTimeout(function() {\n                                        return _this5.seekTo(progress);\n                                    }, 0);\n                                });\n                                // Relay the scroll event from the drawer\n                                this.drawer.on(\"scroll\", function(e) {\n                                    if (_this5.params.partialRender) _this5.drawBuffer();\n                                    _this5.fireEvent(\"scroll\", e);\n                                });\n                                // Relay the dblclick event from the drawer\n                                this.drawer.on(\"dblclick\", function(e, progress) {\n                                    _this5.fireEvent(\"dblclick\", e, progress);\n                                });\n                            }\n                        },\n                        {\n                            key: \"createBackend\",\n                            value: function createBackend() {\n                                var _this6 = this;\n                                if (this.backend) this.backend.destroy();\n                                this.backend = new this.Backend(this.params);\n                                this.backend.init();\n                                this.fireEvent(\"backend-created\", this.backend);\n                                this.backend.on(\"finish\", function() {\n                                    _this6.drawer.progress(_this6.backend.getPlayedPercents());\n                                    _this6.fireEvent(\"finish\");\n                                });\n                                this.backend.on(\"play\", function() {\n                                    return _this6.fireEvent(\"play\");\n                                });\n                                this.backend.on(\"pause\", function() {\n                                    return _this6.fireEvent(\"pause\");\n                                });\n                                this.backend.on(\"audioprocess\", function(time) {\n                                    _this6.drawer.progress(_this6.backend.getPlayedPercents());\n                                    _this6.fireEvent(\"audioprocess\", time);\n                                });\n                                // only needed for MediaElement and MediaElementWebAudio backend\n                                if (this.params.backend === \"MediaElement\" || this.params.backend === \"MediaElementWebAudio\") {\n                                    this.backend.on(\"seek\", function() {\n                                        _this6.drawer.progress(_this6.backend.getPlayedPercents());\n                                    });\n                                    this.backend.on(\"volume\", function() {\n                                        var newVolume = _this6.getVolume();\n                                        _this6.fireEvent(\"volume\", newVolume);\n                                        if (_this6.backend.isMuted !== _this6.isMuted) {\n                                            _this6.isMuted = _this6.backend.isMuted;\n                                            _this6.fireEvent(\"mute\", _this6.isMuted);\n                                        }\n                                    });\n                                }\n                            }\n                        },\n                        {\n                            key: \"createPeakCache\",\n                            value: function createPeakCache() {\n                                if (this.params.partialRender) this.peakCache = new _peakcache.default();\n                            }\n                        },\n                        {\n                            key: \"getDuration\",\n                            value: function getDuration() {\n                                return this.backend.getDuration();\n                            }\n                        },\n                        {\n                            key: \"getCurrentTime\",\n                            value: function getCurrentTime() {\n                                return this.backend.getCurrentTime();\n                            }\n                        },\n                        {\n                            key: \"setCurrentTime\",\n                            value: function setCurrentTime(seconds) {\n                                if (seconds >= this.getDuration()) this.seekTo(1);\n                                else this.seekTo(seconds / this.getDuration());\n                            }\n                        },\n                        {\n                            key: \"play\",\n                            value: function play(start, end) {\n                                var _this7 = this;\n                                if (this.params.ignoreSilenceMode) // ignores device hardware silence mode\n                                util.ignoreSilenceMode();\n                                this.fireEvent(\"interaction\", function() {\n                                    return _this7.play(start, end);\n                                });\n                                return this.backend.play(start, end);\n                            }\n                        },\n                        {\n                            key: \"setPlayEnd\",\n                            value: function setPlayEnd(position) {\n                                this.backend.setPlayEnd(position);\n                            }\n                        },\n                        {\n                            key: \"pause\",\n                            value: function pause() {\n                                if (!this.backend.isPaused()) return this.backend.pause();\n                            }\n                        },\n                        {\n                            key: \"playPause\",\n                            value: function playPause() {\n                                return this.backend.isPaused() ? this.play() : this.pause();\n                            }\n                        },\n                        {\n                            key: \"isPlaying\",\n                            value: function isPlaying() {\n                                return !this.backend.isPaused();\n                            }\n                        },\n                        {\n                            key: \"skipBackward\",\n                            value: function skipBackward(seconds) {\n                                this.skip(-seconds || -this.params.skipLength);\n                            }\n                        },\n                        {\n                            key: \"skipForward\",\n                            value: function skipForward(seconds) {\n                                this.skip(seconds || this.params.skipLength);\n                            }\n                        },\n                        {\n                            key: \"skip\",\n                            value: function skip(offset) {\n                                var duration = this.getDuration() || 1;\n                                var position = this.getCurrentTime() || 0;\n                                position = Math.max(0, Math.min(duration, position + (offset || 0)));\n                                this.seekAndCenter(position / duration);\n                            }\n                        },\n                        {\n                            key: \"seekAndCenter\",\n                            value: function seekAndCenter(progress) {\n                                this.seekTo(progress);\n                                this.drawer.recenter(progress);\n                            }\n                        },\n                        {\n                            key: \"seekTo\",\n                            value: function seekTo(progress) {\n                                var _this8 = this;\n                                // return an error if progress is not a number between 0 and 1\n                                if (typeof progress !== \"number\" || !isFinite(progress) || progress < 0 || progress > 1) throw new Error(\"Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!\");\n                                this.fireEvent(\"interaction\", function() {\n                                    return _this8.seekTo(progress);\n                                });\n                                var isWebAudioBackend = this.params.backend === \"WebAudio\";\n                                var paused = this.backend.isPaused();\n                                if (isWebAudioBackend && !paused) this.backend.pause();\n                                // avoid small scrolls while paused seeking\n                                var oldScrollParent = this.params.scrollParent;\n                                this.params.scrollParent = false;\n                                this.backend.seekTo(progress * this.getDuration());\n                                this.drawer.progress(progress);\n                                if (isWebAudioBackend && !paused) this.backend.play();\n                                this.params.scrollParent = oldScrollParent;\n                                this.fireEvent(\"seek\", progress);\n                            }\n                        },\n                        {\n                            key: \"stop\",\n                            value: function stop() {\n                                this.pause();\n                                this.seekTo(0);\n                                this.drawer.progress(0);\n                            }\n                        },\n                        {\n                            key: \"setSinkId\",\n                            value: function setSinkId(deviceId) {\n                                return this.backend.setSinkId(deviceId);\n                            }\n                        },\n                        {\n                            key: \"setVolume\",\n                            value: function setVolume(newVolume) {\n                                if (this.isMuted === true) {\n                                    this.savedVolume = newVolume;\n                                    return;\n                                }\n                                this.backend.setVolume(newVolume);\n                                this.fireEvent(\"volume\", newVolume);\n                            }\n                        },\n                        {\n                            key: \"getVolume\",\n                            value: function getVolume() {\n                                return this.backend.getVolume();\n                            }\n                        },\n                        {\n                            key: \"setPlaybackRate\",\n                            value: function setPlaybackRate(rate) {\n                                this.backend.setPlaybackRate(rate);\n                            }\n                        },\n                        {\n                            key: \"getPlaybackRate\",\n                            value: function getPlaybackRate() {\n                                return this.backend.getPlaybackRate();\n                            }\n                        },\n                        {\n                            key: \"toggleMute\",\n                            value: function toggleMute() {\n                                this.setMute(!this.isMuted);\n                            }\n                        },\n                        {\n                            key: \"setMute\",\n                            value: function setMute(mute) {\n                                // ignore all muting requests if the audio is already in that state\n                                if (mute === this.isMuted) {\n                                    this.fireEvent(\"mute\", this.isMuted);\n                                    return;\n                                }\n                                if (this.backend.setMute) {\n                                    // Backends such as the MediaElement backend have their own handling\n                                    // of mute, let them handle it.\n                                    this.backend.setMute(mute);\n                                    this.isMuted = mute;\n                                } else if (mute) {\n                                    // If currently not muted then save current volume,\n                                    // turn off the volume and update the mute properties\n                                    this.savedVolume = this.backend.getVolume();\n                                    this.backend.setVolume(0);\n                                    this.isMuted = true;\n                                    this.fireEvent(\"volume\", 0);\n                                } else {\n                                    // If currently muted then restore to the saved volume\n                                    // and update the mute properties\n                                    this.backend.setVolume(this.savedVolume);\n                                    this.isMuted = false;\n                                    this.fireEvent(\"volume\", this.savedVolume);\n                                }\n                                this.fireEvent(\"mute\", this.isMuted);\n                            }\n                        },\n                        {\n                            key: \"getMute\",\n                            value: function getMute() {\n                                return this.isMuted;\n                            }\n                        },\n                        {\n                            key: \"getFilters\",\n                            value: function getFilters() {\n                                return this.backend.filters || [];\n                            }\n                        },\n                        {\n                            key: \"toggleScroll\",\n                            value: function toggleScroll() {\n                                this.params.scrollParent = !this.params.scrollParent;\n                                this.drawBuffer();\n                            }\n                        },\n                        {\n                            key: \"toggleInteraction\",\n                            value: function toggleInteraction() {\n                                this.params.interact = !this.params.interact;\n                            }\n                        },\n                        {\n                            key: \"getWaveColor\",\n                            value: function getWaveColor() {\n                                var channelIdx = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n                                if (this.params.splitChannelsOptions.channelColors[channelIdx]) return this.params.splitChannelsOptions.channelColors[channelIdx].waveColor;\n                                return this.params.waveColor;\n                            }\n                        },\n                        {\n                            key: \"setWaveColor\",\n                            value: function setWaveColor(color) {\n                                var channelIdx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n                                if (this.params.splitChannelsOptions.channelColors[channelIdx]) this.params.splitChannelsOptions.channelColors[channelIdx].waveColor = color;\n                                else this.params.waveColor = color;\n                                this.drawBuffer();\n                            }\n                        },\n                        {\n                            key: \"getProgressColor\",\n                            value: function getProgressColor() {\n                                var channelIdx = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n                                if (this.params.splitChannelsOptions.channelColors[channelIdx]) return this.params.splitChannelsOptions.channelColors[channelIdx].progressColor;\n                                return this.params.progressColor;\n                            }\n                        },\n                        {\n                            key: \"setProgressColor\",\n                            value: function setProgressColor(color, channelIdx) {\n                                if (this.params.splitChannelsOptions.channelColors[channelIdx]) this.params.splitChannelsOptions.channelColors[channelIdx].progressColor = color;\n                                else this.params.progressColor = color;\n                                this.drawBuffer();\n                            }\n                        },\n                        {\n                            key: \"getBackgroundColor\",\n                            value: function getBackgroundColor() {\n                                return this.params.backgroundColor;\n                            }\n                        },\n                        {\n                            key: \"setBackgroundColor\",\n                            value: function setBackgroundColor(color) {\n                                this.params.backgroundColor = color;\n                                util.style(this.container, {\n                                    background: this.params.backgroundColor\n                                });\n                            }\n                        },\n                        {\n                            key: \"getCursorColor\",\n                            value: function getCursorColor() {\n                                return this.params.cursorColor;\n                            }\n                        },\n                        {\n                            key: \"setCursorColor\",\n                            value: function setCursorColor(color) {\n                                this.params.cursorColor = color;\n                                this.drawer.updateCursor();\n                            }\n                        },\n                        {\n                            key: \"getHeight\",\n                            value: function getHeight() {\n                                return this.params.height;\n                            }\n                        },\n                        {\n                            key: \"setHeight\",\n                            value: function setHeight(height) {\n                                this.params.height = height;\n                                this.drawer.setHeight(height * this.params.pixelRatio);\n                                this.drawBuffer();\n                            }\n                        },\n                        {\n                            key: \"setFilteredChannels\",\n                            value: function setFilteredChannels(channelIndices) {\n                                this.params.splitChannelsOptions.filterChannels = channelIndices;\n                                this.drawBuffer();\n                            }\n                        },\n                        {\n                            key: \"drawBuffer\",\n                            value: function drawBuffer() {\n                                var nominalWidth = Math.round(this.getDuration() * this.params.minPxPerSec * this.params.pixelRatio);\n                                var parentWidth = this.drawer.getWidth();\n                                var width = nominalWidth;\n                                // always start at 0 after zooming for scrolling : issue redraw left part\n                                var start = 0;\n                                var end = Math.max(start + parentWidth, width);\n                                // Fill container\n                                if (this.params.fillParent && (!this.params.scrollParent || nominalWidth < parentWidth)) {\n                                    width = parentWidth;\n                                    start = 0;\n                                    end = width;\n                                }\n                                var peaks;\n                                if (this.params.partialRender) {\n                                    var newRanges = this.peakCache.addRangeToPeakCache(width, start, end);\n                                    var i;\n                                    for(i = 0; i < newRanges.length; i++){\n                                        peaks = this.backend.getPeaks(width, newRanges[i][0], newRanges[i][1]);\n                                        this.drawer.drawPeaks(peaks, width, newRanges[i][0], newRanges[i][1]);\n                                    }\n                                } else {\n                                    peaks = this.backend.getPeaks(width, start, end);\n                                    this.drawer.drawPeaks(peaks, width, start, end);\n                                }\n                                this.fireEvent(\"redraw\", peaks, width);\n                            }\n                        },\n                        {\n                            key: \"zoom\",\n                            value: function zoom(pxPerSec) {\n                                if (!pxPerSec) {\n                                    this.params.minPxPerSec = this.defaultParams.minPxPerSec;\n                                    this.params.scrollParent = false;\n                                } else {\n                                    this.params.minPxPerSec = pxPerSec;\n                                    this.params.scrollParent = true;\n                                }\n                                this.drawBuffer();\n                                this.drawer.progress(this.backend.getPlayedPercents());\n                                this.drawer.recenter(this.getCurrentTime() / this.getDuration());\n                                this.fireEvent(\"zoom\", pxPerSec);\n                            }\n                        },\n                        {\n                            key: \"loadArrayBuffer\",\n                            value: function loadArrayBuffer(arraybuffer) {\n                                var _this9 = this;\n                                this.decodeArrayBuffer(arraybuffer, function(data) {\n                                    if (!_this9.isDestroyed) _this9.loadDecodedBuffer(data);\n                                });\n                            }\n                        },\n                        {\n                            key: \"loadDecodedBuffer\",\n                            value: function loadDecodedBuffer(buffer) {\n                                this.backend.load(buffer);\n                                this.drawBuffer();\n                                this.isReady = true;\n                                this.fireEvent(\"ready\");\n                            }\n                        },\n                        {\n                            key: \"loadBlob\",\n                            value: function loadBlob(blob) {\n                                var _this10 = this;\n                                // Create file reader\n                                var reader = new FileReader();\n                                reader.addEventListener(\"progress\", function(e) {\n                                    return _this10.onProgress(e);\n                                });\n                                reader.addEventListener(\"load\", function(e) {\n                                    return _this10.loadArrayBuffer(e.target.result);\n                                });\n                                reader.addEventListener(\"error\", function() {\n                                    return _this10.fireEvent(\"error\", \"Error reading file\");\n                                });\n                                reader.readAsArrayBuffer(blob);\n                                this.empty();\n                            }\n                        },\n                        {\n                            key: \"load\",\n                            value: function load(url, peaks, preload, duration) {\n                                if (!url) throw new Error(\"url parameter cannot be empty\");\n                                this.empty();\n                                if (preload) {\n                                    // check whether the preload attribute will be usable and if not log\n                                    // a warning listing the reasons why not and nullify the variable\n                                    var preloadIgnoreReasons = {\n                                        \"Preload is not 'auto', 'none' or 'metadata'\": [\n                                            \"auto\",\n                                            \"metadata\",\n                                            \"none\"\n                                        ].indexOf(preload) === -1,\n                                        \"Peaks are not provided\": !peaks,\n                                        \"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'\": [\n                                            \"MediaElement\",\n                                            \"MediaElementWebAudio\"\n                                        ].indexOf(this.params.backend) === -1,\n                                        \"Url is not of type string\": typeof url !== \"string\"\n                                    };\n                                    var activeReasons = Object.keys(preloadIgnoreReasons).filter(function(reason) {\n                                        return preloadIgnoreReasons[reason];\n                                    });\n                                    if (activeReasons.length) {\n                                        // eslint-disable-next-line no-console\n                                        console.warn(\"Preload parameter of wavesurfer.load will be ignored because:\\n\t- \" + activeReasons.join(\"\\n\t- \"));\n                                        // stop invalid values from being used\n                                        preload = null;\n                                    }\n                                }\n                                // loadBuffer(url, peaks, duration) requires that url is a string\n                                // but users can pass in a HTMLMediaElement to WaveSurfer\n                                if (this.params.backend === \"WebAudio\" && url instanceof HTMLMediaElement) url = url.src;\n                                switch(this.params.backend){\n                                    case \"WebAudio\":\n                                        return this.loadBuffer(url, peaks, duration);\n                                    case \"MediaElement\":\n                                    case \"MediaElementWebAudio\":\n                                        return this.loadMediaElement(url, peaks, preload, duration);\n                                }\n                            }\n                        },\n                        {\n                            key: \"loadBuffer\",\n                            value: function loadBuffer(url, peaks, duration) {\n                                var _this11 = this;\n                                var load = function load(action) {\n                                    if (action) _this11.tmpEvents.push(_this11.once(\"ready\", action));\n                                    return _this11.getArrayBuffer(url, function(data) {\n                                        return _this11.loadArrayBuffer(data);\n                                    });\n                                };\n                                if (peaks) {\n                                    this.backend.setPeaks(peaks, duration);\n                                    this.drawBuffer();\n                                    this.fireEvent(\"waveform-ready\");\n                                    this.tmpEvents.push(this.once(\"interaction\", load));\n                                } else return load();\n                            }\n                        },\n                        {\n                            key: \"loadMediaElement\",\n                            value: function loadMediaElement(urlOrElt, peaks, preload, duration) {\n                                var _this12 = this;\n                                var url = urlOrElt;\n                                if (typeof urlOrElt === \"string\") this.backend.load(url, this.mediaContainer, peaks, preload);\n                                else {\n                                    var elt = urlOrElt;\n                                    this.backend.loadElt(elt, peaks);\n                                    // If peaks are not provided,\n                                    // url = element.src so we can get peaks with web audio\n                                    url = elt.src;\n                                }\n                                this.tmpEvents.push(this.backend.once(\"canplay\", function() {\n                                    // ignore when backend was already destroyed\n                                    if (!_this12.backend.destroyed) {\n                                        _this12.drawBuffer();\n                                        _this12.isReady = true;\n                                        _this12.fireEvent(\"ready\");\n                                    }\n                                }), this.backend.once(\"error\", function(err) {\n                                    return _this12.fireEvent(\"error\", err);\n                                }));\n                                // If peaks are provided, render them and fire the `waveform-ready` event.\n                                if (peaks) {\n                                    this.backend.setPeaks(peaks, duration);\n                                    this.drawBuffer();\n                                    this.fireEvent(\"waveform-ready\");\n                                }\n                                // If no pre-decoded peaks are provided, or are provided with\n                                // forceDecode flag, attempt to download the audio file and decode it\n                                // with Web Audio.\n                                if ((!peaks || this.params.forceDecode) && this.backend.supportsWebAudio()) this.getArrayBuffer(url, function(arraybuffer) {\n                                    _this12.decodeArrayBuffer(arraybuffer, function(buffer) {\n                                        _this12.backend.buffer = buffer;\n                                        _this12.backend.setPeaks(null);\n                                        _this12.drawBuffer();\n                                        _this12.fireEvent(\"waveform-ready\");\n                                    });\n                                });\n                            }\n                        },\n                        {\n                            key: \"decodeArrayBuffer\",\n                            value: function decodeArrayBuffer(arraybuffer, callback) {\n                                var _this13 = this;\n                                if (!this.isDestroyed) {\n                                    this.arraybuffer = arraybuffer;\n                                    this.backend.decodeArrayBuffer(arraybuffer, function(data) {\n                                        // Only use the decoded data if we haven't been destroyed or\n                                        // another decode started in the meantime\n                                        if (!_this13.isDestroyed && _this13.arraybuffer == arraybuffer) {\n                                            callback(data);\n                                            _this13.arraybuffer = null;\n                                        }\n                                    }, function() {\n                                        return _this13.fireEvent(\"error\", \"Error decoding audiobuffer\");\n                                    });\n                                }\n                            }\n                        },\n                        {\n                            key: \"getArrayBuffer\",\n                            value: function getArrayBuffer(url, callback) {\n                                var _this14 = this;\n                                var options = Object.assign({\n                                    url: url,\n                                    responseType: \"arraybuffer\"\n                                }, this.params.xhr);\n                                var request = util.fetchFile(options);\n                                this.currentRequest = request;\n                                this.tmpEvents.push(request.on(\"progress\", function(e) {\n                                    _this14.onProgress(e);\n                                }), request.on(\"success\", function(data) {\n                                    callback(data);\n                                    _this14.currentRequest = null;\n                                }), request.on(\"error\", function(e) {\n                                    _this14.fireEvent(\"error\", e);\n                                    _this14.currentRequest = null;\n                                }));\n                                return request;\n                            }\n                        },\n                        {\n                            key: \"onProgress\",\n                            value: function onProgress(e) {\n                                var percentComplete;\n                                if (e.lengthComputable) percentComplete = e.loaded / e.total;\n                                else // Approximate progress with an asymptotic\n                                // function, and assume downloads in the 1-3 MB range.\n                                percentComplete = e.loaded / (e.loaded + 1000000);\n                                this.fireEvent(\"loading\", Math.round(percentComplete * 100), e.target);\n                            }\n                        },\n                        {\n                            key: \"exportPCM\",\n                            value: function exportPCM(length, accuracy, noWindow, start, end) {\n                                length = length || 1024;\n                                start = start || 0;\n                                accuracy = accuracy || 10000;\n                                noWindow = noWindow || false;\n                                var peaks = this.backend.getPeaks(length, start, end);\n                                var arr = [].map.call(peaks, function(val) {\n                                    return Math.round(val * accuracy) / accuracy;\n                                });\n                                return new Promise(function(resolve, reject) {\n                                    if (!noWindow) {\n                                        var blobJSON = new Blob([\n                                            JSON.stringify(arr)\n                                        ], {\n                                            type: \"application/json;charset=utf-8\"\n                                        });\n                                        var objURL = URL.createObjectURL(blobJSON);\n                                        window.open(objURL);\n                                        URL.revokeObjectURL(objURL);\n                                    }\n                                    resolve(arr);\n                                });\n                            }\n                        },\n                        {\n                            key: \"exportImage\",\n                            value: function exportImage(format, quality, type) {\n                                if (!format) format = \"image/png\";\n                                if (!quality) quality = 1;\n                                if (!type) type = \"dataURL\";\n                                return this.drawer.getImage(format, quality, type);\n                            }\n                        },\n                        {\n                            key: \"cancelAjax\",\n                            value: function cancelAjax() {\n                                if (this.currentRequest && this.currentRequest.controller) {\n                                    // If the current request has a ProgressHandler, then its ReadableStream might need to be cancelled too\n                                    // See: Wavesurfer issue #2042\n                                    // See Firefox bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1583815\n                                    if (this.currentRequest._reader) // Ignoring exceptions thrown by call to cancel()\n                                    this.currentRequest._reader.cancel().catch(function(err) {});\n                                    this.currentRequest.controller.abort();\n                                    this.currentRequest = null;\n                                }\n                            }\n                        },\n                        {\n                            key: \"clearTmpEvents\",\n                            value: function clearTmpEvents() {\n                                this.tmpEvents.forEach(function(e) {\n                                    return e.un();\n                                });\n                            }\n                        },\n                        {\n                            key: \"empty\",\n                            value: function empty() {\n                                if (!this.backend.isPaused()) {\n                                    this.stop();\n                                    this.backend.disconnectSource();\n                                }\n                                this.isReady = false;\n                                this.cancelAjax();\n                                this.clearTmpEvents();\n                                // empty drawer\n                                this.drawer.progress(0);\n                                this.drawer.setWidth(0);\n                                this.drawer.drawPeaks({\n                                    length: this.drawer.getWidth()\n                                }, 0);\n                            }\n                        },\n                        {\n                            key: \"destroy\",\n                            value: function destroy() {\n                                this.destroyAllPlugins();\n                                this.fireEvent(\"destroy\");\n                                this.cancelAjax();\n                                this.clearTmpEvents();\n                                this.unAll();\n                                if (this.params.responsive !== false) {\n                                    window.removeEventListener(\"resize\", this._onResize, true);\n                                    window.removeEventListener(\"orientationchange\", this._onResize, true);\n                                }\n                                if (this.backend) {\n                                    this.backend.destroy();\n                                    // clears memory usage\n                                    this.backend = null;\n                                }\n                                if (this.drawer) this.drawer.destroy();\n                                this.isDestroyed = true;\n                                this.isReady = false;\n                                this.arraybuffer = null;\n                            }\n                        }\n                    ], [\n                        {\n                            key: \"create\",\n                            value: /**\n     * Instantiate this class, call its `init` function and returns it\n     *\n     * @param {WavesurferParams} params The wavesurfer parameters\n     * @return {Object} WaveSurfer instance\n     * @example const wavesurfer = WaveSurfer.create(params);\n     */ function create(params) {\n                                var wavesurfer = new WaveSurfer(params);\n                                return wavesurfer.init();\n                            }\n                        }\n                    ]);\n                    return WaveSurfer;\n                }(util.Observer);\n                exports[\"default\"] = WaveSurfer;\n                _defineProperty(WaveSurfer, \"VERSION\", \"6.6.4\");\n                /**\n * Functions in the `util` property are available as a static property of the\n * WaveSurfer class\n *\n * @type {Object}\n * @example\n * WaveSurfer.util.style(myElement, { background: 'blue' });\n */ _defineProperty(WaveSurfer, \"util\", util);\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./src/webaudio.js\": /*!*************************!*\\\n  !*** ./src/webaudio.js ***!\n  \\*************************/ /***/ (module1, exports, __webpack_require__)=>{\n                \"use strict\";\n                Object.defineProperty(exports, \"__esModule\", {\n                    value: true\n                });\n                exports[\"default\"] = void 0;\n                var util = _interopRequireWildcard(__webpack_require__(/*! ./util */ \"./src/util/index.js\"));\n                function _getRequireWildcardCache(nodeInterop) {\n                    if (typeof WeakMap !== \"function\") return null;\n                    var cacheBabelInterop = new WeakMap();\n                    var cacheNodeInterop = new WeakMap();\n                    return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n                        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n                    })(nodeInterop);\n                }\n                function _interopRequireWildcard(obj, nodeInterop) {\n                    if (!nodeInterop && obj && obj.__esModule) return obj;\n                    if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") return {\n                        default: obj\n                    };\n                    var cache = _getRequireWildcardCache(nodeInterop);\n                    if (cache && cache.has(obj)) return cache.get(obj);\n                    var newObj = {};\n                    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n                    for(var key in obj)if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n                        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n                        if (desc && (desc.get || desc.set)) Object.defineProperty(newObj, key, desc);\n                        else newObj[key] = obj[key];\n                    }\n                    newObj.default = obj;\n                    if (cache) cache.set(obj, newObj);\n                    return newObj;\n                }\n                function _typeof(obj) {\n                    \"@babel/helpers - typeof\";\n                    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n                        return typeof obj;\n                    } : function(obj) {\n                        return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n                    }, _typeof(obj);\n                }\n                function _classCallCheck(instance, Constructor) {\n                    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n                }\n                function _defineProperties(target, props) {\n                    for(var i = 0; i < props.length; i++){\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if (\"value\" in descriptor) descriptor.writable = true;\n                        Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n                    }\n                }\n                function _createClass(Constructor, protoProps, staticProps) {\n                    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) _defineProperties(Constructor, staticProps);\n                    Object.defineProperty(Constructor, \"prototype\", {\n                        writable: false\n                    });\n                    return Constructor;\n                }\n                function _inherits(subClass, superClass) {\n                    if (typeof superClass !== \"function\" && superClass !== null) throw new TypeError(\"Super expression must either be null or a function\");\n                    subClass.prototype = Object.create(superClass && superClass.prototype, {\n                        constructor: {\n                            value: subClass,\n                            writable: true,\n                            configurable: true\n                        }\n                    });\n                    Object.defineProperty(subClass, \"prototype\", {\n                        writable: false\n                    });\n                    if (superClass) _setPrototypeOf(subClass, superClass);\n                }\n                function _setPrototypeOf(o, p) {\n                    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n                        o.__proto__ = p;\n                        return o;\n                    };\n                    return _setPrototypeOf(o, p);\n                }\n                function _createSuper(Derived) {\n                    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n                    return function _createSuperInternal() {\n                        var Super = _getPrototypeOf(Derived), result;\n                        if (hasNativeReflectConstruct) {\n                            var NewTarget = _getPrototypeOf(this).constructor;\n                            result = Reflect.construct(Super, arguments, NewTarget);\n                        } else result = Super.apply(this, arguments);\n                        return _possibleConstructorReturn(this, result);\n                    };\n                }\n                function _possibleConstructorReturn(self1, call) {\n                    if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) return call;\n                    else if (call !== void 0) throw new TypeError(\"Derived constructors may only return object or undefined\");\n                    return _assertThisInitialized(self1);\n                }\n                function _assertThisInitialized(self1) {\n                    if (self1 === void 0) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n                    return self1;\n                }\n                function _isNativeReflectConstruct() {\n                    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n                    if (Reflect.construct.sham) return false;\n                    if (typeof Proxy === \"function\") return true;\n                    try {\n                        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n                        return true;\n                    } catch (e) {\n                        return false;\n                    }\n                }\n                function _getPrototypeOf(o) {\n                    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n                        return o.__proto__ || Object.getPrototypeOf(o);\n                    };\n                    return _getPrototypeOf(o);\n                }\n                function _defineProperty(obj, key, value) {\n                    key = _toPropertyKey(key);\n                    if (key in obj) Object.defineProperty(obj, key, {\n                        value: value,\n                        enumerable: true,\n                        configurable: true,\n                        writable: true\n                    });\n                    else obj[key] = value;\n                    return obj;\n                }\n                function _toPropertyKey(arg) {\n                    var key = _toPrimitive(arg, \"string\");\n                    return _typeof(key) === \"symbol\" ? key : String(key);\n                }\n                function _toPrimitive(input, hint) {\n                    if (_typeof(input) !== \"object\" || input === null) return input;\n                    var prim = input[Symbol.toPrimitive];\n                    if (prim !== undefined) {\n                        var res = prim.call(input, hint || \"default\");\n                        if (_typeof(res) !== \"object\") return res;\n                        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n                    }\n                    return (hint === \"string\" ? String : Number)(input);\n                }\n                // using constants to prevent someone writing the string wrong\n                var PLAYING = \"playing\";\n                var PAUSED = \"paused\";\n                var FINISHED = \"finished\";\n                /**\n * WebAudio backend\n *\n * @extends {util.Observer}\n */ var WebAudio = /*#__PURE__*/ function(_util$Observer) {\n                    _inherits(WebAudio, _util$Observer);\n                    var _super = _createSuper(WebAudio);\n                    /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */ function WebAudio(params) {\n                        var _defineProperty2, _this$states;\n                        var _this;\n                        _classCallCheck(this, WebAudio);\n                        _this = _super.call(this);\n                        /** @private */ /** audioContext: allows to process audio with WebAudio API */ _defineProperty(_assertThisInitialized(_this), \"audioContext\", null);\n                        /** @private */ _defineProperty(_assertThisInitialized(_this), \"stateBehaviors\", (_defineProperty2 = {}, _defineProperty(_defineProperty2, PLAYING, {\n                            init: function init() {\n                                this.addOnAudioProcess();\n                            },\n                            getPlayedPercents: function getPlayedPercents() {\n                                var duration = this.getDuration();\n                                return this.getCurrentTime() / duration || 0;\n                            },\n                            getCurrentTime: function getCurrentTime() {\n                                return this.startPosition + this.getPlayedTime();\n                            }\n                        }), _defineProperty(_defineProperty2, PAUSED, {\n                            init: function init() {},\n                            getPlayedPercents: function getPlayedPercents() {\n                                var duration = this.getDuration();\n                                return this.getCurrentTime() / duration || 0;\n                            },\n                            getCurrentTime: function getCurrentTime() {\n                                return this.startPosition;\n                            }\n                        }), _defineProperty(_defineProperty2, FINISHED, {\n                            init: function init() {\n                                this.fireEvent(\"finish\");\n                            },\n                            getPlayedPercents: function getPlayedPercents() {\n                                return 1;\n                            },\n                            getCurrentTime: function getCurrentTime() {\n                                return this.getDuration();\n                            }\n                        }), _defineProperty2));\n                        _this.params = params;\n                        /** ac: Audio Context instance */ _this.ac = params.audioContext || (_this.supportsWebAudio() ? _this.getAudioContext() : {});\n                        /**@private */ _this.lastPlay = _this.ac.currentTime;\n                        /** @private */ _this.startPosition = 0;\n                        /** @private */ _this.scheduledPause = null;\n                        /** @private */ _this.states = (_this$states = {}, _defineProperty(_this$states, PLAYING, Object.create(_this.stateBehaviors[PLAYING])), _defineProperty(_this$states, PAUSED, Object.create(_this.stateBehaviors[PAUSED])), _defineProperty(_this$states, FINISHED, Object.create(_this.stateBehaviors[FINISHED])), _this$states);\n                        /** @private */ _this.buffer = null;\n                        /** @private */ _this.filters = [];\n                        /** gainNode: allows to control audio volume */ _this.gainNode = null;\n                        /** @private */ _this.mergedPeaks = null;\n                        /** @private */ _this.offlineAc = null;\n                        /** @private */ _this.peaks = null;\n                        /** @private */ _this.playbackRate = 1;\n                        /** analyser: provides audio analysis information */ _this.analyser = null;\n                        /** scriptNode: allows processing audio */ _this.scriptNode = null;\n                        /** @private */ _this.source = null;\n                        /** @private */ _this.splitPeaks = [];\n                        /** @private */ _this.state = null;\n                        /** @private */ _this.explicitDuration = params.duration;\n                        /** @private */ _this.sinkStreamDestination = null;\n                        /** @private */ _this.sinkAudioElement = null;\n                        /**\n     * Boolean indicating if the backend was destroyed.\n     */ _this.destroyed = false;\n                        return _this;\n                    }\n                    /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */ _createClass(WebAudio, [\n                        {\n                            key: \"supportsWebAudio\",\n                            value: /**\n     * Does the browser support this backend\n     *\n     * @return {boolean} Whether or not this browser supports this backend\n     */ function supportsWebAudio() {\n                                return !!(window.AudioContext || window.webkitAudioContext);\n                            }\n                        },\n                        {\n                            key: \"getAudioContext\",\n                            value: function getAudioContext() {\n                                if (!window.WaveSurferAudioContext) window.WaveSurferAudioContext = new (window.AudioContext || window.webkitAudioContext)();\n                                return window.WaveSurferAudioContext;\n                            }\n                        },\n                        {\n                            key: \"getOfflineAudioContext\",\n                            value: function getOfflineAudioContext(sampleRate) {\n                                if (!window.WaveSurferOfflineAudioContext) window.WaveSurferOfflineAudioContext = new (window.OfflineAudioContext || window.webkitOfflineAudioContext)(1, 2, sampleRate);\n                                return window.WaveSurferOfflineAudioContext;\n                            }\n                        },\n                        {\n                            key: \"init\",\n                            value: function init() {\n                                this.createVolumeNode();\n                                this.createScriptNode();\n                                this.createAnalyserNode();\n                                this.setState(PAUSED);\n                                this.setPlaybackRate(this.params.audioRate);\n                                this.setLength(0);\n                            }\n                        },\n                        {\n                            key: \"disconnectFilters\",\n                            value: function disconnectFilters() {\n                                if (this.filters) {\n                                    this.filters.forEach(function(filter) {\n                                        filter && filter.disconnect();\n                                    });\n                                    this.filters = null;\n                                    // Reconnect direct path\n                                    this.analyser.connect(this.gainNode);\n                                }\n                            }\n                        },\n                        {\n                            key: \"setState\",\n                            value: function setState(state) {\n                                if (this.state !== this.states[state]) {\n                                    this.state = this.states[state];\n                                    this.state.init.call(this);\n                                }\n                            }\n                        },\n                        {\n                            key: \"setFilter\",\n                            value: function setFilter() {\n                                for(var _len = arguments.length, filters = new Array(_len), _key = 0; _key < _len; _key++)filters[_key] = arguments[_key];\n                                this.setFilters(filters);\n                            }\n                        },\n                        {\n                            key: \"setFilters\",\n                            value: function setFilters(filters) {\n                                // Remove existing filters\n                                this.disconnectFilters();\n                                // Insert filters if filter array not empty\n                                if (filters && filters.length) {\n                                    this.filters = filters;\n                                    // Disconnect direct path before inserting filters\n                                    this.analyser.disconnect();\n                                    // Connect each filter in turn\n                                    filters.reduce(function(prev, curr) {\n                                        prev.connect(curr);\n                                        return curr;\n                                    }, this.analyser).connect(this.gainNode);\n                                }\n                            }\n                        },\n                        {\n                            key: \"createScriptNode\",\n                            value: function createScriptNode() {\n                                if (this.params.audioScriptProcessor) {\n                                    this.scriptNode = this.params.audioScriptProcessor;\n                                    this.scriptNode.connect(this.ac.destination);\n                                }\n                            }\n                        },\n                        {\n                            key: \"addOnAudioProcess\",\n                            value: function addOnAudioProcess() {\n                                var _this2 = this;\n                                var loop = function loop() {\n                                    var time = _this2.getCurrentTime();\n                                    if (time >= _this2.getDuration() && _this2.state !== _this2.states[FINISHED]) {\n                                        _this2.setState(FINISHED);\n                                        _this2.fireEvent(\"pause\");\n                                    } else if (time >= _this2.scheduledPause && _this2.state !== _this2.states[PAUSED]) _this2.pause();\n                                    else if (_this2.state === _this2.states[PLAYING]) {\n                                        _this2.fireEvent(\"audioprocess\", time);\n                                        util.frame(loop)();\n                                    }\n                                };\n                                loop();\n                            }\n                        },\n                        {\n                            key: \"createAnalyserNode\",\n                            value: function createAnalyserNode() {\n                                this.analyser = this.ac.createAnalyser();\n                                this.analyser.connect(this.gainNode);\n                            }\n                        },\n                        {\n                            key: \"createVolumeNode\",\n                            value: function createVolumeNode() {\n                                // Create gain node using the AudioContext\n                                if (this.ac.createGain) this.gainNode = this.ac.createGain();\n                                else this.gainNode = this.ac.createGainNode();\n                                // Add the gain node to the graph\n                                this.gainNode.connect(this.ac.destination);\n                            }\n                        },\n                        {\n                            key: \"setSinkId\",\n                            value: function setSinkId(deviceId) {\n                                if (deviceId) {\n                                    /**\n         * The webaudio API doesn't currently support setting the device\n         * output. Here we create an HTMLAudioElement, connect the\n         * webaudio stream to that element and setSinkId there.\n         */ if (!this.sinkAudioElement) {\n                                        this.sinkAudioElement = new window.Audio();\n                                        // autoplay is necessary since we're not invoking .play()\n                                        this.sinkAudioElement.autoplay = true;\n                                    }\n                                    if (!this.sinkAudioElement.setSinkId) return Promise.reject(new Error(\"setSinkId is not supported in your browser\"));\n                                    if (!this.sinkStreamDestination) this.sinkStreamDestination = this.ac.createMediaStreamDestination();\n                                    this.gainNode.disconnect();\n                                    this.gainNode.connect(this.sinkStreamDestination);\n                                    this.sinkAudioElement.srcObject = this.sinkStreamDestination.stream;\n                                    return this.sinkAudioElement.setSinkId(deviceId);\n                                } else return Promise.reject(new Error(\"Invalid deviceId: \" + deviceId));\n                            }\n                        },\n                        {\n                            key: \"setVolume\",\n                            value: function setVolume(value) {\n                                this.gainNode.gain.setValueAtTime(value, this.ac.currentTime);\n                            }\n                        },\n                        {\n                            key: \"getVolume\",\n                            value: function getVolume() {\n                                return this.gainNode.gain.value;\n                            }\n                        },\n                        {\n                            key: \"decodeArrayBuffer\",\n                            value: function decodeArrayBuffer(arraybuffer, callback, errback) {\n                                if (!this.offlineAc) this.offlineAc = this.getOfflineAudioContext(this.ac && this.ac.sampleRate ? this.ac.sampleRate : 44100);\n                                if (\"webkitAudioContext\" in window) // Safari: no support for Promise-based decodeAudioData enabled\n                                // Enable it in Safari using the Experimental Features > Modern WebAudio API option\n                                this.offlineAc.decodeAudioData(arraybuffer, function(data) {\n                                    return callback(data);\n                                }, errback);\n                                else this.offlineAc.decodeAudioData(arraybuffer).then(function(data) {\n                                    return callback(data);\n                                }).catch(function(err) {\n                                    return errback(err);\n                                });\n                            }\n                        },\n                        {\n                            key: \"setPeaks\",\n                            value: function setPeaks(peaks, duration) {\n                                if (duration != null) this.explicitDuration = duration;\n                                this.peaks = peaks;\n                            }\n                        },\n                        {\n                            key: \"setLength\",\n                            value: function setLength(length) {\n                                // No resize, we can preserve the cached peaks.\n                                if (this.mergedPeaks && length == 2 * this.mergedPeaks.length - 1 + 2) return;\n                                this.splitPeaks = [];\n                                this.mergedPeaks = [];\n                                // Set the last element of the sparse array so the peak arrays are\n                                // appropriately sized for other calculations.\n                                var channels = this.buffer ? this.buffer.numberOfChannels : 1;\n                                var c;\n                                for(c = 0; c < channels; c++){\n                                    this.splitPeaks[c] = [];\n                                    this.splitPeaks[c][2 * (length - 1)] = 0;\n                                    this.splitPeaks[c][2 * (length - 1) + 1] = 0;\n                                }\n                                this.mergedPeaks[2 * (length - 1)] = 0;\n                                this.mergedPeaks[2 * (length - 1) + 1] = 0;\n                            }\n                        },\n                        {\n                            key: \"getPeaks\",\n                            value: function getPeaks(length, first, last) {\n                                if (this.peaks) return this.peaks;\n                                if (!this.buffer) return [];\n                                first = first || 0;\n                                last = last || length - 1;\n                                this.setLength(length);\n                                if (!this.buffer) return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n                                /**\n       * The following snippet fixes a buffering data issue on the Safari\n       * browser which returned undefined It creates the missing buffer based\n       * on 1 channel, 4096 samples and the sampleRate from the current\n       * webaudio context 4096 samples seemed to be the best fit for rendering\n       * will review this code once a stable version of Safari TP is out\n       */ if (!this.buffer.length) {\n                                    var newBuffer = this.createBuffer(1, 4096, this.sampleRate);\n                                    this.buffer = newBuffer.buffer;\n                                }\n                                var sampleSize = this.buffer.length / length;\n                                var sampleStep = ~~(sampleSize / 10) || 1;\n                                var channels = this.buffer.numberOfChannels;\n                                var c;\n                                for(c = 0; c < channels; c++){\n                                    var peaks = this.splitPeaks[c];\n                                    var chan = this.buffer.getChannelData(c);\n                                    var i = void 0;\n                                    for(i = first; i <= last; i++){\n                                        var start = ~~(i * sampleSize);\n                                        var end = ~~(start + sampleSize);\n                                        /**\n           * Initialize the max and min to the first sample of this\n           * subrange, so that even if the samples are entirely\n           * on one side of zero, we still return the true max and\n           * min values in the subrange.\n           */ var min = chan[start];\n                                        var max = min;\n                                        var j = void 0;\n                                        for(j = start; j < end; j += sampleStep){\n                                            var value = chan[j];\n                                            if (value > max) max = value;\n                                            if (value < min) min = value;\n                                        }\n                                        peaks[2 * i] = max;\n                                        peaks[2 * i + 1] = min;\n                                        if (c == 0 || max > this.mergedPeaks[2 * i]) this.mergedPeaks[2 * i] = max;\n                                        if (c == 0 || min < this.mergedPeaks[2 * i + 1]) this.mergedPeaks[2 * i + 1] = min;\n                                    }\n                                }\n                                return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n                            }\n                        },\n                        {\n                            key: \"getPlayedPercents\",\n                            value: function getPlayedPercents() {\n                                return this.state.getPlayedPercents.call(this);\n                            }\n                        },\n                        {\n                            key: \"disconnectSource\",\n                            value: function disconnectSource() {\n                                if (this.source) this.source.disconnect();\n                            }\n                        },\n                        {\n                            key: \"destroyWebAudio\",\n                            value: function destroyWebAudio() {\n                                this.disconnectFilters();\n                                this.disconnectSource();\n                                this.gainNode.disconnect();\n                                this.scriptNode && this.scriptNode.disconnect();\n                                this.analyser.disconnect();\n                                // close the audioContext if closeAudioContext option is set to true\n                                if (this.params.closeAudioContext) {\n                                    // check if browser supports AudioContext.close()\n                                    if (typeof this.ac.close === \"function\" && this.ac.state != \"closed\") this.ac.close();\n                                    // clear the reference to the audiocontext\n                                    this.ac = null;\n                                    // clear the actual audiocontext, either passed as param or the\n                                    // global singleton\n                                    if (!this.params.audioContext) window.WaveSurferAudioContext = null;\n                                    else this.params.audioContext = null;\n                                    // clear the offlineAudioContext\n                                    window.WaveSurferOfflineAudioContext = null;\n                                }\n                                // disconnect resources used by setSinkId\n                                if (this.sinkStreamDestination) {\n                                    this.sinkAudioElement.pause();\n                                    this.sinkAudioElement.srcObject = null;\n                                    this.sinkStreamDestination.disconnect();\n                                    this.sinkStreamDestination = null;\n                                }\n                            }\n                        },\n                        {\n                            key: \"destroy\",\n                            value: function destroy() {\n                                if (!this.isPaused()) this.pause();\n                                this.unAll();\n                                this.buffer = null;\n                                this.destroyed = true;\n                                this.destroyWebAudio();\n                            }\n                        },\n                        {\n                            key: \"load\",\n                            value: function load(buffer) {\n                                this.startPosition = 0;\n                                this.lastPlay = this.ac.currentTime;\n                                this.buffer = buffer;\n                                this.createSource();\n                            }\n                        },\n                        {\n                            key: \"createSource\",\n                            value: function createSource() {\n                                this.disconnectSource();\n                                this.source = this.ac.createBufferSource();\n                                // adjust for old browsers\n                                this.source.start = this.source.start || this.source.noteGrainOn;\n                                this.source.stop = this.source.stop || this.source.noteOff;\n                                this.setPlaybackRate(this.playbackRate);\n                                this.source.buffer = this.buffer;\n                                this.source.connect(this.analyser);\n                            }\n                        },\n                        {\n                            key: \"resumeAudioContext\",\n                            value: function resumeAudioContext() {\n                                if (this.ac.state == \"suspended\") this.ac.resume && this.ac.resume();\n                            }\n                        },\n                        {\n                            key: \"isPaused\",\n                            value: function isPaused() {\n                                return this.state !== this.states[PLAYING];\n                            }\n                        },\n                        {\n                            key: \"getDuration\",\n                            value: function getDuration() {\n                                if (this.explicitDuration) return this.explicitDuration;\n                                if (!this.buffer) return 0;\n                                return this.buffer.duration;\n                            }\n                        },\n                        {\n                            key: \"seekTo\",\n                            value: function seekTo(start, end) {\n                                if (!this.buffer) return;\n                                this.scheduledPause = null;\n                                if (start == null) {\n                                    start = this.getCurrentTime();\n                                    if (start >= this.getDuration()) start = 0;\n                                }\n                                if (end == null) end = this.getDuration();\n                                this.startPosition = start;\n                                this.lastPlay = this.ac.currentTime;\n                                if (this.state === this.states[FINISHED]) this.setState(PAUSED);\n                                return {\n                                    start: start,\n                                    end: end\n                                };\n                            }\n                        },\n                        {\n                            key: \"getPlayedTime\",\n                            value: function getPlayedTime() {\n                                return (this.ac.currentTime - this.lastPlay) * this.playbackRate;\n                            }\n                        },\n                        {\n                            key: \"play\",\n                            value: function play(start, end) {\n                                if (!this.buffer) return;\n                                // need to re-create source on each playback\n                                this.createSource();\n                                var adjustedTime = this.seekTo(start, end);\n                                start = adjustedTime.start;\n                                end = adjustedTime.end;\n                                this.scheduledPause = end;\n                                this.source.start(0, start);\n                                this.resumeAudioContext();\n                                this.setState(PLAYING);\n                                this.fireEvent(\"play\");\n                            }\n                        },\n                        {\n                            key: \"pause\",\n                            value: function pause() {\n                                this.scheduledPause = null;\n                                this.startPosition += this.getPlayedTime();\n                                try {\n                                    this.source && this.source.stop(0);\n                                } catch (err) {\n                                // Calling stop can throw the following 2 errors:\n                                // - RangeError (The value specified for when is negative.)\n                                // - InvalidStateNode (The node has not been started by calling start().)\n                                // We can safely ignore both errors, because:\n                                // - The range is surely correct\n                                // - The node might not have been started yet, in which case we just want to carry on without causing any trouble.\n                                }\n                                this.setState(PAUSED);\n                                this.fireEvent(\"pause\");\n                            }\n                        },\n                        {\n                            key: \"getCurrentTime\",\n                            value: function getCurrentTime() {\n                                return this.state.getCurrentTime.call(this);\n                            }\n                        },\n                        {\n                            key: \"getPlaybackRate\",\n                            value: function getPlaybackRate() {\n                                return this.playbackRate;\n                            }\n                        },\n                        {\n                            key: \"setPlaybackRate\",\n                            value: function setPlaybackRate(value) {\n                                this.playbackRate = value || 1;\n                                this.source && this.source.playbackRate.setValueAtTime(this.playbackRate, this.ac.currentTime);\n                            }\n                        },\n                        {\n                            key: \"setPlayEnd\",\n                            value: function setPlayEnd(end) {\n                                this.scheduledPause = end;\n                            }\n                        }\n                    ]);\n                    return WebAudio;\n                }(util.Observer);\n                exports[\"default\"] = WebAudio;\n                module1.exports = exports.default;\n            /***/ },\n            /***/ \"./node_modules/debounce/index.js\": /*!****************************************!*\\\n  !*** ./node_modules/debounce/index.js ***!\n  \\****************************************/ /***/ (module1)=>{\n                /**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */ function debounce(func, wait, immediate) {\n                    var timeout, args, context, timestamp, result;\n                    if (null == wait) wait = 100;\n                    function later() {\n                        var last = Date.now() - timestamp;\n                        if (last < wait && last >= 0) timeout = setTimeout(later, wait - last);\n                        else {\n                            timeout = null;\n                            if (!immediate) {\n                                result = func.apply(context, args);\n                                context = args = null;\n                            }\n                        }\n                    }\n                    var debounced = function() {\n                        context = this;\n                        args = arguments;\n                        timestamp = Date.now();\n                        var callNow = immediate && !timeout;\n                        if (!timeout) timeout = setTimeout(later, wait);\n                        if (callNow) {\n                            result = func.apply(context, args);\n                            context = args = null;\n                        }\n                        return result;\n                    };\n                    debounced.clear = function() {\n                        if (timeout) {\n                            clearTimeout(timeout);\n                            timeout = null;\n                        }\n                    };\n                    debounced.flush = function() {\n                        if (timeout) {\n                            result = func.apply(context, args);\n                            context = args = null;\n                            clearTimeout(timeout);\n                            timeout = null;\n                        }\n                    };\n                    return debounced;\n                }\n                // Adds compatibility for ES modules\n                debounce.debounce = debounce;\n                module1.exports = debounce;\n            /***/ }\n        };\n        /************************************************************************/ /******/ // The module cache\n        /******/ var __webpack_module_cache__ = {};\n        /******/ /******/ // The require function\n        /******/ function __webpack_require__(moduleId) {\n            /******/ // Check if module is in cache\n            /******/ var cachedModule = __webpack_module_cache__[moduleId];\n            /******/ if (cachedModule !== undefined) /******/ return cachedModule.exports;\n            /******/ // Create a new module (and put it into the cache)\n            /******/ var module1 = __webpack_module_cache__[moduleId] = {\n                /******/ // no module.id needed\n                /******/ // no module.loaded needed\n                /******/ exports: {}\n            };\n            /******/ /******/ // Execute the module function\n            /******/ __webpack_modules__[moduleId](module1, module1.exports, __webpack_require__);\n            /******/ /******/ // Return the exports of the module\n            /******/ return module1.exports;\n        /******/ }\n        /******/ /************************************************************************/ /******/ /******/ // startup\n        /******/ // Load entry module and return exports\n        /******/ // This entry module is referenced by other modules so it can't be inlined\n        /******/ var __webpack_exports__ = __webpack_require__(\"./src/wavesurfer.js\");\n        /******/ /******/ return __webpack_exports__;\n    /******/ })();\n});\n\n\n/**\n * @typedef {Object} MarkerParams\n * @desc The parameters used to describe a marker.\n * @example wavesurfer.addMarker(regionParams);\n * @property {number} time The time to set the marker at\n * @property {?label} string An optional marker label\n * @property {?tooltip} string An optional marker tooltip\n * @property {?color} string Background color for marker\n * @property {?position} string \"top\" or \"bottom\", defaults to \"bottom\"\n * @property {?markerElement} element An HTML element to display instead of the default marker image\n * @property {?draggable} boolean Set marker as draggable, defaults to false\n * @property {?boolean} preventContextMenu Determines whether the context menu\n * is prevented from being opened, defaults to false\n */ /**\n * Markers are points in time in the audio that can be jumped to.\n *\n * @implements {PluginClass}\n *\n * @example\n * import MarkersPlugin from 'wavesurfer.markers.js';\n *\n * // if you are using <script> tags\n * var MarkerPlugin = window.WaveSurfer.markers;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     MarkersPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */ const $443a53ee67a6fff3$var$DEFAULT_FILL_COLOR = \"#D8D8D8\";\nconst $443a53ee67a6fff3$var$DEFAULT_POSITION = \"bottom\";\nclass $443a53ee67a6fff3$export$2e2bcd8739ae039 {\n    /**\n     * @typedef {Object} MarkersPluginParams\n     * @property {?MarkerParams[]} markers Initial set of markers\n     * @fires MarkersPlugin#marker-click\n     * @fires MarkersPlugin#marker-drag\n     * @fires MarkersPlugin#marker-drop\n     */ /**\n     * Markers plugin definition factory\n     *\n     * This function must be used to create a plugin definition which can be\n     * used by wavesurfer to correctly instantiate the plugin.\n     *\n     * @param {MarkersPluginParams} params parameters use to initialise the plugin\n     * @since 4.6.0\n     * @return {PluginDefinition} an object representing the plugin\n     */ static create(params) {\n        return {\n            name: \"markers\",\n            deferInit: params && params.deferInit ? params.deferInit : false,\n            params: params,\n            staticProps: {\n                addMarker (options) {\n                    if (!this.initialisedPluginList.markers) this.initPlugin(\"markers\");\n                    return this.markers.add(options);\n                },\n                getMarkers () {\n                    return this.markers;\n                },\n                clearMarkers () {\n                    this.markers && this.markers.clear();\n                }\n            },\n            instance: $443a53ee67a6fff3$export$2e2bcd8739ae039\n        };\n    }\n    constructor(params, ws){\n        this.params = params;\n        this.wavesurfer = ws;\n        this.util = ws.util;\n        this.style = this.util.style;\n        this.markerLineWidth = 1;\n        this.markerWidth = 11;\n        this.markerHeight = 22;\n        this.dragging = false;\n        this._onResize = ()=>{\n            this._updateMarkerPositions();\n        };\n        this._onBackendCreated = ()=>{\n            this.wrapper = this.wavesurfer.drawer.wrapper;\n            if (this.params.markers) this.params.markers.forEach((marker)=>this.add(marker));\n            window.addEventListener(\"resize\", this._onResize, true);\n            window.addEventListener(\"orientationchange\", this._onResize, true);\n            this.wavesurfer.on(\"zoom\", this._onResize);\n            if (!this.markers.find((marker)=>marker.draggable)) return;\n            this.onMouseMove = (e)=>this._onMouseMove(e);\n            window.addEventListener(\"mousemove\", this.onMouseMove);\n            this.onMouseUp = (e)=>this._onMouseUp(e);\n            window.addEventListener(\"mouseup\", this.onMouseUp);\n        };\n        this.markers = [];\n        this._onReady = ()=>{\n            this.wrapper = this.wavesurfer.drawer.wrapper;\n            this._updateMarkerPositions();\n        };\n    }\n    init() {\n        // Check if ws is ready\n        if (this.wavesurfer.isReady) {\n            this._onBackendCreated();\n            this._onReady();\n        } else {\n            this.wavesurfer.once(\"ready\", this._onReady);\n            this.wavesurfer.once(\"backend-created\", this._onBackendCreated);\n        }\n    }\n    destroy() {\n        this.wavesurfer.un(\"ready\", this._onReady);\n        this.wavesurfer.un(\"backend-created\", this._onBackendCreated);\n        this.wavesurfer.un(\"zoom\", this._onResize);\n        window.removeEventListener(\"resize\", this._onResize, true);\n        window.removeEventListener(\"orientationchange\", this._onResize, true);\n        if (this.onMouseMove) window.removeEventListener(\"mousemove\", this.onMouseMove);\n        if (this.onMouseUp) window.removeEventListener(\"mouseup\", this.onMouseUp);\n        this.clear();\n    }\n    /**\n     * Add a marker\n     *\n     * @param {MarkerParams} params Marker definition\n     * @return {object} The created marker\n     */ add(params) {\n        let marker = {\n            time: params.time,\n            label: params.label,\n            tooltip: params.tooltip,\n            color: params.color || $443a53ee67a6fff3$var$DEFAULT_FILL_COLOR,\n            position: params.position || $443a53ee67a6fff3$var$DEFAULT_POSITION,\n            draggable: !!params.draggable,\n            preventContextMenu: !!params.preventContextMenu\n        };\n        marker.el = this._createMarkerElement(marker, params.markerElement);\n        this.wrapper.appendChild(marker.el);\n        this.markers.push(marker);\n        this._updateMarkerPositions();\n        this._registerEvents();\n        return marker;\n    }\n    /**\n     * Remove a marker\n     *\n     * @param {number|Object} indexOrMarker Index of the marker to remove or the marker object itself\n     */ remove(indexOrMarker) {\n        let index = indexOrMarker;\n        if (isNaN(index)) index = this.markers.findIndex((marker)=>marker === indexOrMarker);\n        let marker = this.markers[index];\n        if (!marker) return;\n        let label = marker.el.getElementsByClassName(\"marker-label\")[0];\n        if (label) {\n            if (label._onContextMenu) label.removeEventListener(\"contextmenu\", label._onContextMenu);\n            if (label._onClick) label.removeEventListener(\"click\", label._onClick);\n            if (label._onMouseDown) label.removeEventListener(\"mousedown\", label._onMouseDown);\n        }\n        this.wrapper.removeChild(marker.el);\n        this.markers.splice(index, 1);\n        this._unregisterEvents();\n    }\n    _createPointerSVG(color, position) {\n        const svgNS = \"http://www.w3.org/2000/svg\";\n        const el = document.createElementNS(svgNS, \"svg\");\n        const polygon = document.createElementNS(svgNS, \"polygon\");\n        el.setAttribute(\"viewBox\", \"0 0 40 80\");\n        polygon.setAttribute(\"id\", \"polygon\");\n        polygon.setAttribute(\"stroke\", \"#979797\");\n        polygon.setAttribute(\"fill\", color);\n        polygon.setAttribute(\"points\", \"20 0 40 30 40 80 0 80 0 30\");\n        if (position == \"top\") polygon.setAttribute(\"transform\", \"rotate(180, 20 40)\");\n        el.appendChild(polygon);\n        this.style(el, {\n            width: this.markerWidth + \"px\",\n            height: this.markerHeight + \"px\",\n            \"min-width\": this.markerWidth + \"px\",\n            \"margin-right\": \"5px\",\n            \"z-index\": 4\n        });\n        return el;\n    }\n    _createMarkerElement(marker, markerElement) {\n        let label = marker.label;\n        let tooltip = marker.tooltip;\n        const el = document.createElement(\"marker\");\n        el.className = \"wavesurfer-marker\";\n        this.style(el, {\n            position: \"absolute\",\n            height: \"100%\",\n            display: \"flex\",\n            overflow: \"hidden\",\n            \"flex-direction\": marker.position == \"top\" ? \"column-reverse\" : \"column\"\n        });\n        const line = document.createElement(\"div\");\n        const width = markerElement ? markerElement.width : this.markerWidth;\n        marker.offset = (width - this.markerLineWidth) / 2;\n        this.style(line, {\n            \"flex-grow\": 1,\n            \"margin-left\": marker.offset + \"px\",\n            background: \"black\",\n            width: this.markerLineWidth + \"px\",\n            opacity: 0.1\n        });\n        el.appendChild(line);\n        const labelDiv = document.createElement(\"div\");\n        const point = markerElement || this._createPointerSVG(marker.color, marker.position);\n        if (marker.draggable) point.draggable = false;\n        labelDiv.appendChild(point);\n        if (label) {\n            const labelEl = document.createElement(\"span\");\n            labelEl.innerText = label;\n            labelEl.setAttribute(\"title\", tooltip);\n            this.style(labelEl, {\n                \"font-family\": \"inherit\",\n                \"font-size\": \"90%\"\n            });\n            labelDiv.appendChild(labelEl);\n        }\n        this.style(labelDiv, {\n            display: \"flex\",\n            \"align-items\": \"center\",\n            cursor: \"pointer\"\n        });\n        labelDiv.classList.add(\"marker-label\");\n        el.appendChild(labelDiv);\n        labelDiv._onClick = (e)=>{\n            e.stopPropagation();\n            // Click event is caught when the marker-drop event was dispatched.\n            // Drop event was dispatched at this moment, but this.dragging\n            // is waiting for the next tick to set as false\n            if (this.dragging) return;\n            this.wavesurfer.setCurrentTime(marker.time);\n            this.wavesurfer.fireEvent(\"marker-click\", marker, e);\n        };\n        labelDiv.addEventListener(\"click\", labelDiv._onClick);\n        labelDiv._onContextMenu = (e)=>{\n            if (marker.preventContextMenu) e.preventDefault();\n            this.wavesurfer.fireEvent(\"marker-contextmenu\", marker, e);\n        };\n        labelDiv.addEventListener(\"contextmenu\", labelDiv._onContextMenu);\n        if (marker.draggable) {\n            labelDiv._onMouseDown = ()=>{\n                this.selectedMarker = marker;\n            };\n            labelDiv.addEventListener(\"mousedown\", labelDiv._onMouseDown);\n        }\n        return el;\n    }\n    _updateMarkerPositions() {\n        for(let i = 0; i < this.markers.length; i++){\n            let marker = this.markers[i];\n            this._updateMarkerPosition(marker);\n        }\n    }\n    /**\n     * Update a marker position based on its time property.\n     *\n     * @private\n     * @param {MarkerParams} params The marker to update.\n     * @returns {void}\n     */ _updateMarkerPosition(params) {\n        const duration = this.wavesurfer.getDuration();\n        const elementWidth = this.wavesurfer.drawer.width / this.wavesurfer.params.pixelRatio;\n        const positionPct = Math.min(params.time / duration, 1);\n        const leftPx = elementWidth * positionPct - params.offset;\n        this.style(params.el, {\n            \"left\": leftPx + \"px\",\n            \"max-width\": elementWidth - leftPx + \"px\"\n        });\n    }\n    /**\n     * Fires `marker-drag` event, update the `time` property for the\n     * selected marker based on the mouse position, and calls to update\n     * its position.\n     *\n     * @private\n     * @param {MouseEvent} event The mouse event.\n     * @returns {void}\n     */ _onMouseMove(event) {\n        if (!this.selectedMarker) return;\n        if (!this.dragging) {\n            this.dragging = true;\n            this.wavesurfer.fireEvent(\"marker-drag\", this.selectedMarker, event);\n        }\n        this.selectedMarker.time = this.wavesurfer.drawer.handleEvent(event) * this.wavesurfer.getDuration();\n        this._updateMarkerPositions();\n    }\n    /**\n     * Fires `marker-drop` event and unselect the dragged marker.\n     *\n     * @private\n     * @param {MouseEvent} event The mouse event.\n     * @returns {void}\n     */ _onMouseUp(event) {\n        if (this.selectedMarker) setTimeout(()=>{\n            this.selectedMarker = false;\n            this.dragging = false;\n        }, 0);\n        if (!this.dragging) return;\n        event.stopPropagation();\n        const duration = this.wavesurfer.getDuration();\n        this.selectedMarker.time = this.wavesurfer.drawer.handleEvent(event) * duration;\n        this._updateMarkerPositions();\n        this.wavesurfer.fireEvent(\"marker-drop\", this.selectedMarker, event);\n    }\n    _registerEvents() {\n        if (!this.markers.find((marker)=>marker.draggable)) return;\n        //we have some draggable markers, check for listeners\n        if (!this.onMouseMove) {\n            this.onMouseMove = (e)=>this._onMouseMove(e);\n            window.addEventListener(\"mousemove\", this.onMouseMove);\n        }\n        if (!this.onMouseUp) {\n            this.onMouseUp = (e)=>this._onMouseUp(e);\n            window.addEventListener(\"mouseup\", this.onMouseUp);\n        }\n    }\n    _unregisterEvents() {\n        if (this.markers.find((marker)=>marker.draggable)) return;\n        //we don't have any draggable markers, unregister listeners\n        if (this.onMouseMove) {\n            window.removeEventListener(\"mousemove\", this.onMouseMove);\n            this.onMouseMove = null;\n        }\n        if (this.onMouseUp) {\n            window.removeEventListener(\"mouseup\", this.onMouseUp);\n            this.onMouseUp = null;\n        }\n    }\n    /**\n     * Remove all markers\n     */ clear() {\n        while(this.markers.length > 0)this.remove(0);\n    }\n}\n\n\n/**\n *  @since 4.0.0 This class has been split\n *\n * @typedef {Object} RegionsPluginParams\n * @property {?boolean} dragSelection Enable creating regions by dragging with\n * the mouse\n * @property {?boolean} contentEditable=false Allow/disallow editing content of the region\n * @property {?boolean} removeButton=false adds remove region button\n * @property {?RegionParams[]} regions Regions that should be added upon\n * initialisation\n * @property {number} slop=2 The sensitivity of the mouse dragging\n * @property {?number} snapToGridInterval Snap the regions to a grid of the specified multiples in seconds\n * @property {?number} snapToGridOffset Shift the snap-to-grid by the specified seconds. May also be negative.\n * @property {?boolean} deferInit Set to true to manually call\n * @property {number} maxRegions Maximum number of regions that may be created by the user at one time.\n * `initPlugin('regions')`\n * @property {function} formatTimeCallback Allows custom formating for region tooltip.\n * @property {?number} edgeScrollWidth='5% from container edges' Optional width for edgeScroll to start\n */ /**\n * @typedef {Object} RegionParams\n * @desc The parameters used to describe a region.\n * @example wavesurfer.addRegion(regionParams);\n * @property {string} id=random The id of the region\n * @property {number} start=0 The start position of the region (in seconds).\n * @property {number} end=0 The end position of the region (in seconds).\n * @property {?boolean} loop Whether to loop the region when played back.\n * @property {boolean} drag=true Allow/disallow dragging the region.\n * @property {boolean} resize=true Allow/disallow resizing the region.\n * @property {string} [color='rgba(0, 0, 0, 0.1)'] HTML color code.\n * @property {?number} channelIdx Select channel to draw the region on (if there are multiple channel waveforms).\n * @property {?object} handleStyle A set of CSS properties used to style the left and right handle.\n * @property {?boolean} preventContextMenu=false Determines whether the context menu is prevented from being opened.\n * @property {boolean} showTooltip=true Enable/disable tooltip displaying start and end times when hovering over region.\n */ /**\n *  @since 4.0.0\n *\n * (Single) Region plugin class\n *\n * Must be turned into an observer before instantiating. This is done in\n * `RegionsPlugin` (main plugin class).\n *\n * @extends {Observer}\n */ class $4ac106abcad1bf23$export$b1f97c3099fc6872 {\n    constructor(params, regionsUtils, ws){\n        this.wavesurfer = ws;\n        this.wrapper = ws.drawer.wrapper;\n        this.util = ws.util;\n        this.style = this.util.style;\n        this.regionsUtil = regionsUtils;\n        this.vertical = ws.drawer.params.vertical;\n        this.id = params.id == null ? ws.util.getId() : params.id;\n        this.start = Number(params.start) || 0;\n        this.end = params.end == null ? this.start + 4 / this.wrapper.scrollWidth * this.wavesurfer.getDuration() : Number(params.end);\n        this.resize = params.resize === undefined ? true : Boolean(params.resize);\n        this.drag = params.drag === undefined ? true : Boolean(params.drag);\n        this.contentEditable = Boolean(params.contentEditable);\n        this.removeButton = Boolean(params.removeButton);\n        // reflect resize and drag state of region for region-updated listener\n        this.isResizing = false;\n        this.isDragging = false;\n        this.loop = Boolean(params.loop);\n        this.color = params.color || \"rgba(0, 0, 0, 0.1)\";\n        // The left and right handleStyle properties can be set to 'none' for\n        // no styling or can be assigned an object containing CSS properties.\n        this.handleStyle = params.handleStyle || {\n            left: {},\n            right: {}\n        };\n        this.handleLeftEl = null;\n        this.handleRightEl = null;\n        this.data = params.data || {};\n        this.attributes = params.attributes || {};\n        this.showTooltip = params.showTooltip ?? true;\n        this.maxLength = params.maxLength;\n        // It assumes the minLength parameter value, or the regionsMinLength parameter value, if the first one not provided\n        this.minLength = params.minLength;\n        this._onRedraw = ()=>this.updateRender();\n        this.scroll = params.scroll !== false && ws.params.scrollParent;\n        this.scrollSpeed = params.scrollSpeed || 1;\n        this.scrollThreshold = params.scrollThreshold || 10;\n        // Determines whether the context menu is prevented from being opened.\n        this.preventContextMenu = params.preventContextMenu === undefined ? false : Boolean(params.preventContextMenu);\n        // select channel ID to set region\n        let channelIdx = params.channelIdx == null ? -1 : parseInt(params.channelIdx);\n        this.channelIdx = channelIdx;\n        this.regionHeight = \"100%\";\n        this.marginTop = \"0px\";\n        if (channelIdx !== -1) {\n            let channelCount = this.wavesurfer.backend.buffer != null ? this.wavesurfer.backend.buffer.numberOfChannels : -1;\n            if (channelCount >= 0 && channelIdx < channelCount) {\n                this.regionHeight = Math.floor(1 / channelCount * 100) + \"%\";\n                this.marginTop = this.wavesurfer.getHeight() * channelIdx + \"px\";\n            }\n        }\n        this.formatTimeCallback = params.formatTimeCallback;\n        this.edgeScrollWidth = params.edgeScrollWidth;\n        this.bindInOut();\n        this.render();\n        this.wavesurfer.on(\"zoom\", this._onRedraw);\n        this.wavesurfer.on(\"redraw\", this._onRedraw);\n        this.wavesurfer.fireEvent(\"region-created\", this);\n    }\n    /* Update region params. */ update(params, eventParams) {\n        if (params.start != null) this.start = Number(params.start);\n        if (params.end != null) this.end = Number(params.end);\n        if (params.loop != null) this.loop = Boolean(params.loop);\n        if (params.color != null) this.color = params.color;\n        if (params.handleStyle != null) this.handleStyle = params.handleStyle;\n        if (params.data != null) this.data = params.data;\n        if (params.resize != null) {\n            this.resize = Boolean(params.resize);\n            this.updateHandlesResize(this.resize);\n        }\n        if (params.drag != null) this.drag = Boolean(params.drag);\n        if (params.maxLength != null) this.maxLength = Number(params.maxLength);\n        if (params.minLength != null) this.minLength = Number(params.minLength);\n        if (params.attributes != null) this.attributes = params.attributes;\n        this.updateRender();\n        this.fireEvent(\"update\");\n        this.wavesurfer.fireEvent(\"region-updated\", this, eventParams);\n    }\n    /* Remove a single region. */ remove() {\n        if (this.element) {\n            this.element.remove();\n            this.element = null;\n            this.fireEvent(\"remove\");\n            this.wavesurfer.un(\"zoom\", this._onRedraw);\n            this.wavesurfer.un(\"redraw\", this._onRedraw);\n            this.wavesurfer.fireEvent(\"region-removed\", this);\n        }\n    }\n    /**\n     * Play the audio region.\n     * @param {number} start Optional offset to start playing at\n     */ play(start) {\n        const s = start || this.start;\n        this.wavesurfer.play(s, this.end);\n        this.fireEvent(\"play\");\n        this.wavesurfer.fireEvent(\"region-play\", this);\n    }\n    /**\n     * Play the audio region in a loop.\n     * @param {number} start Optional offset to start playing at\n     * */ playLoop(start) {\n        this.loop = true;\n        this.play(start);\n    }\n    /**\n     * Set looping on/off.\n     * @param {boolean} loop True if should play in loop\n     */ setLoop(loop) {\n        this.loop = loop;\n    }\n    /* Render a region as a DOM element. */ render() {\n        this.element = this.util.withOrientation(this.wrapper.appendChild(document.createElement(\"region\")), this.vertical);\n        this.element.className = \"wavesurfer-region\";\n        if (this.showTooltip) this.element.title = this.formatTime(this.start, this.end);\n        this.element.setAttribute(\"data-id\", this.id);\n        for(const attrname in this.attributes)this.element.setAttribute(\"data-region-\" + attrname, this.attributes[attrname]);\n        this.style(this.element, {\n            position: \"absolute\",\n            zIndex: 3,\n            height: this.regionHeight,\n            top: this.marginTop\n        });\n        /* Button Remove Region */ if (this.removeButton) {\n            const removeButtonEl = document.createElement(\"div\");\n            removeButtonEl.className = \"remove-region-button\";\n            removeButtonEl.textContent = \"\\u2A2F\";\n            this.removeButtonEl = this.element.appendChild(removeButtonEl);\n            const css = {\n                zIndex: 4,\n                position: \"absolute\",\n                bottom: 0,\n                right: \"4px\",\n                cursor: \"pointer\",\n                fontSize: \"20px\",\n                lineHeight: \"21px\",\n                color: \"grey\"\n            };\n            this.style(this.removeButtonEl, css);\n        }\n        /* Edit content */ if (this.contentEditable) {\n            const contentEl = document.createElement(\"div\");\n            contentEl.className = \"region-content\";\n            contentEl.contentEditable = \"true\";\n            contentEl.innerText = this.data.text || \"\";\n            this.contentEl = this.element.appendChild(contentEl);\n            const css = {\n                zIndex: 4,\n                padding: \"2px 5px\",\n                cursor: \"text\"\n            };\n            this.style(this.contentEl, css);\n        }\n        /* Resize handles */ if (this.resize) {\n            this.handleLeftEl = this.util.withOrientation(this.element.appendChild(document.createElement(\"handle\")), this.vertical);\n            this.handleRightEl = this.util.withOrientation(this.element.appendChild(document.createElement(\"handle\")), this.vertical);\n            this.handleLeftEl.className = \"wavesurfer-handle wavesurfer-handle-start\";\n            this.handleRightEl.className = \"wavesurfer-handle wavesurfer-handle-end\";\n            // Default CSS properties for both handles.\n            const css = {\n                cursor: this.vertical ? \"row-resize\" : \"col-resize\",\n                position: \"absolute\",\n                top: \"0px\",\n                width: \"2px\",\n                height: \"100%\",\n                backgroundColor: \"rgba(0, 0, 0, 1)\"\n            };\n            // Merge CSS properties per handle.\n            const handleLeftCss = this.handleStyle.left !== \"none\" ? Object.assign({\n                left: \"0px\"\n            }, css, this.handleStyle.left) : null;\n            const handleRightCss = this.handleStyle.right !== \"none\" ? Object.assign({\n                right: \"0px\"\n            }, css, this.handleStyle.right) : null;\n            if (handleLeftCss) this.style(this.handleLeftEl, handleLeftCss);\n            if (handleRightCss) this.style(this.handleRightEl, handleRightCss);\n        }\n        this.updateRender();\n        this.bindEvents();\n    }\n    formatTime(start, end) {\n        if (this.formatTimeCallback) return this.formatTimeCallback(start, end);\n        return (start == end ? [\n            start\n        ] : [\n            start,\n            end\n        ]).map((time)=>[\n                Math.floor(time % 3600 / 60),\n                (\"00\" + Math.floor(time % 60)).slice(-2) // seconds\n            ].join(\":\")).join(\"-\");\n    }\n    getWidth() {\n        return this.wavesurfer.drawer.width / this.wavesurfer.params.pixelRatio;\n    }\n    /* Update element's position, width, color. */ updateRender() {\n        // duration varies during loading process, so don't overwrite important data\n        const dur = this.wavesurfer.getDuration();\n        const width = this.getWidth();\n        let startLimited = this.start;\n        let endLimited = this.end;\n        if (startLimited < 0) {\n            startLimited = 0;\n            endLimited = endLimited - startLimited;\n        }\n        if (endLimited > dur) {\n            endLimited = dur;\n            startLimited = dur - (endLimited - startLimited);\n        }\n        if (this.minLength != null) endLimited = Math.max(startLimited + this.minLength, endLimited);\n        if (this.maxLength != null) endLimited = Math.min(startLimited + this.maxLength, endLimited);\n        if (this.element != null) {\n            // Calculate the left and width values of the region such that\n            // no gaps appear between regions.\n            const left = Math.round(startLimited / dur * width);\n            const regionWidth = Math.round(endLimited / dur * width) - left;\n            this.style(this.element, {\n                left: left + \"px\",\n                width: regionWidth + \"px\",\n                backgroundColor: this.color,\n                cursor: this.drag ? \"move\" : \"default\"\n            });\n            for(const attrname in this.attributes)this.element.setAttribute(\"data-region-\" + attrname, this.attributes[attrname]);\n            if (this.showTooltip) this.element.title = this.formatTime(this.start, this.end);\n        }\n    }\n    /* Bind audio events. */ bindInOut() {\n        this.firedIn = false;\n        this.firedOut = false;\n        const onProcess = (time)=>{\n            let start = Math.round(this.start * 10) / 10;\n            let end = Math.round(this.end * 10) / 10;\n            time = Math.round(time * 10) / 10;\n            if (!this.firedOut && this.firedIn && (start > time || end <= time)) {\n                this.firedOut = true;\n                this.firedIn = false;\n                this.fireEvent(\"out\");\n                this.wavesurfer.fireEvent(\"region-out\", this);\n            }\n            if (!this.firedIn && start <= time && end > time) {\n                this.firedIn = true;\n                this.firedOut = false;\n                this.fireEvent(\"in\");\n                this.wavesurfer.fireEvent(\"region-in\", this);\n            }\n        };\n        this.wavesurfer.backend.on(\"audioprocess\", onProcess);\n        this.on(\"remove\", ()=>{\n            this.wavesurfer.backend.un(\"audioprocess\", onProcess);\n        });\n        /* Loop playback. */ this.on(\"out\", ()=>{\n            if (this.loop) {\n                const realTime = this.wavesurfer.getCurrentTime();\n                if (realTime >= this.start && realTime <= this.end) this.wavesurfer.play(this.start);\n            }\n        });\n    }\n    /* Bind DOM events. */ bindEvents() {\n        const preventContextMenu = this.preventContextMenu;\n        this.element.addEventListener(\"mouseenter\", (e)=>{\n            this.fireEvent(\"mouseenter\", e);\n            this.wavesurfer.fireEvent(\"region-mouseenter\", this, e);\n        });\n        this.element.addEventListener(\"mouseleave\", (e)=>{\n            this.fireEvent(\"mouseleave\", e);\n            this.wavesurfer.fireEvent(\"region-mouseleave\", this, e);\n        });\n        this.element.addEventListener(\"click\", (e)=>{\n            e.preventDefault();\n            this.fireEvent(\"click\", e);\n            this.wavesurfer.fireEvent(\"region-click\", this, e);\n        });\n        this.element.addEventListener(\"dblclick\", (e)=>{\n            e.stopPropagation();\n            e.preventDefault();\n            this.fireEvent(\"dblclick\", e);\n            this.wavesurfer.fireEvent(\"region-dblclick\", this, e);\n        });\n        this.element.addEventListener(\"contextmenu\", (e)=>{\n            if (preventContextMenu) e.preventDefault();\n            this.fireEvent(\"contextmenu\", e);\n            this.wavesurfer.fireEvent(\"region-contextmenu\", this, e);\n        });\n        /* Drag or resize on mousemove. */ if (this.drag || this.resize) this.bindDragEvents();\n        /* Edit content */ if (this.contentEditable) {\n            this.contentEl.addEventListener(\"blur\", this.onContentBlur.bind(this));\n            this.contentEl.addEventListener(\"click\", this.onContentClick.bind(this));\n        }\n        /* Remove button */ if (this.removeButton) this.removeButtonEl.addEventListener(\"click\", this.onRemove.bind(this));\n    }\n    bindDragEvents() {\n        const container = this.wavesurfer.drawer.container;\n        const scrollSpeed = this.scrollSpeed;\n        let startTime;\n        let touchId;\n        let drag;\n        let maxScroll;\n        let resize;\n        let updated = false;\n        let scrollDirection;\n        let wrapperRect;\n        let regionLeftHalfTime;\n        let regionRightHalfTime;\n        // Scroll when the user is dragging within the threshold\n        const edgeScroll = (event)=>{\n            let orientedEvent = this.util.withOrientation(event, this.vertical);\n            const duration = this.wavesurfer.getDuration();\n            if (!scrollDirection || !drag && !resize) return;\n            const x = orientedEvent.clientX;\n            let distanceBetweenCursorAndWrapperEdge = 0;\n            let regionHalfTimeWidth = 0;\n            let adjustment = 0;\n            // Get the currently selected time according to the mouse position\n            let time = this.regionsUtil.getRegionSnapToGridValue(this.wavesurfer.drawer.handleEvent(event) * duration);\n            if (drag) {\n                // Considering the point of contact with the region while edgescrolling\n                if (scrollDirection === -1) {\n                    regionHalfTimeWidth = regionLeftHalfTime * this.wavesurfer.params.minPxPerSec;\n                    distanceBetweenCursorAndWrapperEdge = x - wrapperRect.left;\n                } else {\n                    regionHalfTimeWidth = regionRightHalfTime * this.wavesurfer.params.minPxPerSec;\n                    distanceBetweenCursorAndWrapperEdge = wrapperRect.right - x;\n                }\n            } else {\n                // Considering minLength while edgescroll\n                let minLength = this.minLength;\n                if (!minLength) minLength = 0;\n                if (resize === \"start\") {\n                    if (time > this.end - minLength) {\n                        time = this.end - minLength;\n                        adjustment = scrollSpeed * scrollDirection;\n                    }\n                    if (time < 0) time = 0;\n                } else if (resize === \"end\") {\n                    if (time < this.start + minLength) {\n                        time = this.start + minLength;\n                        adjustment = scrollSpeed * scrollDirection;\n                    }\n                    if (time > duration) time = duration;\n                }\n            }\n            // Don't edgescroll if region has reached min or max limit\n            const wrapperScrollLeft = this.wrapper.scrollLeft;\n            if (scrollDirection === -1) {\n                if (Math.round(wrapperScrollLeft) === 0) return;\n                if (Math.round(wrapperScrollLeft - regionHalfTimeWidth + distanceBetweenCursorAndWrapperEdge) <= 0) return;\n            } else {\n                if (Math.round(wrapperScrollLeft) === maxScroll) return;\n                if (Math.round(wrapperScrollLeft + regionHalfTimeWidth - distanceBetweenCursorAndWrapperEdge) >= maxScroll) return;\n            }\n            // Update scroll position\n            let scrollLeft = wrapperScrollLeft - adjustment + scrollSpeed * scrollDirection;\n            if (scrollDirection === -1) {\n                const calculatedLeft = Math.max(0 + regionHalfTimeWidth - distanceBetweenCursorAndWrapperEdge, scrollLeft);\n                this.wrapper.scrollLeft = scrollLeft = calculatedLeft;\n            } else {\n                const calculatedRight = Math.min(maxScroll - regionHalfTimeWidth + distanceBetweenCursorAndWrapperEdge, scrollLeft);\n                this.wrapper.scrollLeft = scrollLeft = calculatedRight;\n            }\n            const delta = time - startTime;\n            startTime = time;\n            // Continue dragging or resizing\n            drag ? this.onDrag(delta) : this.onResize(delta, resize);\n            // Repeat\n            window.requestAnimationFrame(()=>{\n                edgeScroll(event);\n            });\n        };\n        const onDown = (event)=>{\n            const duration = this.wavesurfer.getDuration();\n            if (event.touches && event.touches.length > 1) return;\n            touchId = event.targetTouches ? event.targetTouches[0].identifier : null;\n            // stop the event propagation, if this region is resizable or draggable\n            // and the event is therefore handled here.\n            if (this.drag || this.resize) event.stopPropagation();\n            // Store the selected startTime we begun dragging or resizing\n            startTime = this.regionsUtil.getRegionSnapToGridValue(this.wavesurfer.drawer.handleEvent(event, true) * duration);\n            // Store the selected point of contact when we begin dragging\n            regionLeftHalfTime = startTime - this.start;\n            regionRightHalfTime = this.end - startTime;\n            // Store for scroll calculations\n            maxScroll = this.wrapper.scrollWidth - this.wrapper.clientWidth;\n            wrapperRect = this.util.withOrientation(this.wrapper.getBoundingClientRect(), this.vertical);\n            this.isResizing = false;\n            this.isDragging = false;\n            if (event.target.tagName.toLowerCase() === \"handle\") {\n                this.isResizing = true;\n                resize = event.target.classList.contains(\"wavesurfer-handle-start\") ? \"start\" : \"end\";\n            } else {\n                this.isDragging = true;\n                drag = true;\n                resize = false;\n            }\n        };\n        const onUp = (event)=>{\n            if (event.touches && event.touches.length > 1) return;\n            if (drag || resize) {\n                this.isDragging = false;\n                this.isResizing = false;\n                drag = false;\n                scrollDirection = null;\n                resize = false;\n            }\n            if (updated) {\n                updated = false;\n                this.util.preventClick();\n                this.fireEvent(\"update-end\", event);\n                this.wavesurfer.fireEvent(\"region-update-end\", this, event);\n            }\n        };\n        const onMove = (event)=>{\n            const duration = this.wavesurfer.getDuration();\n            let orientedEvent = this.util.withOrientation(event, this.vertical);\n            let delta = null;\n            if (event.touches && event.touches.length > 1) return;\n            if (event.targetTouches && event.targetTouches[0].identifier != touchId) return;\n            if (!drag && !resize) return;\n            const oldTime = startTime;\n            let time = this.regionsUtil.getRegionSnapToGridValue(this.wavesurfer.drawer.handleEvent(event) * duration);\n            if (drag) {\n                // To maintain relative cursor start point while dragging\n                const maxEnd = this.wavesurfer.getDuration();\n                if (time > maxEnd - regionRightHalfTime) time = maxEnd - regionRightHalfTime;\n                if (time - regionLeftHalfTime < 0) time = regionLeftHalfTime;\n            }\n            if (resize) {\n                // To maintain relative cursor start point while resizing\n                // we have to handle for minLength\n                let minLength = this.minLength;\n                if (!minLength) minLength = 0;\n                if (resize === \"start\") {\n                    if (time > this.end - minLength) time = this.end - minLength;\n                    if (time < 0) time = 0;\n                } else if (resize === \"end\") {\n                    if (time < this.start + minLength) {\n                        // Calculate the end time based on the min length of the region.\n                        time = this.start + minLength;\n                        delta = time - (this.end + (time - startTime));\n                    }\n                    if (time > duration) time = duration;\n                }\n            }\n            if (!delta) delta = time - startTime;\n            startTime = time;\n            // Drag\n            if (this.drag && drag) {\n                updated = updated || !!delta;\n                this.onDrag(delta);\n            }\n            // Resize\n            if (this.resize && resize) {\n                updated = updated || !!delta;\n                this.onResize(delta, resize);\n            }\n            if (this.scroll && container.clientWidth < this.wrapper.scrollWidth) {\n                // Triggering edgescroll from within edgeScrollWidth\n                let x = orientedEvent.clientX;\n                // Check direction\n                if (x < wrapperRect.left + this.edgeScrollWidth) scrollDirection = -1;\n                else if (x > wrapperRect.right - this.edgeScrollWidth) scrollDirection = 1;\n                else scrollDirection = null;\n                if (scrollDirection) edgeScroll(event);\n            }\n        };\n        this.element.addEventListener(\"mousedown\", onDown);\n        this.element.addEventListener(\"touchstart\", onDown);\n        document.body.addEventListener(\"mousemove\", onMove);\n        document.body.addEventListener(\"touchmove\", onMove, {\n            passive: false\n        });\n        document.addEventListener(\"mouseup\", onUp);\n        document.body.addEventListener(\"touchend\", onUp);\n        this.on(\"remove\", ()=>{\n            document.removeEventListener(\"mouseup\", onUp);\n            document.body.removeEventListener(\"touchend\", onUp);\n            document.body.removeEventListener(\"mousemove\", onMove);\n            document.body.removeEventListener(\"touchmove\", onMove);\n        });\n        this.wavesurfer.on(\"destroy\", ()=>{\n            document.removeEventListener(\"mouseup\", onUp);\n            document.body.removeEventListener(\"touchend\", onUp);\n        });\n    }\n    onDrag(delta) {\n        const maxEnd = this.wavesurfer.getDuration();\n        if (this.end + delta > maxEnd) delta = maxEnd - this.end;\n        if (this.start + delta < 0) delta = this.start * -1;\n        const eventParams = {\n            direction: this._getDragDirection(delta),\n            action: \"drag\"\n        };\n        this.update({\n            start: this.start + delta,\n            end: this.end + delta\n        }, eventParams);\n    }\n    /**\n     * Returns the direction of dragging region based on delta\n     * Negative delta means region is moving to the left\n     * Positive - to the right\n     * For zero delta the direction is not defined\n     * @param {number} delta Drag offset\n     * @returns {string|null} Direction 'left', 'right' or null\n     */ _getDragDirection(delta) {\n        if (delta < 0) return \"left\";\n        if (delta > 0) return \"right\";\n        return null;\n    }\n    /**\n     * @example\n     * onResize(-5, 'start') // Moves the start point 5 seconds back\n     * onResize(0.5, 'end') // Moves the end point 0.5 seconds forward\n     *\n     * @param {number} delta How much to add or subtract, given in seconds\n     * @param {string} direction 'start 'or 'end'\n     */ onResize(delta, direction) {\n        const duration = this.wavesurfer.getDuration();\n        const eventParams = {\n            action: \"resize\",\n            direction: direction === \"start\" ? \"left\" : \"right\"\n        };\n        if (direction === \"start\") {\n            // Check if changing the start by the given delta would result in the region being smaller than minLength\n            if (delta > 0 && this.end - (this.start + delta) < this.minLength) delta = this.end - this.minLength - this.start;\n            // Check if changing the start by the given delta would result in the region being larger than maxLength\n            if (delta < 0 && this.end - (this.start + delta) > this.maxLength) delta = this.end - this.start - this.maxLength;\n            if (delta < 0 && this.start + delta < 0) delta = this.start * -1;\n            this.update({\n                start: Math.min(this.start + delta, this.end),\n                end: Math.max(this.start + delta, this.end)\n            }, eventParams);\n        } else {\n            // Check if changing the end by the given delta would result in the region being smaller than minLength\n            if (delta < 0 && this.end + delta - this.start < this.minLength) delta = this.start + this.minLength - this.end;\n            // Check if changing the end by the given delta would result in the region being larger than maxLength\n            if (delta > 0 && this.end + delta - this.start > this.maxLength) delta = this.maxLength - (this.end - this.start);\n            if (delta > 0 && this.end + delta > duration) delta = duration - this.end;\n            this.update({\n                start: Math.min(this.end + delta, this.start),\n                end: Math.max(this.end + delta, this.start)\n            }, eventParams);\n        }\n    }\n    onContentBlur(event) {\n        const { text: oldText } = this.data || {};\n        const text = event.target.innerText;\n        const data = {\n            ...this.data,\n            text: text\n        };\n        const eventParams = {\n            action: \"contentEdited\",\n            oldText: oldText,\n            text: text\n        };\n        this.update({\n            data: data\n        }, eventParams);\n    }\n    onContentClick(event) {\n        event.stopPropagation();\n    }\n    onRemove(event) {\n        event.stopPropagation();\n        this.remove();\n    }\n    updateHandlesResize(resize) {\n        let cursorStyle;\n        if (resize) cursorStyle = this.vertical ? \"row-resize\" : \"col-resize\";\n        else cursorStyle = \"auto\";\n        this.handleLeftEl && this.style(this.handleLeftEl, {\n            cursor: cursorStyle\n        });\n        this.handleRightEl && this.style(this.handleRightEl, {\n            cursor: cursorStyle\n        });\n    }\n}\n\n\nclass $296952d52dc35aee$export$2e2bcd8739ae039 {\n    /**\n     * Regions plugin definition factory\n     *\n     * This function must be used to create a plugin definition which can be\n     * used by wavesurfer to correctly instantiate the plugin.\n     *\n     * @param {RegionsPluginParams} params parameters use to initialise the plugin\n     * @return {PluginDefinition} an object representing the plugin\n     */ static create(params) {\n        return {\n            name: \"regions\",\n            deferInit: params && params.deferInit ? params.deferInit : false,\n            params: params,\n            staticProps: {\n                addRegion (options) {\n                    if (!this.initialisedPluginList.regions) this.initPlugin(\"regions\");\n                    return this.regions.add(options);\n                },\n                clearRegions () {\n                    this.regions && this.regions.clear();\n                },\n                enableDragSelection (options) {\n                    if (!this.initialisedPluginList.regions) this.initPlugin(\"regions\");\n                    this.regions.enableDragSelection(options);\n                },\n                disableDragSelection () {\n                    this.regions.disableDragSelection();\n                }\n            },\n            instance: $296952d52dc35aee$export$2e2bcd8739ae039\n        };\n    }\n    constructor(params, ws){\n        this.params = params;\n        this.wavesurfer = ws;\n        this.util = {\n            ...ws.util,\n            getRegionSnapToGridValue: (value)=>{\n                return this.getRegionSnapToGridValue(value, params);\n            }\n        };\n        this.maxRegions = params.maxRegions;\n        this.regionsMinLength = params.regionsMinLength || null;\n        // turn the plugin instance into an observer\n        const observerPrototypeKeys = Object.getOwnPropertyNames(this.util.Observer.prototype);\n        observerPrototypeKeys.forEach((key)=>{\n            (0, $4ac106abcad1bf23$export$b1f97c3099fc6872).prototype[key] = this.util.Observer.prototype[key];\n        });\n        this.wavesurfer.Region = (0, $4ac106abcad1bf23$export$b1f97c3099fc6872);\n        // By default, scroll the container if the user drags a region\n        // within 5% (based on its initial size) of its edge\n        const scrollWidthProportion = 0.05;\n        this._onBackendCreated = ()=>{\n            this.wrapper = this.wavesurfer.drawer.wrapper;\n            this.orientation = this.wavesurfer.drawer.orientation;\n            this.defaultEdgeScrollWidth = this.wrapper.clientWidth * scrollWidthProportion;\n            if (this.params.regions) this.params.regions.forEach((region)=>{\n                this.add(region);\n            });\n        };\n        // Id-based hash of regions\n        this.list = {};\n        this._onReady = ()=>{\n            this.wrapper = this.wavesurfer.drawer.wrapper;\n            this.vertical = this.wavesurfer.drawer.params.vertical;\n            if (this.params.dragSelection) this.enableDragSelection(this.params);\n            Object.keys(this.list).forEach((id)=>{\n                this.list[id].updateRender();\n            });\n        };\n    }\n    init() {\n        // Check if ws is ready\n        if (this.wavesurfer.isReady) {\n            this._onBackendCreated();\n            this._onReady();\n        } else {\n            this.wavesurfer.once(\"ready\", this._onReady);\n            this.wavesurfer.once(\"backend-created\", this._onBackendCreated);\n        }\n    }\n    destroy() {\n        this.wavesurfer.un(\"ready\", this._onReady);\n        this.wavesurfer.un(\"backend-created\", this._onBackendCreated);\n        // Disabling `region-removed' because destroying the plugin calls\n        // the Region.remove() method that is also used to remove regions based\n        // on user input. This can cause confusion since teardown is not a\n        // user event, but would emit `region-removed` as if it was.\n        this.wavesurfer.setDisabledEventEmissions([\n            \"region-removed\"\n        ]);\n        this.disableDragSelection();\n        this.clear();\n    }\n    /**\n     * check to see if adding a new region would exceed maxRegions\n     * @return {boolean} whether we should proceed and create a region\n     * @private\n     */ wouldExceedMaxRegions() {\n        return this.maxRegions && Object.keys(this.list).length >= this.maxRegions;\n    }\n    /**\n     * Add a region\n     *\n     * @param {object} params Region parameters\n     * @return {Region} The created region\n     */ add(params) {\n        if (this.wouldExceedMaxRegions()) return null;\n        params = {\n            edgeScrollWidth: this.params.edgeScrollWidth || this.defaultEdgeScrollWidth,\n            contentEditable: this.params.contentEditable,\n            removeButton: this.params.removeButton,\n            ...params\n        };\n        // Take formatTimeCallback from plugin params if not already set\n        if (!params.formatTimeCallback && this.params.formatTimeCallback) params = {\n            ...params,\n            formatTimeCallback: this.params.formatTimeCallback\n        };\n        if (!params.minLength && this.regionsMinLength) params = {\n            ...params,\n            minLength: this.regionsMinLength\n        };\n        const region = new this.wavesurfer.Region(params, this.util, this.wavesurfer);\n        this.list[region.id] = region;\n        region.on(\"remove\", ()=>{\n            delete this.list[region.id];\n        });\n        return region;\n    }\n    /**\n     * Remove all regions\n     */ clear() {\n        Object.keys(this.list).forEach((id)=>{\n            this.list[id].remove();\n        });\n    }\n    enableDragSelection(params) {\n        this.disableDragSelection();\n        const slop = params.slop || 2;\n        const container = this.wavesurfer.drawer.container;\n        const scroll = params.scroll !== false && this.wavesurfer.params.scrollParent;\n        const scrollSpeed = params.scrollSpeed || 1;\n        const scrollThreshold = params.scrollThreshold || 10;\n        let drag;\n        let duration = this.wavesurfer.getDuration();\n        let maxScroll;\n        let start;\n        let region;\n        let touchId;\n        let pxMove = 0;\n        let scrollDirection;\n        let wrapperRect;\n        // Scroll when the user is dragging within the threshold\n        const edgeScroll = (e)=>{\n            if (!region || !scrollDirection) return;\n            // Update scroll position\n            let scrollLeft = this.wrapper.scrollLeft + scrollSpeed * scrollDirection;\n            this.wrapper.scrollLeft = scrollLeft = Math.min(maxScroll, Math.max(0, scrollLeft));\n            // Update range\n            const end = this.wavesurfer.drawer.handleEvent(e);\n            region.update({\n                start: Math.min(end * duration, start * duration),\n                end: Math.max(end * duration, start * duration)\n            });\n            // Check that there is more to scroll and repeat\n            if (scrollLeft < maxScroll && scrollLeft > 0) window.requestAnimationFrame(()=>{\n                edgeScroll(e);\n            });\n        };\n        const eventDown = (e)=>{\n            if (e.touches && e.touches.length > 1) return;\n            duration = this.wavesurfer.getDuration();\n            touchId = e.targetTouches ? e.targetTouches[0].identifier : null;\n            // Store for scroll calculations\n            maxScroll = this.wrapper.scrollWidth - this.wrapper.clientWidth;\n            wrapperRect = this.util.withOrientation(this.wrapper.getBoundingClientRect(), this.vertical);\n            // set the region channel index based on the clicked area\n            if (this.wavesurfer.params.splitChannels && this.wavesurfer.params.splitChannelsOptions.splitDragSelection) {\n                const y = (e.touches ? e.touches[0].clientY : e.clientY) - wrapperRect.top;\n                const channelCount = this.wavesurfer.backend.buffer != null ? this.wavesurfer.backend.buffer.numberOfChannels : 1;\n                const channelHeight = this.wrapper.clientHeight / channelCount;\n                const channelIdx = Math.floor(y / channelHeight);\n                params.channelIdx = channelIdx;\n                const channelColors = this.wavesurfer.params.splitChannelsOptions.channelColors[channelIdx];\n                if (channelColors && channelColors.dragColor) params.color = channelColors.dragColor;\n            }\n            drag = true;\n            start = this.wavesurfer.drawer.handleEvent(e, true);\n            region = null;\n            scrollDirection = null;\n        };\n        this.wrapper.addEventListener(\"mousedown\", eventDown);\n        this.wrapper.addEventListener(\"touchstart\", eventDown);\n        this.on(\"disable-drag-selection\", ()=>{\n            this.wrapper.removeEventListener(\"touchstart\", eventDown);\n            this.wrapper.removeEventListener(\"mousedown\", eventDown);\n        });\n        const eventUp = (e)=>{\n            if (e.touches && e.touches.length > 1) return;\n            drag = false;\n            pxMove = 0;\n            scrollDirection = null;\n            if (region) {\n                this.util.preventClick();\n                region.fireEvent(\"update-end\", e);\n                this.wavesurfer.fireEvent(\"region-update-end\", region, e);\n            }\n            region = null;\n        };\n        this.wrapper.addEventListener(\"mouseleave\", eventUp);\n        this.wrapper.addEventListener(\"mouseup\", eventUp);\n        this.wrapper.addEventListener(\"touchend\", eventUp);\n        document.body.addEventListener(\"mouseup\", eventUp);\n        document.body.addEventListener(\"touchend\", eventUp);\n        this.on(\"disable-drag-selection\", ()=>{\n            document.body.removeEventListener(\"mouseup\", eventUp);\n            document.body.removeEventListener(\"touchend\", eventUp);\n            this.wrapper.removeEventListener(\"touchend\", eventUp);\n            this.wrapper.removeEventListener(\"mouseup\", eventUp);\n            this.wrapper.removeEventListener(\"mouseleave\", eventUp);\n        });\n        const eventMove = (event)=>{\n            if (!drag) return;\n            if (++pxMove <= slop) return;\n            if (event.touches && event.touches.length > 1) return;\n            if (event.targetTouches && event.targetTouches[0].identifier != touchId) return;\n            // auto-create a region during mouse drag, unless region-count would exceed \"maxRegions\"\n            if (!region) {\n                region = this.add(params || {});\n                if (!region) return;\n            }\n            const end = this.wavesurfer.drawer.handleEvent(event);\n            const startUpdate = this.wavesurfer.regions.util.getRegionSnapToGridValue(start * duration);\n            const endUpdate = this.wavesurfer.regions.util.getRegionSnapToGridValue(end * duration);\n            region.update({\n                start: Math.min(endUpdate, startUpdate),\n                end: Math.max(endUpdate, startUpdate)\n            });\n            let orientedEvent = this.util.withOrientation(event, this.vertical);\n            // If scrolling is enabled\n            if (scroll && container.clientWidth < this.wrapper.scrollWidth) {\n                // Check threshold based on mouse\n                const x = orientedEvent.clientX - wrapperRect.left;\n                if (x <= scrollThreshold) scrollDirection = -1;\n                else if (x >= wrapperRect.right - scrollThreshold) scrollDirection = 1;\n                else scrollDirection = null;\n                scrollDirection && edgeScroll(event);\n            }\n        };\n        this.wrapper.addEventListener(\"mousemove\", eventMove);\n        this.wrapper.addEventListener(\"touchmove\", eventMove);\n        this.on(\"disable-drag-selection\", ()=>{\n            this.wrapper.removeEventListener(\"touchmove\", eventMove);\n            this.wrapper.removeEventListener(\"mousemove\", eventMove);\n        });\n        this.wavesurfer.on(\"region-created\", (region)=>{\n            if (this.regionsMinLength) region.minLength = this.regionsMinLength;\n        });\n    }\n    disableDragSelection() {\n        this.fireEvent(\"disable-drag-selection\");\n    }\n    /**\n     * Get current region\n     *\n     * The smallest region that contains the current time. If several such\n     * regions exist, take the first. Return `null` if none exist.\n     *\n     * @returns {Region} The current region\n     */ getCurrentRegion() {\n        const time = this.wavesurfer.getCurrentTime();\n        let min = null;\n        Object.keys(this.list).forEach((id)=>{\n            const cur = this.list[id];\n            if (cur.start <= time && cur.end >= time) {\n                if (!min || cur.end - cur.start < min.end - min.start) min = cur;\n            }\n        });\n        return min;\n    }\n    /**\n     * Match the value to the grid, if required\n     *\n     * If the regions plugin params have a snapToGridInterval set, return the\n     * value matching the nearest grid interval. If no snapToGridInterval is set,\n     * the passed value will be returned without modification.\n     *\n     * @param {number} value the value to snap to the grid, if needed\n     * @param {Object} params the regions plugin params\n     * @returns {number} value\n     */ getRegionSnapToGridValue(value, params) {\n        if (params.snapToGridInterval) {\n            // the regions should snap to a grid\n            const offset = params.snapToGridOffset || 0;\n            return Math.round((value - offset) / params.snapToGridInterval) * params.snapToGridInterval + offset;\n        }\n        // no snap-to-grid\n        return value;\n    }\n}\n\n\nvar $b1535fdfd8a92a6d$exports = {};\n!function(e, t) {\n    $b1535fdfd8a92a6d$exports = t();\n}(\"undefined\" != typeof self ? self : $b1535fdfd8a92a6d$exports, ()=>(()=>{\n        \"use strict\";\n        var e = {\n            d: (t, n)=>{\n                for(var r in n)e.o(n, r) && !e.o(t, r) && Object.defineProperty(t, r, {\n                    enumerable: !0,\n                    get: n[r]\n                });\n            },\n            o: (e, t)=>Object.prototype.hasOwnProperty.call(e, t),\n            r: (e)=>{\n                \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n                    value: \"Module\"\n                }), Object.defineProperty(e, \"__esModule\", {\n                    value: !0\n                });\n            }\n        }, t = {};\n        function n(e) {\n            return n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\n                return typeof e;\n            } : function(e) {\n                return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n            }, n(e);\n        }\n        function r(e) {\n            return function(e) {\n                if (Array.isArray(e)) return a(e);\n            }(e) || function(e) {\n                if (\"undefined\" != typeof Symbol && null != e[Symbol.iterator] || null != e[\"@@iterator\"]) return Array.from(e);\n            }(e) || function(e, t) {\n                if (!e) return;\n                if (\"string\" == typeof e) return a(e, t);\n                var n = Object.prototype.toString.call(e).slice(8, -1);\n                \"Object\" === n && e.constructor && (n = e.constructor.name);\n                if (\"Map\" === n || \"Set\" === n) return Array.from(e);\n                if (\"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return a(e, t);\n            }(e) || function() {\n                throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n            }();\n        }\n        function a(e, t) {\n            (null == t || t > e.length) && (t = e.length);\n            for(var n = 0, r = new Array(t); n < t; n++)r[n] = e[n];\n            return r;\n        }\n        function o(e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        function i(e, t) {\n            for(var r = 0; r < t.length; r++){\n                var a = t[r];\n                a.enumerable = a.enumerable || !1, a.configurable = !0, \"value\" in a && (a.writable = !0), Object.defineProperty(e, (o = a.key, i = void 0, i = function(e, t) {\n                    if (\"object\" !== n(e) || null === e) return e;\n                    var r = e[Symbol.toPrimitive];\n                    if (void 0 !== r) {\n                        var a = r.call(e, t || \"default\");\n                        if (\"object\" !== n(a)) return a;\n                        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n                    }\n                    return (\"string\" === t ? String : Number)(e);\n                }(o, \"string\"), \"symbol\" === n(i) ? i : String(i)), a);\n            }\n            var o, i;\n        }\n        e.r(t), e.d(t, {\n            default: ()=>u\n        });\n        var u = function() {\n            function e() {\n                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n = t.sampleRate;\n                o(this, e), this._context = this._createContext(n), n || (n = this._context.sampleRate), this._sampleRate = n;\n            }\n            var t, n, a;\n            return t = e, n = [\n                {\n                    key: \"_createContext\",\n                    value: function() {\n                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 44100;\n                        return window.AudioContext = window.AudioContext || window.webkitAudioContext || window.mozAudioContext, new AudioContext({\n                            sampleRate: e\n                        });\n                    }\n                },\n                {\n                    key: \"context\",\n                    get: function() {\n                        return this._context;\n                    }\n                },\n                {\n                    key: \"fetchAudio\",\n                    value: async function() {\n                        for(var e = this, t = arguments.length, n = new Array(t), r = 0; r < t; r++)n[r] = arguments[r];\n                        return await Promise.all(n.map(async function(t) {\n                            var n;\n                            return n = t instanceof File || t instanceof Blob ? await t.arrayBuffer() : await fetch(t).then(function(e) {\n                                return e.headers.has(\"Content-Type\") && !e.headers.get(\"Content-Type\").includes(\"audio/\") && console.warn(\"Crunker: Attempted to fetch an audio file, but its MIME type is `\".concat(e.headers.get(\"Content-Type\").split(\";\")[0], \"`. We'll try and continue anyway. (file: \\\"\").concat(t, '\")')), e.arrayBuffer();\n                            }), await e._context.decodeAudioData(n);\n                        }));\n                    }\n                },\n                {\n                    key: \"mergeAudio\",\n                    value: function(e) {\n                        var t = this._context.createBuffer(this._maxNumberOfChannels(e), this._sampleRate * this._maxDuration(e), this._sampleRate);\n                        return e.forEach(function(e) {\n                            for(var n = 0; n < e.numberOfChannels; n++){\n                                for(var r = t.getChannelData(n), a = e.getChannelData(n), o = e.getChannelData(n).length - 1; o >= 0; o--)r[o] += a[o];\n                                t.getChannelData(n).set(r);\n                            }\n                        }), t;\n                    }\n                },\n                {\n                    key: \"concatAudio\",\n                    value: function(e) {\n                        var t = this._context.createBuffer(this._maxNumberOfChannels(e), this._totalLength(e), this._sampleRate), n = 0;\n                        return e.forEach(function(e) {\n                            for(var r = 0; r < e.numberOfChannels; r++)t.getChannelData(r).set(e.getChannelData(r), n);\n                            n += e.length;\n                        }), t;\n                    }\n                },\n                {\n                    key: \"padAudio\",\n                    value: function(e) {\n                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;\n                        if (0 === n) return e;\n                        if (t < 0) throw new Error('Crunker: Parameter \"padStart\" in padAudio must be positive');\n                        if (n < 0) throw new Error('Crunker: Parameter \"seconds\" in padAudio must be positive');\n                        for(var r = this._context.createBuffer(e.numberOfChannels, Math.ceil(e.length + n * e.sampleRate), e.sampleRate), a = 0; a < e.numberOfChannels; a++){\n                            var o = e.getChannelData(a);\n                            r.getChannelData(a).set(o.subarray(0, Math.ceil(t * e.sampleRate) + 1), 0), r.getChannelData(a).set(o.subarray(Math.ceil(t * e.sampleRate) + 2, r.length + 1), Math.ceil((t + n) * e.sampleRate));\n                        }\n                        return r;\n                    }\n                },\n                {\n                    key: \"sliceAudio\",\n                    value: function(e, t, n) {\n                        var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, a = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0;\n                        if (t >= n) throw new Error('Crunker: \"start\" time should be less than \"end\" time in sliceAudio method');\n                        for(var o = Math.round((n - t) * this._sampleRate), i = Math.round(t * this._sampleRate), u = this._context.createBuffer(e.numberOfChannels, o, this._sampleRate), l = 0; l < e.numberOfChannels; l++)for(var s = e.getChannelData(l), f = u.getChannelData(l), c = 0; c < o; c++)f[c] = s[i + c], c < r * this._sampleRate && (f[c] *= c / (r * this._sampleRate)), c > o - a * this._sampleRate && (f[c] *= (o - c) / (a * this._sampleRate));\n                        return u;\n                    }\n                },\n                {\n                    key: \"play\",\n                    value: function(e) {\n                        var t = this._context.createBufferSource();\n                        return t.buffer = e, t.connect(this._context.destination), t.start(), t;\n                    }\n                },\n                {\n                    key: \"export\",\n                    value: function(e) {\n                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"audio/wav\", n = this._interleave(e), r = this._writeHeaders(n, e.numberOfChannels, e.sampleRate), a = new Blob([\n                            r\n                        ], {\n                            type: t\n                        });\n                        return {\n                            blob: a,\n                            url: this._renderURL(a),\n                            element: this._renderAudioElement(a)\n                        };\n                    }\n                },\n                {\n                    key: \"download\",\n                    value: function(e) {\n                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"crunker\", n = document.createElement(\"a\");\n                        return n.style.display = \"none\", n.href = this._renderURL(e), n.download = \"\".concat(t, \".\").concat(e.type.split(\"/\")[1]), n.click(), n;\n                    }\n                },\n                {\n                    key: \"notSupported\",\n                    value: function(e) {\n                        return this._isSupported() ? void 0 : e();\n                    }\n                },\n                {\n                    key: \"close\",\n                    value: function() {\n                        return this._context.close(), this;\n                    }\n                },\n                {\n                    key: \"_maxDuration\",\n                    value: function(e) {\n                        return Math.max.apply(Math, r(e.map(function(e) {\n                            return e.duration;\n                        })));\n                    }\n                },\n                {\n                    key: \"_maxNumberOfChannels\",\n                    value: function(e) {\n                        return Math.max.apply(Math, r(e.map(function(e) {\n                            return e.numberOfChannels;\n                        })));\n                    }\n                },\n                {\n                    key: \"_totalLength\",\n                    value: function(e) {\n                        return e.map(function(e) {\n                            return e.length;\n                        }).reduce(function(e, t) {\n                            return e + t;\n                        }, 0);\n                    }\n                },\n                {\n                    key: \"_isSupported\",\n                    value: function() {\n                        return \"AudioContext\" in window || \"webkitAudioContext\" in window || \"mozAudioContext\" in window;\n                    }\n                },\n                {\n                    key: \"_writeHeaders\",\n                    value: function(e, t, n) {\n                        var r = 2 * t, a = 2 * e.length, o = 36 + a, i = new ArrayBuffer(8 + o), u = new DataView(i);\n                        return this._writeString(u, 0, \"RIFF\"), u.setUint32(4, o, !0), this._writeString(u, 8, \"WAVE\"), this._writeString(u, 12, \"fmt \"), u.setUint32(16, 16, !0), u.setUint16(20, 1, !0), u.setUint16(22, t, !0), u.setUint32(24, n, !0), u.setUint32(28, n * r, !0), u.setUint16(32, r, !0), u.setUint16(34, 16, !0), this._writeString(u, 36, \"data\"), u.setUint32(40, a, !0), this._floatTo16BitPCM(u, e, 44);\n                    }\n                },\n                {\n                    key: \"_floatTo16BitPCM\",\n                    value: function(e, t, n) {\n                        for(var r = 0; r < t.length; r++, n += 2){\n                            var a = Math.max(-1, Math.min(1, t[r]));\n                            e.setInt16(n, a < 0 ? 32768 * a : 32767 * a, !0);\n                        }\n                        return e;\n                    }\n                },\n                {\n                    key: \"_writeString\",\n                    value: function(e, t, n) {\n                        for(var r = 0; r < n.length; r++)e.setUint8(t + r, n.charCodeAt(r));\n                    }\n                },\n                {\n                    key: \"_interleave\",\n                    value: function(e) {\n                        if (1 === e.numberOfChannels) return e.getChannelData(0);\n                        for(var t = [], n = 0; n < e.numberOfChannels; n++)t.push(e.getChannelData(n));\n                        for(var r = t.reduce(function(e, t) {\n                            return e + t.length;\n                        }, 0), a = new Float32Array(r), o = 0, i = 0; o < r;)t.forEach(function(e) {\n                            a[o++] = e[i];\n                        }), i++;\n                        return a;\n                    }\n                },\n                {\n                    key: \"_renderAudioElement\",\n                    value: function(e) {\n                        var t = document.createElement(\"audio\");\n                        return t.controls = !0, t.src = this._renderURL(e), t;\n                    }\n                },\n                {\n                    key: \"_renderURL\",\n                    value: function(e) {\n                        return (window.URL || window.webkitURL).createObjectURL(e);\n                    }\n                }\n            ], n && i(t.prototype, n), a && i(t, a), Object.defineProperty(t, \"prototype\", {\n                writable: !1\n            }), e;\n        }();\n        return t;\n    })());\n\n\nclass $89a526520f8a12b4$export$2e2bcd8739ae039 {\n    constructor(morphaweb){\n        this.morphaweb = morphaweb;\n        this.overlay = document.getElementById(\"overlay\");\n        this.messageOverlay = document.getElementById(\"message-overlay\");\n        this.messageText = document.getElementById(\"message-text\");\n        this.crunker = new (0, (/*@__PURE__*/$parcel$interopDefault($b1535fdfd8a92a6d$exports)))({\n            sampleRate: 48000\n        });\n        document.addEventListener(\"dragover\", this.allowDrop.bind(this));\n        document.addEventListener(\"drop\", this.onDrop.bind(this));\n    }\n    allowDrop(e) {\n        this.overlayShow();\n        e.preventDefault();\n    }\n    showMessage(text, duration = 10000) {\n        this.messageText.textContent = text;\n        this.messageOverlay.classList.add(\"show\");\n        setTimeout(()=>{\n            this.messageOverlay.classList.remove(\"show\");\n        }, duration);\n    }\n    async loadFiles(files) {\n        const MAX_DURATION_SECONDS = 174; // 2.9 minutes in seconds\n        let audioBuffers = [];\n        let audioCtx = new AudioContext();\n        let markers = [];\n        let offset = 0;\n        const fileArray = [\n            ...files\n        ];\n        const promise = fileArray.map(async (file)=>{\n            console.log(file);\n            await file.arrayBuffer().then(async (buf)=>{\n                console.log(`Number of channels: ${buf.length}`);\n                const p = await audioCtx.decodeAudioData(buf).then(async (buf)=>{\n                    if (buf.duration > MAX_DURATION_SECONDS) {\n                        const truncatedBuffer = audioCtx.createBuffer(buf.numberOfChannels, Math.floor(MAX_DURATION_SECONDS * buf.sampleRate), buf.sampleRate);\n                        for(let channel = 0; channel < buf.numberOfChannels; channel++)truncatedBuffer.copyToChannel(buf.getChannelData(channel).slice(0, Math.floor(MAX_DURATION_SECONDS * buf.sampleRate)), channel);\n                        this.showMessage(`Audio file longer than ${MAX_DURATION_SECONDS / 60} minutes. It has been truncated.`);\n                        buf = truncatedBuffer;\n                    }\n                    let m = await this.morphaweb.wavHandler.getMarkersFromFile(file);\n                    m = m.map((mm, i)=>{\n                        mm.position += offset;\n                        return mm;\n                    });\n                    markers.push(...m);\n                    // add marker between multiple files\n                    markers.push({\n                        position: buf.duration * 1000\n                    });\n                    offset += buf.duration * 1000;\n                    audioBuffers.push(buf);\n                }, ()=>{\n                    this.morphaweb.track(\"ErrorFileUploadMarkers\");\n                });\n                return p;\n            }, ()=>{\n                this.morphaweb.track(\"ErrorFileUpload\");\n            });\n        });\n        const resolvedPromises = await Promise.all(promise);\n        markers.pop();\n        const concatted = this.crunker.concatAudio(audioBuffers);\n        const ex = this.crunker.export(concatted, \"audio/wav\");\n        const obj = {\n            blob: ex.blob,\n            markers: markers\n        };\n        return obj;\n    }\n    onDrop(e) {\n        e.preventDefault();\n        this.overlayHide();\n        this.morphaweb.wavesurfer.clearMarkers();\n        this.loadFiles(e.dataTransfer.files).then((res)=>{\n            this.morphaweb.wavesurfer.loadBlob(res.blob);\n            this.morphaweb.wavHandler.markers = res.markers;\n        });\n    }\n    overlayShow() {\n        this.overlay.style.display = \"block\";\n    }\n    overlayHide() {\n        this.overlay.style.display = \"none\";\n    }\n}\n\n\n\nvar $1WSnx = parcelRequire(\"1WSnx\");\nclass $c57c93cded660f0c$export$2e2bcd8739ae039 {\n    constructor(morphaweb){\n        this.morphaweb = morphaweb;\n        this.playButton = document.getElementById(\"play\");\n        this.pauseButton = document.getElementById(\"pause\");\n        this.exportButton = document.getElementById(\"export\");\n        this.sliceButton = document.getElementById(\"auto-slice\");\n        this.sliceCountInput = document.getElementById(\"slice-count\");\n        this.detectOnsetsButton = document.getElementById(\"detect-onsets\");\n        this.divideMarkersButton = document.getElementById(\"divide-markers\");\n        // Initial state - disable buttons\n        this.setButtonsState(true);\n        // Add listeners\n        this.exportButton.addEventListener(\"click\", this.exportWavFile);\n        this.playButton.addEventListener(\"click\", this.play);\n        this.pauseButton.addEventListener(\"click\", this.pause);\n        this.sliceButton.addEventListener(\"click\", this.handleAutoSlice);\n        this.detectOnsetsButton.addEventListener(\"click\", this.handleOnsetDetection);\n        this.divideMarkersButton.addEventListener(\"click\", this.divideMarkersByTwo);\n        this.sliceCountInput.addEventListener(\"input\", this.validateSliceCount);\n        document.addEventListener(\"keydown\", this.onKeydown.bind(this));\n        this.morphaweb.wavesurfer.on(\"seek\", this.onSeek.bind(this));\n        this.morphaweb.wavesurfer.on(\"finish\", this.onFinish.bind(this));\n        this.morphaweb.wavesurfer.on(\"ready\", ()=>this.setButtonsState(false));\n        window.addEventListener(\"wheel\", (0, $1WSnx.throttle)(this.onWheel.bind(this), 10));\n        document.addEventListener(\"markers-changed\", this.updateDivideButton.bind(this));\n        // Initial states\n        this.updateDivideButton();\n        this.validateSliceCount();\n    }\n    setButtonsState = (disabled)=>{\n        this.playButton.disabled = disabled;\n        this.pauseButton.disabled = disabled;\n        this.exportButton.disabled = disabled;\n        this.sliceButton.disabled = disabled;\n        this.detectOnsetsButton.disabled = disabled;\n        this.sliceCountInput.disabled = disabled;\n    // Don't enable divide button here as it has its own logic\n    };\n    validateSliceCount = ()=>{\n        const value = parseInt(this.sliceCountInput.value);\n        const min = parseInt(this.sliceCountInput.min);\n        if (isNaN(value) || value < min) this.sliceCountInput.value = min;\n        // Disable slice button if no valid number or no audio loaded\n        this.sliceButton.disabled = isNaN(value) || value < min || this.morphaweb.wavesurfer.getDuration() === 0;\n    };\n    exportWavFile = ()=>{\n        try {\n            if (this.morphaweb.wavesurfer.getDuration() === 0) return false;\n            //if()\n            const buffer = [\n                this.morphaweb.wavesurfer.backend.buffer.getChannelData(0)\n            ];\n            try {\n                buffer.push(this.morphaweb.wavesurfer.backend.buffer.getChannelData(1));\n            } catch (error) {\n                // Duplicate L channel to R channel\n                buffer.push(this.morphaweb.wavesurfer.backend.buffer.getChannelData(0));\n                console.log(\"No second channel\");\n            }\n            const markers = this.morphaweb.wavesurfer.markers.markers;\n            this.morphaweb.wavHandler.createFileFromBuffer(buffer, markers);\n        } catch (error) {\n            console.log(error);\n            this.morphaweb.track(\"ErrorExportWavFile\");\n        }\n    };\n    play = ()=>{\n        if (this.morphaweb.wavesurfer.isPlaying()) this.morphaweb.wavesurfer.seekTo(0);\n        this.morphaweb.wavesurfer.play();\n    };\n    pause = ()=>{\n        this.morphaweb.wavesurfer.pause();\n    };\n    playToggle = ()=>{\n        if (this.morphaweb.wavesurfer.isPlaying()) this.morphaweb.wavesurfer.pause();\n        else this.morphaweb.wavesurfer.play();\n    };\n    onSeek = (p)=>{\n        this.morphaweb.playOffset = p;\n        this.morphaweb.markerHandler.removeTopMarker(\"top\");\n        this.morphaweb.markerHandler.createMarker(this.morphaweb.playOffset * this.morphaweb.wavesurfer.getDuration(), \"top\");\n        this.morphaweb.wavesurfer.play();\n    };\n    onFinish = ()=>{\n    // Do nothing\n    };\n    onWheel = (e)=>{\n        if (this.morphaweb.scrollPos + e.deltaY >= this.morphaweb.scrollMin) {\n            this.morphaweb.scrollPos = this.morphaweb.scrollPos + e.deltaY;\n            this.morphaweb.wavesurfer.zoom(this.morphaweb.scrollPos);\n        }\n    };\n    onKeydown = (e)=>{\n        switch(e.key){\n            case \"j\":\n            case \"J\":\n                this.morphaweb.markerHandler.createMarkerAtCurrentPosition();\n                break;\n            case \"k\":\n            case \"K\":\n                this.morphaweb.markerHandler.removeSelectedMarker();\n                break;\n            case \" \":\n                this.playToggle();\n                break;\n        }\n    };\n    handleAutoSlice = ()=>{\n        if (this.morphaweb.wavesurfer.getDuration() === 0) return false;\n        const numberOfSlices = parseInt(this.sliceCountInput.value);\n        this.morphaweb.markerHandler.clearAllMarkers();\n        this.morphaweb.markerHandler.createAutoSlices(numberOfSlices);\n        this.morphaweb.track(\"AutoSlice\");\n    };\n    handleOnsetDetection = ()=>{\n        try {\n            if (this.morphaweb.wavesurfer.getDuration() === 0) return false;\n            this.morphaweb.detectOnsets();\n            this.morphaweb.track(\"OnsetDetection\");\n        } catch (error) {\n            this.morphaweb.track(\"ErrorOnsetDetection\");\n        }\n    };\n    updateDivideButton = (event)=>{\n        const markerCount = this.morphaweb.markerHandler.getBottomMarkers().length;\n        this.divideMarkersButton.disabled = markerCount < 2;\n    };\n    divideMarkersByTwo = ()=>{\n        try {\n            if (!this.morphaweb.markerHandler.hasEnoughMarkers()) return;\n            this.morphaweb.markerHandler.divideMarkersByTwo();\n            this.morphaweb.track(\"DivideMarkersByTwo\");\n        } catch (error) {\n            this.morphaweb.track(\"ErrorDivideMarkersByTwo\");\n        }\n    };\n}\n\n\nclass $56e6af7cf89c066e$export$2e2bcd8739ae039 {\n    constructor(morphaweb){\n        this.color = \"#ff990a\";\n        this.colorHighlight = \"#ff1111\";\n        this.colorTopMarker = \"#ff00bb\";\n        this.markers = morphaweb.wavesurfer.markers;\n        this.morphaweb = morphaweb;\n        this.morphaweb.wavesurfer.on(\"marker-click\", this.onClick.bind(this));\n        this.morphaweb.wavesurfer.on(\"marker-drag\", this.onMarkersChanged.bind(this));\n        this.morphaweb.wavesurfer.on(\"marker-remove\", this.onMarkersChanged.bind(this));\n        this.morphaweb.wavesurfer.on(\"marker-update\", this.onMarkersChanged.bind(this));\n    }\n    addMarkers = (markers)=>{\n        for (let marker of markers)this.createMarker(marker.position / 1000);\n    };\n    removeTopMarker() {\n        const i = this.markers.markers.map((m)=>m.position).indexOf(\"top\");\n        this.morphaweb.wavesurfer.markers.remove(i);\n    }\n    removeSelectedMarker() {\n        const i = this.getSelectedMarkerIndex();\n        this.markers.remove(i);\n        this.onMarkersChanged();\n    }\n    highlightMarker(time) {\n        this.markers.markers.map((m)=>{\n            if (m.position == \"bottom\") {\n                if (m.time == time) m.el.children[1].children[0].children[0].setAttribute(\"fill\", this.colorHighlight);\n                else m.el.children[1].children[0].children[0].setAttribute(\"fill\", this.color);\n            }\n        });\n    }\n    getBottomMarkers() {\n        return this.markers.markers.filter((m)=>m.position === \"bottom\");\n    }\n    getTopMarkers() {\n        return this.markers.markers.filter((m)=>m.position === \"top\");\n    }\n    getSelectedMarker() {\n        const selectedMarker = this.markers.markers.filter((m)=>m.el.children[1].children[0].children[0].getAttribute(\"fill\") === this.colorHighlight)[0];\n        return selectedMarker;\n    }\n    getSelectedMarkerIndex() {\n        const selectedMarker = this.getSelectedMarker();\n        return this.markers.markers.findIndex((m)=>m === selectedMarker);\n    }\n    getMarkerAtTime(time) {\n        const bottomMarkers = this.getBottomMarkers();\n        return bottomMarkers.indexOf(time);\n    }\n    createMarker(time, type = \"bottom\") {\n        if (type == \"bottom\" && this.getMarkerAtTime(time) != -1) return false;\n        // Get audio data and find nearest zero crossing\n        const audioData = this.morphaweb.wavesurfer.backend.buffer.getChannelData(0);\n        const sampleRate = this.morphaweb.wavesurfer.backend.buffer.sampleRate;\n        const sampleIndex = Math.round(time * sampleRate);\n        // Only snap to zero crossings for bottom markers (user-created)\n        let snappedTime = time;\n        if (type === \"bottom\" && this.morphaweb.onsetHandler) {\n            const snappedSample = this.morphaweb.onsetHandler.findNearestZeroCrossing(audioData, sampleIndex);\n            snappedTime = snappedSample / sampleRate;\n        }\n        let o = {\n            time: snappedTime,\n            position: \"bottom\",\n            color: this.color,\n            draggable: true\n        };\n        if (type == \"top\") {\n            o.position = \"top\";\n            o.color = this.colorTopMarker;\n        }\n        this.morphaweb.wavesurfer.addMarker(o);\n        this.onMarkersChanged();\n    }\n    createMarkerAtCurrentPosition() {\n        this.createMarker(this.morphaweb.playOffset * this.morphaweb.wavesurfer.getDuration(), \"bottom\");\n    }\n    onClick(e) {\n        this.highlightMarker(e.time);\n    }\n    createAutoSlices(numberOfSlices) {\n        const duration = this.morphaweb.wavesurfer.getDuration();\n        const interval = duration / numberOfSlices;\n        // Create marker at the beginning (time = 0)\n        this.createMarker(0, \"bottom\");\n        // Create markers at regular intervals\n        for(let i = 1; i < numberOfSlices; i++)this.createMarker(interval * i, \"bottom\");\n    }\n    clearAllMarkers() {\n        this.morphaweb.wavesurfer.clearMarkers();\n        this.onMarkersChanged();\n    }\n    // Add method to get all markers in time order\n    getMarkers() {\n        return this.markers.markers.sort((a, b)=>a.time - b.time);\n    }\n    // Add method to convert onset times to markers\n    createOnsetMarkers(onsets) {\n        this.clearAllMarkers();\n        onsets.forEach((onset)=>{\n            this.createMarker(onset, \"bottom\");\n        });\n    }\n    // Add method to convert markers to onset times\n    getOnsetTimes() {\n        return this.getTopMarkers().map((marker)=>marker.time).sort((a, b)=>a - b);\n    }\n    // Add method to update marker positions\n    updateMarkerPosition(index, newTime) {\n        const marker = this.markers.markers[index];\n        if (marker) {\n            marker.time = newTime;\n            this.morphaweb.wavesurfer.updateMarkerPosition(index, newTime);\n        }\n    }\n    onMarkersChanged() {\n        // Dispatch custom event when markers change\n        const event = new CustomEvent(\"markers-changed\", {\n            detail: {\n                markerCount: this.getBottomMarkers().length\n            }\n        });\n        document.dispatchEvent(event);\n    }\n    hasEnoughMarkers() {\n        return this.getBottomMarkers().length >= 2;\n    }\n    divideMarkersByTwo() {\n        if (!this.hasEnoughMarkers()) return;\n        const currentMarkers = this.getBottomMarkers().sort((a, b)=>a.time - b.time);\n        const newMarkers = currentMarkers.filter((_, index)=>index % 2 === 0);\n        this.clearAllMarkers();\n        newMarkers.forEach((marker)=>{\n            this.createMarker(marker.time, \"bottom\");\n        });\n    }\n}\n\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview The WaveFile class.\r\n * @see https://github.com/rochars/wavefile\r\n */ /** @module wavefile */ /*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2017 Brett Zamir, 2012 Niklas von Hertzen\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ const $a4f5ab6700fbda71$var$chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nfunction $a4f5ab6700fbda71$export$c564cdbbe6da493(bytes) {\n    /** @type {string} */ let base64 = \"\";\n    for(let i = 0; i < bytes.length; i += 3){\n        base64 += $a4f5ab6700fbda71$var$chars[bytes[i] >> 2];\n        base64 += $a4f5ab6700fbda71$var$chars[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n        base64 += $a4f5ab6700fbda71$var$chars[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n        base64 += $a4f5ab6700fbda71$var$chars[bytes[i + 2] & 63];\n    }\n    if (bytes.length % 3 === 2) base64 = base64.substring(0, base64.length - 1) + \"=\";\n    else if (bytes.length % 3 === 1) base64 = base64.substring(0, base64.length - 2) + \"==\";\n    return base64;\n}\nfunction $a4f5ab6700fbda71$export$2f872c0f2117be69(base64) {\n    /** @type {!Uint8Array} */ let lookup = new Uint8Array(256);\n    for(let i = 0; i < $a4f5ab6700fbda71$var$chars.length; i++)lookup[$a4f5ab6700fbda71$var$chars.charCodeAt(i)] = i;\n    /** @type {number} */ let bufferLength = base64.length * 0.75;\n    if (base64[base64.length - 1] === \"=\") {\n        bufferLength--;\n        if (base64[base64.length - 2] === \"=\") bufferLength--;\n    }\n    /** @type {!Uint8Array} */ let bytes = new Uint8Array(bufferLength);\n    for(let i = 0, j = 0; i < base64.length; i += 4){\n        /** @type {number} */ let encoded1 = lookup[base64.charCodeAt(i)];\n        /** @type {number} */ let encoded2 = lookup[base64.charCodeAt(i + 1)];\n        /** @type {number} */ let encoded3 = lookup[base64.charCodeAt(i + 2)];\n        /** @type {number} */ let encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[j++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[j++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[j++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n    return bytes;\n}\n\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview The WaveFileConverter class.\r\n * @see https://github.com/rochars/wavefile\r\n */ /*\r\n * Copyright (c) 2017-2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview A module to change the bit depth of PCM samples.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/rochars/bitdepth\r\n */ /**\r\n * Change the bit depth of PCM samples.\r\n * @param {!Array|!TypedArray} samples The original samples.\r\n * @param {string} bithDepth The original bit depth.\r\n * @param {!TypedArray} newSamples The output array.\r\n * @param {string} targetBitDepth The target bit depth.\r\n * @throws {Error} If original or target bit depths are not valid.\r\n */ function $9424423ef8bc3136$export$d4c909a3586f0f8b(samples, bithDepth, newSamples, targetBitDepth) {\n    // float to float, just copy the values\n    if ([\n        \"32f\",\n        \"64\"\n    ].indexOf(bithDepth) > -1 && [\n        \"32f\",\n        \"64\"\n    ].indexOf(targetBitDepth) > -1) {\n        newSamples.set(samples);\n        return;\n    }\n    $9424423ef8bc3136$var$validateBitDepth_(bithDepth);\n    $9424423ef8bc3136$var$validateBitDepth_(targetBitDepth);\n    /** @type {!Function} */ let toFunction = $9424423ef8bc3136$var$getBitDepthFunction_(bithDepth, targetBitDepth);\n    /** @type {!Object<string, number>} */ let options = {\n        oldMin: Math.pow(2, parseInt(bithDepth, 10)) / 2,\n        newMin: Math.pow(2, parseInt(targetBitDepth, 10)) / 2,\n        oldMax: Math.pow(2, parseInt(bithDepth, 10)) / 2 - 1,\n        newMax: Math.pow(2, parseInt(targetBitDepth, 10)) / 2 - 1\n    };\n    // sign the samples if original is 8-bit\n    $9424423ef8bc3136$var$sign8Bit_(bithDepth, samples, true);\n    // change the resolution of the samples\n    for(let i = 0, len = samples.length; i < len; i++)newSamples[i] = toFunction(samples[i], options);\n    // unsign the samples if target is 8-bit\n    $9424423ef8bc3136$var$sign8Bit_(targetBitDepth, newSamples, false);\n}\n/**\r\n * Change the bit depth from int to int.\r\n * @param {number} sample The sample.\r\n * @param {!Object<string, number>} args Data about the bit depths.\r\n * @return {number}\r\n * @private\r\n */ function $9424423ef8bc3136$var$intToInt_(sample, args) {\n    if (sample > 0) sample = parseInt(sample / args.oldMax * args.newMax, 10);\n    else sample = parseInt(sample / args.oldMin * args.newMin, 10);\n    return sample;\n}\n/**\r\n * Change the bit depth from float to int.\r\n * @param {number} sample The sample.\r\n * @param {!Object<string, number>} args Data about the bit depths.\r\n * @return {number}\r\n * @private\r\n */ function $9424423ef8bc3136$var$floatToInt_(sample, args) {\n    return parseInt(sample > 0 ? sample * args.newMax : sample * args.newMin, 10);\n}\n/**\r\n * Change the bit depth from int to float.\r\n * @param {number} sample The sample.\r\n * @param {!Object<string, number>} args Data about the bit depths.\r\n * @return {number}\r\n * @private\r\n */ function $9424423ef8bc3136$var$intToFloat_(sample, args) {\n    return sample > 0 ? sample / args.oldMax : sample / args.oldMin;\n}\n/**\r\n * Return the function to change the bit depth of a sample.\r\n * @param {string} original The original bit depth of the data.\r\n * @param {string} target The new bit depth of the data.\r\n * @return {!Function}\r\n * @private\r\n */ function $9424423ef8bc3136$var$getBitDepthFunction_(original, target) {\n    /** @type {!Function} */ let func = function(x) {\n        return x;\n    };\n    if (original != target) {\n        if ([\n            \"32f\",\n            \"64\"\n        ].includes(original)) func = $9424423ef8bc3136$var$floatToInt_;\n        else if ([\n            \"32f\",\n            \"64\"\n        ].includes(target)) func = $9424423ef8bc3136$var$intToFloat_;\n        else func = $9424423ef8bc3136$var$intToInt_;\n    }\n    return func;\n}\n/**\r\n * Validate the bit depth.\r\n * @param {string} bitDepth The original bit depth.\r\n * @throws {Error} If bit depth is not valid.\r\n * @private\r\n */ function $9424423ef8bc3136$var$validateBitDepth_(bitDepth) {\n    if (bitDepth != \"32f\" && bitDepth != \"64\" && (parseInt(bitDepth, 10) < \"8\" || parseInt(bitDepth, 10) > \"53\")) throw new Error(\"Invalid bit depth.\");\n}\n/**\r\n * Sign samples if they are 8-bit.\r\n * @param {string} bitDepth The bit depth code.\r\n * @param {!Array|!TypedArray} samples The samples.\r\n * @param {boolean} sign True to sign, false to unsign.\r\n * @private\r\n */ function $9424423ef8bc3136$var$sign8Bit_(bitDepth, samples, sign) {\n    if (bitDepth == \"8\") {\n        let factor = sign ? -128 : 128;\n        for(let i = 0, len = samples.length; i < len; i++)samples[i] = samples[i] += factor;\n    }\n}\n\n\n/*\r\n * imaadpcm: IMA ADPCM codec in JavaScript.\r\n * Copyright (c) 2018-2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2016 acida. MIT License.  \r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview IMA ADPCM codec.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/rochars/imaadpcm\r\n */ /**\r\n * @type {!Array<number>}\r\n * @private\r\n */ const $a9534e2564e30ab7$var$INDEX_TABLE = [\n    -1,\n    -1,\n    -1,\n    -1,\n    2,\n    4,\n    6,\n    8,\n    -1,\n    -1,\n    -1,\n    -1,\n    2,\n    4,\n    6,\n    8\n];\n/**\r\n * @type {!Array<number>}\r\n * @private\r\n */ const $a9534e2564e30ab7$var$STEP_TABLE = [\n    7,\n    8,\n    9,\n    10,\n    11,\n    12,\n    13,\n    14,\n    16,\n    17,\n    19,\n    21,\n    23,\n    25,\n    28,\n    31,\n    34,\n    37,\n    41,\n    45,\n    50,\n    55,\n    60,\n    66,\n    73,\n    80,\n    88,\n    97,\n    107,\n    118,\n    130,\n    143,\n    157,\n    173,\n    190,\n    209,\n    230,\n    253,\n    279,\n    307,\n    337,\n    371,\n    408,\n    449,\n    494,\n    544,\n    598,\n    658,\n    724,\n    796,\n    876,\n    963,\n    1060,\n    1166,\n    1282,\n    1411,\n    1552,\n    1707,\n    1878,\n    2066,\n    2272,\n    2499,\n    2749,\n    3024,\n    3327,\n    3660,\n    4026,\n    4428,\n    4871,\n    5358,\n    5894,\n    6484,\n    7132,\n    7845,\n    8630,\n    9493,\n    10442,\n    11487,\n    12635,\n    13899,\n    15289,\n    16818,\n    18500,\n    20350,\n    22385,\n    24623,\n    27086,\n    29794,\n    32767\n];\nfunction $a9534e2564e30ab7$export$c564cdbbe6da493(samples) {\n    /** @type {!Object} */ let state = {\n        index: 0,\n        predicted: 0,\n        step: 7\n    };\n    /** @type {!Uint8Array} */ let adpcmSamples = new Uint8Array(samples.length);\n    /** @type {!Array<number>} */ let block = [];\n    /** @type {number} */ let fileIndex = 0;\n    /** @type {number} */ let blockCount = 0;\n    for(let i = 0, len = samples.length; i < len; i++){\n        if (i % 505 == 0 && i != 0) {\n            adpcmSamples.set($a9534e2564e30ab7$var$encodeBlock(block, state), fileIndex);\n            fileIndex += 256;\n            block = [];\n            blockCount++;\n        }\n        block.push(samples[i]);\n    }\n    let samplesLength = samples.length / 2;\n    if (samplesLength % 2) samplesLength++;\n    return adpcmSamples.slice(0, samplesLength + 512 + blockCount * 4);\n}\nfunction $a9534e2564e30ab7$export$2f872c0f2117be69(adpcmSamples, blockAlign = 256) {\n    /** @type {!Object} */ let state = {\n        index: 0,\n        predicted: 0,\n        step: 7\n    };\n    /** @type {!Int16Array} */ let samples = new Int16Array(adpcmSamples.length * 2);\n    /** @type {!Array<number>} */ let block = [];\n    /** @type {number} */ let fileIndex = 0;\n    for(let i = 0, len = adpcmSamples.length; i < len; i++){\n        if (i % blockAlign == 0 && i != 0) {\n            let decoded = $a9534e2564e30ab7$var$decodeBlock(block, state);\n            samples.set(decoded, fileIndex);\n            fileIndex += decoded.length;\n            block = [];\n        }\n        block.push(adpcmSamples[i]);\n    }\n    return samples;\n}\n/**\r\n * Encode a block of 505 16-bit samples as 4-bit ADPCM samples.\r\n * @param {!Array<number>} block A sample block of 505 samples.\r\n * @param {!Object} state The encoder state.\r\n * @return {!Array<number>}\r\n */ function $a9534e2564e30ab7$var$encodeBlock(block, state) {\n    /** @type {!Array<number>} */ let adpcmSamples = $a9534e2564e30ab7$var$blockHead_(block[0], state);\n    for(let i = 3, len = block.length; i < len; i += 2){\n        /** @type {number} */ let sample2 = $a9534e2564e30ab7$var$encodeSample_(block[i], state);\n        /** @type {number} */ let sample = $a9534e2564e30ab7$var$encodeSample_(block[i + 1], state);\n        adpcmSamples.push(sample << 4 | sample2);\n    }\n    return adpcmSamples;\n}\n/**\r\n * Decode a block of ADPCM samples into 16-bit PCM samples.\r\n * @param {!Array<number>} block A adpcm sample block.\r\n * @param {!Object} state The decoder state.\r\n * @return {!Array<number>}\r\n */ function $a9534e2564e30ab7$var$decodeBlock(block, state) {\n    state.predicted = $a9534e2564e30ab7$var$sign_(block[1] << 8 | block[0]);\n    state.index = block[2];\n    state.step = $a9534e2564e30ab7$var$STEP_TABLE[state.index];\n    /** @type {!Array<number>} */ let result = [\n        state.predicted,\n        state.predicted\n    ];\n    for(let i = 4, len = block.length; i < len; i++){\n        /** @type {number} */ let original_sample = block[i];\n        /** @type {number} */ let second_sample = original_sample >> 4;\n        /** @type {number} */ let first_sample = second_sample << 4 ^ original_sample;\n        result.push($a9534e2564e30ab7$var$decodeSample_(first_sample, state));\n        result.push($a9534e2564e30ab7$var$decodeSample_(second_sample, state));\n    }\n    return result;\n}\n/**\r\n * Sign a 16-bit integer.\r\n * @param {number} num A 16-bit integer.\r\n * @return {number}\r\n * @private\r\n */ function $a9534e2564e30ab7$var$sign_(num) {\n    return num > 32768 ? num - 65536 : num;\n}\n/**\r\n * Compress a 16-bit PCM sample into a 4-bit ADPCM sample.\r\n * @param {number} sample The sample.\r\n * @param {!Object} state The encoder state.\r\n * @return {number}\r\n * @private\r\n */ function $a9534e2564e30ab7$var$encodeSample_(sample, state) {\n    /** @type {number} */ let delta = sample - state.predicted;\n    /** @type {number} */ let value = 0;\n    if (delta >= 0) value = 0;\n    else {\n        value = 8;\n        delta = -delta;\n    }\n    /** @type {number} */ let step = $a9534e2564e30ab7$var$STEP_TABLE[state.index];\n    /** @type {number} */ let diff = step >> 3;\n    if (delta > step) {\n        value |= 4;\n        delta -= step;\n        diff += step;\n    }\n    step >>= 1;\n    if (delta > step) {\n        value |= 2;\n        delta -= step;\n        diff += step;\n    }\n    step >>= 1;\n    if (delta > step) {\n        value |= 1;\n        diff += step;\n    }\n    $a9534e2564e30ab7$var$updateEncoder_(value, diff, state);\n    return value;\n}\n/**\r\n * Set the value for encoderPredicted_ and encoderIndex_\r\n * after each sample is compressed.\r\n * @param {number} value The compressed ADPCM sample\r\n * @param {number} diff The calculated difference\r\n * @param {!Object} state The encoder state.\r\n * @private\r\n */ function $a9534e2564e30ab7$var$updateEncoder_(value, diff, state) {\n    if (value & 8) state.predicted -= diff;\n    else state.predicted += diff;\n    if (state.predicted < -32768) state.predicted = -32768;\n    else if (state.predicted > 0x7fff) state.predicted = 0x7fff;\n    state.index += $a9534e2564e30ab7$var$INDEX_TABLE[value & 7];\n    if (state.index < 0) state.index = 0;\n    else if (state.index > 88) state.index = 88;\n}\n/**\r\n * Decode a 4-bit ADPCM sample into a 16-bit PCM sample.\r\n * @param {number} nibble A 4-bit adpcm sample.\r\n * @param {!Object} state The decoder state.\r\n * @return {number}\r\n * @private\r\n */ function $a9534e2564e30ab7$var$decodeSample_(nibble, state) {\n    /** @type {number} */ let difference = 0;\n    if (nibble & 4) difference += state.step;\n    if (nibble & 2) difference += state.step >> 1;\n    if (nibble & 1) difference += state.step >> 2;\n    difference += state.step >> 3;\n    if (nibble & 8) difference = -difference;\n    state.predicted += difference;\n    if (state.predicted > 32767) state.predicted = 32767;\n    else if (state.predicted < -32767) state.predicted = -32767;\n    $a9534e2564e30ab7$var$updateDecoder_(nibble, state);\n    return state.predicted;\n}\n/**\r\n * Update the index and step after decoding a sample.\r\n * @param {number} nibble A 4-bit adpcm sample.\r\n * @param {!Object} state The decoder state.\r\n * @private\r\n */ function $a9534e2564e30ab7$var$updateDecoder_(nibble, state) {\n    state.index += $a9534e2564e30ab7$var$INDEX_TABLE[nibble];\n    if (state.index < 0) state.index = 0;\n    else if (state.index > 88) state.index = 88;\n    state.step = $a9534e2564e30ab7$var$STEP_TABLE[state.index];\n}\n/**\r\n * Return the head of a ADPCM sample block.\r\n * @param {number} sample The first sample of the block.\r\n * @param {!Object} state The encoder state.\r\n * @return {!Array<number>}\r\n * @private\r\n */ function $a9534e2564e30ab7$var$blockHead_(sample, state) {\n    $a9534e2564e30ab7$var$encodeSample_(sample, state);\n    /** @type {!Array<number>} */ let adpcmSamples = [];\n    adpcmSamples.push(sample & 0xFF);\n    adpcmSamples.push(sample >> 8 & 0xFF);\n    adpcmSamples.push(state.index);\n    adpcmSamples.push(0);\n    return adpcmSamples;\n}\n\n\n/*\r\n * alawmulaw: A-Law and mu-Law codecs in JavaScript.\r\n * https://github.com/rochars/alawmulaw\r\n *\r\n * Copyright (c) 2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview A-Law codec.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/rochars/alawmulaw\r\n */ /** @type {!Array<number>} */ const $8139b5502cfd61f5$var$LOG_TABLE = [\n    1,\n    1,\n    2,\n    2,\n    3,\n    3,\n    3,\n    3,\n    4,\n    4,\n    4,\n    4,\n    4,\n    4,\n    4,\n    4,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7\n];\nfunction $8139b5502cfd61f5$export$85b47f97fc8e51f5(sample) {\n    /** @type {number} */ let compandedValue;\n    sample = sample == -32768 ? -32767 : sample;\n    /** @type {number} */ let sign = ~sample >> 8 & 0x80;\n    if (!sign) sample = sample * -1;\n    if (sample > 32635) sample = 32635;\n    if (sample >= 256) {\n        /** @type {number} */ let exponent = $8139b5502cfd61f5$var$LOG_TABLE[sample >> 8 & 0x7F];\n        /** @type {number} */ let mantissa = sample >> exponent + 3 & 0x0F;\n        compandedValue = exponent << 4 | mantissa;\n    } else compandedValue = sample >> 4;\n    return compandedValue ^ (sign ^ 0x55);\n}\nfunction $8139b5502cfd61f5$export$2cfc859be79aae1f(aLawSample) {\n    /** @type {number} */ let sign = 0;\n    aLawSample ^= 0x55;\n    if ((aLawSample & 0x80) !== 0) {\n        aLawSample &= -129;\n        sign = -1;\n    }\n    /** @type {number} */ let position = ((aLawSample & 0xF0) >> 4) + 4;\n    /** @type {number} */ let decoded = 0;\n    if (position != 4) decoded = 1 << position | (aLawSample & 0x0F) << position - 4 | 1 << position - 5;\n    else decoded = aLawSample << 1 | 1;\n    decoded = sign === 0 ? decoded : -decoded;\n    return decoded * -8;\n}\nfunction $8139b5502cfd61f5$export$c564cdbbe6da493(samples) {\n    /** @type {!Uint8Array} */ let aLawSamples = new Uint8Array(samples.length);\n    for(let i = 0, len = samples.length; i < len; i++)aLawSamples[i] = $8139b5502cfd61f5$export$85b47f97fc8e51f5(samples[i]);\n    return aLawSamples;\n}\nfunction $8139b5502cfd61f5$export$2f872c0f2117be69(samples) {\n    /** @type {!Int16Array} */ let pcmSamples = new Int16Array(samples.length);\n    for(let i = 0, len = samples.length; i < len; i++)pcmSamples[i] = $8139b5502cfd61f5$export$2cfc859be79aae1f(samples[i]);\n    return pcmSamples;\n}\n\n\n/*\r\n * alawmulaw: A-Law and mu-Law codecs in JavaScript.\r\n * https://github.com/rochars/alawmulaw\r\n *\r\n * Copyright (c) 2018-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview mu-Law codec.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/rochars/alawmulaw\r\n */ /**\r\n * @type {number}\r\n * @private\r\n */ const $16dd5637710865be$var$BIAS = 0x84;\n/**\r\n * @type {number}\r\n * @private\r\n */ const $16dd5637710865be$var$CLIP = 32635;\n/**\r\n * @type {Array<number>}\r\n * @private\r\n */ const $16dd5637710865be$var$encodeTable = [\n    0,\n    0,\n    1,\n    1,\n    2,\n    2,\n    2,\n    2,\n    3,\n    3,\n    3,\n    3,\n    3,\n    3,\n    3,\n    3,\n    4,\n    4,\n    4,\n    4,\n    4,\n    4,\n    4,\n    4,\n    4,\n    4,\n    4,\n    4,\n    4,\n    4,\n    4,\n    4,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    5,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    6,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7,\n    7\n];\n/**\r\n * @type {Array<number>}\r\n * @private\r\n */ const $16dd5637710865be$var$decodeTable = [\n    0,\n    132,\n    396,\n    924,\n    1980,\n    4092,\n    8316,\n    16764\n];\nfunction $16dd5637710865be$export$85b47f97fc8e51f5(sample) {\n    /** @type {number} */ let sign;\n    /** @type {number} */ let exponent;\n    /** @type {number} */ let mantissa;\n    /** @type {number} */ let muLawSample;\n    /** get the sample into sign-magnitude **/ sign = sample >> 8 & 0x80;\n    if (sign != 0) sample = -sample;\n    /** convert from 16 bit linear to ulaw **/ sample = sample + $16dd5637710865be$var$BIAS;\n    if (sample > $16dd5637710865be$var$CLIP) sample = $16dd5637710865be$var$CLIP;\n    exponent = $16dd5637710865be$var$encodeTable[sample >> 7 & 0xFF];\n    mantissa = sample >> exponent + 3 & 0x0F;\n    muLawSample = ~(sign | exponent << 4 | mantissa);\n    /** return the result **/ return muLawSample;\n}\nfunction $16dd5637710865be$export$2cfc859be79aae1f(muLawSample) {\n    /** @type {number} */ let sign;\n    /** @type {number} */ let exponent;\n    /** @type {number} */ let mantissa;\n    /** @type {number} */ let sample;\n    muLawSample = ~muLawSample;\n    sign = muLawSample & 0x80;\n    exponent = muLawSample >> 4 & 0x07;\n    mantissa = muLawSample & 0x0F;\n    sample = $16dd5637710865be$var$decodeTable[exponent] + (mantissa << exponent + 3);\n    if (sign != 0) sample = -sample;\n    return sample;\n}\nfunction $16dd5637710865be$export$c564cdbbe6da493(samples) {\n    /** @type {!Uint8Array} */ let muLawSamples = new Uint8Array(samples.length);\n    for(let i = 0, len = samples.length; i < len; i++)muLawSamples[i] = $16dd5637710865be$export$85b47f97fc8e51f5(samples[i]);\n    return muLawSamples;\n}\nfunction $16dd5637710865be$export$2f872c0f2117be69(samples) {\n    /** @type {!Int16Array} */ let pcmSamples = new Int16Array(samples.length);\n    for(let i = 0, len = samples.length; i < len; i++)pcmSamples[i] = $16dd5637710865be$export$2cfc859be79aae1f(samples[i]);\n    return pcmSamples;\n}\n\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview binary parser.\r\n * @see https://github.com/rochars/byte-data\r\n * @see https://github.com/rochars/wavefile\r\n */ /*\r\n * Copyright (c) 2017-2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview A function to swap endianness in byte buffers.\r\n * @see https://github.com/rochars/byte-data\r\n * @see https://github.com/rochars/wavefile\r\n */ /**\r\n * Swap the byte ordering in a buffer. The buffer is modified in place.\r\n * @param {!(Array<number>|Uint8Array)} bytes The bytes.\r\n * @param {number} offset The byte offset.\r\n * @param {number=} [start=0] The start index.\r\n * @param {number=} [end=bytes.length] The end index.\r\n */ function $7a86378ad34744a9$export$edf525f30916fbb8(bytes, offset, start = 0, end = bytes.length) {\n    for(let index = start; index < end; index += offset)$7a86378ad34744a9$var$swap_(bytes, offset, index);\n}\n/**\r\n * Swap the byte order of a value in a buffer. The buffer is modified in place.\r\n * @param {!(Array<number>|Uint8Array)} bytes The bytes.\r\n * @param {number} offset The byte offset.\r\n * @param {number} index The start index.\r\n * @private\r\n */ function $7a86378ad34744a9$var$swap_(bytes, offset, index) {\n    offset--;\n    for(let x = 0; x < offset; x++){\n        /** @type {number} */ let theByte = bytes[index + x];\n        bytes[index + x] = bytes[index + offset];\n        bytes[index + offset] = theByte;\n        offset--;\n    }\n}\n\n\n/*\r\n * Copyright (c) 2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview Encode and decode UTF8 strings to and from byte buffers.\r\n * @see https://github.com/rochars/byte-data\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://encoding.spec.whatwg.org/#the-encoding\r\n * @see https://encoding.spec.whatwg.org/#utf-8-encoder\r\n */ /**\r\n * Read a string of UTF-8 characters from a byte buffer.\r\n * Invalid characters are replaced with 'REPLACEMENT CHARACTER' (U+FFFD).\r\n * @see https://encoding.spec.whatwg.org/#the-encoding\r\n * @see https://stackoverflow.com/a/34926911\r\n * @param {!Uint8Array|!Array<number>} buffer A byte buffer.\r\n * @param {number} [start=0] The buffer index to start reading.\r\n * @param {number} [end=0] The buffer index to stop reading.\r\n *   Assumes the buffer length if undefined.\r\n * @return {string}\r\n */ function $2cf79bc33e5f0210$export$417857010dc9287f(buffer, start = 0, end = buffer.length) {\n    /** @type {string} */ let str = \"\";\n    for(let index = start; index < end;){\n        /** @type {number} */ let lowerBoundary = 0x80;\n        /** @type {number} */ let upperBoundary = 0xBF;\n        /** @type {boolean} */ let replace = false;\n        /** @type {number} */ let charCode = buffer[index++];\n        if (charCode >= 0x00 && charCode <= 0x7F) str += String.fromCharCode(charCode);\n        else {\n            /** @type {number} */ let count = 0;\n            if (charCode >= 0xC2 && charCode <= 0xDF) count = 1;\n            else if (charCode >= 0xE0 && charCode <= 0xEF) {\n                count = 2;\n                if (buffer[index] === 0xE0) lowerBoundary = 0xA0;\n                if (buffer[index] === 0xED) upperBoundary = 0x9F;\n            } else if (charCode >= 0xF0 && charCode <= 0xF4) {\n                count = 3;\n                if (buffer[index] === 0xF0) lowerBoundary = 0x90;\n                if (buffer[index] === 0xF4) upperBoundary = 0x8F;\n            } else replace = true;\n            charCode = charCode & (1 << 8 - count - 1) - 1;\n            for(let i = 0; i < count; i++){\n                if (buffer[index] < lowerBoundary || buffer[index] > upperBoundary) replace = true;\n                charCode = charCode << 6 | buffer[index] & 0x3f;\n                index++;\n            }\n            if (replace) str += String.fromCharCode(0xFFFD);\n            else if (charCode <= 0xffff) str += String.fromCharCode(charCode);\n            else {\n                charCode -= 0x10000;\n                str += String.fromCharCode((charCode >> 10 & 0x3ff) + 0xd800, (charCode & 0x3ff) + 0xdc00);\n            }\n        }\n    }\n    return str;\n}\nfunction $2cf79bc33e5f0210$export$2a703dbb0cb35339(str, buffer, index = 0) {\n    /** @type {number} */ let i = 0;\n    /** @type {number} */ let len = str.length;\n    while(i < len){\n        /** @type {number} */ let codePoint = str.codePointAt(i);\n        if (codePoint < 128) {\n            buffer[index] = codePoint;\n            index++;\n        } else {\n            /** @type {number} */ let count = 0;\n            /** @type {number} */ let offset = 0;\n            if (codePoint <= 0x07FF) {\n                count = 1;\n                offset = 0xC0;\n            } else if (codePoint <= 0xFFFF) {\n                count = 2;\n                offset = 0xE0;\n            } else if (codePoint <= 0x10FFFF) {\n                count = 3;\n                offset = 0xF0;\n                i++;\n            }\n            buffer[index] = (codePoint >> 6 * count) + offset;\n            index++;\n            while(count > 0){\n                buffer[index] = 0x80 | codePoint >> 6 * (count - 1) & 0x3F;\n                index++;\n                count--;\n            }\n        }\n        i++;\n    }\n    return index;\n}\n\n\n/*\r\n * Copyright (c) 2017-2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview Encode and decode int numbers to and from byte buffers.\r\n * @see https://github.com/rochars/byte-data\r\n * @see https://github.com/rochars/wavefile\r\n */ /**\r\n * A class to write and read integer numbers to and from byte buffers.\r\n */ class $aaa4e9056b7df5b4$export$911c45d9017e8bd8 {\n    /**\r\n   * @param {number} bits The number of bits used by the integer.\r\n   * @param {boolean} [signed=false] True for signed, false otherwise.\r\n   */ constructor(bits, signed = false){\n        /**\r\n     * The number of bits used by one number.\r\n     * @type {number}\r\n     */ this.bits = bits;\n        /**\r\n     * The number of bytes used by one number.\r\n     * @type {number}\r\n     */ this.offset = Math.ceil(bits / 8);\n        /**\r\n     * @type {number}\r\n     * @protected\r\n     */ this.max = Math.pow(2, bits) - 1;\n        /**\r\n     * @type {number}\r\n     * @protected\r\n     */ this.min = 0;\n        /**\r\n     * @type {Function}\r\n     */ this.unpack = this.unpack_;\n        if (signed) {\n            this.max = Math.pow(2, bits) / 2 - 1;\n            this.min = -this.max - 1;\n            this.unpack = this.unpackSigned_;\n        }\n    }\n    /**\r\n   * Write one unsigned integer to a byte buffer.\r\n   * @param {!(Uint8Array|Array<number>)} buffer An array of bytes.\r\n   * @param {number} num The number. Overflows are truncated.\r\n   * @param {number} [index=0] The index being written in the byte buffer.\r\n   * @return {number} The next index to write on the byte buffer.\r\n   */ pack(buffer, num, index = 0) {\n        num = this.clamp_(Math.round(num));\n        for(let i = 0, len = this.offset; i < len; i++){\n            buffer[index] = Math.floor(num / Math.pow(2, i * 8)) & 255;\n            index++;\n        }\n        return index;\n    }\n    /**\r\n   * Read one unsigned integer from a byte buffer.\r\n   * Does not check for overflows.\r\n   * @param {!(Uint8Array|Array<number>)} buffer An array of bytes.\r\n   * @param {number} [index=0] The index to read.\r\n   * @return {number}\r\n   * @private\r\n   */ unpack_(buffer, index = 0) {\n        /** @type {number} */ let num = 0;\n        for(let x = 0; x < this.offset; x++)num += buffer[index + x] * Math.pow(256, x);\n        return num;\n    }\n    /**\r\n   * Read one two's complement signed integer from a byte buffer.\r\n   * @param {!(Uint8Array|Array<number>)} buffer An array of bytes.\r\n   * @param {number} [index=0] The index to read.\r\n   * @return {number}\r\n   * @private\r\n   */ unpackSigned_(buffer, index = 0) {\n        return this.sign_(this.unpack_(buffer, index));\n    }\n    /**\r\n   * Clamp values on overflow.\r\n   * @param {number} num The number.\r\n   * @private\r\n   */ clamp_(num) {\n        if (num > this.max) return this.max;\n        else if (num < this.min) return this.min;\n        return num;\n    }\n    /**\r\n   * Sign a number.\r\n   * @param {number} num The number.\r\n   * @return {number}\r\n   * @private\r\n   */ sign_(num) {\n        if (num > this.max) num -= this.max * 2 + 2;\n        return num;\n    }\n}\n\n\n/*\r\n * Copyright (c) 2018-2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2013 DeNA Co., Ltd.\r\n * Copyright (c) 2010, Linden Research, Inc\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview Encode and decode IEEE 754 floating point numbers.\r\n * @see https://github.com/rochars/byte-data\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://bitbucket.org/lindenlab/llsd/raw/7d2646cd3f9b4c806e73aebc4b32bd81e4047fdc/js/typedarray.js\r\n * @see https://github.com/kazuho/ieee754.js/blob/master/ieee754.js\r\n */ /**\r\n * A class to encode and decode IEEE 754 floating-point numbers.\r\n */ class $8f22118c294115a7$export$726fe7676e1741ea {\n    /**\r\n   * Pack a IEEE 754 floating point number.\r\n   * @param {number} ebits The exponent bits.\r\n   * @param {number} fbits The fraction bits.\r\n   */ constructor(ebits, fbits){\n        /**\r\n     * @type {number}\r\n     */ this.offset = Math.ceil((ebits + fbits) / 8);\n        /**\r\n     * @type {number}\r\n     * @private\r\n     */ this.ebits = ebits;\n        /**\r\n     * @type {number}\r\n     * @private\r\n     */ this.fbits = fbits;\n        /**\r\n     * @type {number}\r\n     * @private\r\n     */ this.bias = (1 << ebits - 1) - 1;\n        /**\r\n     * @type {number}\r\n     * @private\r\n     */ this.biasP2 = Math.pow(2, this.bias + 1);\n        /**\r\n     * @type {number}\r\n     * @private\r\n     */ this.ebitsFbits = ebits + fbits;\n        /**\r\n     * @type {number}\r\n     * @private\r\n     */ this.fbias = Math.pow(2, -(8 * this.offset - 1 - ebits));\n    }\n    /**\r\n   * Pack a IEEE 754 floating point number.\r\n   * @param {!Uint8Array|!Array<number>} buffer The buffer.\r\n   * @param {number} num The number.\r\n   * @param {number} index The index to write on the buffer.\r\n   * @return {number} The next index to write on the buffer.\r\n   */ pack(buffer, num, index) {\n        // Round overflows\n        if (Math.abs(num) > this.biasP2 - this.ebitsFbits * 2) num = num < 0 ? -Infinity : Infinity;\n        /**\r\n     * sign, need this to handle negative zero\r\n     * @see http://cwestblog.com/2014/02/25/javascript-testing-for-negative-zero/\r\n     * @type {number}\r\n     */ let sign = ((num = +num) || 1 / num) < 0 ? 1 : num < 0 ? 1 : 0;\n        num = Math.abs(num);\n        /** @type {number} */ let exp = Math.min(Math.floor(Math.log(num) / Math.LN2), 1023);\n        /** @type {number} */ let fraction = $8f22118c294115a7$var$roundToEven(num / Math.pow(2, exp) * Math.pow(2, this.fbits));\n        // NaN\n        if (num !== num) {\n            fraction = Math.pow(2, this.fbits - 1);\n            exp = (1 << this.ebits) - 1;\n        // Number\n        } else if (num !== 0) {\n            if (num >= Math.pow(2, 1 - this.bias)) {\n                if (fraction / Math.pow(2, this.fbits) >= 2) {\n                    exp = exp + 1;\n                    fraction = 1;\n                }\n                // Overflow\n                if (exp > this.bias) {\n                    exp = (1 << this.ebits) - 1;\n                    fraction = 0;\n                } else {\n                    exp = exp + this.bias;\n                    fraction = $8f22118c294115a7$var$roundToEven(fraction) - Math.pow(2, this.fbits);\n                }\n            } else {\n                fraction = $8f22118c294115a7$var$roundToEven(num / Math.pow(2, 1 - this.bias - this.fbits));\n                exp = 0;\n            }\n        }\n        return this.packFloatBits_(buffer, index, sign, exp, fraction);\n    }\n    /**\r\n   * Unpack a IEEE 754 floating point number.\r\n   * Derived from IEEE754 by DeNA Co., Ltd., MIT License. \r\n   * Adapted to handle NaN. Should port the solution to the original repo.\r\n   * @param {!Uint8Array|!Array<number>} buffer The buffer.\r\n   * @param {number} index The index to read from the buffer.\r\n   * @return {number} The floating point number.\r\n   */ unpack(buffer, index) {\n        /** @type {number} */ let eMax = (1 << this.ebits) - 1;\n        /** @type {number} */ let significand;\n        /** @type {string} */ let leftBits = \"\";\n        for(let i = this.offset - 1; i >= 0; i--){\n            /** @type {string} */ let t = buffer[i + index].toString(2);\n            leftBits += \"00000000\".substring(t.length) + t;\n        }\n        /** @type {number} */ let sign = leftBits.charAt(0) == \"1\" ? -1 : 1;\n        leftBits = leftBits.substring(1);\n        /** @type {number} */ let exponent = parseInt(leftBits.substring(0, this.ebits), 2);\n        leftBits = leftBits.substring(this.ebits);\n        if (exponent == eMax) {\n            if (parseInt(leftBits, 2) !== 0) return NaN;\n            return sign * Infinity;\n        } else if (exponent === 0) {\n            exponent += 1;\n            significand = parseInt(leftBits, 2);\n        } else significand = parseInt(\"1\" + leftBits, 2);\n        return sign * significand * this.fbias * Math.pow(2, exponent - this.bias);\n    }\n    /**\r\n   * Pack a IEEE754 from its sign, exponent and fraction bits\r\n   * and place it in a byte buffer.\r\n   * @param {!Uint8Array|!Array<number>} buffer The byte buffer to write to.\r\n   * @param {number} index The buffer index to write.\r\n   * @param {number} sign The sign.\r\n   * @param {number} exp the exponent.\r\n   * @param {number} fraction The fraction.\r\n   * @return {number}\r\n   * @private\r\n   */ packFloatBits_(buffer, index, sign, exp, fraction) {\n        /** @type {!Array<number>} */ let bits = [];\n        // the sign\n        bits.push(sign);\n        // the exponent\n        for(let i = this.ebits; i > 0; i -= 1){\n            bits[i] = exp % 2 ? 1 : 0;\n            exp = Math.floor(exp / 2);\n        }\n        // the fraction\n        let len = bits.length;\n        for(let i = this.fbits; i > 0; i -= 1){\n            bits[len + i] = fraction % 2 ? 1 : 0;\n            fraction = Math.floor(fraction / 2);\n        }\n        // pack as bytes\n        /** @type {string} */ let str = bits.join(\"\");\n        /** @type {number} */ let offset = this.offset + index - 1;\n        /** @type {number} */ let k = index;\n        while(offset >= index){\n            buffer[offset] = parseInt(str.substring(0, 8), 2);\n            str = str.substring(8);\n            offset--;\n            k++;\n        }\n        return k;\n    }\n}\n/**\r\n * Round a number to its nearest even value.\r\n * @param {number} n The number.\r\n * @return {number}\r\n * @private\r\n */ function $8f22118c294115a7$var$roundToEven(n) {\n    /** @type {number} */ let w = Math.floor(n);\n    let f = n - w;\n    if (f < 0.5) return w;\n    if (f > 0.5) return w + 1;\n    return w % 2 ? w + 1 : w;\n}\n\n\nfunction $f474a5d125722a8f$export$a3d86aa4d7c0b235(buffer, index = 0, end = buffer.length) {\n    return (0, $2cf79bc33e5f0210$export$417857010dc9287f)(buffer, index, end);\n}\nfunction $f474a5d125722a8f$export$4ed3d445f9e5209f(str) {\n    /** @type {!Array<number>} */ let buffer = [];\n    (0, $2cf79bc33e5f0210$export$2a703dbb0cb35339)(str, buffer);\n    return buffer;\n}\nfunction $f474a5d125722a8f$export$c6b7ad74f385db26(str, buffer, index = 0) {\n    return (0, $2cf79bc33e5f0210$export$2a703dbb0cb35339)(str, buffer, index);\n}\nfunction $f474a5d125722a8f$export$1aa897dbb10b4708(values, theType, buffer, index = 0) {\n    theType = theType || {};\n    /** @type {!Object} */ let packer = $f474a5d125722a8f$var$getParser_(theType.bits, theType.fp, theType.signed);\n    /** @type {number} */ let offset = Math.ceil(theType.bits / 8);\n    /** @type {number} */ let i = 0;\n    /** @type {number} */ let start = index;\n    for(let valuesLen = values.length; i < valuesLen; i++)index = packer.pack(buffer, values[i], index);\n    if (theType.be) (0, $7a86378ad34744a9$export$edf525f30916fbb8)(buffer, offset, start, index);\n    return index;\n}\nfunction $f474a5d125722a8f$export$a53577d75410ba7b(buffer, theType, output, start = 0, end = buffer.length) {\n    theType = theType || {};\n    /** @type {!Object} */ let parser = $f474a5d125722a8f$var$getParser_(theType.bits, theType.fp, theType.signed);\n    // getUnpackLen_ will adjust the end index according to the size\n    // of the input buffer and the byte offset or throw a error on bad\n    // end index if safe=true\n    end = $f474a5d125722a8f$var$getUnpackLen_(buffer, start, end, parser.offset);\n    if (theType.be) {\n        /** @type {!(Uint8Array|Array<number>)} */ let readBuffer = $f474a5d125722a8f$var$copyBuffer_(buffer);\n        if (theType.be) (0, $7a86378ad34744a9$export$edf525f30916fbb8)(readBuffer, parser.offset, start, end);\n        $f474a5d125722a8f$var$unpack_(readBuffer, output, start, end, parser);\n    } else $f474a5d125722a8f$var$unpack_(buffer, output, start, end, parser);\n}\nfunction $f474a5d125722a8f$export$4f7d52af80c0e526(value, theType, buffer, index = 0) {\n    return $f474a5d125722a8f$export$1aa897dbb10b4708([\n        value\n    ], theType, buffer, index);\n}\nfunction $f474a5d125722a8f$export$2a703dbb0cb35339(value, theType) {\n    /** @type {!Array<number>} */ let output = [];\n    $f474a5d125722a8f$export$4f7d52af80c0e526(value, theType, output, 0);\n    return output;\n}\nfunction $f474a5d125722a8f$export$417857010dc9287f(buffer, theType, index = 0) {\n    let output = [];\n    $f474a5d125722a8f$export$a53577d75410ba7b(buffer, theType, output, index, index + Math.ceil(theType.bits / 8));\n    return output[0];\n}\n/**\r\n * Unpack a array of numbers from a byte buffer to a array or a typed array.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer.\r\n * @param {!(TypedArray|Array<number>)} output The output array or typed array.\r\n * @param {number} start The buffer index to start reading.\r\n * @param {number} end The buffer index to stop reading.\r\n * @param {!Object} parser The parser.\r\n * @private\r\n */ function $f474a5d125722a8f$var$unpack_(buffer, output, start, end, parser) {\n    /** @type {number} */ let offset = parser.offset;\n    for(let index = 0, j = start; j < end; j += offset, index++)output[index] = parser.unpack(buffer, j);\n}\n/**\r\n * Copy a byte buffer as a Array or Uint8Array.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer.\r\n * @return {!(Uint8Array|Array<number>)}\r\n * @private\r\n */ function $f474a5d125722a8f$var$copyBuffer_(buffer) {\n    return new Uint8Array(buffer);\n}\n/**\r\n * Adjust the end index according to the input buffer length and the\r\n * type offset.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer.\r\n * @param {number} start The buffer index to start reading.\r\n * @param {number} end The buffer index to stop reading.\r\n * @param {number} offset The number of bytes used by the type.\r\n * @private\r\n */ function $f474a5d125722a8f$var$getUnpackLen_(buffer, start, end, offset) {\n    /** @type {number} */ let extra = (end - start) % offset;\n    return end - extra;\n}\n/**\r\n * Return a parser for int, uint or fp numbers.\r\n * @param {number} bits The number of bits.\r\n * @param {boolean|undefined} fp True for fp numbers, false otherwise.\r\n * @param {boolean|undefined} signed True for signed ints, false otherwise.\r\n * @return {!Object}\r\n * @private\r\n */ function $f474a5d125722a8f$var$getParser_(bits, fp, signed) {\n    if (fp && bits == 32) return new (0, $8f22118c294115a7$export$726fe7676e1741ea)(8, 23);\n    else if (fp && bits == 64) return new (0, $8f22118c294115a7$export$726fe7676e1741ea)(11, 52);\n    return new (0, $aaa4e9056b7df5b4$export$911c45d9017e8bd8)(bits, signed);\n}\n\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview The WaveFileCueEditor class.\r\n * @see https://github.com/rochars/wavefile\r\n */ /*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview The WaveFileTagEditor class.\r\n * @see https://github.com/rochars/wavefile\r\n */ /*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview The WaveFileCreator class.\r\n * @see https://github.com/rochars/wavefile\r\n */ /*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview The WaveFileParser class.\r\n * @see https://github.com/rochars/wavefile\r\n */ /*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview The WaveFileReader class.\r\n * @see https://github.com/rochars/wavefile\r\n */ /*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview The RIFFFile class.\r\n * @see https://github.com/rochars/wavefile\r\n */ \nclass $14e5fb77ce598998$export$e34804a324f74be5 {\n    constructor(){\n        /**\r\n     * The container identifier.\r\n     * 'RIFF', 'RIFX' and 'RF64' are supported.\r\n     * @type {string}\r\n     */ this.container = \"\";\n        /**\r\n     * @type {number}\r\n     */ this.chunkSize = 0;\n        /**\r\n     * The format.\r\n     * @type {string}\r\n     */ this.format = \"\";\n        /**\r\n     * A object defining the start and end of all chunks in a wav buffer.\r\n     * @type {Object}\r\n     */ this.signature = null;\n        /**\r\n     * @type {number}\r\n     * @protected\r\n     */ this.head = 0;\n        /**\r\n     * @type {!{bits: number, be: boolean}}\r\n     * @protected\r\n     */ this.uInt32 = {\n            bits: 32,\n            be: false\n        };\n        /**\r\n     * The list of supported containers.\r\n     * Any format different from RIFX will be treated as RIFF.\r\n     * @type {!Array<string>}\r\n     * @protected\r\n     */ this.supported_containers = [\n            \"RIFF\",\n            \"RIFX\"\n        ];\n    }\n    /**\r\n   * Read the signature of the chunks in a RIFF/RIFX file.\r\n   * @param {!Uint8Array} buffer The file bytes.\r\n   * @protected\r\n   */ setSignature(buffer) {\n        this.head = 0;\n        this.container = this.readString(buffer, 4);\n        if (this.supported_containers.indexOf(this.container) === -1) throw Error(\"Not a supported format.\");\n        this.uInt32.be = this.container === \"RIFX\";\n        this.chunkSize = this.readUInt32(buffer);\n        this.format = this.readString(buffer, 4);\n        // The RIFF file signature\n        this.signature = {\n            chunkId: this.container,\n            chunkSize: this.chunkSize,\n            format: this.format,\n            subChunks: this.getSubChunksIndex_(buffer)\n        };\n    }\n    /**\r\n    * Find a chunk by its fourCC_ in a array of RIFF chunks.\r\n    * @param {string} chunkId The chunk fourCC_.\r\n    * @param {boolean} [multiple=false] True if there may be multiple chunks\r\n    *    with the same chunkId.\r\n    * @return {Object}\r\n    * @protected\r\n    */ findChunk(chunkId, multiple = false) {\n        /** @type {!Array<Object>} */ let chunks = this.signature.subChunks;\n        /** @type {!Array<Object>} */ let chunk = [];\n        for(let i = 0; i < chunks.length; i++)if (chunks[i].chunkId == chunkId) {\n            if (multiple) chunk.push(chunks[i]);\n            else return chunks[i];\n        }\n        if (chunkId == \"LIST\") return chunk.length ? chunk : null;\n        return null;\n    }\n    /**\r\n   * Read bytes as a string from a RIFF chunk.\r\n   * @param {!Uint8Array} bytes The bytes.\r\n   * @param {number} maxSize the max size of the string.\r\n   * @return {string} The string.\r\n   * @protected\r\n   */ readString(bytes, maxSize) {\n        /** @type {string} */ let str = \"\";\n        str = (0, $f474a5d125722a8f$export$a3d86aa4d7c0b235)(bytes, this.head, this.head + maxSize);\n        this.head += maxSize;\n        return str;\n    }\n    /**\r\n   * Read a number from a chunk.\r\n   * @param {!Uint8Array} bytes The chunk bytes.\r\n   * @return {number} The number.\r\n   * @protected\r\n   */ readUInt32(bytes) {\n        /** @type {number} */ let value = (0, $f474a5d125722a8f$export$417857010dc9287f)(bytes, this.uInt32, this.head);\n        this.head += 4;\n        return value;\n    }\n    /**\r\n   * Return the sub chunks of a RIFF file.\r\n   * @param {!Uint8Array} buffer the RIFF file bytes.\r\n   * @return {!Array<Object>} The subchunks of a RIFF/RIFX or LIST chunk.\r\n   * @private\r\n   */ getSubChunksIndex_(buffer) {\n        /** @type {!Array<!Object>} */ let chunks = [];\n        /** @type {number} */ let i = this.head;\n        while(i <= buffer.length - 8){\n            chunks.push(this.getSubChunkIndex_(buffer, i));\n            i += 8 + chunks[chunks.length - 1].chunkSize;\n            i = i % 2 ? i + 1 : i;\n        }\n        return chunks;\n    }\n    /**\r\n   * Return a sub chunk from a RIFF file.\r\n   * @param {!Uint8Array} buffer the RIFF file bytes.\r\n   * @param {number} index The start index of the chunk.\r\n   * @return {!Object} A subchunk of a RIFF/RIFX or LIST chunk.\r\n   * @private\r\n   */ getSubChunkIndex_(buffer, index) {\n        /** @type {!Object} */ let chunk = {\n            chunkId: this.getChunkId_(buffer, index),\n            chunkSize: this.getChunkSize_(buffer, index)\n        };\n        if (chunk.chunkId == \"LIST\") {\n            chunk.format = (0, $f474a5d125722a8f$export$a3d86aa4d7c0b235)(buffer, index + 8, index + 12);\n            this.head += 4;\n            chunk.subChunks = this.getSubChunksIndex_(buffer);\n        } else {\n            /** @type {number} */ let realChunkSize = chunk.chunkSize % 2 ? chunk.chunkSize + 1 : chunk.chunkSize;\n            this.head = index + 8 + realChunkSize;\n            chunk.chunkData = {\n                start: index + 8,\n                end: this.head\n            };\n        }\n        return chunk;\n    }\n    /**\r\n   * Return the fourCC_ of a chunk.\r\n   * @param {!Uint8Array} buffer the RIFF file bytes.\r\n   * @param {number} index The start index of the chunk.\r\n   * @return {string} The id of the chunk.\r\n   * @private\r\n   */ getChunkId_(buffer, index) {\n        this.head += 4;\n        return (0, $f474a5d125722a8f$export$a3d86aa4d7c0b235)(buffer, index, index + 4);\n    }\n    /**\r\n   * Return the size of a chunk.\r\n   * @param {!Uint8Array} buffer the RIFF file bytes.\r\n   * @param {number} index The start index of the chunk.\r\n   * @return {number} The size of the chunk without the id and size fields.\r\n   * @private\r\n   */ getChunkSize_(buffer, index) {\n        this.head += 4;\n        return (0, $f474a5d125722a8f$export$417857010dc9287f)(buffer, this.uInt32, index + 4);\n    }\n}\n\n\n\nclass $5159e9fde32307cc$export$86c604990507c4be extends (0, $14e5fb77ce598998$export$e34804a324f74be5) {\n    constructor(){\n        super();\n        // Include 'RF64' as a supported container format\n        this.supported_containers.push(\"RF64\");\n        /**\r\n     * The data of the 'fmt' chunk.\r\n     * @type {!Object<string, *>}\r\n     */ this.fmt = {\n            /** @type {string} */ chunkId: \"\",\n            /** @type {number} */ chunkSize: 0,\n            /** @type {number} */ audioFormat: 0,\n            /** @type {number} */ numChannels: 0,\n            /** @type {number} */ sampleRate: 0,\n            /** @type {number} */ byteRate: 0,\n            /** @type {number} */ blockAlign: 0,\n            /** @type {number} */ bitsPerSample: 0,\n            /** @type {number} */ cbSize: 0,\n            /** @type {number} */ validBitsPerSample: 0,\n            /** @type {number} */ dwChannelMask: 0,\n            /**\r\n       * 4 32-bit values representing a 128-bit ID\r\n       * @type {!Array<number>}\r\n       */ subformat: []\n        };\n        /**\r\n     * The data of the 'fact' chunk.\r\n     * @type {!Object<string, *>}\r\n     */ this.fact = {\n            /** @type {string} */ chunkId: \"\",\n            /** @type {number} */ chunkSize: 0,\n            /** @type {number} */ dwSampleLength: 0\n        };\n        /**\r\n     * The data of the 'cue ' chunk.\r\n     * @type {!Object<string, *>}\r\n     */ this.cue = {\n            /** @type {string} */ chunkId: \"\",\n            /** @type {number} */ chunkSize: 0,\n            /** @type {number} */ dwCuePoints: 0,\n            /** @type {!Array<!Object>} */ points: []\n        };\n        /**\r\n     * The data of the 'smpl' chunk.\r\n     * @type {!Object<string, *>}\r\n     */ this.smpl = {\n            /** @type {string} */ chunkId: \"\",\n            /** @type {number} */ chunkSize: 0,\n            /** @type {number} */ dwManufacturer: 0,\n            /** @type {number} */ dwProduct: 0,\n            /** @type {number} */ dwSamplePeriod: 0,\n            /** @type {number} */ dwMIDIUnityNote: 0,\n            /** @type {number} */ dwMIDIPitchFraction: 0,\n            /** @type {number} */ dwSMPTEFormat: 0,\n            /** @type {number} */ dwSMPTEOffset: 0,\n            /** @type {number} */ dwNumSampleLoops: 0,\n            /** @type {number} */ dwSamplerData: 0,\n            /** @type {!Array<!Object>} */ loops: []\n        };\n        /**\r\n     * The data of the 'bext' chunk.\r\n     * @type {!Object<string, *>}\r\n     */ this.bext = {\n            /** @type {string} */ chunkId: \"\",\n            /** @type {number} */ chunkSize: 0,\n            /** @type {string} */ description: \"\",\n            /** @type {string} */ originator: \"\",\n            /** @type {string} */ originatorReference: \"\",\n            /** @type {string} */ originationDate: \"\",\n            /** @type {string} */ originationTime: \"\",\n            /**\r\n       * 2 32-bit values, timeReference high and low\r\n       * @type {!Array<number>}\r\n       */ timeReference: [\n                0,\n                0\n            ],\n            /** @type {number} */ version: 0,\n            /** @type {string} */ UMID: \"\",\n            /** @type {number} */ loudnessValue: 0,\n            /** @type {number} */ loudnessRange: 0,\n            /** @type {number} */ maxTruePeakLevel: 0,\n            /** @type {number} */ maxMomentaryLoudness: 0,\n            /** @type {number} */ maxShortTermLoudness: 0,\n            /** @type {string} */ reserved: \"\",\n            /** @type {string} */ codingHistory: \"\" // string, unlimited\n        };\n        /**\r\n     * The data of the 'iXML' chunk.\r\n     * @type {!Object<string, *>}\r\n     */ this.iXML = {\n            /** @type {string} */ chunkId: \"\",\n            /** @type {number} */ chunkSize: 0,\n            /** @type {string} */ value: \"\"\n        };\n        /**\r\n     * The data of the 'ds64' chunk.\r\n     * Used only with RF64 files.\r\n     * @type {!Object<string, *>}\r\n     */ this.ds64 = {\n            /** @type {string} */ chunkId: \"\",\n            /** @type {number} */ chunkSize: 0,\n            /** @type {number} */ riffSizeHigh: 0,\n            /** @type {number} */ riffSizeLow: 0,\n            /** @type {number} */ dataSizeHigh: 0,\n            /** @type {number} */ dataSizeLow: 0,\n            /** @type {number} */ originationTime: 0,\n            /** @type {number} */ sampleCountHigh: 0,\n            /** @type {number} */ sampleCountLow: 0 // DWORD\n        };\n        /**\r\n     * The data of the 'data' chunk.\r\n     * @type {!Object<string, *>}\r\n     */ this.data = {\n            /** @type {string} */ chunkId: \"\",\n            /** @type {number} */ chunkSize: 0,\n            /** @type {!Uint8Array} */ samples: new Uint8Array(0)\n        };\n        /**\r\n     * The data of the 'LIST' chunks.\r\n     * Each item in this list look like this:\r\n     *  {\r\n     *      chunkId: '',\r\n     *      chunkSize: 0,\r\n     *      format: '',\r\n     *      subChunks: []\r\n     *   }\r\n     * @type {!Array<!Object>}\r\n     */ this.LIST = [];\n        /**\r\n     * The data of the 'junk' chunk.\r\n     * @type {!Object<string, *>}\r\n     */ this.junk = {\n            /** @type {string} */ chunkId: \"\",\n            /** @type {number} */ chunkSize: 0,\n            /** @type {!Array<number>} */ chunkData: []\n        };\n        /**\r\n     * The data of the '_PMX' chunk.\r\n     * @type {!Object<string, *>}\r\n     */ this._PMX = {\n            /** @type {string} */ chunkId: \"\",\n            /** @type {number} */ chunkSize: 0,\n            /** @type {string} */ value: \"\"\n        };\n        /**\r\n     * @type {{be: boolean, bits: number, fp: boolean, signed: boolean}}\r\n     * @protected\r\n     */ this.uInt16 = {\n            bits: 16,\n            be: false,\n            signed: false,\n            fp: false\n        };\n    }\n    /**\r\n   * Set up the WaveFileReader object from a byte buffer.\r\n   * @param {!Uint8Array} wavBuffer The buffer.\r\n   * @param {boolean=} [samples=true] True if the samples should be loaded.\r\n   * @throws {Error} If container is not RIFF, RIFX or RF64.\r\n   * @throws {Error} If format is not WAVE.\r\n   * @throws {Error} If no 'fmt ' chunk is found.\r\n   * @throws {Error} If no 'data' chunk is found.\r\n   */ fromBuffer(wavBuffer, samples = true) {\n        // Always should reset the chunks when reading from a buffer\n        this.clearHeaders();\n        this.setSignature(wavBuffer);\n        this.uInt16.be = this.uInt32.be;\n        if (this.format != \"WAVE\") throw Error('Could not find the \"WAVE\" format identifier');\n        this.readDs64Chunk_(wavBuffer);\n        this.readFmtChunk_(wavBuffer);\n        this.readFactChunk_(wavBuffer);\n        this.readBextChunk_(wavBuffer);\n        this.readiXMLChunk_(wavBuffer);\n        this.readCueChunk_(wavBuffer);\n        this.readSmplChunk_(wavBuffer);\n        this.readDataChunk_(wavBuffer, samples);\n        this.readJunkChunk_(wavBuffer);\n        this.readLISTChunk_(wavBuffer);\n        this.read_PMXChunk_(wavBuffer);\n    }\n    /**\r\n   * Reset the chunks of the WaveFileReader instance.\r\n   * @protected\r\n   * @ignore\r\n   */ clearHeaders() {\n        /** @type {!Object} */ let tmpWav = new $5159e9fde32307cc$export$86c604990507c4be();\n        Object.assign(this.fmt, tmpWav.fmt);\n        Object.assign(this.fact, tmpWav.fact);\n        Object.assign(this.cue, tmpWav.cue);\n        Object.assign(this.smpl, tmpWav.smpl);\n        Object.assign(this.bext, tmpWav.bext);\n        Object.assign(this.iXML, tmpWav.iXML);\n        Object.assign(this.ds64, tmpWav.ds64);\n        Object.assign(this.data, tmpWav.data);\n        this.LIST = [];\n        Object.assign(this.junk, tmpWav.junk);\n        Object.assign(this._PMX, tmpWav._PMX);\n    }\n    /**\r\n   * Read the 'fmt ' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @throws {Error} If no 'fmt ' chunk is found.\r\n   * @private\r\n   */ readFmtChunk_(buffer) {\n        /** @type {?Object} */ let chunk = this.findChunk(\"fmt \");\n        if (chunk) {\n            this.head = chunk.chunkData.start;\n            this.fmt.chunkId = chunk.chunkId;\n            this.fmt.chunkSize = chunk.chunkSize;\n            this.fmt.audioFormat = this.readUInt16_(buffer);\n            this.fmt.numChannels = this.readUInt16_(buffer);\n            this.fmt.sampleRate = this.readUInt32(buffer);\n            this.fmt.byteRate = this.readUInt32(buffer);\n            this.fmt.blockAlign = this.readUInt16_(buffer);\n            this.fmt.bitsPerSample = this.readUInt16_(buffer);\n            this.readFmtExtension_(buffer);\n        } else throw Error('Could not find the \"fmt \" chunk');\n    }\n    /**\r\n   * Read the 'fmt ' chunk extension.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */ readFmtExtension_(buffer) {\n        if (this.fmt.chunkSize > 16) {\n            this.fmt.cbSize = this.readUInt16_(buffer);\n            if (this.fmt.chunkSize > 18) {\n                this.fmt.validBitsPerSample = this.readUInt16_(buffer);\n                if (this.fmt.chunkSize > 20) {\n                    this.fmt.dwChannelMask = this.readUInt32(buffer);\n                    this.fmt.subformat = [\n                        this.readUInt32(buffer),\n                        this.readUInt32(buffer),\n                        this.readUInt32(buffer),\n                        this.readUInt32(buffer)\n                    ];\n                }\n            }\n        }\n    }\n    /**\r\n   * Read the 'fact' chunk of a wav file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */ readFactChunk_(buffer) {\n        /** @type {?Object} */ let chunk = this.findChunk(\"fact\");\n        if (chunk) {\n            this.head = chunk.chunkData.start;\n            this.fact.chunkId = chunk.chunkId;\n            this.fact.chunkSize = chunk.chunkSize;\n            this.fact.dwSampleLength = this.readUInt32(buffer);\n        }\n    }\n    /**\r\n   * Read the 'cue ' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */ readCueChunk_(buffer) {\n        /** @type {?Object} */ let chunk = this.findChunk(\"cue \");\n        if (chunk) {\n            this.head = chunk.chunkData.start;\n            this.cue.chunkId = chunk.chunkId;\n            this.cue.chunkSize = chunk.chunkSize;\n            this.cue.dwCuePoints = this.readUInt32(buffer);\n            for(let i = 0; i < this.cue.dwCuePoints; i++)this.cue.points.push({\n                dwName: this.readUInt32(buffer),\n                dwPosition: this.readUInt32(buffer),\n                fccChunk: this.readString(buffer, 4),\n                dwChunkStart: this.readUInt32(buffer),\n                dwBlockStart: this.readUInt32(buffer),\n                dwSampleOffset: this.readUInt32(buffer)\n            });\n        }\n    }\n    /**\r\n   * Read the 'smpl' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */ readSmplChunk_(buffer) {\n        /** @type {?Object} */ let chunk = this.findChunk(\"smpl\");\n        if (chunk) {\n            this.head = chunk.chunkData.start;\n            this.smpl.chunkId = chunk.chunkId;\n            this.smpl.chunkSize = chunk.chunkSize;\n            this.smpl.dwManufacturer = this.readUInt32(buffer);\n            this.smpl.dwProduct = this.readUInt32(buffer);\n            this.smpl.dwSamplePeriod = this.readUInt32(buffer);\n            this.smpl.dwMIDIUnityNote = this.readUInt32(buffer);\n            this.smpl.dwMIDIPitchFraction = this.readUInt32(buffer);\n            this.smpl.dwSMPTEFormat = this.readUInt32(buffer);\n            this.smpl.dwSMPTEOffset = this.readUInt32(buffer);\n            this.smpl.dwNumSampleLoops = this.readUInt32(buffer);\n            this.smpl.dwSamplerData = this.readUInt32(buffer);\n            for(let i = 0; i < this.smpl.dwNumSampleLoops; i++)this.smpl.loops.push({\n                dwName: this.readUInt32(buffer),\n                dwType: this.readUInt32(buffer),\n                dwStart: this.readUInt32(buffer),\n                dwEnd: this.readUInt32(buffer),\n                dwFraction: this.readUInt32(buffer),\n                dwPlayCount: this.readUInt32(buffer)\n            });\n        }\n    }\n    /**\r\n   * Read the 'data' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @param {boolean} samples True if the samples should be loaded.\r\n   * @throws {Error} If no 'data' chunk is found.\r\n   * @private\r\n   */ readDataChunk_(buffer, samples) {\n        /** @type {?Object} */ let chunk = this.findChunk(\"data\");\n        if (chunk) {\n            this.data.chunkId = \"data\";\n            this.data.chunkSize = chunk.chunkSize;\n            if (samples) this.data.samples = buffer.slice(chunk.chunkData.start, chunk.chunkData.end);\n        } else throw Error('Could not find the \"data\" chunk');\n    }\n    /**\r\n   * Read the 'bext' chunk of a wav file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */ readBextChunk_(buffer) {\n        /** @type {?Object} */ let chunk = this.findChunk(\"bext\");\n        if (chunk) {\n            this.head = chunk.chunkData.start;\n            this.bext.chunkId = chunk.chunkId;\n            this.bext.chunkSize = chunk.chunkSize;\n            this.bext.description = this.readString(buffer, 256);\n            this.bext.originator = this.readString(buffer, 32);\n            this.bext.originatorReference = this.readString(buffer, 32);\n            this.bext.originationDate = this.readString(buffer, 10);\n            this.bext.originationTime = this.readString(buffer, 8);\n            this.bext.timeReference = [\n                this.readUInt32(buffer),\n                this.readUInt32(buffer)\n            ];\n            this.bext.version = this.readUInt16_(buffer);\n            this.bext.UMID = this.readString(buffer, 64);\n            this.bext.loudnessValue = this.readUInt16_(buffer);\n            this.bext.loudnessRange = this.readUInt16_(buffer);\n            this.bext.maxTruePeakLevel = this.readUInt16_(buffer);\n            this.bext.maxMomentaryLoudness = this.readUInt16_(buffer);\n            this.bext.maxShortTermLoudness = this.readUInt16_(buffer);\n            this.bext.reserved = this.readString(buffer, 180);\n            this.bext.codingHistory = this.readString(buffer, this.bext.chunkSize - 602);\n        }\n    }\n    /**\r\n   * Read the 'iXML' chunk of a wav file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */ readiXMLChunk_(buffer) {\n        /** @type {?Object} */ let chunk = this.findChunk(\"iXML\");\n        if (chunk) {\n            this.head = chunk.chunkData.start;\n            this.iXML.chunkId = chunk.chunkId;\n            this.iXML.chunkSize = chunk.chunkSize;\n            this.iXML.value = (0, $f474a5d125722a8f$export$a3d86aa4d7c0b235)(buffer, this.head, this.head + this.iXML.chunkSize);\n        }\n    }\n    /**\r\n   * Read the 'ds64' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @throws {Error} If no 'ds64' chunk is found and the file is RF64.\r\n   * @private\r\n   */ readDs64Chunk_(buffer) {\n        /** @type {?Object} */ let chunk = this.findChunk(\"ds64\");\n        if (chunk) {\n            this.head = chunk.chunkData.start;\n            this.ds64.chunkId = chunk.chunkId;\n            this.ds64.chunkSize = chunk.chunkSize;\n            this.ds64.riffSizeHigh = this.readUInt32(buffer);\n            this.ds64.riffSizeLow = this.readUInt32(buffer);\n            this.ds64.dataSizeHigh = this.readUInt32(buffer);\n            this.ds64.dataSizeLow = this.readUInt32(buffer);\n            this.ds64.originationTime = this.readUInt32(buffer);\n            this.ds64.sampleCountHigh = this.readUInt32(buffer);\n            this.ds64.sampleCountLow = this.readUInt32(buffer);\n        //if (wav.ds64.chunkSize > 28) {\n        //  wav.ds64.tableLength = unpack(\n        //    chunkData.slice(28, 32), uInt32_);\n        //  wav.ds64.table = chunkData.slice(\n        //     32, 32 + wav.ds64.tableLength);\n        //}\n        } else {\n            if (this.container == \"RF64\") throw Error('Could not find the \"ds64\" chunk');\n        }\n    }\n    /**\r\n   * Read the 'LIST' chunks of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */ readLISTChunk_(buffer) {\n        /** @type {?Object} */ let listChunks = this.findChunk(\"LIST\", true);\n        if (listChunks !== null) for(let j = 0; j < listChunks.length; j++){\n            /** @type {!Object} */ let subChunk = listChunks[j];\n            this.LIST.push({\n                chunkId: subChunk.chunkId,\n                chunkSize: subChunk.chunkSize,\n                format: subChunk.format,\n                subChunks: []\n            });\n            for(let x = 0; x < subChunk.subChunks.length; x++)this.readLISTSubChunks_(subChunk.subChunks[x], subChunk.format, buffer);\n        }\n    }\n    /**\r\n   * Read the sub chunks of a 'LIST' chunk.\r\n   * @param {!Object} subChunk The 'LIST' subchunks.\r\n   * @param {string} format The 'LIST' format, 'adtl' or 'INFO'.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */ readLISTSubChunks_(subChunk, format, buffer) {\n        if (format == \"adtl\") {\n            if ([\n                \"labl\",\n                \"note\",\n                \"ltxt\"\n            ].indexOf(subChunk.chunkId) > -1) this.readLISTadtlSubChunks_(buffer, subChunk);\n        } else if (format == \"INFO\") this.readLISTINFOSubChunks_(buffer, subChunk);\n    }\n    /**\r\n   * Read the sub chunks of a 'LIST' chunk of type 'adtl'.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @param {!Object} subChunk The 'LIST' subchunks.\r\n   * @private\r\n   */ readLISTadtlSubChunks_(buffer, subChunk) {\n        this.head = subChunk.chunkData.start;\n        /** @type {!Object<string, string|number>} */ let item = {\n            chunkId: subChunk.chunkId,\n            chunkSize: subChunk.chunkSize,\n            dwName: this.readUInt32(buffer)\n        };\n        if (subChunk.chunkId == \"ltxt\") {\n            item.dwSampleLength = this.readUInt32(buffer);\n            item.dwPurposeID = this.readUInt32(buffer);\n            item.dwCountry = this.readUInt16_(buffer);\n            item.dwLanguage = this.readUInt16_(buffer);\n            item.dwDialect = this.readUInt16_(buffer);\n            item.dwCodePage = this.readUInt16_(buffer);\n            item.value = \"\"; // kept for compatibility\n        } else item.value = this.readZSTR_(buffer, this.head);\n        this.LIST[this.LIST.length - 1].subChunks.push(item);\n    }\n    /**\r\n   * Read the sub chunks of a 'LIST' chunk of type 'INFO'.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @param {!Object} subChunk The 'LIST' subchunks.\r\n   * @private\r\n   */ readLISTINFOSubChunks_(buffer, subChunk) {\n        this.head = subChunk.chunkData.start;\n        this.LIST[this.LIST.length - 1].subChunks.push({\n            chunkId: subChunk.chunkId,\n            chunkSize: subChunk.chunkSize,\n            value: this.readZSTR_(buffer, this.head)\n        });\n    }\n    /**\r\n   * Read the 'junk' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */ readJunkChunk_(buffer) {\n        /** @type {?Object} */ let chunk = this.findChunk(\"junk\");\n        if (chunk) this.junk = {\n            chunkId: chunk.chunkId,\n            chunkSize: chunk.chunkSize,\n            chunkData: [].slice.call(buffer.slice(chunk.chunkData.start, chunk.chunkData.end))\n        };\n    }\n    /**\r\n   * Read the '_PMX' chunk of a wav file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */ read_PMXChunk_(buffer) {\n        /** @type {?Object} */ let chunk = this.findChunk(\"_PMX\");\n        if (chunk) {\n            this.head = chunk.chunkData.start;\n            this._PMX.chunkId = chunk.chunkId;\n            this._PMX.chunkSize = chunk.chunkSize;\n            this._PMX.value = (0, $f474a5d125722a8f$export$a3d86aa4d7c0b235)(buffer, this.head, this.head + this._PMX.chunkSize);\n        }\n    }\n    /**\r\n   * Read bytes as a ZSTR string.\r\n   * @param {!Uint8Array} bytes The bytes.\r\n   * @param {number=} [index=0] the index to start reading.\r\n   * @return {string} The string.\r\n   * @private\r\n   */ readZSTR_(bytes, index = 0) {\n        for(let i = index; i < bytes.length; i++){\n            this.head++;\n            if (bytes[i] === 0) break;\n        }\n        return (0, $f474a5d125722a8f$export$a3d86aa4d7c0b235)(bytes, index, this.head - 1);\n    }\n    /**\r\n   * Read a number from a chunk.\r\n   * @param {!Uint8Array} bytes The chunk bytes.\r\n   * @return {number} The number.\r\n   * @private\r\n   */ readUInt16_(bytes) {\n        /** @type {number} */ let value = (0, $f474a5d125722a8f$export$417857010dc9287f)(bytes, this.uInt16, this.head);\n        this.head += 2;\n        return value;\n    }\n}\n\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview The writeString function.\r\n * @see https://github.com/rochars/wavefile\r\n */ \nfunction $f2eb460db311f997$export$48a3ce3d8cfe0ce1(str, byteLength) {\n    /** @type {!Array<number>} */ let packedString = (0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(str);\n    for(let i = packedString.length; i < byteLength; i++)packedString.push(0);\n    return packedString;\n}\n\n\n\nclass $fcbc067dc9a6bbc8$export$471b3ad31f00fb81 extends (0, $5159e9fde32307cc$export$86c604990507c4be) {\n    /**\r\n   * Return a byte buffer representig the WaveFileParser object as a .wav file.\r\n   * The return value of this method can be written straight to disk.\r\n   * @return {!Uint8Array} A wav file.\r\n   */ toBuffer() {\n        this.uInt16.be = this.container === \"RIFX\";\n        this.uInt32.be = this.uInt16.be;\n        /** @type {!Array<!Array<number>>} */ let fileBody = [\n            this.getJunkBytes_(),\n            this.getDs64Bytes_(),\n            this.getBextBytes_(),\n            this.getiXMLBytes_(),\n            this.getFmtBytes_(),\n            this.getFactBytes_(),\n            (0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this.data.chunkId),\n            (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.data.samples.length, this.uInt32),\n            this.data.samples,\n            this.getCueBytes_(),\n            this.getSmplBytes_(),\n            this.getLISTBytes_(),\n            this.get_PMXBytes_()\n        ];\n        /** @type {number} */ let fileBodyLength = 0;\n        for(let i = 0; i < fileBody.length; i++)fileBodyLength += fileBody[i].length;\n        /** @type {!Uint8Array} */ let file = new Uint8Array(fileBodyLength + 12);\n        /** @type {number} */ let index = 0;\n        index = (0, $f474a5d125722a8f$export$c6b7ad74f385db26)(this.container, file, index);\n        index = (0, $f474a5d125722a8f$export$4f7d52af80c0e526)(fileBodyLength + 4, this.uInt32, file, index);\n        index = (0, $f474a5d125722a8f$export$c6b7ad74f385db26)(this.format, file, index);\n        for(let i = 0; i < fileBody.length; i++){\n            file.set(fileBody[i], index);\n            index += fileBody[i].length;\n        }\n        return file;\n    }\n    /**\r\n   * Return the bytes of the 'bext' chunk.\r\n   * @private\r\n   */ getBextBytes_() {\n        /** @type {!Array<number>} */ let bytes = [];\n        this.enforceBext_();\n        if (this.bext.chunkId) {\n            this.bext.chunkSize = 602 + this.bext.codingHistory.length;\n            bytes = bytes.concat((0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this.bext.chunkId), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(602 + this.bext.codingHistory.length, this.uInt32), (0, $f2eb460db311f997$export$48a3ce3d8cfe0ce1)(this.bext.description, 256), (0, $f2eb460db311f997$export$48a3ce3d8cfe0ce1)(this.bext.originator, 32), (0, $f2eb460db311f997$export$48a3ce3d8cfe0ce1)(this.bext.originatorReference, 32), (0, $f2eb460db311f997$export$48a3ce3d8cfe0ce1)(this.bext.originationDate, 10), (0, $f2eb460db311f997$export$48a3ce3d8cfe0ce1)(this.bext.originationTime, 8), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.bext.timeReference[0], this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.bext.timeReference[1], this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.bext.version, this.uInt16), (0, $f2eb460db311f997$export$48a3ce3d8cfe0ce1)(this.bext.UMID, 64), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.bext.loudnessValue, this.uInt16), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.bext.loudnessRange, this.uInt16), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.bext.maxTruePeakLevel, this.uInt16), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.bext.maxMomentaryLoudness, this.uInt16), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.bext.maxShortTermLoudness, this.uInt16), (0, $f2eb460db311f997$export$48a3ce3d8cfe0ce1)(this.bext.reserved, 180), (0, $f2eb460db311f997$export$48a3ce3d8cfe0ce1)(this.bext.codingHistory, this.bext.codingHistory.length));\n        }\n        this.enforceByteLen_(bytes);\n        return bytes;\n    }\n    /**\r\n   * Make sure a 'bext' chunk is created if BWF data was created in a file.\r\n   * @private\r\n   */ enforceBext_() {\n        for(let prop in this.bext){\n            if (this.bext.hasOwnProperty(prop)) {\n                if (this.bext[prop] && prop != \"timeReference\") {\n                    this.bext.chunkId = \"bext\";\n                    break;\n                }\n            }\n        }\n        if (this.bext.timeReference[0] || this.bext.timeReference[1]) this.bext.chunkId = \"bext\";\n    }\n    /**\r\n   * Return the bytes of the 'iXML' chunk.\r\n   * @return {!Array<number>} The 'iXML' chunk bytes.\r\n   * @private\r\n   */ getiXMLBytes_() {\n        /** @type {!Array<number>} */ let bytes = [];\n        if (this.iXML.chunkId) {\n            /** @type {!Array<number>} */ let iXMLPackedValue = (0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this.iXML.value);\n            this.iXML.chunkSize = iXMLPackedValue.length;\n            bytes = bytes.concat((0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this.iXML.chunkId), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.iXML.chunkSize, this.uInt32), iXMLPackedValue);\n        }\n        this.enforceByteLen_(bytes);\n        return bytes;\n    }\n    /**\r\n   * Return the bytes of the 'ds64' chunk.\r\n   * @return {!Array<number>} The 'ds64' chunk bytes.\r\n   * @private\r\n   */ getDs64Bytes_() {\n        /** @type {!Array<number>} */ let bytes = [];\n        if (this.ds64.chunkId) bytes = bytes.concat((0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this.ds64.chunkId), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.ds64.chunkSize, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.ds64.riffSizeHigh, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.ds64.riffSizeLow, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.ds64.dataSizeHigh, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.ds64.dataSizeLow, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.ds64.originationTime, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.ds64.sampleCountHigh, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.ds64.sampleCountLow, this.uInt32));\n        //if (this.ds64.tableLength) {\n        //  ds64Bytes = ds64Bytes.concat(\n        //    pack(this.ds64.tableLength, this.uInt32),\n        //    this.ds64.table);\n        //}\n        this.enforceByteLen_(bytes);\n        return bytes;\n    }\n    /**\r\n   * Return the bytes of the 'cue ' chunk.\r\n   * @return {!Array<number>} The 'cue ' chunk bytes.\r\n   * @private\r\n   */ getCueBytes_() {\n        /** @type {!Array<number>} */ let bytes = [];\n        if (this.cue.chunkId) {\n            /** @type {!Array<number>} */ let cuePointsBytes = this.getCuePointsBytes_();\n            bytes = bytes.concat((0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this.cue.chunkId), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(cuePointsBytes.length + 4, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.cue.dwCuePoints, this.uInt32), cuePointsBytes);\n        }\n        this.enforceByteLen_(bytes);\n        return bytes;\n    }\n    /**\r\n   * Return the bytes of the 'cue ' points.\r\n   * @return {!Array<number>} The 'cue ' points as an array of bytes.\r\n   * @private\r\n   */ getCuePointsBytes_() {\n        /** @type {!Array<number>} */ let points = [];\n        for(let i = 0; i < this.cue.dwCuePoints; i++)points = points.concat((0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.cue.points[i].dwName, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.cue.points[i].dwPosition, this.uInt32), (0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this.cue.points[i].fccChunk), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.cue.points[i].dwChunkStart, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.cue.points[i].dwBlockStart, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.cue.points[i].dwSampleOffset, this.uInt32));\n        return points;\n    }\n    /**\r\n   * Return the bytes of the 'smpl' chunk.\r\n   * @return {!Array<number>} The 'smpl' chunk bytes.\r\n   * @private\r\n   */ getSmplBytes_() {\n        /** @type {!Array<number>} */ let bytes = [];\n        if (this.smpl.chunkId) {\n            /** @type {!Array<number>} */ let smplLoopsBytes = this.getSmplLoopsBytes_();\n            bytes = bytes.concat((0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this.smpl.chunkId), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(smplLoopsBytes.length + 36, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.dwManufacturer, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.dwProduct, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.dwSamplePeriod, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.dwMIDIUnityNote, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.dwMIDIPitchFraction, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.dwSMPTEFormat, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.dwSMPTEOffset, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.dwNumSampleLoops, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.dwSamplerData, this.uInt32), smplLoopsBytes);\n        }\n        this.enforceByteLen_(bytes);\n        return bytes;\n    }\n    /**\r\n   * Return the bytes of the 'smpl' loops.\r\n   * @return {!Array<number>} The 'smpl' loops as an array of bytes.\r\n   * @private\r\n   */ getSmplLoopsBytes_() {\n        /** @type {!Array<number>} */ let loops = [];\n        for(let i = 0; i < this.smpl.dwNumSampleLoops; i++)loops = loops.concat((0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.loops[i].dwName, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.loops[i].dwType, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.loops[i].dwStart, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.loops[i].dwEnd, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.loops[i].dwFraction, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.smpl.loops[i].dwPlayCount, this.uInt32));\n        return loops;\n    }\n    /**\r\n   * Return the bytes of the 'fact' chunk.\r\n   * @return {!Array<number>} The 'fact' chunk bytes.\r\n   * @private\r\n   */ getFactBytes_() {\n        /** @type {!Array<number>} */ let bytes = [];\n        if (this.fact.chunkId) bytes = bytes.concat((0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this.fact.chunkId), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fact.chunkSize, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fact.dwSampleLength, this.uInt32));\n        this.enforceByteLen_(bytes);\n        return bytes;\n    }\n    /**\r\n   * Return the bytes of the 'fmt ' chunk.\r\n   * @return {!Array<number>} The 'fmt' chunk bytes.\r\n   * @throws {Error} if no 'fmt ' chunk is present.\r\n   * @private\r\n   */ getFmtBytes_() {\n        /** @type {!Array<number>} */ let fmtBytes = [];\n        if (this.fmt.chunkId) {\n            /** @type {!Array<number>} */ let bytes = fmtBytes.concat((0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this.fmt.chunkId), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fmt.chunkSize, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fmt.audioFormat, this.uInt16), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fmt.numChannels, this.uInt16), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fmt.sampleRate, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fmt.byteRate, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fmt.blockAlign, this.uInt16), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fmt.bitsPerSample, this.uInt16), this.getFmtExtensionBytes_());\n            this.enforceByteLen_(bytes);\n            return bytes;\n        }\n        throw Error('Could not find the \"fmt \" chunk');\n    }\n    /**\r\n   * Return the bytes of the fmt extension fields.\r\n   * @return {!Array<number>} The fmt extension bytes.\r\n   * @private\r\n   */ getFmtExtensionBytes_() {\n        /** @type {!Array<number>} */ let extension = [];\n        if (this.fmt.chunkSize > 16) extension = extension.concat((0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fmt.cbSize, this.uInt16));\n        if (this.fmt.chunkSize > 18) extension = extension.concat((0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fmt.validBitsPerSample, this.uInt16));\n        if (this.fmt.chunkSize > 20) extension = extension.concat((0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fmt.dwChannelMask, this.uInt32));\n        if (this.fmt.chunkSize > 24) extension = extension.concat((0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fmt.subformat[0], this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fmt.subformat[1], this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fmt.subformat[2], this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.fmt.subformat[3], this.uInt32));\n        return extension;\n    }\n    /**\r\n   * Return the bytes of the 'LIST' chunk.\r\n   * @return {!Array<number>} The 'LIST' chunk bytes.\r\n   * @private\r\n   */ getLISTBytes_() {\n        /** @type {!Array<number>} */ let bytes = [];\n        for(let i = 0; i < this.LIST.length; i++){\n            /** @type {!Array<number>} */ let subChunksBytes = this.getLISTSubChunksBytes_(this.LIST[i].subChunks, this.LIST[i].format);\n            bytes = bytes.concat((0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this.LIST[i].chunkId), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(subChunksBytes.length + 4, this.uInt32), (0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this.LIST[i].format), subChunksBytes);\n        }\n        this.enforceByteLen_(bytes);\n        return bytes;\n    }\n    /**\r\n   * Return the bytes of the sub chunks of a 'LIST' chunk.\r\n   * @param {!Array<!Object>} subChunks The 'LIST' sub chunks.\r\n   * @param {string} format The format of the 'LIST' chunk.\r\n   *    Currently supported values are 'adtl' or 'INFO'.\r\n   * @return {!Array<number>} The sub chunk bytes.\r\n   * @private\r\n   */ getLISTSubChunksBytes_(subChunks, format) {\n        /** @type {!Array<number>} */ let bytes = [];\n        for(let i = 0, len = subChunks.length; i < len; i++){\n            if (format == \"INFO\") bytes = bytes.concat(this.getLISTINFOSubChunksBytes_(subChunks[i]));\n            else if (format == \"adtl\") bytes = bytes.concat(this.getLISTadtlSubChunksBytes_(subChunks[i]));\n            this.enforceByteLen_(bytes);\n        }\n        return bytes;\n    }\n    /**\r\n   * Return the bytes of the sub chunks of a 'LIST' chunk of type 'INFO'.\r\n   * @param {!Object} subChunk The 'LIST' sub chunk.\r\n   * @return {!Array<number>}\r\n   * @private\r\n   */ getLISTINFOSubChunksBytes_(subChunk) {\n        /** @type {!Array<number>} */ let bytes = [];\n        /** @type {!Array<number>} */ let LISTsubChunkValue = (0, $f2eb460db311f997$export$48a3ce3d8cfe0ce1)(subChunk.value, subChunk.value.length);\n        bytes = bytes.concat((0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(subChunk.chunkId), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(LISTsubChunkValue.length + 1, this.uInt32), LISTsubChunkValue);\n        bytes.push(0);\n        return bytes;\n    }\n    /**\r\n   * Return the bytes of the sub chunks of a 'LIST' chunk of type 'INFO'.\r\n   * @param {!Object} subChunk The 'LIST' sub chunk.\r\n   * @return {!Array<number>}\r\n   * @private\r\n   */ getLISTadtlSubChunksBytes_(subChunk) {\n        /** @type {!Array<number>} */ let bytes = [];\n        if ([\n            \"labl\",\n            \"note\"\n        ].indexOf(subChunk.chunkId) > -1) {\n            /** @type {!Array<number>} */ let LISTsubChunkValue = (0, $f2eb460db311f997$export$48a3ce3d8cfe0ce1)(subChunk.value, subChunk.value.length);\n            bytes = bytes.concat((0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(subChunk.chunkId), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(LISTsubChunkValue.length + 4 + 1, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(subChunk.dwName, this.uInt32), LISTsubChunkValue);\n            bytes.push(0);\n        } else if (subChunk.chunkId == \"ltxt\") bytes = bytes.concat(this.getLtxtChunkBytes_(subChunk));\n        return bytes;\n    }\n    /**\r\n   * Return the bytes of a 'ltxt' chunk.\r\n   * @param {!Object} ltxt the 'ltxt' chunk.\r\n   * @return {!Array<number>}\r\n   * @private\r\n   */ getLtxtChunkBytes_(ltxt) {\n        return [].concat((0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(ltxt.chunkId), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(ltxt.value.length + 20, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(ltxt.dwName, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(ltxt.dwSampleLength, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(ltxt.dwPurposeID, this.uInt32), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(ltxt.dwCountry, this.uInt16), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(ltxt.dwLanguage, this.uInt16), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(ltxt.dwDialect, this.uInt16), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(ltxt.dwCodePage, this.uInt16), // should always be a empty string;\n        // kept for compatibility\n        (0, $f2eb460db311f997$export$48a3ce3d8cfe0ce1)(ltxt.value, ltxt.value.length));\n    }\n    /**\r\n   * Return the bytes of the '_PMX' chunk.\r\n   * @return {!Array<number>} The '_PMX' chunk bytes.\r\n   * @private\r\n   */ get_PMXBytes_() {\n        /** @type {!Array<number>} */ let bytes = [];\n        if (this._PMX.chunkId) {\n            /** @type {!Array<number>} */ let _PMXPackedValue = (0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this._PMX.value);\n            this._PMX.chunkSize = _PMXPackedValue.length;\n            bytes = bytes.concat((0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this._PMX.chunkId), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this._PMX.chunkSize, this.uInt32), _PMXPackedValue);\n        }\n        this.enforceByteLen_(bytes);\n        return bytes;\n    }\n    /**\r\n   * Return the bytes of the 'junk' chunk.\r\n   * @private\r\n   */ getJunkBytes_() {\n        /** @type {!Array<number>} */ let bytes = [];\n        if (this.junk.chunkId) return bytes.concat((0, $f474a5d125722a8f$export$4ed3d445f9e5209f)(this.junk.chunkId), (0, $f474a5d125722a8f$export$2a703dbb0cb35339)(this.junk.chunkData.length, this.uInt32), this.junk.chunkData);\n        this.enforceByteLen_(bytes);\n        return bytes;\n    }\n    /**\r\n   * Push a null byte into a byte array if\r\n   * the byte count is odd.\r\n   * @param {!Array<number>} bytes The byte array.\r\n   * @private\r\n   */ enforceByteLen_(bytes) {\n        if (bytes.length % 2) bytes.push(0);\n    }\n}\n\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview The interleave function.\r\n * @see https://github.com/rochars/wavefile\r\n */ /**\r\n * Interleave de-interleaved samples.\r\n * @param {!(Array|TypedArray)} samples The samples.\r\n * @return {!(Array|TypedArray)}\r\n */ function $19137b2c9037336b$export$306776142e961518(samples) {\n    /** @type {!(Array|TypedArray)} */ let finalSamples = [];\n    if (samples.length > 0) {\n        if (samples[0].constructor !== Number) {\n            finalSamples = new Float64Array(samples[0].length * samples.length);\n            for(let i = 0, len = samples[0].length, x = 0; i < len; i++)for(let j = 0, subLen = samples.length; j < subLen; j++, x++)finalSamples[x] = samples[j][i];\n        } else finalSamples = samples;\n    }\n    return finalSamples;\n}\nfunction $19137b2c9037336b$export$a85907c764dbd44b(samples, numChannels, OutputObject = Float64Array) {\n    /** @type {!(Array|TypedArray)} */ let finalSamples = [];\n    for(let i = 0; i < numChannels; i++)finalSamples[i] = new OutputObject(samples.length / numChannels);\n    for(let i = 0; i < numChannels; i++)for(let j = i, s = 0; j < samples.length; j += numChannels, s++)finalSamples[i][s] = samples[j];\n    return finalSamples;\n}\n\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview The validateNumChannels function.\r\n * @see https://github.com/rochars/wavefile\r\n */ /**\r\n * Validate the number of channels in a wav file according to the\r\n * bit depth of the audio.\r\n * @param {number} channels The number of channels in the file.\r\n * @param {number} bits The number of bits per sample.\r\n * @return {boolean} True is the number of channels is valid.\r\n */ function $8be8cb21f2225bdd$export$458d872825e79300(channels, bits) {\n    /** @type {number} */ let blockAlign = channels * bits / 8;\n    if (channels < 1 || blockAlign > 65535) return false;\n    return true;\n}\n\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview The validateSampleRate function.\r\n * @see https://github.com/rochars/wavefile\r\n */ /**\r\n * Validate the sample rate value of a wav file according to the number of\r\n * channels and the bit depth of the audio.\r\n * @param {number} channels The number of channels in the file.\r\n * @param {number} bits The number of bits per sample.\r\n * @param {number} sampleRate The sample rate to be validated.\r\n * @return {boolean} True is the sample rate is valid, false otherwise.\r\n */ function $201155b6a1143b86$export$c2c1b5fd9318930(channels, bits, sampleRate) {\n    /** @type {number} */ let byteRate = channels * (bits / 8) * sampleRate;\n    if (sampleRate < 1 || byteRate > 4294967295) return false;\n    return true;\n}\n\n\n\nclass $6498f4274b87c8fa$export$ab29ac3ad7ae0c77 extends (0, $fcbc067dc9a6bbc8$export$471b3ad31f00fb81) {\n    constructor(){\n        super();\n        /**\r\n     * The bit depth code according to the samples.\r\n     * @type {string}\r\n     */ this.bitDepth = \"0\";\n        /**\r\n     * @type {!{bits: number, be: boolean}}\r\n     * @protected\r\n     */ this.dataType = {\n            bits: 0,\n            be: false\n        };\n        /**\r\n     * Audio formats.\r\n     * Formats not listed here should be set to 65534,\r\n     * the code for WAVE_FORMAT_EXTENSIBLE\r\n     * @enum {number}\r\n     * @protected\r\n     */ this.WAV_AUDIO_FORMATS = {\n            \"4\": 17,\n            \"8\": 1,\n            \"8a\": 6,\n            \"8m\": 7,\n            \"16\": 1,\n            \"24\": 1,\n            \"32\": 1,\n            \"32f\": 3,\n            \"64\": 3\n        };\n    }\n    /**\r\n   * Set up the WaveFileCreator object based on the arguments passed.\r\n   * Existing chunks are reset.\r\n   * @param {number} numChannels The number of channels.\r\n   * @param {number} sampleRate The sample rate.\r\n   *    Integers like 8000, 44100, 48000, 96000, 192000.\r\n   * @param {string} bitDepthCode The audio bit depth code.\r\n   *    One of '4', '8', '8a', '8m', '16', '24', '32', '32f', '64'\r\n   *    or any value between '8' and '32' (like '12').\r\n   * @param {!(Array|TypedArray)} samples The samples.\r\n   * @param {Object=} options Optional. Used to force the container\r\n   *    as RIFX with {'container': 'RIFX'}\r\n   * @throws {Error} If any argument does not meet the criteria.\r\n   */ fromScratch(numChannels, sampleRate, bitDepthCode, samples, options) {\n        options = options || {};\n        // reset all chunks\n        this.clearHeaders();\n        this.newWavFile_(numChannels, sampleRate, bitDepthCode, samples, options);\n    }\n    /**\r\n   * Set up the WaveFileParser object from a byte buffer.\r\n   * @param {!Uint8Array} wavBuffer The buffer.\r\n   * @param {boolean=} [samples=true] True if the samples should be loaded.\r\n   * @throws {Error} If container is not RIFF, RIFX or RF64.\r\n   * @throws {Error} If format is not WAVE.\r\n   * @throws {Error} If no 'fmt ' chunk is found.\r\n   * @throws {Error} If no 'data' chunk is found.\r\n   */ fromBuffer(wavBuffer, samples = true) {\n        super.fromBuffer(wavBuffer, samples);\n        this.bitDepthFromFmt_();\n        this.updateDataType_();\n    }\n    /**\r\n   * Return a byte buffer representig the WaveFileParser object as a .wav file.\r\n   * The return value of this method can be written straight to disk.\r\n   * @return {!Uint8Array} A wav file.\r\n   * @throws {Error} If bit depth is invalid.\r\n   * @throws {Error} If the number of channels is invalid.\r\n   * @throws {Error} If the sample rate is invalid.\r\n   */ toBuffer() {\n        this.validateWavHeader_();\n        return super.toBuffer();\n    }\n    /**\r\n   * Return the samples packed in a Float64Array.\r\n   * @param {boolean=} [interleaved=false] True to return interleaved samples,\r\n   *   false to return the samples de-interleaved.\r\n   * @param {Function=} [OutputObject=Float64Array] The sample container.\r\n   * @return {!(Array|TypedArray)} the samples.\r\n   */ getSamples(interleaved = false, OutputObject = Float64Array) {\n        /**\r\n     * A Float64Array created with a size to match the\r\n     * the length of the samples.\r\n     * @type {!(Array|TypedArray)}\r\n     */ let samples = new OutputObject(this.data.samples.length / (this.dataType.bits / 8));\n        // Unpack all the samples\n        (0, $f474a5d125722a8f$export$a53577d75410ba7b)(this.data.samples, this.dataType, samples, 0, this.data.samples.length);\n        if (!interleaved && this.fmt.numChannels > 1) return (0, $19137b2c9037336b$export$a85907c764dbd44b)(samples, this.fmt.numChannels, OutputObject);\n        return samples;\n    }\n    /**\r\n   * Return the sample at a given index.\r\n   * @param {number} index The sample index.\r\n   * @return {number} The sample.\r\n   * @throws {Error} If the sample index is off range.\r\n   */ getSample(index) {\n        index = index * (this.dataType.bits / 8);\n        if (index + this.dataType.bits / 8 > this.data.samples.length) throw new Error(\"Range error\");\n        return (0, $f474a5d125722a8f$export$417857010dc9287f)(this.data.samples.slice(index, index + this.dataType.bits / 8), this.dataType);\n    }\n    /**\r\n   * Set the sample at a given index.\r\n   * @param {number} index The sample index.\r\n   * @param {number} sample The sample.\r\n   * @throws {Error} If the sample index is off range.\r\n   */ setSample(index, sample) {\n        index = index * (this.dataType.bits / 8);\n        if (index + this.dataType.bits / 8 > this.data.samples.length) throw new Error(\"Range error\");\n        (0, $f474a5d125722a8f$export$4f7d52af80c0e526)(sample, this.dataType, this.data.samples, index, true);\n    }\n    /**\r\n   * Return the value of the iXML chunk.\r\n   * @return {string} The contents of the iXML chunk.\r\n   */ getiXML() {\n        return this.iXML.value;\n    }\n    /**\r\n   * Set the value of the iXML chunk.\r\n   * @param {string} iXMLValue The value for the iXML chunk.\r\n   * @throws {TypeError} If the value is not a string.\r\n   */ setiXML(iXMLValue) {\n        if (typeof iXMLValue !== \"string\") throw new TypeError(\"iXML value must be a string.\");\n        this.iXML.value = iXMLValue;\n        this.iXML.chunkId = \"iXML\";\n    }\n    /**\r\n   * Get the value of the _PMX chunk.\r\n   * @return {string} The contents of the _PMX chunk.\r\n   */ get_PMX() {\n        return this._PMX.value;\n    }\n    /**\r\n   * Set the value of the _PMX chunk.\r\n   * @param {string} _PMXValue The value for the _PMX chunk.\r\n   * @throws {TypeError} If the value is not a string.\r\n   */ set_PMX(_PMXValue) {\n        if (typeof _PMXValue !== \"string\") throw new TypeError(\"_PMX value must be a string.\");\n        this._PMX.value = _PMXValue;\n        this._PMX.chunkId = \"_PMX\";\n    }\n    /**\r\n   * Set up the WaveFileCreator object based on the arguments passed.\r\n   * @param {number} numChannels The number of channels.\r\n   * @param {number} sampleRate The sample rate.\r\n   *   Integers like 8000, 44100, 48000, 96000, 192000.\r\n   * @param {string} bitDepthCode The audio bit depth code.\r\n   *   One of '4', '8', '8a', '8m', '16', '24', '32', '32f', '64'\r\n   *   or any value between '8' and '32' (like '12').\r\n   * @param {!(Array|TypedArray)} samples The samples.\r\n   * @param {Object} options Used to define the container.\r\n   * @throws {Error} If any argument does not meet the criteria.\r\n   * @private\r\n   */ newWavFile_(numChannels, sampleRate, bitDepthCode, samples, options) {\n        if (!options.container) options.container = \"RIFF\";\n        this.container = options.container;\n        this.bitDepth = bitDepthCode;\n        samples = (0, $19137b2c9037336b$export$306776142e961518)(samples);\n        this.updateDataType_();\n        /** @type {number} */ let numBytes = this.dataType.bits / 8;\n        this.data.samples = new Uint8Array(samples.length * numBytes);\n        (0, $f474a5d125722a8f$export$1aa897dbb10b4708)(samples, this.dataType, this.data.samples, 0, true);\n        this.makeWavHeader_(bitDepthCode, numChannels, sampleRate, numBytes, this.data.samples.length, options);\n        this.data.chunkId = \"data\";\n        this.data.chunkSize = this.data.samples.length;\n        this.validateWavHeader_();\n    }\n    /**\r\n   * Define the header of a wav file.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */ makeWavHeader_(bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\n        if (bitDepthCode == \"4\") this.createADPCMHeader_(bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\n        else if (bitDepthCode == \"8a\" || bitDepthCode == \"8m\") this.createALawMulawHeader_(bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\n        else if (Object.keys(this.WAV_AUDIO_FORMATS).indexOf(bitDepthCode) == -1 || numChannels > 2) this.createExtensibleHeader_(bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\n        else this.createPCMHeader_(bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\n    }\n    /**\r\n   * Create the header of a linear PCM wave file.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */ createPCMHeader_(bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\n        this.container = options.container;\n        this.chunkSize = 36 + samplesLength;\n        this.format = \"WAVE\";\n        this.bitDepth = bitDepthCode;\n        this.fmt = {\n            chunkId: \"fmt \",\n            chunkSize: 16,\n            audioFormat: this.WAV_AUDIO_FORMATS[bitDepthCode] || 65534,\n            numChannels: numChannels,\n            sampleRate: sampleRate,\n            byteRate: numChannels * numBytes * sampleRate,\n            blockAlign: numChannels * numBytes,\n            bitsPerSample: parseInt(bitDepthCode, 10),\n            cbSize: 0,\n            validBitsPerSample: 0,\n            dwChannelMask: 0,\n            subformat: []\n        };\n    }\n    /**\r\n   * Create the header of a ADPCM wave file.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */ createADPCMHeader_(bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\n        this.createPCMHeader_(bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\n        this.chunkSize = 40 + samplesLength;\n        this.fmt.chunkSize = 20;\n        this.fmt.byteRate = 4055;\n        this.fmt.blockAlign = 256;\n        this.fmt.bitsPerSample = 4;\n        this.fmt.cbSize = 2;\n        this.fmt.validBitsPerSample = 505;\n        this.fact = {\n            chunkId: \"fact\",\n            chunkSize: 4,\n            dwSampleLength: samplesLength * 2\n        };\n    }\n    /**\r\n   * Create the header of WAVE_FORMAT_EXTENSIBLE file.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */ createExtensibleHeader_(bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\n        this.createPCMHeader_(bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\n        this.chunkSize = 60 + samplesLength;\n        this.fmt.chunkSize = 40;\n        this.fmt.bitsPerSample = (parseInt(bitDepthCode, 10) - 1 | 7) + 1;\n        this.fmt.cbSize = 22;\n        this.fmt.validBitsPerSample = parseInt(bitDepthCode, 10);\n        this.fmt.dwChannelMask = $6498f4274b87c8fa$var$dwChannelMask_(numChannels);\n        // subformat 128-bit GUID as 4 32-bit values\n        // only supports uncompressed integer PCM samples\n        this.fmt.subformat = [\n            1,\n            1048576,\n            2852126848,\n            1905997824\n        ];\n    }\n    /**\r\n   * Create the header of mu-Law and A-Law wave files.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */ createALawMulawHeader_(bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\n        this.createPCMHeader_(bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\n        this.chunkSize = 40 + samplesLength;\n        this.fmt.chunkSize = 20;\n        this.fmt.cbSize = 2;\n        this.fmt.validBitsPerSample = 8;\n        this.fact = {\n            chunkId: \"fact\",\n            chunkSize: 4,\n            dwSampleLength: samplesLength\n        };\n    }\n    /**\r\n   * Set the string code of the bit depth based on the 'fmt ' chunk.\r\n   * @private\r\n   */ bitDepthFromFmt_() {\n        if (this.fmt.audioFormat === 3 && this.fmt.bitsPerSample === 32) this.bitDepth = \"32f\";\n        else if (this.fmt.audioFormat === 6) this.bitDepth = \"8a\";\n        else if (this.fmt.audioFormat === 7) this.bitDepth = \"8m\";\n        else this.bitDepth = this.fmt.bitsPerSample.toString();\n    }\n    /**\r\n   * Validate the bit depth.\r\n   * @return {boolean} True is the bit depth is valid.\r\n   * @throws {Error} If bit depth is invalid.\r\n   * @private\r\n   */ validateBitDepth_() {\n        if (!this.WAV_AUDIO_FORMATS[this.bitDepth]) {\n            if (parseInt(this.bitDepth, 10) > 8 && parseInt(this.bitDepth, 10) < 54) return true;\n            throw new Error(\"Invalid bit depth.\");\n        }\n        return true;\n    }\n    /**\r\n   * Update the type definition used to read and write the samples.\r\n   * @private\r\n   */ updateDataType_() {\n        this.dataType = {\n            bits: (parseInt(this.bitDepth, 10) - 1 | 7) + 1,\n            fp: this.bitDepth == \"32f\" || this.bitDepth == \"64\",\n            signed: this.bitDepth != \"8\",\n            be: this.container == \"RIFX\"\n        };\n        if ([\n            \"4\",\n            \"8a\",\n            \"8m\"\n        ].indexOf(this.bitDepth) > -1) {\n            this.dataType.bits = 8;\n            this.dataType.signed = false;\n        }\n    }\n    /**\r\n   * Validate the header of the file.\r\n   * @throws {Error} If bit depth is invalid.\r\n   * @throws {Error} If the number of channels is invalid.\r\n   * @throws {Error} If the sample rate is invalid.\r\n   * @ignore\r\n   * @private\r\n   */ validateWavHeader_() {\n        this.validateBitDepth_();\n        if (!(0, $8be8cb21f2225bdd$export$458d872825e79300)(this.fmt.numChannels, this.fmt.bitsPerSample)) throw new Error(\"Invalid number of channels.\");\n        if (!(0, $201155b6a1143b86$export$c2c1b5fd9318930)(this.fmt.numChannels, this.fmt.bitsPerSample, this.fmt.sampleRate)) throw new Error(\"Invalid sample rate.\");\n    }\n}\n/**\r\n * Return the value for dwChannelMask according to the number of channels.\r\n * @param {number} numChannels the number of channels.\r\n * @return {number} the dwChannelMask value.\r\n * @private\r\n */ function $6498f4274b87c8fa$var$dwChannelMask_(numChannels) {\n    /** @type {number} */ let mask = 0;\n    // mono = FC\n    if (numChannels === 1) mask = 0x4;\n    else if (numChannels === 2) mask = 0x3;\n    else if (numChannels === 4) mask = 0x33;\n    else if (numChannels === 6) mask = 0x3F;\n    else if (numChannels === 8) mask = 0x63F;\n    return mask;\n}\n\n\nclass $798ed3e1f5369179$export$e4385e1b781f8da4 extends (0, $6498f4274b87c8fa$export$ab29ac3ad7ae0c77) {\n    /**\r\n   * Return the value of a RIFF tag in the INFO chunk.\r\n   * @param {string} tag The tag name.\r\n   * @return {?string} The value if the tag is found, null otherwise.\r\n   */ getTag(tag) {\n        /** @type {!Object} */ let index = this.getTagIndex_(tag);\n        if (index.TAG !== null) return this.LIST[index.LIST].subChunks[index.TAG].value;\n        return null;\n    }\n    /**\r\n   * Write a RIFF tag in the INFO chunk. If the tag do not exist,\r\n   * then it is created. It if exists, it is overwritten.\r\n   * @param {string} tag The tag name.\r\n   * @param {string} value The tag value.\r\n   * @throws {Error} If the tag name is not valid.\r\n   */ setTag(tag, value) {\n        tag = $798ed3e1f5369179$var$fixRIFFTag_(tag);\n        /** @type {!Object} */ let index = this.getTagIndex_(tag);\n        if (index.TAG !== null) {\n            this.LIST[index.LIST].subChunks[index.TAG].chunkSize = value.length + 1;\n            this.LIST[index.LIST].subChunks[index.TAG].value = value;\n        } else if (index.LIST !== null) this.LIST[index.LIST].subChunks.push({\n            chunkId: tag,\n            chunkSize: value.length + 1,\n            value: value\n        });\n        else {\n            this.LIST.push({\n                chunkId: \"LIST\",\n                chunkSize: 8 + value.length + 1,\n                format: \"INFO\",\n                subChunks: []\n            });\n            this.LIST[this.LIST.length - 1].subChunks.push({\n                chunkId: tag,\n                chunkSize: value.length + 1,\n                value: value\n            });\n        }\n    }\n    /**\r\n   * Remove a RIFF tag from the INFO chunk.\r\n   * @param {string} tag The tag name.\r\n   * @return {boolean} True if a tag was deleted.\r\n   */ deleteTag(tag) {\n        /** @type {!Object} */ let index = this.getTagIndex_(tag);\n        if (index.TAG !== null) {\n            this.LIST[index.LIST].subChunks.splice(index.TAG, 1);\n            return true;\n        }\n        return false;\n    }\n    /**\r\n   * Return a Object<tag, value> with the RIFF tags in the file.\r\n   * @return {!Object<string, string>} The file tags.\r\n   */ listTags() {\n        /** @type {?number} */ let index = this.getLISTIndex(\"INFO\");\n        /** @type {!Object} */ let tags = {};\n        if (index !== null) for(let i = 0, len = this.LIST[index].subChunks.length; i < len; i++)tags[this.LIST[index].subChunks[i].chunkId] = this.LIST[index].subChunks[i].value;\n        return tags;\n    }\n    /**\r\n   * Return the index of a list by its type.\r\n   * @param {string} listType The list type ('adtl', 'INFO')\r\n   * @return {?number}\r\n   * @protected\r\n   */ getLISTIndex(listType) {\n        for(let i = 0, len = this.LIST.length; i < len; i++){\n            if (this.LIST[i].format == listType) return i;\n        }\n        return null;\n    }\n    /**\r\n   * Return the index of a tag in a FILE chunk.\r\n   * @param {string} tag The tag name.\r\n   * @return {!Object<string, ?number>}\r\n   *    Object.LIST is the INFO index in LIST\r\n   *    Object.TAG is the tag index in the INFO\r\n   * @private\r\n   */ getTagIndex_(tag) {\n        /** @type {!Object<string, ?number>} */ let index = {\n            LIST: null,\n            TAG: null\n        };\n        for(let i = 0, len = this.LIST.length; i < len; i++)if (this.LIST[i].format == \"INFO\") {\n            index.LIST = i;\n            for(let j = 0, subLen = this.LIST[i].subChunks.length; j < subLen; j++)if (this.LIST[i].subChunks[j].chunkId == tag) {\n                index.TAG = j;\n                break;\n            }\n            break;\n        }\n        return index;\n    }\n}\n/**\r\n * Fix a RIFF tag format if possible, throw an error otherwise.\r\n * @param {string} tag The tag name.\r\n * @return {string} The tag name in proper fourCC format.\r\n * @private\r\n */ function $798ed3e1f5369179$var$fixRIFFTag_(tag) {\n    if (tag.constructor !== String) throw new Error(\"Invalid tag name.\");\n    else if (tag.length < 4) for(let i = 0, len = 4 - tag.length; i < len; i++)tag += \" \";\n    return tag;\n}\n\n\nclass $49ae738305d188f0$export$4972034aa639390d extends (0, $798ed3e1f5369179$export$e4385e1b781f8da4) {\n    /**\r\n   * Return an array with all cue points in the file, in the order they appear\r\n   * in the file.\r\n   * Objects representing cue points/regions look like this:\r\n   *   {\r\n   *     position: 500, // the position in milliseconds\r\n   *     label: 'cue marker 1',\r\n   *     end: 1500, // the end position in milliseconds\r\n   *     dwName: 1,\r\n   *     dwPosition: 0,\r\n   *     fccChunk: 'data',\r\n   *     dwChunkStart: 0,\r\n   *     dwBlockStart: 0,\r\n   *     dwSampleOffset: 22050, // the position as a sample offset\r\n   *     dwSampleLength: 3646827, // length as a sample count, 0 if not a region\r\n   *     dwPurposeID: 544106354,\r\n   *     dwCountry: 0,\r\n   *     dwLanguage: 0,\r\n   *     dwDialect: 0,\r\n   *     dwCodePage: 0,\r\n   *   }\r\n   * @return {!Array<Object>}\r\n   */ listCuePoints() {\n        /** @type {!Array<!Object>} */ let points = this.getCuePoints_();\n        for(let i = 0, len = points.length; i < len; i++){\n            // Add attrs that should exist in the object\n            points[i].position = points[i].dwSampleOffset / this.fmt.sampleRate * 1000;\n            // If it is a region, calc the end\n            // position in milliseconds\n            if (points[i].dwSampleLength) {\n                points[i].end = points[i].dwSampleLength / this.fmt.sampleRate * 1000;\n                points[i].end += points[i].position;\n            // If its not a region, end should be null\n            } else points[i].end = null;\n            // Remove attrs that should not go in the results\n            delete points[i].value;\n        }\n        return points;\n    }\n    /**\r\n   * Create a cue point in the wave file.\r\n   * @param {!{\r\n   *   position: number,\r\n   *   label: ?string,\r\n   *   end: ?number,\r\n   *   dwPurposeID: ?number,\r\n   *   dwCountry: ?number,\r\n   *   dwLanguage: ?number,\r\n   *   dwDialect: ?number,\r\n   *   dwCodePage: ?number\r\n   * }} pointData A object with the data of the cue point.\r\n   *\r\n   * # Only required attribute to create a cue point:\r\n   * pointData.position: The position of the point in milliseconds\r\n   *\r\n   * # Optional attribute for cue points:\r\n   * pointData.label: A string label for the cue point\r\n   *\r\n   * # Extra data used for regions\r\n   * pointData.end: A number representing the end of the region,\r\n   *   in milliseconds, counting from the start of the file. If\r\n   *   no end attr is specified then no region is created.\r\n   *\r\n   * # You may also specify the following attrs for regions, all optional:\r\n   * pointData.dwPurposeID\r\n   * pointData.dwCountry\r\n   * pointData.dwLanguage\r\n   * pointData.dwDialect\r\n   * pointData.dwCodePage\r\n   */ setCuePoint(pointData) {\n        this.cue.chunkId = \"cue \";\n        // label attr should always exist\n        if (!pointData.label) pointData.label = \"\";\n        /**\r\n     * Load the existing points before erasing\r\n     * the LIST 'adtl' chunk and the cue attr\r\n     * @type {!Array<!Object>}\r\n     */ let existingPoints = this.getCuePoints_();\n        // Clear any LIST labeled 'adtl'\n        // The LIST chunk should be re-written\n        // after the new cue point is created\n        this.clearLISTadtl_();\n        // Erase this.cue so it can be re-written\n        // after the point is added\n        this.cue.points = [];\n        /**\r\n     * Cue position param is informed in milliseconds,\r\n     * here its value is converted to the sample offset\r\n     * @type {number}\r\n     */ pointData.dwSampleOffset = pointData.position * this.fmt.sampleRate / 1000;\n        /**\r\n     * end param is informed in milliseconds, counting\r\n     * from the start of the file.\r\n     * here its value is converted to the sample length\r\n     * of the region.\r\n     * @type {number}\r\n     */ pointData.dwSampleLength = 0;\n        if (pointData.end) pointData.dwSampleLength = pointData.end * this.fmt.sampleRate / 1000 - pointData.dwSampleOffset;\n        // If there were no cue points in the file,\n        // insert the new cue point as the first\n        if (existingPoints.length === 0) this.setCuePoint_(pointData, 1);\n        else this.setCuePointInOrder_(existingPoints, pointData);\n        this.cue.dwCuePoints = this.cue.points.length;\n    }\n    /**\r\n   * Remove a cue point from a wave file.\r\n   * @param {number} index the index of the point. First is 1,\r\n   *    second is 2, and so on.\r\n   */ deleteCuePoint(index) {\n        this.cue.chunkId = \"cue \";\n        /** @type {!Array<!Object>} */ let existingPoints = this.getCuePoints_();\n        this.clearLISTadtl_();\n        /** @type {number} */ let len = this.cue.points.length;\n        this.cue.points = [];\n        for(let i = 0; i < len; i++)if (i + 1 !== index) this.setCuePoint_(existingPoints[i], i + 1);\n        this.cue.dwCuePoints = this.cue.points.length;\n        if (this.cue.dwCuePoints) this.cue.chunkId = \"cue \";\n        else {\n            this.cue.chunkId = \"\";\n            this.clearLISTadtl_();\n        }\n    }\n    /**\r\n   * Update the label of a cue point.\r\n   * @param {number} pointIndex The ID of the cue point.\r\n   * @param {string} label The new text for the label.\r\n   */ updateLabel(pointIndex, label) {\n        /** @type {?number} */ let cIndex = this.getLISTIndex(\"adtl\");\n        if (cIndex !== null) {\n            for(let i = 0, len = this.LIST[cIndex].subChunks.length; i < len; i++)if (this.LIST[cIndex].subChunks[i].dwName == pointIndex) this.LIST[cIndex].subChunks[i].value = label;\n        }\n    }\n    /**\r\n   * Return an array with all cue points in the file, in the order they appear\r\n   * in the file.\r\n   * @return {!Array<!Object>}\r\n   * @private\r\n   */ getCuePoints_() {\n        /** @type {!Array<!Object>} */ let points = [];\n        for(let i = 0; i < this.cue.points.length; i++){\n            /** @type {!Object} */ let chunk = this.cue.points[i];\n            /** @type {!Object} */ let pointData = this.getDataForCuePoint_(chunk.dwName);\n            pointData.label = pointData.value ? pointData.value : \"\";\n            pointData.dwPosition = chunk.dwPosition;\n            pointData.fccChunk = chunk.fccChunk;\n            pointData.dwChunkStart = chunk.dwChunkStart;\n            pointData.dwBlockStart = chunk.dwBlockStart;\n            pointData.dwSampleOffset = chunk.dwSampleOffset;\n            points.push(pointData);\n        }\n        return points;\n    }\n    /**\r\n   * Return the associated data of a cue point.\r\n   * @param {number} pointDwName The ID of the cue point.\r\n   * @return {!Object}\r\n   * @private\r\n   */ getDataForCuePoint_(pointDwName) {\n        /** @type {?number} */ let LISTindex = this.getLISTIndex(\"adtl\");\n        /** @type {!Object} */ let pointData = {};\n        // If there is a adtl LIST in the file, look for\n        // LIST subchunks with data referencing this point\n        if (LISTindex !== null) this.getCueDataFromLIST_(pointData, LISTindex, pointDwName);\n        return pointData;\n    }\n    /**\r\n   * Get all data associated to a cue point in a LIST chunk.\r\n   * @param {!Object} pointData A object to hold the point data.\r\n   * @param {number} index The index of the adtl LIST chunk.\r\n   * @param {number} pointDwName The ID of the cue point.\r\n   * @private\r\n   */ getCueDataFromLIST_(pointData, index, pointDwName) {\n        // got through all chunks in the adtl LIST checking\n        // for references to this cue point\n        for(let i = 0, len = this.LIST[index].subChunks.length; i < len; i++)if (this.LIST[index].subChunks[i].dwName == pointDwName) {\n            /** @type {!Object} */ let chunk = this.LIST[index].subChunks[i];\n            // Some chunks may reference the point but\n            // have a empty text; this is to ensure that if\n            // one chunk that reference the point has a text,\n            // this value will be kept as the associated data label\n            // for the cue point.\n            // If different values are present, the last value found\n            // will be considered the label for the cue point.\n            pointData.value = chunk.value || pointData.value;\n            pointData.dwName = chunk.dwName || 0;\n            pointData.dwSampleLength = chunk.dwSampleLength || 0;\n            pointData.dwPurposeID = chunk.dwPurposeID || 0;\n            pointData.dwCountry = chunk.dwCountry || 0;\n            pointData.dwLanguage = chunk.dwLanguage || 0;\n            pointData.dwDialect = chunk.dwDialect || 0;\n            pointData.dwCodePage = chunk.dwCodePage || 0;\n        }\n    }\n    /**\r\n   * Push a new cue point in this.cue.points.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @param {number} dwName the dwName of the cue point\r\n   * @private\r\n   */ setCuePoint_(pointData, dwName) {\n        this.cue.points.push({\n            dwName: dwName,\n            dwPosition: pointData.dwPosition ? pointData.dwPosition : 0,\n            fccChunk: pointData.fccChunk ? pointData.fccChunk : \"data\",\n            dwChunkStart: pointData.dwChunkStart ? pointData.dwChunkStart : 0,\n            dwBlockStart: pointData.dwBlockStart ? pointData.dwBlockStart : 0,\n            dwSampleOffset: pointData.dwSampleOffset\n        });\n        this.setLabl_(pointData, dwName);\n    }\n    /**\r\n   * Push a new cue point in this.cue.points according to existing cue points.\r\n   * @param {!Array} existingPoints Array with the existing points.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @private\r\n   */ setCuePointInOrder_(existingPoints, pointData) {\n        /** @type {boolean} */ let hasSet = false;\n        // Iterate over the cue points that existed\n        // before this one was added\n        for(let i = 0; i < existingPoints.length; i++)// If the new point is located before this original point\n        // and the new point have not been created, create the\n        // new point and then the original point\n        if (existingPoints[i].dwSampleOffset > pointData.dwSampleOffset && !hasSet) {\n            // create the new point\n            this.setCuePoint_(pointData, i + 1);\n            // create the original point\n            this.setCuePoint_(existingPoints[i], i + 2);\n            hasSet = true;\n        // Otherwise, re-create the original point\n        } else this.setCuePoint_(existingPoints[i], hasSet ? i + 2 : i + 1);\n        // If no point was created in the above loop,\n        // create the new point as the last one\n        if (!hasSet) this.setCuePoint_(pointData, this.cue.points.length + 1);\n    }\n    /**\r\n   * Clear any LIST chunk labeled as 'adtl'.\r\n   * @private\r\n   */ clearLISTadtl_() {\n        for(let i = 0, len = this.LIST.length; i < len; i++)if (this.LIST[i].format == \"adtl\") this.LIST.splice(i);\n    }\n    /**\r\n   * Create a new 'labl' subchunk in a 'LIST' chunk of type 'adtl'.\r\n   * This method creates a LIST adtl chunk in the file if one\r\n   * is not present.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @param {number} dwName The ID of the cue point.\r\n   * @private\r\n   */ setLabl_(pointData, dwName) {\n        /**\r\n     * Get the index of the LIST chunk labeled as adtl.\r\n     * A file can have many LIST chunks with unique labels.\r\n     * @type {?number}\r\n     */ let adtlIndex = this.getLISTIndex(\"adtl\");\n        // If there is no adtl LIST, create one\n        if (adtlIndex === null) {\n            // Include a new item LIST chunk\n            this.LIST.push({\n                chunkId: \"LIST\",\n                chunkSize: 4,\n                format: \"adtl\",\n                subChunks: []\n            });\n            // Get the index of the new LIST chunk\n            adtlIndex = this.LIST.length - 1;\n        }\n        this.setLabelText_(adtlIndex, pointData, dwName);\n        if (pointData.dwSampleLength) this.setLtxtChunk_(adtlIndex, pointData, dwName);\n    }\n    /**\r\n   * Create a new 'labl' subchunk in a 'LIST' chunk of type 'adtl'.\r\n   * @param {number} adtlIndex The index of the 'adtl' LIST in this.LIST.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @param {number} dwName The ID of the cue point.\r\n   * @private\r\n   */ setLabelText_(adtlIndex, pointData, dwName) {\n        this.LIST[adtlIndex].subChunks.push({\n            chunkId: \"labl\",\n            chunkSize: 4,\n            dwName: dwName,\n            value: pointData.label\n        });\n        this.LIST[adtlIndex].chunkSize += 12; // should be 4 + label byte length\n    }\n    /**\r\n   * Create a new 'ltxt' subchunk in a 'LIST' chunk of type 'adtl'.\r\n   * @param {number} adtlIndex The index of the 'adtl' LIST in this.LIST.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @param {number} dwName The ID of the cue point.\r\n   * @private\r\n   */ setLtxtChunk_(adtlIndex, pointData, dwName) {\n        this.LIST[adtlIndex].subChunks.push({\n            chunkId: \"ltxt\",\n            chunkSize: 20,\n            dwName: dwName,\n            dwSampleLength: pointData.dwSampleLength,\n            dwPurposeID: pointData.dwPurposeID || 0,\n            dwCountry: pointData.dwCountry || 0,\n            dwLanguage: pointData.dwLanguage || 0,\n            dwDialect: pointData.dwDialect || 0,\n            dwCodePage: pointData.dwCodePage || 0,\n            value: pointData.label // kept for compatibility\n        });\n        this.LIST[adtlIndex].chunkSize += 28;\n    }\n}\n\n\n\n/*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview The resample function.\r\n * @see https://github.com/rochars/wavefile\r\n */ /*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n * Copyright 2012 Spencer Cohen\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview The Interpolator class. Based on Smooth.js by Spencer Cohen.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/osuushi/Smooth.js\r\n */ /**\r\n * A class to get scaled values out of arrays.\r\n * @extends WaveFileReader\r\n */ class $230807bb5b9475e2$export$161d9b0a23a5c866 {\n    /**\r\n   * @param {number} scaleFrom the length of the original array.\r\n   * @param {number} scaleTo The length of the new array.\r\n   * @param {!Object} details The extra configuration, if needed.\r\n   */ constructor(scaleFrom, scaleTo, details){\n        /**\r\n     * The length of the original array.\r\n     * @type {number}\r\n     */ this.length_ = scaleFrom;\n        /**\r\n     * The scaling factor.\r\n     * @type {number}\r\n     */ this.scaleFactor_ = (scaleFrom - 1) / scaleTo;\n        /**\r\n     * The interpolation function.\r\n     * @type {Function}\r\n     */ this.interpolate = this.sinc;\n        if (details.method === \"point\") this.interpolate = this.point;\n        else if (details.method === \"linear\") this.interpolate = this.linear;\n        else if (details.method === \"cubic\") this.interpolate = this.cubic;\n        /**\r\n     * The tanget factor for cubic interpolation.\r\n     * @type {number}\r\n     */ this.tangentFactor_ = 1 - Math.max(0, Math.min(1, details.tension || 0));\n        // Configure the kernel for sinc\n        /**\r\n     * The sinc filter size.\r\n     * @type {number}\r\n     */ this.sincFilterSize_ = details.sincFilterSize || 1;\n        /**\r\n     * The sinc kernel.\r\n     * @type {Function}\r\n     */ this.kernel_ = $230807bb5b9475e2$var$sincKernel_(details.sincWindow || $230807bb5b9475e2$var$window_);\n    }\n    /**\r\n   * @param {number} t The index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   */ point(t, samples) {\n        return this.getClippedInput_(Math.round(this.scaleFactor_ * t), samples);\n    }\n    /**\r\n   * @param {number} t The index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   */ linear(t, samples) {\n        t = this.scaleFactor_ * t;\n        /** @type {number} */ let k = Math.floor(t);\n        t -= k;\n        return (1 - t) * this.getClippedInput_(k, samples) + t * this.getClippedInput_(k + 1, samples);\n    }\n    /**\r\n   * @param {number} t The index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   */ cubic(t, samples) {\n        t = this.scaleFactor_ * t;\n        /** @type {number} */ let k = Math.floor(t);\n        /** @type {Array<number>} */ let m = [\n            this.getTangent_(k, samples),\n            this.getTangent_(k + 1, samples)\n        ];\n        /** @type {Array<number>} */ let p = [\n            this.getClippedInput_(k, samples),\n            this.getClippedInput_(k + 1, samples)\n        ];\n        t -= k;\n        /** @type {number} */ let t2 = t * t;\n        /** @type {number} */ let t3 = t * t2;\n        return (2 * t3 - 3 * t2 + 1) * p[0] + (t3 - 2 * t2 + t) * m[0] + (-2 * t3 + 3 * t2) * p[1] + (t3 - t2) * m[1];\n    }\n    /**\r\n   * @param {number} t The index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   */ sinc(t, samples) {\n        t = this.scaleFactor_ * t;\n        /** @type {number} */ let k = Math.floor(t);\n        /** @type {number} */ let ref = k - this.sincFilterSize_ + 1;\n        /** @type {number} */ let ref1 = k + this.sincFilterSize_;\n        /** @type {number} */ let sum = 0;\n        for(let n = ref; n <= ref1; n++)sum += this.kernel_(t - n) * this.getClippedInput_(n, samples);\n        return sum;\n    }\n    /**\r\n   * @param {number} k The scaled index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The tangent.\r\n   * @private\r\n   */ getTangent_(k, samples) {\n        return this.tangentFactor_ * (this.getClippedInput_(k + 1, samples) - this.getClippedInput_(k - 1, samples)) / 2;\n    }\n    /**\r\n   * @param {number} t The scaled index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   * @private\r\n   */ getClippedInput_(t, samples) {\n        if (0 <= t && t < this.length_) return samples[t];\n        return 0;\n    }\n}\n/**\r\n * The default window function.\r\n * @param {number} x The sinc signal.\r\n * @return {number}\r\n * @private\r\n */ function $230807bb5b9475e2$var$window_(x) {\n    return Math.exp(-x / 2 * x / 2);\n}\n/**\r\n * @param {Function} window The window function.\r\n * @return {Function}\r\n * @private\r\n */ function $230807bb5b9475e2$var$sincKernel_(window) {\n    return function(x) {\n        return $230807bb5b9475e2$var$sinc_(x) * window(x);\n    };\n}\n/**\r\n * @param {number} x The sinc signal.\r\n * @return {number}\r\n * @private\r\n */ function $230807bb5b9475e2$var$sinc_(x) {\n    if (x === 0) return 1;\n    return Math.sin(Math.PI * x) / (Math.PI * x);\n}\n\n\n/*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2014 Florian Markert\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview FIR LPF. Based on the FIR LPF from Fili by Florian Markert.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/markert/fili.js\r\n */ /**\r\n * A FIR low pass filter.\r\n */ class $6d820e49cf4a0ac8$export$3336e60d562ede44 {\n    /**\r\n   * @param {number} order The order of the filter.\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} cutOff The cut off frequency.\r\n   */ constructor(order, sampleRate, cutOff){\n        /** @type {number} */ let omega = 2 * Math.PI * cutOff / sampleRate;\n        /** @type {number} */ let dc = 0;\n        this.filters = [];\n        for(let i = 0; i <= order; i++){\n            if (i - order / 2 === 0) this.filters[i] = omega;\n            else {\n                this.filters[i] = Math.sin(omega * (i - order / 2)) / (i - order / 2);\n                // Hamming window\n                this.filters[i] *= 0.54 - 0.46 * Math.cos(2 * Math.PI * i / order);\n            }\n            dc = dc + this.filters[i];\n        }\n        // normalize\n        for(let i = 0; i <= order; i++)this.filters[i] /= dc;\n        this.z = this.initZ_();\n    }\n    /**\r\n   * @param {number} sample A sample of a sequence.\r\n   * @return {number}\r\n   */ filter(sample) {\n        this.z.buf[this.z.pointer] = sample;\n        /** @type {number} */ let out = 0;\n        for(let i = 0, len = this.z.buf.length; i < len; i++)out += this.filters[i] * this.z.buf[(this.z.pointer + i) % this.z.buf.length];\n        this.z.pointer = (this.z.pointer + 1) % this.z.buf.length;\n        return out;\n    }\n    /**\r\n   * Reset the filter.\r\n   */ reset() {\n        this.z = this.initZ_();\n    }\n    /**\r\n   * Return the default value for z.\r\n   * @private\r\n   */ initZ_() {\n        /** @type {!Array} */ let r = [];\n        for(let i = 0; i < this.filters.length - 1; i++)r.push(0);\n        return {\n            buf: r,\n            pointer: 0\n        };\n    }\n}\n\n\n/*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2014 Florian Markert\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */ /**\r\n * @fileoverview Butterworth LPF. Based on the Butterworth LPF from Fili.js.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/markert/fili.js\r\n */ /**\r\n * Butterworth LPF.\r\n */ class $f55affe82b0d5038$export$9c9039f2bec974da {\n    /**\r\n   * @param {number} order The order of the filter.\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} cutOff The cut off frequency.\r\n   */ constructor(order, sampleRate, cutOff){\n        /** @type {!Array} */ let filters = [];\n        for(let i = 0; i < order; i++)filters.push(this.getCoeffs_({\n            Fs: sampleRate,\n            Fc: cutOff,\n            Q: 0.5 / Math.sin(Math.PI / (order * 2) * (i + 0.5))\n        }));\n        this.stages = [];\n        for(let i = 0; i < filters.length; i++)this.stages[i] = {\n            b0: filters[i].b[0],\n            b1: filters[i].b[1],\n            b2: filters[i].b[2],\n            a1: filters[i].a[0],\n            a2: filters[i].a[1],\n            k: filters[i].k,\n            z: [\n                0,\n                0\n            ]\n        };\n    }\n    /**\r\n   * @param {number} sample A sample of a sequence.\r\n   * @return {number}\r\n   */ filter(sample) {\n        /** @type {number} */ let out = sample;\n        for(let i = 0, len = this.stages.length; i < len; i++)out = this.runStage_(i, out);\n        return out;\n    }\n    /**\r\n   * @param {!Object} params The filter params.\r\n   * @return {!Object}\r\n   */ getCoeffs_(params) {\n        /** @type {!Object} */ let coeffs = {};\n        coeffs.a = [];\n        coeffs.b = [];\n        /** @type {!Object} */ let p = this.preCalc_(params, coeffs);\n        coeffs.k = 1;\n        coeffs.b.push((1 - p.cw) / (2 * p.a0));\n        coeffs.b.push(2 * coeffs.b[0]);\n        coeffs.b.push(coeffs.b[0]);\n        return coeffs;\n    }\n    /**\r\n   * @param {!Object} params The filter params.\r\n   * @param {!Object} coeffs The coefficients template.\r\n   * @return {!Object}\r\n   */ preCalc_(params, coeffs) {\n        /** @type {!Object} */ let pre = {};\n        /** @type {number} */ let w = 2 * Math.PI * params.Fc / params.Fs;\n        pre.alpha = Math.sin(w) / (2 * params.Q);\n        pre.cw = Math.cos(w);\n        pre.a0 = 1 + pre.alpha;\n        coeffs.a0 = pre.a0;\n        coeffs.a.push(-2 * pre.cw / pre.a0);\n        coeffs.k = 1;\n        coeffs.a.push((1 - pre.alpha) / pre.a0);\n        return pre;\n    }\n    /**\r\n   * @param {number} i The stage index.\r\n   * @param {number} sample The sample.\r\n   * @return {number}\r\n   */ runStage_(i, sample) {\n        /** @type {number} */ let temp = sample * this.stages[i].k - this.stages[i].a1 * this.stages[i].z[0] - this.stages[i].a2 * this.stages[i].z[1];\n        /** @type {number} */ let out = this.stages[i].b0 * temp + this.stages[i].b1 * this.stages[i].z[0] + this.stages[i].b2 * this.stages[i].z[1];\n        this.stages[i].z[1] = this.stages[i].z[0];\n        this.stages[i].z[0] = temp;\n        return out;\n    }\n    /**\r\n   * Reset the filter.\r\n   */ reset() {\n        for(let i = 0; i < this.stages.length; i++)this.stages[i].z = [\n            0,\n            0\n        ];\n    }\n}\n\n\n/**\r\n * Default use of LPF for each resampling method.\r\n * @readonly\r\n * @enum {boolean}\r\n * @private\r\n */ const $4df2b190f55cb56f$var$DEFAULT_LPF_USE = {\n    \"point\": false,\n    \"linear\": false,\n    \"cubic\": true,\n    \"sinc\": true\n};\n/**\r\n * Default LPF order for each type of LPF.\r\n * @readonly\r\n * @enum {number}\r\n * @private\r\n */ const $4df2b190f55cb56f$var$DEFAULT_LPF_ORDER = {\n    \"IIR\": 16,\n    \"FIR\": 71\n};\n/**\r\n * Default LPF class for each type of LPF.\r\n * @readonly\r\n * @enum {!Function}\r\n * @private\r\n */ const $4df2b190f55cb56f$var$DEFAULT_LPF = {\n    \"IIR\": (0, $f55affe82b0d5038$export$9c9039f2bec974da),\n    \"FIR\": (0, $6d820e49cf4a0ac8$export$3336e60d562ede44)\n};\nfunction $4df2b190f55cb56f$export$f2c713bf50fcf602(samples, oldSampleRate, sampleRate, options = null) {\n    options = options || {};\n    // Make the new sample container\n    /** @type {number} */ let rate = (sampleRate - oldSampleRate) / oldSampleRate + 1;\n    /** @type {!Float64Array} */ let newSamples = new Float64Array(samples.length * rate);\n    // Create the interpolator\n    options.method = options.method || \"cubic\";\n    /** @type {!Object} */ let interpolator = new (0, $230807bb5b9475e2$export$161d9b0a23a5c866)(samples.length, newSamples.length, {\n        method: options.method,\n        tension: options.tension || 0,\n        sincFilterSize: options.sincFilterSize || 6,\n        sincWindow: options.sincWindow || undefined,\n        clip: options.clip || \"mirror\"\n    });\n    // Resample + LPF\n    if (options.LPF === undefined) options.LPF = $4df2b190f55cb56f$var$DEFAULT_LPF_USE[options.method];\n    if (options.LPF) {\n        options.LPFType = options.LPFType || \"IIR\";\n        const LPF = $4df2b190f55cb56f$var$DEFAULT_LPF[options.LPFType];\n        // Upsampling\n        if (sampleRate > oldSampleRate) {\n            /** @type {!Object} */ let filter = new LPF(options.LPForder || $4df2b190f55cb56f$var$DEFAULT_LPF_ORDER[options.LPFType], sampleRate, oldSampleRate / 2);\n            $4df2b190f55cb56f$var$upsample_(samples, newSamples, interpolator, filter);\n        // Downsampling\n        } else {\n            /** @type {!Object} */ let filter = new LPF(options.LPForder || $4df2b190f55cb56f$var$DEFAULT_LPF_ORDER[options.LPFType], oldSampleRate, sampleRate / 2);\n            $4df2b190f55cb56f$var$downsample_(samples, newSamples, interpolator, filter);\n        }\n    // Resample, no LPF\n    } else $4df2b190f55cb56f$var$resample_(samples, newSamples, interpolator);\n    return newSamples;\n}\n/**\r\n * Resample.\r\n * @param {!Array<number>|!TypedArray} samples The original samples.\r\n * @param {!Float64Array} newSamples The container for the new samples.\r\n * @param {Object} interpolator The interpolator.\r\n * @private\r\n */ function $4df2b190f55cb56f$var$resample_(samples, newSamples, interpolator) {\n    // Resample\n    for(let i = 0, len = newSamples.length; i < len; i++)newSamples[i] = interpolator.interpolate(i, samples);\n}\n/**\r\n * Upsample with LPF.\r\n * @param {!Array<number>|!TypedArray} samples The original samples.\r\n * @param {!Float64Array} newSamples The container for the new samples.\r\n * @param {Object} interpolator The interpolator.\r\n * @param {Object} filter The LPF object.\r\n * @private\r\n */ function $4df2b190f55cb56f$var$upsample_(samples, newSamples, interpolator, filter) {\n    // Resample and filter\n    for(let i = 0, len = newSamples.length; i < len; i++)newSamples[i] = filter.filter(interpolator.interpolate(i, samples));\n    // Reverse filter\n    filter.reset();\n    for(let i = newSamples.length - 1; i >= 0; i--)newSamples[i] = filter.filter(newSamples[i]);\n}\n/**\r\n * Downsample with LPF.\r\n * @param {!Array<number>|!TypedArray} samples The original samples.\r\n * @param {!Float64Array} newSamples The container for the new samples.\r\n * @param {Object} interpolator The interpolator.\r\n * @param {Object} filter The LPF object.\r\n * @private\r\n */ function $4df2b190f55cb56f$var$downsample_(samples, newSamples, interpolator, filter) {\n    // Filter\n    for(let i = 0, len = samples.length; i < len; i++)samples[i] = filter.filter(samples[i]);\n    // Reverse filter\n    filter.reset();\n    for(let i = samples.length - 1; i >= 0; i--)samples[i] = filter.filter(samples[i]);\n    // Resample\n    $4df2b190f55cb56f$var$resample_(samples, newSamples, interpolator);\n}\n\n\nclass $71b894e37798f127$export$bfa4d954a0534f0a extends (0, $49ae738305d188f0$export$4972034aa639390d) {\n    /**\r\n   * Force a file as RIFF.\r\n   */ toRIFF() {\n        /** @type {!Float64Array} */ let output = new Float64Array($71b894e37798f127$var$outputSize_(this.data.samples.length, this.dataType.bits / 8));\n        (0, $f474a5d125722a8f$export$a53577d75410ba7b)(this.data.samples, this.dataType, output, 0, this.data.samples.length);\n        this.fromExisting_(this.fmt.numChannels, this.fmt.sampleRate, this.bitDepth, output, {\n            container: \"RIFF\"\n        });\n    }\n    /**\r\n   * Force a file as RIFX.\r\n   */ toRIFX() {\n        /** @type {!Float64Array} */ let output = new Float64Array($71b894e37798f127$var$outputSize_(this.data.samples.length, this.dataType.bits / 8));\n        (0, $f474a5d125722a8f$export$a53577d75410ba7b)(this.data.samples, this.dataType, output, 0, this.data.samples.length);\n        this.fromExisting_(this.fmt.numChannels, this.fmt.sampleRate, this.bitDepth, output, {\n            container: \"RIFX\"\n        });\n    }\n    /**\r\n   * Encode a 16-bit wave file as 4-bit IMA ADPCM.\r\n   * @throws {Error} If sample rate is not 8000.\r\n   * @throws {Error} If number of channels is not 1.\r\n   */ toIMAADPCM() {\n        if (this.fmt.sampleRate !== 8000) throw new Error(\"Only 8000 Hz files can be compressed as IMA-ADPCM.\");\n        else if (this.fmt.numChannels !== 1) throw new Error(\"Only mono files can be compressed as IMA-ADPCM.\");\n        else {\n            this.assure16Bit_();\n            /** @type {!Int16Array} */ let output = new Int16Array($71b894e37798f127$var$outputSize_(this.data.samples.length, 2));\n            (0, $f474a5d125722a8f$export$a53577d75410ba7b)(this.data.samples, this.dataType, output, 0, this.data.samples.length);\n            this.fromExisting_(this.fmt.numChannels, this.fmt.sampleRate, \"4\", $a9534e2564e30ab7$export$c564cdbbe6da493(output), {\n                container: this.correctContainer_()\n            });\n        }\n    }\n    /**\r\n   * Decode a 4-bit IMA ADPCM wave file as a 16-bit wave file.\r\n   * @param {string=} [bitDepthCode='16'] The new bit depth of the samples.\r\n   *    One of '8' ... '32' (integers), '32f' or '64' (floats).\r\n   */ fromIMAADPCM(bitDepthCode = \"16\") {\n        this.fromExisting_(this.fmt.numChannels, this.fmt.sampleRate, \"16\", $a9534e2564e30ab7$export$2f872c0f2117be69(this.data.samples, this.fmt.blockAlign), {\n            container: this.correctContainer_()\n        });\n        if (bitDepthCode != \"16\") this.toBitDepth(bitDepthCode);\n    }\n    /**\r\n   * Encode a 16-bit wave file as 8-bit A-Law.\r\n   */ toALaw() {\n        this.assure16Bit_();\n        /** @type {!Int16Array} */ let output = new Int16Array($71b894e37798f127$var$outputSize_(this.data.samples.length, 2));\n        (0, $f474a5d125722a8f$export$a53577d75410ba7b)(this.data.samples, this.dataType, output, 0, this.data.samples.length);\n        this.fromExisting_(this.fmt.numChannels, this.fmt.sampleRate, \"8a\", $8139b5502cfd61f5$export$c564cdbbe6da493(output), {\n            container: this.correctContainer_()\n        });\n    }\n    /**\r\n   * Decode a 8-bit A-Law wave file into a 16-bit wave file.\r\n   * @param {string=} [bitDepthCode='16'] The new bit depth of the samples.\r\n   *    One of '8' ... '32' (integers), '32f' or '64' (floats).\r\n   */ fromALaw(bitDepthCode = \"16\") {\n        this.fromExisting_(this.fmt.numChannels, this.fmt.sampleRate, \"16\", $8139b5502cfd61f5$export$2f872c0f2117be69(this.data.samples), {\n            container: this.correctContainer_()\n        });\n        if (bitDepthCode != \"16\") this.toBitDepth(bitDepthCode);\n    }\n    /**\r\n   * Encode 16-bit wave file as 8-bit mu-Law.\r\n   */ toMuLaw() {\n        this.assure16Bit_();\n        /** @type {!Int16Array} */ let output = new Int16Array($71b894e37798f127$var$outputSize_(this.data.samples.length, 2));\n        (0, $f474a5d125722a8f$export$a53577d75410ba7b)(this.data.samples, this.dataType, output, 0, this.data.samples.length);\n        this.fromExisting_(this.fmt.numChannels, this.fmt.sampleRate, \"8m\", $16dd5637710865be$export$c564cdbbe6da493(output), {\n            container: this.correctContainer_()\n        });\n    }\n    /**\r\n   * Decode a 8-bit mu-Law wave file into a 16-bit wave file.\r\n   * @param {string=} [bitDepthCode='16'] The new bit depth of the samples.\r\n   *    One of '8' ... '32' (integers), '32f' or '64' (floats).\r\n   */ fromMuLaw(bitDepthCode = \"16\") {\n        this.fromExisting_(this.fmt.numChannels, this.fmt.sampleRate, \"16\", $16dd5637710865be$export$2f872c0f2117be69(this.data.samples), {\n            container: this.correctContainer_()\n        });\n        if (bitDepthCode != \"16\") this.toBitDepth(bitDepthCode);\n    }\n    /**\r\n   * Change the bit depth of the samples.\r\n   * @param {string} newBitDepth The new bit depth of the samples.\r\n   *    One of '8' ... '32' (integers), '32f' or '64' (floats)\r\n   * @param {boolean=} [changeResolution=true] A boolean indicating if the\r\n   *    resolution of samples should be actually changed or not.\r\n   * @throws {Error} If the bit depth is not valid.\r\n   */ toBitDepth(newBitDepth, changeResolution = true) {\n        /** @type {string} */ let toBitDepth = newBitDepth;\n        /** @type {string} */ let thisBitDepth = this.bitDepth;\n        if (!changeResolution) {\n            if (newBitDepth != \"32f\") toBitDepth = this.dataType.bits.toString();\n            thisBitDepth = \"\" + this.dataType.bits;\n        }\n        // If the file is compressed, make it\n        // PCM before changing the bit depth\n        this.assureUncompressed_();\n        /**\r\n     * The original samples, interleaved.\r\n     * @type {!(Array|TypedArray)}\r\n     */ let samples = this.getSamples(true);\n        /**\r\n     * The container for the new samples.\r\n     * @type {!Float64Array}\r\n     */ let newSamples = new Float64Array(samples.length);\n        // Change the bit depth\n        (0, $9424423ef8bc3136$export$d4c909a3586f0f8b)(samples, thisBitDepth, newSamples, toBitDepth);\n        // Re-create the file\n        this.fromExisting_(this.fmt.numChannels, this.fmt.sampleRate, newBitDepth, newSamples, {\n            container: this.correctContainer_()\n        });\n    }\n    /**\r\n   * Convert the sample rate of the file.\r\n   * @param {number} sampleRate The target sample rate.\r\n   * @param {Object=} options The extra configuration, if needed.\r\n   */ toSampleRate(sampleRate, options) {\n        this.validateResample_(sampleRate);\n        /** @type {!(Array|TypedArray)} */ let samples = this.getSamples();\n        /** @type {!(Array|Float64Array)} */ let newSamples = [];\n        // Mono files\n        if (samples.constructor === Float64Array) newSamples = (0, $4df2b190f55cb56f$export$f2c713bf50fcf602)(samples, this.fmt.sampleRate, sampleRate, options);\n        else for(let i = 0; i < samples.length; i++)newSamples.push((0, $4df2b190f55cb56f$export$f2c713bf50fcf602)(samples[i], this.fmt.sampleRate, sampleRate, options));\n        // Recreate the file\n        this.fromExisting_(this.fmt.numChannels, sampleRate, this.bitDepth, newSamples, {\n            \"container\": this.correctContainer_()\n        });\n    }\n    /**\r\n   * Validate the conditions for resampling.\r\n   * @param {number} sampleRate The target sample rate.\r\n   * @throws {Error} If the file cant be resampled.\r\n   * @private\r\n   */ validateResample_(sampleRate) {\n        if (!(0, $201155b6a1143b86$export$c2c1b5fd9318930)(this.fmt.numChannels, this.fmt.bitsPerSample, sampleRate)) throw new Error(\"Invalid sample rate.\");\n        else if ([\n            \"4\",\n            \"8a\",\n            \"8m\"\n        ].indexOf(this.bitDepth) > -1) throw new Error(\"wavefile can't change the sample rate of compressed files.\");\n    }\n    /**\r\n   * Make the file 16-bit if it is not.\r\n   * @private\r\n   */ assure16Bit_() {\n        this.assureUncompressed_();\n        if (this.bitDepth != \"16\") this.toBitDepth(\"16\");\n    }\n    /**\r\n   * Uncompress the samples in case of a compressed file.\r\n   * @private\r\n   */ assureUncompressed_() {\n        if (this.bitDepth == \"8a\") this.fromALaw();\n        else if (this.bitDepth == \"8m\") this.fromMuLaw();\n        else if (this.bitDepth == \"4\") this.fromIMAADPCM();\n    }\n    /**\r\n   * Return 'RIFF' if the container is 'RF64', the current container name\r\n   * otherwise. Used to enforce 'RIFF' when RF64 is not allowed.\r\n   * @return {string}\r\n   * @private\r\n   */ correctContainer_() {\n        return this.container == \"RF64\" ? \"RIFF\" : this.container;\n    }\n    /**\r\n   * Set up the WaveFileCreator object based on the arguments passed.\r\n   * This method only reset the fmt , fact, ds64 and data chunks.\r\n   * @param {number} numChannels The number of channels\r\n   *    (Integer numbers: 1 for mono, 2 stereo and so on).\r\n   * @param {number} sampleRate The sample rate.\r\n   *    Integer numbers like 8000, 44100, 48000, 96000, 192000.\r\n   * @param {string} bitDepthCode The audio bit depth code.\r\n   *    One of '4', '8', '8a', '8m', '16', '24', '32', '32f', '64'\r\n   *    or any value between '8' and '32' (like '12').\r\n   * @param {!(Array|TypedArray)} samples\r\n   *    The samples. Must be in the correct range according to the bit depth.\r\n   * @param {Object} options Used to define the container. Uses RIFF by default.\r\n   * @throws {Error} If any argument does not meet the criteria.\r\n   * @private\r\n   */ fromExisting_(numChannels, sampleRate, bitDepthCode, samples, options) {\n        /** @type {!Object} */ let tmpWav = new (0, $49ae738305d188f0$export$4972034aa639390d)();\n        Object.assign(this.fmt, tmpWav.fmt);\n        Object.assign(this.fact, tmpWav.fact);\n        Object.assign(this.ds64, tmpWav.ds64);\n        Object.assign(this.data, tmpWav.data);\n        this.newWavFile_(numChannels, sampleRate, bitDepthCode, samples, options);\n    }\n}\n/**\r\n * Return the size in bytes of the output sample array when applying\r\n * compression to 16-bit samples.\r\n * @return {number}\r\n * @private\r\n */ function $71b894e37798f127$var$outputSize_(byteLen, byteOffset) {\n    /** @type {number} */ let outputSize = byteLen / byteOffset;\n    if (outputSize % 2) outputSize++;\n    return outputSize;\n}\n\n\nclass $0c0d87aecf3f7228$export$9192aa68b3ccf21f extends (0, $71b894e37798f127$export$bfa4d954a0534f0a) {\n    /**\r\n   * @param {Uint8Array=} wav A wave file buffer.\r\n   * @throws {Error} If container is not RIFF, RIFX or RF64.\r\n   * @throws {Error} If format is not WAVE.\r\n   * @throws {Error} If no 'fmt ' chunk is found.\r\n   * @throws {Error} If no 'data' chunk is found.\r\n   */ constructor(wav){\n        super();\n        if (wav) this.fromBuffer(wav);\n    }\n    /**\r\n   * Use a .wav file encoded as a base64 string to load the WaveFile object.\r\n   * @param {string} base64String A .wav file as a base64 string.\r\n   * @throws {Error} If any property of the object appears invalid.\r\n   */ fromBase64(base64String) {\n        this.fromBuffer((0, $a4f5ab6700fbda71$export$2f872c0f2117be69)(base64String));\n    }\n    /**\r\n   * Return a base64 string representig the WaveFile object as a .wav file.\r\n   * @return {string} A .wav file as a base64 string.\r\n   * @throws {Error} If any property of the object appears invalid.\r\n   */ toBase64() {\n        return (0, $a4f5ab6700fbda71$export$c564cdbbe6da493)(this.toBuffer());\n    }\n    /**\r\n   * Return a DataURI string representig the WaveFile object as a .wav file.\r\n   * The return of this method can be used to load the audio in browsers.\r\n   * @return {string} A .wav file as a DataURI.\r\n   * @throws {Error} If any property of the object appears invalid.\r\n   */ toDataURI() {\n        return \"data:audio/wav;base64,\" + this.toBase64();\n    }\n    /**\r\n   * Use a .wav file encoded as a DataURI to load the WaveFile object.\r\n   * @param {string} dataURI A .wav file as DataURI.\r\n   * @throws {Error} If any property of the object appears invalid.\r\n   */ fromDataURI(dataURI) {\n        this.fromBase64(dataURI.replace(\"data:audio/wav;base64,\", \"\"));\n    }\n}\n\n\nvar $8a12793bc194162a$exports = {};\n(function(a, b) {\n    if (\"function\" == typeof define && define.amd) define([], b);\n    else b();\n})($8a12793bc194162a$exports, function() {\n    \"use strict\";\n    function b(a, b) {\n        return \"undefined\" == typeof b ? b = {\n            autoBom: !1\n        } : \"object\" != typeof b && (console.warn(\"Deprecated: Expected third argument to be a object\"), b = {\n            autoBom: !b\n        }), b.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type) ? new Blob([\n            \"\\uFEFF\",\n            a\n        ], {\n            type: a.type\n        }) : a;\n    }\n    function c(a, b, c) {\n        var d = new XMLHttpRequest;\n        d.open(\"GET\", a), d.responseType = \"blob\", d.onload = function() {\n            g(d.response, b, c);\n        }, d.onerror = function() {\n            console.error(\"could not download file\");\n        }, d.send();\n    }\n    function d(a) {\n        var b = new XMLHttpRequest;\n        b.open(\"HEAD\", a, !1);\n        try {\n            b.send();\n        } catch (a) {}\n        return 200 <= b.status && 299 >= b.status;\n    }\n    function e(a) {\n        try {\n            a.dispatchEvent(new MouseEvent(\"click\"));\n        } catch (c) {\n            var b = document.createEvent(\"MouseEvents\");\n            b.initMouseEvent(\"click\", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), a.dispatchEvent(b);\n        }\n    }\n    var f = \"object\" == typeof window && window.window === window ? window : \"object\" == typeof self && self.self === self ? self : \"object\" == typeof $parcel$global && $parcel$global.global === $parcel$global ? $parcel$global : void 0, a = f.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent), g = f.saveAs || (\"object\" != typeof window || window !== f ? function() {} : \"download\" in HTMLAnchorElement.prototype && !a ? function(b, g, h) {\n        var i = f.URL || f.webkitURL, j = document.createElement(\"a\");\n        g = g || b.name || \"download\", j.download = g, j.rel = \"noopener\", \"string\" == typeof b ? (j.href = b, j.origin === location.origin ? e(j) : d(j.href) ? c(b, g, h) : e(j, j.target = \"_blank\")) : (j.href = i.createObjectURL(b), setTimeout(function() {\n            i.revokeObjectURL(j.href);\n        }, 4E4), setTimeout(function() {\n            e(j);\n        }, 0));\n    } : \"msSaveOrOpenBlob\" in navigator ? function(f, g, h) {\n        if (g = g || f.name || \"download\", \"string\" != typeof f) navigator.msSaveOrOpenBlob(b(f, h), g);\n        else if (d(f)) c(f, g, h);\n        else {\n            var i = document.createElement(\"a\");\n            i.href = f, i.target = \"_blank\", setTimeout(function() {\n                e(i);\n            });\n        }\n    } : function(b, d, e, g) {\n        if (g = g || open(\"\", \"_blank\"), g && (g.document.title = g.document.body.innerText = \"downloading...\"), \"string\" == typeof b) return c(b, d, e);\n        var h = \"application/octet-stream\" === b.type, i = /constructor/i.test(f.HTMLElement) || f.safari, j = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n        if ((j || h && i || a) && \"undefined\" != typeof FileReader) {\n            var k = new FileReader;\n            k.onloadend = function() {\n                var a = k.result;\n                a = j ? a : a.replace(/^data:[^;]*;/, \"data:attachment/file;\"), g ? g.location.href = a : location = a, g = null;\n            }, k.readAsDataURL(b);\n        } else {\n            var l = f.URL || f.webkitURL, m = l.createObjectURL(b);\n            g ? g.location = m : location.href = m, g = null, setTimeout(function() {\n                l.revokeObjectURL(m);\n            }, 4E4);\n        }\n    });\n    f.saveAs = g.saveAs = g, $8a12793bc194162a$exports = g;\n});\n\n\nclass $1acdb943ef1988e7$export$2e2bcd8739ae039 {\n    constructor(){\n        this.markers = [];\n        this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    }\n    async getMarkersFromFile(file) {\n        return new Promise((resolve, reject)=>{\n            let fr = new FileReader();\n            let cues = [];\n            fr.readAsDataURL(file);\n            fr.onloadend = ()=>{\n                // Check if file is MP3 or WAV\n                if (file.type === \"audio/wav\" || file.type === \"audio/wave\" || file.type === \"audio/x-wav\") {\n                    let f = new (0, $0c0d87aecf3f7228$export$9192aa68b3ccf21f)();\n                    const base64String = fr.result.replace(\"data:\", \"\").replace(/^.+,/, \"\");\n                    f.fromBase64(base64String);\n                    cues = f.listCuePoints();\n                    resolve(cues);\n                } else // For MP3s, we won't have cue points initially\n                resolve([]);\n            };\n            fr.onerror = reject;\n        });\n    }\n    async createFileFromBuffer(buffer, markers) {\n        console.log(\"Exporting audio...\");\n        let file = new (0, $0c0d87aecf3f7228$export$9192aa68b3ccf21f)();\n        file.fromScratch(2, this.audioContext.sampleRate, \"32f\", buffer);\n        // Add markers as cue points\n        for (let marker of markers)if (marker.position != \"top\") file.setCuePoint({\n            position: marker.time * 1000\n        });\n        for(let i = 0; i < file.cue.points.length; i++)file.cue.points[i].dwPosition = file.cue.points[i].dwSampleOffset;\n        const data = file.toDataURI();\n        // Determine file extension based on original format\n        const filename = \"export.wav\";\n        console.log(\"Saving file...\");\n        (0, $8a12793bc194162a$exports.saveAs)(data, filename);\n    }\n}\n\n\nvar $00b2745483a59b7f$exports = {};\nvar $902f5cabe5153acc$exports = {};\n\"use strict\";\n$902f5cabe5153acc$exports = function(workerUrl, origin, isESM) {\n    if (origin === self.location.origin) // If the worker bundle's url is on the same origin as the document,\n    // use the worker bundle's own url.\n    return workerUrl;\n    else {\n        // Otherwise, create a blob URL which loads the worker bundle with `importScripts`.\n        var source = isESM ? \"import \" + JSON.stringify(workerUrl) + \";\" : \"importScripts(\" + JSON.stringify(workerUrl) + \");\";\n        return URL.createObjectURL(new Blob([\n            source\n        ], {\n            type: \"application/javascript\"\n        }));\n    }\n};\n\n\n\nvar $aNJCr = parcelRequire(\"aNJCr\");\nlet $00b2745483a59b7f$var$url = $aNJCr.getBundleURL(\"EVgbq\") + \"onset-worker.6bb50c1b.js\";\n$00b2745483a59b7f$exports = $902f5cabe5153acc$exports($00b2745483a59b7f$var$url, $aNJCr.getOrigin($00b2745483a59b7f$var$url), false);\n\n\nclass $7724d6d81d5b7a5a$export$2e2bcd8739ae039 {\n    constructor(morphaweb){\n        this.morphaweb = morphaweb;\n        this.worker = null;\n        this.initWorker();\n        this.initKeyboardControls();\n    }\n    initWorker() {\n        this.worker = new Worker($00b2745483a59b7f$exports);\n        this.worker.onmessage = (e)=>{\n            // Remove loading state when processing is done\n            this.setLoadingState(false);\n            if (e.data.error) {\n                console.error(\"Onset detection error:\", e.data.error);\n                return;\n            }\n            if (e.data.onsets) {\n                console.log(\"onsets\", e.data.onsets);\n                this.morphaweb.markerHandler.createOnsetMarkers(e.data.onsets);\n            }\n            if (e.data.bpm !== null) this.morphaweb.updateBPM(e.data.bpm);\n        };\n    }\n    setLoadingState(isLoading) {\n        const container = this.morphaweb.wavesurfer.container;\n        if (isLoading) container.classList.add(\"wavesurfer-loading\");\n        else container.classList.remove(\"wavesurfer-loading\");\n    }\n    detectOnsets(audioData, sampleRate) {\n        if (!this.worker) {\n            console.error(\"Worker not initialized\");\n            return;\n        }\n        // Set loading state before starting processing\n        this.setLoadingState(true);\n        // Convert audio data to the format expected by Essentia.js\n        const float32Array = new Float32Array(audioData.length);\n        for(let i = 0; i < audioData.length; i++)float32Array[i] = audioData[i];\n        this.worker.postMessage({\n            type: \"processAudio\",\n            audioData: float32Array,\n            sampleRate: sampleRate\n        });\n    }\n    destroy() {\n        if (this.worker) {\n            this.worker.terminate();\n            this.worker = null;\n        }\n    }\n    initKeyboardControls() {\n        document.addEventListener(\"keydown\", (e)=>{\n            // Number keys 1-9 and 0 (for 10th slice)\n            if (e.key >= \"1\" && e.key <= \"9\" || e.key === \"0\") {\n                const index = e.key === \"0\" ? 9 : parseInt(e.key) - 1;\n                this.playSliceByIndex(index);\n            }\n            // QWERTY row for indices 10-19\n            const qwertyKeys = [\n                \"q\",\n                \"w\",\n                \"e\",\n                \"r\",\n                \"t\",\n                \"y\",\n                \"u\",\n                \"i\",\n                \"o\",\n                \"p\"\n            ];\n            const keyIndex = qwertyKeys.indexOf(e.key.toLowerCase());\n            if (keyIndex !== -1) this.playSliceByIndex(keyIndex + 10);\n        });\n    }\n    playSliceByIndex(index) {\n        const markers = this.morphaweb.markerHandler.getMarkers();\n        if (index < markers.length) {\n            // Get audio data\n            const audioData = this.morphaweb.wavesurfer.backend.buffer.getChannelData(0);\n            const sampleRate = this.morphaweb.wavesurfer.backend.buffer.sampleRate;\n            // Get the current marker time and next marker time (or audio end)\n            const startTime = markers[index];\n            const endTime = index < markers.length - 1 ? markers[index + 1] : this.morphaweb.wavesurfer.getDuration();\n            // Convert times to sample indices\n            const startSample = Math.round(startTime.time * sampleRate);\n            const endSample = Math.round(endTime.time * sampleRate);\n            // Find nearest zero crossings\n            const snappedStartSample = this.findNearestZeroCrossing(audioData, startSample);\n            const snappedEndSample = this.findNearestZeroCrossing(audioData, endSample);\n            // Convert back to time\n            const snappedStartTime = snappedStartSample / sampleRate;\n            const snappedEndTime = snappedEndSample / sampleRate;\n            // Create a temporary region for playback\n            const region = this.morphaweb.wavesurfer.addRegion({\n                start: snappedStartTime,\n                end: snappedEndTime,\n                color: \"hsla(358, 57%, 79%, 0.2)\"\n            });\n            // Play the region\n            region.play();\n            // Remove the temporary region after playback\n            region.once(\"out\", ()=>{\n                region.remove();\n            });\n        }\n    }\n    findNearestZeroCrossing(audioData, index, maxOffset = 100) {\n        // Search within maxOffset samples in both directions\n        let left = Math.max(0, index - maxOffset);\n        let right = Math.min(audioData.length - 1, index + maxOffset);\n        // Start from the index and move outward\n        for(let offset = 0; offset <= maxOffset; offset++){\n            // Check forward\n            let forwardIndex = index + offset;\n            if (forwardIndex <= right) {\n                if (this.isZeroCrossing(audioData, forwardIndex)) return forwardIndex;\n            }\n            // Check backward\n            let backwardIndex = index - offset;\n            if (backwardIndex >= left) {\n                if (this.isZeroCrossing(audioData, backwardIndex)) return backwardIndex;\n            }\n        }\n        // If no zero crossing found, return original index\n        return index;\n    }\n    isZeroCrossing(audioData, index) {\n        // Check if this point represents a zero crossing\n        // We check if the signal crosses zero between this sample and the next\n        if (index >= audioData.length - 1) return false;\n        const current = audioData[index];\n        const next = audioData[index + 1];\n        // Check if the signal crosses zero (changes sign)\n        return current <= 0 && next > 0 || current >= 0 && next < 0;\n    }\n}\n\n\nclass $907940ff57baf2ef$export$2e2bcd8739ae039 {\n    constructor(morphaweb){\n        this.morphaweb = morphaweb;\n        this.createControls();\n        this.initializeDefaultValues();\n    }\n    createControls() {\n        const controlsContainer = document.createElement(\"div\");\n        controlsContainer.className = \"algorithm-controls\";\n        // Frame Size Slider\n        const frameSizeControl = this.createSlider({\n            id: \"frame-size\",\n            label: \"Frame Size\",\n            min: 512,\n            max: 8192,\n            value: 2048,\n            step: 512\n        });\n        // Hop Size Slider (as percentage of frame size)\n        const hopSizeControl = this.createSlider({\n            id: \"hop-size\",\n            label: \"Hop Size %\",\n            min: 5,\n            max: 100,\n            value: 50,\n            step: 1\n        });\n        // Sensitivity Slider\n        const sensitivityControl = this.createSlider({\n            id: \"sensitivity\",\n            label: \"Sensitivity %\",\n            min: 1,\n            max: 100,\n            value: 50,\n            step: 1\n        });\n        // ODF Ratio Slider\n        const odfRatioControl = this.createSlider({\n            id: \"odf-ratio\",\n            label: \"HFC/Complex Ratio\",\n            min: 0,\n            max: 100,\n            value: 50,\n            step: 10\n        });\n        controlsContainer.appendChild(frameSizeControl);\n        controlsContainer.appendChild(hopSizeControl);\n        controlsContainer.appendChild(sensitivityControl);\n        controlsContainer.appendChild(odfRatioControl);\n        // Insert controls before the existing controls\n        const existingControls = document.querySelector(\".controls\");\n        existingControls.insertBefore(controlsContainer, existingControls.firstChild);\n    }\n    createSlider({ id: id, label: label, min: min, max: max, value: value, step: step }) {\n        const container = document.createElement(\"div\");\n        container.className = \"slider-container\";\n        const labelElement = document.createElement(\"label\");\n        labelElement.htmlFor = id;\n        labelElement.textContent = label;\n        const slider = document.createElement(\"input\");\n        slider.type = \"range\";\n        slider.id = id;\n        slider.min = min;\n        slider.max = max;\n        slider.value = value;\n        slider.step = step;\n        // Calculate and set the initial position percentage\n        const percentage = (value - min) / (max - min) * 100;\n        slider.style.setProperty(\"--value\", percentage + \"%\");\n        const valueDisplay = document.createElement(\"span\");\n        valueDisplay.className = \"slider-value\";\n        valueDisplay.textContent = Number(value).toFixed(String(step).split(\".\")[1]?.length || 0);\n        slider.addEventListener(\"input\", (e)=>{\n            // Update the position when slider moves\n            const percentage = (e.target.value - min) / (max - min) * 100;\n            slider.style.setProperty(\"--value\", percentage + \"%\");\n            valueDisplay.textContent = Number(slider.value).toFixed(String(step).split(\".\")[1]?.length || 0);\n            this.handleSliderChange();\n        });\n        container.appendChild(labelElement);\n        container.appendChild(slider);\n        container.appendChild(valueDisplay);\n        return container;\n    }\n    handleSliderChange() {\n        const frameSize = parseInt(document.getElementById(\"frame-size\").value);\n        const hopSizePercent = parseInt(document.getElementById(\"hop-size\").value);\n        const sensitivity = parseFloat(document.getElementById(\"sensitivity\").value);\n        const odfRatio = parseInt(document.getElementById(\"odf-ratio\").value);\n        const hopSize = Math.floor(frameSize * (hopSizePercent / 100));\n        const hfcWeight = odfRatio / 100;\n        const complexWeight = 1 - hfcWeight;\n        let odfs, odfsWeights;\n        if (odfRatio === 0) {\n            // Use only complex\n            odfs = [\n                \"complex\"\n            ];\n            odfsWeights = [\n                1\n            ];\n        } else if (odfRatio === 100) {\n            // Use only HFC\n            odfs = [\n                \"hfc\"\n            ];\n            odfsWeights = [\n                1\n            ];\n        } else {\n            // Use both with weights\n            odfs = [\n                \"hfc\",\n                \"complex\"\n            ];\n            odfsWeights = [\n                hfcWeight,\n                complexWeight\n            ];\n        }\n        const params = {\n            frameSize: frameSize,\n            hopSize: hopSize,\n            sensitivity: sensitivity / 100.0,\n            odfs: odfs,\n            odfsWeights: odfsWeights\n        };\n        if (this.morphaweb.onsetHandler) this.morphaweb.onsetHandler.worker.postMessage({\n            type: \"updateParams\",\n            params: params\n        });\n    }\n    initializeDefaultValues() {\n        // Set initial values\n        this.handleSliderChange();\n    }\n}\n\n\nclass $7eaa149df9a6345b$export$2e2bcd8739ae039 {\n    constructor(){\n        this.scrollPos = 0;\n        this.scrollMin = 0;\n        this.playOffset = 0;\n        this.wavesurfer = (0, (/*@__PURE__*/$parcel$interopDefault($494d646c3cbf7cf3$exports))).create({\n            container: \"#waveform\",\n            waveColor: \"#ffd000\",\n            progressColor: \"white\",\n            plugins: [\n                (0, $443a53ee67a6fff3$export$2e2bcd8739ae039).create(),\n                (0, $296952d52dc35aee$export$2e2bcd8739ae039).create()\n            ]\n        });\n        this.dropHandler = new (0, $89a526520f8a12b4$export$2e2bcd8739ae039)(this);\n        this.markerHandler = new (0, $56e6af7cf89c066e$export$2e2bcd8739ae039)(this);\n        this.controlsHandler = new (0, $c57c93cded660f0c$export$2e2bcd8739ae039)(this);\n        this.wavHandler = new (0, $1acdb943ef1988e7$export$2e2bcd8739ae039)();\n        this.onsetHandler = new (0, $7724d6d81d5b7a5a$export$2e2bcd8739ae039)(this);\n        this.algorithmControls = new (0, $907940ff57baf2ef$export$2e2bcd8739ae039)(this);\n        this.initAnalytics();\n        this.wavesurfer.on(\"ready\", this.onReady.bind(this));\n        // Add containers for BPM info\n        this.createInfoDisplay();\n    }\n    onReady = async ()=>{\n        this.scrollMin = Math.round(this.wavesurfer.container.scrollWidth / this.wavesurfer.getDuration());\n        this.scrollPos = this.scrollMin;\n        this.markerHandler.addMarkers(this.wavHandler.markers);\n    };\n    initAnalytics() {\n        const exportButton = document.getElementById(\"export\");\n        exportButton.addEventListener(\"click\", (e)=>{\n            this.track(\"export\");\n        });\n    }\n    track(e) {\n        return;\n    }\n    detectOnsets() {\n        const buffer = this.wavesurfer.backend.buffer;\n        if (!buffer) {\n            console.error(\"No audio loaded\");\n            return;\n        }\n        const audioData = buffer.getChannelData(0);\n        const sampleRate = buffer.sampleRate;\n        this.onsetHandler.detectOnsets(audioData, sampleRate);\n    }\n    createInfoDisplay() {\n        // Create container for BPM info\n        const container = document.createElement(\"div\");\n        container.id = \"audio-info\";\n        container.className = \"audio-info\";\n        // Create BPM display\n        this.bpmDisplay = document.createElement(\"div\");\n        this.bpmDisplay.id = \"bpm-display\";\n        container.appendChild(this.bpmDisplay);\n        // Insert after waveform\n        const waveform = document.getElementById(\"waveform\");\n        waveform.parentNode.insertBefore(container, waveform.nextSibling);\n    }\n    updateBPM(bpm) {\n        if (this.bpmDisplay) this.bpmDisplay.textContent = `BPM: ${bpm}`;\n    }\n}\n\n\nconst $b8f9b7833fa37166$var$version = \"v1.1\";\nconst $b8f9b7833fa37166$var$morphaweb = new (0, $7eaa149df9a6345b$export$2e2bcd8739ae039)();\nconst $b8f9b7833fa37166$var$versionElement = document.getElementById(\"version\");\n$b8f9b7833fa37166$var$versionElement.textContent = $b8f9b7833fa37166$var$version;\n\n})();\n//# sourceMappingURL=index.a8c64071.js.map\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","import Morphaweb from './Morphaweb'\r\nconst version = 'v1.1'\r\n\r\nconst morphaweb = new Morphaweb()\r\n\r\nconst versionElement = document.getElementById('version')\r\nversionElement.textContent = version","import WaveSurfer from \"wavesurfer.js\"\r\nimport MarkersPlugin from \"wavesurfer.js/src/plugin/markers\";\r\nimport RegionsPlugin from \"wavesurfer.js/src/plugin/regions\";\r\nimport DropHandler from \"./DropHandler\";\r\nimport ControlsHandler from \"./ControlsHandler\";\r\nimport MarkerHandler from \"./MarkerHandler\";\r\nimport WavHandler from \"./WavHandler\";\r\nimport OnsetHandler from './OnsetHandler';\r\nimport AlgorithmControls from './AlgorithmControls';\r\n\r\nexport default class Morphaweb {\r\n    constructor() {\r\n        this.scrollPos = 0\r\n        this.scrollMin = 0\r\n        this.playOffset = 0\r\n        \r\n        this.wavesurfer = WaveSurfer.create({\r\n            container: '#waveform',\r\n            waveColor: '#ffd000',\r\n            progressColor: 'white',\r\n            plugins: [MarkersPlugin.create(), RegionsPlugin.create()], \r\n        });\r\n\r\n        this.dropHandler = new DropHandler(this)\r\n        this.markerHandler = new MarkerHandler(this)\r\n        this.controlsHandler = new ControlsHandler(this)\r\n        this.wavHandler = new WavHandler()\r\n        this.onsetHandler = new OnsetHandler(this);\r\n        this.algorithmControls = new AlgorithmControls(this);\r\n\r\n        this.initAnalytics()\r\n\r\n        this.wavesurfer.on('ready',this.onReady.bind(this))\r\n\r\n        // Add containers for BPM info\r\n        this.createInfoDisplay();\r\n    }\r\n\r\n    onReady = async () => {\r\n        this.scrollMin = Math.round(this.wavesurfer.container.scrollWidth / this.wavesurfer.getDuration())\r\n        this.scrollPos = this.scrollMin\r\n        this.markerHandler.addMarkers(this.wavHandler.markers)\r\n    }\r\n\r\n    initAnalytics() {\r\n        const exportButton = document.getElementById(\"export\")\r\n        exportButton.addEventListener(\"click\", (e) => {\r\n            this.track(\"export\")\r\n        })\r\n    }\r\n\r\n    track(e) {\r\n        return\r\n    }\r\n\r\n    detectOnsets() {\r\n        const buffer = this.wavesurfer.backend.buffer;\r\n        if (!buffer) {\r\n            console.error('No audio loaded');\r\n            return;\r\n        }\r\n\r\n        const audioData = buffer.getChannelData(0);\r\n        const sampleRate = buffer.sampleRate;\r\n        \r\n        this.onsetHandler.detectOnsets(audioData, sampleRate);\r\n    }\r\n\r\n    createInfoDisplay() {\r\n        // Create container for BPM info\r\n        const container = document.createElement('div');\r\n        container.id = 'audio-info';\r\n        container.className = 'audio-info';\r\n        \r\n        // Create BPM display\r\n        this.bpmDisplay = document.createElement('div');\r\n        this.bpmDisplay.id = 'bpm-display';\r\n        container.appendChild(this.bpmDisplay);\r\n\r\n        // Insert after waveform\r\n        const waveform = document.getElementById('waveform');\r\n        waveform.parentNode.insertBefore(container, waveform.nextSibling);\r\n    }\r\n\r\n    updateBPM(bpm) {\r\n        if (this.bpmDisplay) {\r\n            this.bpmDisplay.textContent = `BPM: ${bpm}`;\r\n        }\r\n    }\r\n}","/*!\n * wavesurfer.js 6.6.4 (2023-06-10)\n * https://wavesurfer-js.org\n * @license BSD-3-Clause\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"WaveSurfer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WaveSurfer\"] = factory();\n\telse\n\t\troot[\"WaveSurfer\"] = factory();\n})(self, () => {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./src/drawer.canvasentry.js\":\n/*!***********************************!*\\\n  !*** ./src/drawer.canvasentry.js ***!\n  \\***********************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _style = _interopRequireDefault(__webpack_require__(/*! ./util/style */ \"./src/util/style.js\"));\nvar _getId = _interopRequireDefault(__webpack_require__(/*! ./util/get-id */ \"./src/util/get-id.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * The `CanvasEntry` class represents an element consisting of a wave `canvas`\n * and an (optional) progress wave `canvas`.\n *\n * The `MultiCanvas` renderer uses one or more `CanvasEntry` instances to\n * render a waveform, depending on the zoom level.\n */\nvar CanvasEntry = /*#__PURE__*/function () {\n  function CanvasEntry() {\n    _classCallCheck(this, CanvasEntry);\n    /**\n     * The wave node\n     *\n     * @type {HTMLCanvasElement}\n     */\n    this.wave = null;\n    /**\n     * The wave canvas rendering context\n     *\n     * @type {CanvasRenderingContext2D}\n     */\n    this.waveCtx = null;\n    /**\n     * The (optional) progress wave node\n     *\n     * @type {HTMLCanvasElement}\n     */\n    this.progress = null;\n    /**\n     * The (optional) progress wave canvas rendering context\n     *\n     * @type {CanvasRenderingContext2D}\n     */\n    this.progressCtx = null;\n    /**\n     * Start of the area the canvas should render, between 0 and 1\n     *\n     * @type {number}\n     */\n    this.start = 0;\n    /**\n     * End of the area the canvas should render, between 0 and 1\n     *\n     * @type {number}\n     */\n    this.end = 1;\n    /**\n     * Unique identifier for this entry\n     *\n     * @type {string}\n     */\n    this.id = (0, _getId.default)(typeof this.constructor.name !== 'undefined' ? this.constructor.name.toLowerCase() + '_' : 'canvasentry_');\n    /**\n     * Canvas 2d context attributes\n     *\n     * @type {object}\n     */\n    this.canvasContextAttributes = {};\n  }\n\n  /**\n   * Store the wave canvas element and create the 2D rendering context\n   *\n   * @param {HTMLCanvasElement} element The wave `canvas` element.\n   */\n  _createClass(CanvasEntry, [{\n    key: \"initWave\",\n    value: function initWave(element) {\n      this.wave = element;\n      this.waveCtx = this.wave.getContext('2d', this.canvasContextAttributes);\n    }\n\n    /**\n     * Store the progress wave canvas element and create the 2D rendering\n     * context\n     *\n     * @param {HTMLCanvasElement} element The progress wave `canvas` element.\n     */\n  }, {\n    key: \"initProgress\",\n    value: function initProgress(element) {\n      this.progress = element;\n      this.progressCtx = this.progress.getContext('2d', this.canvasContextAttributes);\n    }\n\n    /**\n     * Update the dimensions\n     *\n     * @param {number} elementWidth Width of the entry\n     * @param {number} totalWidth Total width of the multi canvas renderer\n     * @param {number} width The new width of the element\n     * @param {number} height The new height of the element\n     */\n  }, {\n    key: \"updateDimensions\",\n    value: function updateDimensions(elementWidth, totalWidth, width, height) {\n      // where the canvas starts and ends in the waveform, represented as a\n      // decimal between 0 and 1\n      this.start = this.wave.offsetLeft / totalWidth || 0;\n      this.end = this.start + elementWidth / totalWidth;\n\n      // set wave canvas dimensions\n      this.wave.width = width;\n      this.wave.height = height;\n      var elementSize = {\n        width: elementWidth + 'px'\n      };\n      (0, _style.default)(this.wave, elementSize);\n      if (this.hasProgressCanvas) {\n        // set progress canvas dimensions\n        this.progress.width = width;\n        this.progress.height = height;\n        (0, _style.default)(this.progress, elementSize);\n      }\n    }\n\n    /**\n     * Clear the wave and progress rendering contexts\n     */\n  }, {\n    key: \"clearWave\",\n    value: function clearWave() {\n      // wave\n      this.waveCtx.clearRect(0, 0, this.waveCtx.canvas.width, this.waveCtx.canvas.height);\n\n      // progress\n      if (this.hasProgressCanvas) {\n        this.progressCtx.clearRect(0, 0, this.progressCtx.canvas.width, this.progressCtx.canvas.height);\n      }\n    }\n\n    /**\n     * Set the fill styles for wave and progress\n     * @param {string|string[]} waveColor Fill color for the wave canvas,\n     * or an array of colors to apply as a gradient\n     * @param {?string|string[]} progressColor Fill color for the progress canvas,\n     * or an array of colors to apply as a gradient\n     */\n  }, {\n    key: \"setFillStyles\",\n    value: function setFillStyles(waveColor, progressColor) {\n      this.waveCtx.fillStyle = this.getFillStyle(this.waveCtx, waveColor);\n      if (this.hasProgressCanvas) {\n        this.progressCtx.fillStyle = this.getFillStyle(this.progressCtx, progressColor);\n      }\n    }\n\n    /**\n     * Utility function to handle wave color arguments\n     *\n     * When the color argument type is a string or CanvasGradient instance,\n     * it will be returned as is. Otherwise, it will be treated as an array,\n     * and a new CanvasGradient will be returned\n     *\n     * @since 6.0.0\n     * @param {CanvasRenderingContext2D} ctx Rendering context of target canvas\n     * @param {string|string[]|CanvasGradient} color Either a single fill color\n     *     for the wave canvas, an existing CanvasGradient instance, or an array\n     *     of colors to apply as a gradient\n     * @returns {string|CanvasGradient} Returns a string fillstyle value, or a\n     *     canvas gradient\n     */\n  }, {\n    key: \"getFillStyle\",\n    value: function getFillStyle(ctx, color) {\n      if (typeof color == 'string' || color instanceof CanvasGradient) {\n        return color;\n      }\n      var waveGradient = ctx.createLinearGradient(0, 0, 0, ctx.canvas.height);\n      color.forEach(function (value, index) {\n        return waveGradient.addColorStop(index / color.length, value);\n      });\n      return waveGradient;\n    }\n\n    /**\n     * Set the canvas transforms for wave and progress\n     *\n     * @param {boolean} vertical Whether to render vertically\n     */\n  }, {\n    key: \"applyCanvasTransforms\",\n    value: function applyCanvasTransforms(vertical) {\n      if (vertical) {\n        // Reflect the waveform across the line y = -x\n        this.waveCtx.setTransform(0, 1, 1, 0, 0, 0);\n        if (this.hasProgressCanvas) {\n          this.progressCtx.setTransform(0, 1, 1, 0, 0, 0);\n        }\n      }\n    }\n\n    /**\n     * Draw a rectangle for wave and progress\n     *\n     * @param {number} x X start position\n     * @param {number} y Y start position\n     * @param {number} width Width of the rectangle\n     * @param {number} height Height of the rectangle\n     * @param {number} radius Radius of the rectangle\n     */\n  }, {\n    key: \"fillRects\",\n    value: function fillRects(x, y, width, height, radius) {\n      this.fillRectToContext(this.waveCtx, x, y, width, height, radius);\n      if (this.hasProgressCanvas) {\n        this.fillRectToContext(this.progressCtx, x, y, width, height, radius);\n      }\n    }\n\n    /**\n     * Draw the actual rectangle on a `canvas` element\n     *\n     * @param {CanvasRenderingContext2D} ctx Rendering context of target canvas\n     * @param {number} x X start position\n     * @param {number} y Y start position\n     * @param {number} width Width of the rectangle\n     * @param {number} height Height of the rectangle\n     * @param {number} radius Radius of the rectangle\n     */\n  }, {\n    key: \"fillRectToContext\",\n    value: function fillRectToContext(ctx, x, y, width, height, radius) {\n      if (!ctx) {\n        return;\n      }\n      if (radius) {\n        this.drawRoundedRect(ctx, x, y, width, height, radius);\n      } else {\n        ctx.fillRect(x, y, width, height);\n      }\n    }\n\n    /**\n     * Draw a rounded rectangle on Canvas\n     *\n     * @param {CanvasRenderingContext2D} ctx Canvas context\n     * @param {number} x X-position of the rectangle\n     * @param {number} y Y-position of the rectangle\n     * @param {number} width Width of the rectangle\n     * @param {number} height Height of the rectangle\n     * @param {number} radius Radius of the rectangle\n     *\n     * @return {void}\n     * @example drawRoundedRect(ctx, 50, 50, 5, 10, 3)\n     */\n  }, {\n    key: \"drawRoundedRect\",\n    value: function drawRoundedRect(ctx, x, y, width, height, radius) {\n      if (height === 0) {\n        return;\n      }\n      // peaks are float values from -1 to 1. Use absolute height values in\n      // order to correctly calculate rounded rectangle coordinates\n      if (height < 0) {\n        height *= -1;\n        y -= height;\n      }\n      ctx.beginPath();\n      ctx.moveTo(x + radius, y);\n      ctx.lineTo(x + width - radius, y);\n      ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n      ctx.lineTo(x + width, y + height - radius);\n      ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n      ctx.lineTo(x + radius, y + height);\n      ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n      ctx.lineTo(x, y + radius);\n      ctx.quadraticCurveTo(x, y, x + radius, y);\n      ctx.closePath();\n      ctx.fill();\n    }\n\n    /**\n     * Render the actual wave and progress lines\n     *\n     * @param {number[]} peaks Array with peaks data\n     * @param {number} absmax Maximum peak value (absolute)\n     * @param {number} halfH Half the height of the waveform\n     * @param {number} offsetY Offset to the top\n     * @param {number} start The x-offset of the beginning of the area that\n     * should be rendered\n     * @param {number} end The x-offset of the end of the area that\n     * should be rendered\n     */\n  }, {\n    key: \"drawLines\",\n    value: function drawLines(peaks, absmax, halfH, offsetY, start, end) {\n      this.drawLineToContext(this.waveCtx, peaks, absmax, halfH, offsetY, start, end);\n      if (this.hasProgressCanvas) {\n        this.drawLineToContext(this.progressCtx, peaks, absmax, halfH, offsetY, start, end);\n      }\n    }\n\n    /**\n     * Render the actual waveform line on a `canvas` element\n     *\n     * @param {CanvasRenderingContext2D} ctx Rendering context of target canvas\n     * @param {number[]} peaks Array with peaks data\n     * @param {number} absmax Maximum peak value (absolute)\n     * @param {number} halfH Half the height of the waveform\n     * @param {number} offsetY Offset to the top\n     * @param {number} start The x-offset of the beginning of the area that\n     * should be rendered\n     * @param {number} end The x-offset of the end of the area that\n     * should be rendered\n     */\n  }, {\n    key: \"drawLineToContext\",\n    value: function drawLineToContext(ctx, peaks, absmax, halfH, offsetY, start, end) {\n      if (!ctx) {\n        return;\n      }\n      var length = peaks.length / 2;\n      var first = Math.round(length * this.start);\n\n      // use one more peak value to make sure we join peaks at ends -- unless,\n      // of course, this is the last canvas\n      var last = Math.round(length * this.end) + 1;\n      var canvasStart = first;\n      var canvasEnd = last;\n      var scale = this.wave.width / (canvasEnd - canvasStart - 1);\n\n      // optimization\n      var halfOffset = halfH + offsetY;\n      var absmaxHalf = absmax / halfH;\n      ctx.beginPath();\n      ctx.moveTo((canvasStart - first) * scale, halfOffset);\n      ctx.lineTo((canvasStart - first) * scale, halfOffset - Math.round((peaks[2 * canvasStart] || 0) / absmaxHalf));\n      var i, peak, h;\n      for (i = canvasStart; i < canvasEnd; i++) {\n        peak = peaks[2 * i] || 0;\n        h = Math.round(peak / absmaxHalf);\n        ctx.lineTo((i - first) * scale + this.halfPixel, halfOffset - h);\n      }\n\n      // draw the bottom edge going backwards, to make a single\n      // closed hull to fill\n      var j = canvasEnd - 1;\n      for (j; j >= canvasStart; j--) {\n        peak = peaks[2 * j + 1] || 0;\n        h = Math.round(peak / absmaxHalf);\n        ctx.lineTo((j - first) * scale + this.halfPixel, halfOffset - h);\n      }\n      ctx.lineTo((canvasStart - first) * scale, halfOffset - Math.round((peaks[2 * canvasStart + 1] || 0) / absmaxHalf));\n      ctx.closePath();\n      ctx.fill();\n    }\n\n    /**\n     * Destroys this entry\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.waveCtx = null;\n      this.wave = null;\n      this.progressCtx = null;\n      this.progress = null;\n    }\n\n    /**\n     * Return image data of the wave `canvas` element\n     *\n     * When using a `type` of `'blob'`, this will return a `Promise` that\n     * resolves with a `Blob` instance.\n     *\n     * @param {string} format='image/png' An optional value of a format type.\n     * @param {number} quality=0.92 An optional value between 0 and 1.\n     * @param {string} type='dataURL' Either 'dataURL' or 'blob'.\n     * @return {string|Promise} When using the default `'dataURL'` `type` this\n     * returns a data URL. When using the `'blob'` `type` this returns a\n     * `Promise` that resolves with a `Blob` instance.\n     */\n  }, {\n    key: \"getImage\",\n    value: function getImage(format, quality, type) {\n      var _this = this;\n      if (type === 'blob') {\n        return new Promise(function (resolve) {\n          _this.wave.toBlob(resolve, format, quality);\n        });\n      } else if (type === 'dataURL') {\n        return this.wave.toDataURL(format, quality);\n      }\n    }\n  }]);\n  return CanvasEntry;\n}();\nexports[\"default\"] = CanvasEntry;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/drawer.js\":\n/*!***********************!*\\\n  !*** ./src/drawer.js ***!\n  \\***********************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar util = _interopRequireWildcard(__webpack_require__(/*! ./util */ \"./src/util/index.js\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/**\n * Parent class for renderers\n *\n * @extends {Observer}\n */\nvar Drawer = /*#__PURE__*/function (_util$Observer) {\n  _inherits(Drawer, _util$Observer);\n  var _super = _createSuper(Drawer);\n  /**\n   * @param {HTMLElement} container The container node of the wavesurfer instance\n   * @param {WavesurferParams} params The wavesurfer initialisation options\n   */\n  function Drawer(container, params) {\n    var _this;\n    _classCallCheck(this, Drawer);\n    _this = _super.call(this);\n    _this.container = util.withOrientation(container, params.vertical);\n    /**\n     * @type {WavesurferParams}\n     */\n    _this.params = params;\n    /**\n     * The width of the renderer\n     * @type {number}\n     */\n    _this.width = 0;\n    /**\n     * The height of the renderer\n     * @type {number}\n     */\n    _this.height = params.height * _this.params.pixelRatio;\n    _this.lastPos = 0;\n    /**\n     * The `<wave>` element which is added to the container\n     * @type {HTMLElement}\n     */\n    _this.wrapper = null;\n    return _this;\n  }\n\n  /**\n   * Alias of `util.style`\n   *\n   * @param {HTMLElement} el The element that the styles will be applied to\n   * @param {Object} styles The map of propName: attribute, both are used as-is\n   * @return {HTMLElement} el\n   */\n  _createClass(Drawer, [{\n    key: \"style\",\n    value: function style(el, styles) {\n      return util.style(el, styles);\n    }\n\n    /**\n     * Create the wrapper `<wave>` element, style it and set up the events for\n     * interaction\n     */\n  }, {\n    key: \"createWrapper\",\n    value: function createWrapper() {\n      this.wrapper = util.withOrientation(this.container.appendChild(document.createElement('wave')), this.params.vertical);\n      this.style(this.wrapper, {\n        display: 'block',\n        position: 'relative',\n        userSelect: 'none',\n        webkitUserSelect: 'none',\n        height: this.params.height + 'px'\n      });\n      if (this.params.fillParent || this.params.scrollParent) {\n        this.style(this.wrapper, {\n          width: '100%',\n          cursor: this.params.hideCursor ? 'none' : 'auto',\n          overflowX: this.params.hideScrollbar ? 'hidden' : 'auto',\n          overflowY: 'hidden'\n        });\n      }\n      this.setupWrapperEvents();\n    }\n\n    /**\n     * Handle click event\n     *\n     * @param {Event} e Click event\n     * @param {?boolean} noPrevent Set to true to not call `e.preventDefault()`\n     * @return {number} Playback position from 0 to 1\n     */\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(e, noPrevent) {\n      !noPrevent && e.preventDefault();\n      var clientX = util.withOrientation(e.targetTouches ? e.targetTouches[0] : e, this.params.vertical).clientX;\n      var bbox = this.wrapper.getBoundingClientRect();\n      var nominalWidth = this.width;\n      var parentWidth = this.getWidth();\n      var progressPixels = this.getProgressPixels(bbox, clientX);\n      var progress;\n      if (!this.params.fillParent && nominalWidth < parentWidth) {\n        progress = progressPixels * (this.params.pixelRatio / nominalWidth) || 0;\n      } else {\n        progress = (progressPixels + this.wrapper.scrollLeft) / this.wrapper.scrollWidth || 0;\n      }\n      return util.clamp(progress, 0, 1);\n    }\n  }, {\n    key: \"getProgressPixels\",\n    value: function getProgressPixels(wrapperBbox, clientX) {\n      if (this.params.rtl) {\n        return wrapperBbox.right - clientX;\n      } else {\n        return clientX - wrapperBbox.left;\n      }\n    }\n  }, {\n    key: \"setupWrapperEvents\",\n    value: function setupWrapperEvents() {\n      var _this2 = this;\n      this.wrapper.addEventListener('click', function (e) {\n        var orientedEvent = util.withOrientation(e, _this2.params.vertical);\n        var scrollbarHeight = _this2.wrapper.offsetHeight - _this2.wrapper.clientHeight;\n        if (scrollbarHeight !== 0) {\n          // scrollbar is visible.  Check if click was on it\n          var bbox = _this2.wrapper.getBoundingClientRect();\n          if (orientedEvent.clientY >= bbox.bottom - scrollbarHeight) {\n            // ignore mousedown as it was on the scrollbar\n            return;\n          }\n        }\n        if (_this2.params.interact) {\n          _this2.fireEvent('click', e, _this2.handleEvent(e));\n        }\n      });\n      this.wrapper.addEventListener('dblclick', function (e) {\n        if (_this2.params.interact) {\n          _this2.fireEvent('dblclick', e, _this2.handleEvent(e));\n        }\n      });\n      this.wrapper.addEventListener('scroll', function (e) {\n        return _this2.fireEvent('scroll', e);\n      });\n    }\n\n    /**\n     * Draw peaks on the canvas\n     *\n     * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n     * for split channel rendering\n     * @param {number} length The width of the area that should be drawn\n     * @param {number} start The x-offset of the beginning of the area that\n     * should be rendered\n     * @param {number} end The x-offset of the end of the area that should be\n     * rendered\n     */\n  }, {\n    key: \"drawPeaks\",\n    value: function drawPeaks(peaks, length, start, end) {\n      if (!this.setWidth(length)) {\n        this.clearWave();\n      }\n      this.params.barWidth ? this.drawBars(peaks, 0, start, end) : this.drawWave(peaks, 0, start, end);\n    }\n\n    /**\n     * Scroll to the beginning\n     */\n  }, {\n    key: \"resetScroll\",\n    value: function resetScroll() {\n      if (this.wrapper !== null) {\n        this.wrapper.scrollLeft = 0;\n      }\n    }\n\n    /**\n     * Recenter the view-port at a certain percent of the waveform\n     *\n     * @param {number} percent Value from 0 to 1 on the waveform\n     */\n  }, {\n    key: \"recenter\",\n    value: function recenter(percent) {\n      var position = this.wrapper.scrollWidth * percent;\n      this.recenterOnPosition(position, true);\n    }\n\n    /**\n     * Recenter the view-port on a position, either scroll there immediately or\n     * in steps of 5 pixels\n     *\n     * @param {number} position X-offset in pixels\n     * @param {boolean} immediate Set to true to immediately scroll somewhere\n     */\n  }, {\n    key: \"recenterOnPosition\",\n    value: function recenterOnPosition(position, immediate) {\n      var scrollLeft = this.wrapper.scrollLeft;\n      var half = ~~(this.wrapper.clientWidth / 2);\n      var maxScroll = this.wrapper.scrollWidth - this.wrapper.clientWidth;\n      var target = position - half;\n      var offset = target - scrollLeft;\n      if (maxScroll == 0) {\n        // no need to continue if scrollbar is not there\n        return;\n      }\n\n      // if the cursor is currently visible...\n      if (!immediate && -half <= offset && offset < half) {\n        // set rate at which waveform is centered\n        var rate = this.params.autoCenterRate;\n\n        // make rate depend on width of view and length of waveform\n        rate /= half;\n        rate *= maxScroll;\n        offset = Math.max(-rate, Math.min(rate, offset));\n        target = scrollLeft + offset;\n      }\n\n      // limit target to valid range (0 to maxScroll)\n      target = Math.max(0, Math.min(maxScroll, target));\n      // no use attempting to scroll if we're not moving\n      if (target != scrollLeft) {\n        this.wrapper.scrollLeft = target;\n      }\n    }\n\n    /**\n     * Get the current scroll position in pixels\n     *\n     * @return {number} Horizontal scroll position in pixels\n     */\n  }, {\n    key: \"getScrollX\",\n    value: function getScrollX() {\n      var x = 0;\n      if (this.wrapper) {\n        var pixelRatio = this.params.pixelRatio;\n        x = Math.round(this.wrapper.scrollLeft * pixelRatio);\n\n        // In cases of elastic scroll (safari with mouse wheel) you can\n        // scroll beyond the limits of the container\n        // Calculate and floor the scrollable extent to make sure an out\n        // of bounds value is not returned\n        // Ticket #1312\n        if (this.params.scrollParent) {\n          var maxScroll = ~~(this.wrapper.scrollWidth * pixelRatio - this.getWidth());\n          x = Math.min(maxScroll, Math.max(0, x));\n        }\n      }\n      return x;\n    }\n\n    /**\n     * Get the width of the container\n     *\n     * @return {number} The width of the container\n     */\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return Math.round(this.container.clientWidth * this.params.pixelRatio);\n    }\n\n    /**\n     * Set the width of the container\n     *\n     * @param {number} width The new width of the container\n     * @return {boolean} Whether the width of the container was updated or not\n     */\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(width) {\n      if (this.width == width) {\n        return false;\n      }\n      this.width = width;\n      if (this.params.fillParent || this.params.scrollParent) {\n        this.style(this.wrapper, {\n          width: ''\n        });\n      } else {\n        var newWidth = ~~(this.width / this.params.pixelRatio) + 'px';\n        this.style(this.wrapper, {\n          width: newWidth\n        });\n      }\n      this.updateSize();\n      return true;\n    }\n\n    /**\n     * Set the height of the container\n     *\n     * @param {number} height The new height of the container.\n     * @return {boolean} Whether the height of the container was updated or not\n     */\n  }, {\n    key: \"setHeight\",\n    value: function setHeight(height) {\n      if (height == this.height) {\n        return false;\n      }\n      this.height = height;\n      this.style(this.wrapper, {\n        height: ~~(this.height / this.params.pixelRatio) + 'px'\n      });\n      this.updateSize();\n      return true;\n    }\n\n    /**\n     * Called by wavesurfer when progress should be rendered\n     *\n     * @param {number} progress From 0 to 1\n     */\n  }, {\n    key: \"progress\",\n    value: function progress(_progress) {\n      var minPxDelta = 1 / this.params.pixelRatio;\n      var pos = Math.round(_progress * this.width) * minPxDelta;\n      if (pos < this.lastPos || pos - this.lastPos >= minPxDelta) {\n        this.lastPos = pos;\n        if (this.params.scrollParent && this.params.autoCenter) {\n          var newPos = ~~(this.wrapper.scrollWidth * _progress);\n          this.recenterOnPosition(newPos, this.params.autoCenterImmediately);\n        }\n        this.updateProgress(pos);\n      }\n    }\n\n    /**\n     * This is called when wavesurfer is destroyed\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unAll();\n      if (this.wrapper) {\n        if (this.wrapper.parentNode == this.container.domElement) {\n          this.container.removeChild(this.wrapper.domElement);\n        }\n        this.wrapper = null;\n      }\n    }\n\n    /* Renderer-specific methods */\n\n    /**\n     * Called after cursor related params have changed.\n     *\n     * @abstract\n     */\n  }, {\n    key: \"updateCursor\",\n    value: function updateCursor() {}\n\n    /**\n     * Called when the size of the container changes so the renderer can adjust\n     *\n     * @abstract\n     */\n  }, {\n    key: \"updateSize\",\n    value: function updateSize() {}\n\n    /**\n     * Draw a waveform with bars\n     *\n     * @abstract\n     * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for split channel\n     * rendering\n     * @param {number} channelIndex The index of the current channel. Normally\n     * should be 0\n     * @param {number} start The x-offset of the beginning of the area that\n     * should be rendered\n     * @param {number} end The x-offset of the end of the area that should be\n     * rendered\n     */\n  }, {\n    key: \"drawBars\",\n    value: function drawBars(peaks, channelIndex, start, end) {}\n\n    /**\n     * Draw a waveform\n     *\n     * @abstract\n     * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for split channel\n     * rendering\n     * @param {number} channelIndex The index of the current channel. Normally\n     * should be 0\n     * @param {number} start The x-offset of the beginning of the area that\n     * should be rendered\n     * @param {number} end The x-offset of the end of the area that should be\n     * rendered\n     */\n  }, {\n    key: \"drawWave\",\n    value: function drawWave(peaks, channelIndex, start, end) {}\n\n    /**\n     * Clear the waveform\n     *\n     * @abstract\n     */\n  }, {\n    key: \"clearWave\",\n    value: function clearWave() {}\n\n    /**\n     * Render the new progress\n     *\n     * @abstract\n     * @param {number} position X-Offset of progress position in pixels\n     */\n  }, {\n    key: \"updateProgress\",\n    value: function updateProgress(position) {}\n  }]);\n  return Drawer;\n}(util.Observer);\nexports[\"default\"] = Drawer;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/drawer.multicanvas.js\":\n/*!***********************************!*\\\n  !*** ./src/drawer.multicanvas.js ***!\n  \\***********************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _drawer = _interopRequireDefault(__webpack_require__(/*! ./drawer */ \"./src/drawer.js\"));\nvar util = _interopRequireWildcard(__webpack_require__(/*! ./util */ \"./src/util/index.js\"));\nvar _drawer2 = _interopRequireDefault(__webpack_require__(/*! ./drawer.canvasentry */ \"./src/drawer.canvasentry.js\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/**\n * MultiCanvas renderer for wavesurfer. Is currently the default and sole\n * builtin renderer.\n *\n * A `MultiCanvas` consists of one or more `CanvasEntry` instances, depending\n * on the zoom level.\n */\nvar MultiCanvas = /*#__PURE__*/function (_Drawer) {\n  _inherits(MultiCanvas, _Drawer);\n  var _super = _createSuper(MultiCanvas);\n  /**\n   * @param {HTMLElement} container The container node of the wavesurfer instance\n   * @param {WavesurferParams} params The wavesurfer initialisation options\n   */\n  function MultiCanvas(container, params) {\n    var _this;\n    _classCallCheck(this, MultiCanvas);\n    _this = _super.call(this, container, params);\n\n    /**\n     * @type {number}\n     */\n    _this.maxCanvasWidth = params.maxCanvasWidth;\n\n    /**\n     * @type {number}\n     */\n    _this.maxCanvasElementWidth = Math.round(params.maxCanvasWidth / params.pixelRatio);\n\n    /**\n     * Whether or not the progress wave is rendered. If the `waveColor`\n     * and `progressColor` are the same color it is not.\n     *\n     * @type {boolean}\n     */\n    _this.hasProgressCanvas = params.waveColor != params.progressColor;\n\n    /**\n     * @type {number}\n     */\n    _this.halfPixel = 0.5 / params.pixelRatio;\n\n    /**\n     * List of `CanvasEntry` instances.\n     *\n     * @type {Array}\n     */\n    _this.canvases = [];\n\n    /**\n     * @type {HTMLElement}\n     */\n    _this.progressWave = null;\n\n    /**\n     * Class used to generate entries.\n     *\n     * @type {function}\n     */\n    _this.EntryClass = _drawer2.default;\n\n    /**\n     * Canvas 2d context attributes.\n     *\n     * @type {object}\n     */\n    _this.canvasContextAttributes = params.drawingContextAttributes;\n\n    /**\n     * Overlap added between entries to prevent vertical white stripes\n     * between `canvas` elements.\n     *\n     * @type {number}\n     */\n    _this.overlap = 2 * Math.ceil(params.pixelRatio / 2);\n\n    /**\n     * The radius of the wave bars. Makes bars rounded\n     *\n     * @type {number}\n     */\n    _this.barRadius = params.barRadius || 0;\n\n    /**\n     * Whether to render the waveform vertically. Defaults to false.\n     *\n     * @type {boolean}\n     */\n    _this.vertical = params.vertical;\n    return _this;\n  }\n\n  /**\n   * Initialize the drawer\n   */\n  _createClass(MultiCanvas, [{\n    key: \"init\",\n    value: function init() {\n      this.createWrapper();\n      this.createElements();\n    }\n\n    /**\n     * Create the canvas elements and style them\n     *\n     */\n  }, {\n    key: \"createElements\",\n    value: function createElements() {\n      this.progressWave = util.withOrientation(this.wrapper.appendChild(document.createElement('wave')), this.params.vertical);\n      this.style(this.progressWave, {\n        position: 'absolute',\n        zIndex: 3,\n        left: 0,\n        top: 0,\n        bottom: 0,\n        overflow: 'hidden',\n        width: '0',\n        display: 'none',\n        boxSizing: 'border-box',\n        borderRightStyle: 'solid',\n        pointerEvents: 'none'\n      });\n      this.addCanvas();\n      this.updateCursor();\n    }\n\n    /**\n     * Update cursor style\n     */\n  }, {\n    key: \"updateCursor\",\n    value: function updateCursor() {\n      this.style(this.progressWave, {\n        borderRightWidth: this.params.cursorWidth + 'px',\n        borderRightColor: this.params.cursorColor\n      });\n    }\n\n    /**\n     * Adjust to the updated size by adding or removing canvases\n     */\n  }, {\n    key: \"updateSize\",\n    value: function updateSize() {\n      var _this2 = this;\n      var totalWidth = Math.round(this.width / this.params.pixelRatio);\n      var requiredCanvases = Math.ceil(totalWidth / (this.maxCanvasElementWidth + this.overlap));\n\n      // add required canvases\n      while (this.canvases.length < requiredCanvases) {\n        this.addCanvas();\n      }\n\n      // remove older existing canvases, if any\n      while (this.canvases.length > requiredCanvases) {\n        this.removeCanvas();\n      }\n      var canvasWidth = this.maxCanvasWidth + this.overlap;\n      var lastCanvas = this.canvases.length - 1;\n      this.canvases.forEach(function (entry, i) {\n        if (i == lastCanvas) {\n          canvasWidth = _this2.width - _this2.maxCanvasWidth * lastCanvas;\n        }\n        _this2.updateDimensions(entry, canvasWidth, _this2.height);\n        entry.clearWave();\n      });\n    }\n\n    /**\n     * Add a canvas to the canvas list\n     *\n     */\n  }, {\n    key: \"addCanvas\",\n    value: function addCanvas() {\n      var entry = new this.EntryClass();\n      entry.canvasContextAttributes = this.canvasContextAttributes;\n      entry.hasProgressCanvas = this.hasProgressCanvas;\n      entry.halfPixel = this.halfPixel;\n      var leftOffset = this.maxCanvasElementWidth * this.canvases.length;\n\n      // wave\n      var wave = util.withOrientation(this.wrapper.appendChild(document.createElement('canvas')), this.params.vertical);\n      this.style(wave, {\n        position: 'absolute',\n        zIndex: 2,\n        left: leftOffset + 'px',\n        top: 0,\n        bottom: 0,\n        height: '100%',\n        pointerEvents: 'none'\n      });\n      entry.initWave(wave);\n\n      // progress\n      if (this.hasProgressCanvas) {\n        var progress = util.withOrientation(this.progressWave.appendChild(document.createElement('canvas')), this.params.vertical);\n        this.style(progress, {\n          position: 'absolute',\n          left: leftOffset + 'px',\n          top: 0,\n          bottom: 0,\n          height: '100%'\n        });\n        entry.initProgress(progress);\n      }\n      this.canvases.push(entry);\n    }\n\n    /**\n     * Pop single canvas from the list\n     *\n     */\n  }, {\n    key: \"removeCanvas\",\n    value: function removeCanvas() {\n      var lastEntry = this.canvases[this.canvases.length - 1];\n\n      // wave\n      lastEntry.wave.parentElement.removeChild(lastEntry.wave.domElement);\n\n      // progress\n      if (this.hasProgressCanvas) {\n        lastEntry.progress.parentElement.removeChild(lastEntry.progress.domElement);\n      }\n\n      // cleanup\n      if (lastEntry) {\n        lastEntry.destroy();\n        lastEntry = null;\n      }\n      this.canvases.pop();\n    }\n\n    /**\n     * Update the dimensions of a canvas element\n     *\n     * @param {CanvasEntry} entry Target entry\n     * @param {number} width The new width of the element\n     * @param {number} height The new height of the element\n     */\n  }, {\n    key: \"updateDimensions\",\n    value: function updateDimensions(entry, width, height) {\n      var elementWidth = Math.round(width / this.params.pixelRatio);\n      var totalWidth = Math.round(this.width / this.params.pixelRatio);\n\n      // update canvas dimensions\n      entry.updateDimensions(elementWidth, totalWidth, width, height);\n\n      // style element\n      this.style(this.progressWave, {\n        display: 'block'\n      });\n    }\n\n    /**\n     * Clear the whole multi-canvas\n     */\n  }, {\n    key: \"clearWave\",\n    value: function clearWave() {\n      var _this3 = this;\n      util.frame(function () {\n        _this3.canvases.forEach(function (entry) {\n          return entry.clearWave();\n        });\n      })();\n    }\n\n    /**\n     * Draw a waveform with bars\n     *\n     * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n     * for split channel rendering\n     * @param {number} channelIndex The index of the current channel. Normally\n     * should be 0. Must be an integer.\n     * @param {number} start The x-offset of the beginning of the area that\n     * should be rendered\n     * @param {number} end The x-offset of the end of the area that should be\n     * rendered\n     * @returns {void}\n     */\n  }, {\n    key: \"drawBars\",\n    value: function drawBars(peaks, channelIndex, start, end) {\n      var _this4 = this;\n      return this.prepareDraw(peaks, channelIndex, start, end, function (_ref) {\n        var absmax = _ref.absmax,\n          hasMinVals = _ref.hasMinVals,\n          height = _ref.height,\n          offsetY = _ref.offsetY,\n          halfH = _ref.halfH,\n          peaks = _ref.peaks,\n          ch = _ref.channelIndex;\n        // if drawBars was called within ws.empty we don't pass a start and\n        // don't want anything to happen\n        if (start === undefined) {\n          return;\n        }\n        // Skip every other value if there are negatives.\n        var peakIndexScale = hasMinVals ? 2 : 1;\n        var length = peaks.length / peakIndexScale;\n        var bar = _this4.params.barWidth * _this4.params.pixelRatio;\n        var gap = _this4.params.barGap === null ? Math.max(_this4.params.pixelRatio, ~~(bar / 2)) : Math.max(_this4.params.pixelRatio, _this4.params.barGap * _this4.params.pixelRatio);\n        var step = bar + gap;\n        var scale = length / _this4.width;\n        var first = start;\n        var last = end;\n        var peakIndex = first;\n        for (peakIndex; peakIndex < last; peakIndex += step) {\n          // search for the highest peak in the range this bar falls into\n          var peak = 0;\n          var peakIndexRange = Math.floor(peakIndex * scale) * peakIndexScale; // start index\n          var peakIndexEnd = Math.floor((peakIndex + step) * scale) * peakIndexScale;\n          do {\n            // do..while makes sure at least one peak is always evaluated\n            var newPeak = Math.abs(peaks[peakIndexRange]); // for arrays starting with negative values\n            if (newPeak > peak) {\n              peak = newPeak; // higher\n            }\n\n            peakIndexRange += peakIndexScale; // skip every other value for negatives\n          } while (peakIndexRange < peakIndexEnd);\n\n          // calculate the height of this bar according to the highest peak found\n          var h = Math.round(peak / absmax * halfH);\n\n          // raise the bar height to the specified minimum height\n          // Math.max is used to replace any value smaller than barMinHeight (not just 0) with barMinHeight\n          if (_this4.params.barMinHeight) {\n            h = Math.max(h, _this4.params.barMinHeight);\n          }\n          _this4.fillRect(peakIndex + _this4.halfPixel, halfH - h + offsetY, bar + _this4.halfPixel, h * 2, _this4.barRadius, ch);\n        }\n      });\n    }\n\n    /**\n     * Draw a waveform\n     *\n     * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n     * for split channel rendering\n     * @param {number} channelIndex The index of the current channel. Normally\n     * should be 0\n     * @param {number?} start The x-offset of the beginning of the area that\n     * should be rendered (If this isn't set only a flat line is rendered)\n     * @param {number?} end The x-offset of the end of the area that should be\n     * rendered\n     * @returns {void}\n     */\n  }, {\n    key: \"drawWave\",\n    value: function drawWave(peaks, channelIndex, start, end) {\n      var _this5 = this;\n      return this.prepareDraw(peaks, channelIndex, start, end, function (_ref2) {\n        var absmax = _ref2.absmax,\n          hasMinVals = _ref2.hasMinVals,\n          height = _ref2.height,\n          offsetY = _ref2.offsetY,\n          halfH = _ref2.halfH,\n          peaks = _ref2.peaks,\n          channelIndex = _ref2.channelIndex;\n        if (!hasMinVals) {\n          var reflectedPeaks = [];\n          var len = peaks.length;\n          var i = 0;\n          for (i; i < len; i++) {\n            reflectedPeaks[2 * i] = peaks[i];\n            reflectedPeaks[2 * i + 1] = -peaks[i];\n          }\n          peaks = reflectedPeaks;\n        }\n\n        // if drawWave was called within ws.empty we don't pass a start and\n        // end and simply want a flat line\n        if (start !== undefined) {\n          _this5.drawLine(peaks, absmax, halfH, offsetY, start, end, channelIndex);\n        }\n\n        // always draw a median line\n        _this5.fillRect(0, halfH + offsetY - _this5.halfPixel, _this5.width, _this5.halfPixel, _this5.barRadius, channelIndex);\n      });\n    }\n\n    /**\n     * Tell the canvas entries to render their portion of the waveform\n     *\n     * @param {number[]} peaks Peaks data\n     * @param {number} absmax Maximum peak value (absolute)\n     * @param {number} halfH Half the height of the waveform\n     * @param {number} offsetY Offset to the top\n     * @param {number} start The x-offset of the beginning of the area that\n     * should be rendered\n     * @param {number} end The x-offset of the end of the area that\n     * should be rendered\n     * @param {channelIndex} channelIndex The channel index of the line drawn\n     */\n  }, {\n    key: \"drawLine\",\n    value: function drawLine(peaks, absmax, halfH, offsetY, start, end, channelIndex) {\n      var _this6 = this;\n      var _ref3 = this.params.splitChannelsOptions.channelColors[channelIndex] || {},\n        waveColor = _ref3.waveColor,\n        progressColor = _ref3.progressColor;\n      this.canvases.forEach(function (entry, i) {\n        _this6.setFillStyles(entry, waveColor, progressColor);\n        _this6.applyCanvasTransforms(entry, _this6.params.vertical);\n        entry.drawLines(peaks, absmax, halfH, offsetY, start, end);\n      });\n    }\n\n    /**\n     * Draw a rectangle on the multi-canvas\n     *\n     * @param {number} x X-position of the rectangle\n     * @param {number} y Y-position of the rectangle\n     * @param {number} width Width of the rectangle\n     * @param {number} height Height of the rectangle\n     * @param {number} radius Radius of the rectangle\n     * @param {channelIndex} channelIndex The channel index of the bar drawn\n     */\n  }, {\n    key: \"fillRect\",\n    value: function fillRect(x, y, width, height, radius, channelIndex) {\n      var startCanvas = Math.floor(x / this.maxCanvasWidth);\n      var endCanvas = Math.min(Math.ceil((x + width) / this.maxCanvasWidth) + 1, this.canvases.length);\n      var i = startCanvas;\n      for (i; i < endCanvas; i++) {\n        var entry = this.canvases[i];\n        var leftOffset = i * this.maxCanvasWidth;\n        var intersection = {\n          x1: Math.max(x, i * this.maxCanvasWidth),\n          y1: y,\n          x2: Math.min(x + width, i * this.maxCanvasWidth + entry.wave.width),\n          y2: y + height\n        };\n        if (intersection.x1 < intersection.x2) {\n          var _ref4 = this.params.splitChannelsOptions.channelColors[channelIndex] || {},\n            waveColor = _ref4.waveColor,\n            progressColor = _ref4.progressColor;\n          this.setFillStyles(entry, waveColor, progressColor);\n          this.applyCanvasTransforms(entry, this.params.vertical);\n          entry.fillRects(intersection.x1 - leftOffset, intersection.y1, intersection.x2 - intersection.x1, intersection.y2 - intersection.y1, radius);\n        }\n      }\n    }\n\n    /**\n     * Returns whether to hide the channel from being drawn based on params.\n     *\n     * @param {number} channelIndex The index of the current channel.\n     * @returns {bool} True to hide the channel, false to draw.\n     */\n  }, {\n    key: \"hideChannel\",\n    value: function hideChannel(channelIndex) {\n      return this.params.splitChannels && this.params.splitChannelsOptions.filterChannels.includes(channelIndex);\n    }\n\n    /**\n     * Performs preparation tasks and calculations which are shared by `drawBars`\n     * and `drawWave`\n     *\n     * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for\n     * split channel rendering\n     * @param {number} channelIndex The index of the current channel. Normally\n     * should be 0\n     * @param {number?} start The x-offset of the beginning of the area that\n     * should be rendered. If this isn't set only a flat line is rendered\n     * @param {number?} end The x-offset of the end of the area that should be\n     * rendered\n     * @param {function} fn The render function to call, e.g. `drawWave`\n     * @param {number} drawIndex The index of the current channel after filtering.\n     * @param {number?} normalizedMax Maximum modulation value across channels for use with relativeNormalization. Ignored when undefined\n     * @returns {void}\n     */\n  }, {\n    key: \"prepareDraw\",\n    value: function prepareDraw(peaks, channelIndex, start, end, fn, drawIndex, normalizedMax) {\n      var _this7 = this;\n      return util.frame(function () {\n        // Split channels and call this function with the channelIndex set\n        if (peaks[0] instanceof Array) {\n          var channels = peaks;\n          if (_this7.params.splitChannels) {\n            var filteredChannels = channels.filter(function (c, i) {\n              return !_this7.hideChannel(i);\n            });\n            if (!_this7.params.splitChannelsOptions.overlay) {\n              _this7.setHeight(Math.max(filteredChannels.length, 1) * _this7.params.height * _this7.params.pixelRatio);\n            }\n            var overallAbsMax;\n            if (_this7.params.splitChannelsOptions && _this7.params.splitChannelsOptions.relativeNormalization) {\n              // calculate maximum peak across channels to use for normalization\n              overallAbsMax = util.max(channels.map(function (channelPeaks) {\n                return util.absMax(channelPeaks);\n              }));\n            }\n            return channels.forEach(function (channelPeaks, i) {\n              return _this7.prepareDraw(channelPeaks, i, start, end, fn, filteredChannels.indexOf(channelPeaks), overallAbsMax);\n            });\n          }\n          peaks = channels[0];\n        }\n\n        // Return and do not draw channel peaks if hidden.\n        if (_this7.hideChannel(channelIndex)) {\n          return;\n        }\n\n        // calculate maximum modulation value, either from the barHeight\n        // parameter or if normalize=true from the largest value in the peak\n        // set\n        var absmax = 1 / _this7.params.barHeight;\n        if (_this7.params.normalize) {\n          absmax = normalizedMax === undefined ? util.absMax(peaks) : normalizedMax;\n        }\n\n        // Bar wave draws the bottom only as a reflection of the top,\n        // so we don't need negative values\n        var hasMinVals = [].some.call(peaks, function (val) {\n          return val < 0;\n        });\n        var height = _this7.params.height * _this7.params.pixelRatio;\n        var halfH = height / 2;\n        var offsetY = height * drawIndex || 0;\n\n        // Override offsetY if overlay is true\n        if (_this7.params.splitChannelsOptions && _this7.params.splitChannelsOptions.overlay) {\n          offsetY = 0;\n        }\n        return fn({\n          absmax: absmax,\n          hasMinVals: hasMinVals,\n          height: height,\n          offsetY: offsetY,\n          halfH: halfH,\n          peaks: peaks,\n          channelIndex: channelIndex\n        });\n      })();\n    }\n\n    /**\n     * Set the fill styles for a certain entry (wave and progress)\n     *\n     * @param {CanvasEntry} entry Target entry\n     * @param {string} waveColor Wave color to draw this entry\n     * @param {string} progressColor Progress color to draw this entry\n     */\n  }, {\n    key: \"setFillStyles\",\n    value: function setFillStyles(entry) {\n      var waveColor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.params.waveColor;\n      var progressColor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.params.progressColor;\n      entry.setFillStyles(waveColor, progressColor);\n    }\n\n    /**\n     * Set the canvas transforms for a certain entry (wave and progress)\n     *\n     * @param {CanvasEntry} entry Target entry\n     * @param {boolean} vertical Whether to render the waveform vertically\n     */\n  }, {\n    key: \"applyCanvasTransforms\",\n    value: function applyCanvasTransforms(entry) {\n      var vertical = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      entry.applyCanvasTransforms(vertical);\n    }\n\n    /**\n     * Return image data of the multi-canvas\n     *\n     * When using a `type` of `'blob'`, this will return a `Promise`.\n     *\n     * @param {string} format='image/png' An optional value of a format type.\n     * @param {number} quality=0.92 An optional value between 0 and 1.\n     * @param {string} type='dataURL' Either 'dataURL' or 'blob'.\n     * @return {string|string[]|Promise} When using the default `'dataURL'`\n     * `type` this returns a single data URL or an array of data URLs,\n     * one for each canvas. When using the `'blob'` `type` this returns a\n     * `Promise` that resolves with an array of `Blob` instances, one for each\n     * canvas.\n     */\n  }, {\n    key: \"getImage\",\n    value: function getImage(format, quality, type) {\n      if (type === 'blob') {\n        return Promise.all(this.canvases.map(function (entry) {\n          return entry.getImage(format, quality, type);\n        }));\n      } else if (type === 'dataURL') {\n        var images = this.canvases.map(function (entry) {\n          return entry.getImage(format, quality, type);\n        });\n        return images.length > 1 ? images : images[0];\n      }\n    }\n\n    /**\n     * Render the new progress\n     *\n     * @param {number} position X-offset of progress position in pixels\n     */\n  }, {\n    key: \"updateProgress\",\n    value: function updateProgress(position) {\n      this.style(this.progressWave, {\n        width: position + 'px'\n      });\n    }\n  }]);\n  return MultiCanvas;\n}(_drawer.default);\nexports[\"default\"] = MultiCanvas;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/mediaelement-webaudio.js\":\n/*!**************************************!*\\\n  !*** ./src/mediaelement-webaudio.js ***!\n  \\**************************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _mediaelement = _interopRequireDefault(__webpack_require__(/*! ./mediaelement */ \"./src/mediaelement.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/**\n * MediaElementWebAudio backend: load audio via an HTML5 audio tag, but playback with the WebAudio API.\n * The advantage here is that the html5 <audio> tag can perform range requests on the server and not\n * buffer the entire file in one request, and you still get the filtering and scripting functionality\n * of the webaudio API.\n * Note that in order to use range requests and prevent buffering, you must provide peak data.\n *\n * @since 3.2.0\n */\nvar MediaElementWebAudio = /*#__PURE__*/function (_MediaElement) {\n  _inherits(MediaElementWebAudio, _MediaElement);\n  var _super = _createSuper(MediaElementWebAudio);\n  /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */\n  function MediaElementWebAudio(params) {\n    var _this;\n    _classCallCheck(this, MediaElementWebAudio);\n    _this = _super.call(this, params);\n    /** @private */\n    _this.params = params;\n    /** @private */\n    _this.sourceMediaElement = null;\n    return _this;\n  }\n\n  /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */\n  _createClass(MediaElementWebAudio, [{\n    key: \"init\",\n    value: function init() {\n      this.setPlaybackRate(this.params.audioRate);\n      this.createTimer();\n      this.createVolumeNode();\n      this.createScriptNode();\n      this.createAnalyserNode();\n    }\n    /**\n     * Private method called by both `load` (from url)\n     * and `loadElt` (existing media element) methods.\n     *\n     * @param {HTMLMediaElement} media HTML5 Audio or Video element\n     * @param {number[]|Number.<Array[]>} peaks Array of peak data\n     * @param {string} preload HTML 5 preload attribute value\n     * @private\n     */\n  }, {\n    key: \"_load\",\n    value: function _load(media, peaks, preload) {\n      _get(_getPrototypeOf(MediaElementWebAudio.prototype), \"_load\", this).call(this, media, peaks, preload);\n      this.createMediaElementSource(media);\n    }\n\n    /**\n     * Create MediaElementSource node\n     *\n     * @since 3.2.0\n     * @param {HTMLMediaElement} mediaElement HTML5 Audio to load\n     */\n  }, {\n    key: \"createMediaElementSource\",\n    value: function createMediaElementSource(mediaElement) {\n      this.sourceMediaElement = this.ac.createMediaElementSource(mediaElement);\n      this.sourceMediaElement.connect(this.analyser);\n    }\n  }, {\n    key: \"play\",\n    value: function play(start, end) {\n      this.resumeAudioContext();\n      return _get(_getPrototypeOf(MediaElementWebAudio.prototype), \"play\", this).call(this, start, end);\n    }\n\n    /**\n     * This is called when wavesurfer is destroyed\n     *\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(MediaElementWebAudio.prototype), \"destroy\", this).call(this);\n      this.destroyWebAudio();\n    }\n  }]);\n  return MediaElementWebAudio;\n}(_mediaelement.default);\nexports[\"default\"] = MediaElementWebAudio;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/mediaelement.js\":\n/*!*****************************!*\\\n  !*** ./src/mediaelement.js ***!\n  \\*****************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _webaudio = _interopRequireDefault(__webpack_require__(/*! ./webaudio */ \"./src/webaudio.js\"));\nvar util = _interopRequireWildcard(__webpack_require__(/*! ./util */ \"./src/util/index.js\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/**\n * MediaElement backend\n */\nvar MediaElement = /*#__PURE__*/function (_WebAudio) {\n  _inherits(MediaElement, _WebAudio);\n  var _super = _createSuper(MediaElement);\n  /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */\n  function MediaElement(params) {\n    var _this;\n    _classCallCheck(this, MediaElement);\n    _this = _super.call(this, params);\n    /** @private */\n    _this.params = params;\n\n    /**\n     * Initially a dummy media element to catch errors. Once `_load` is\n     * called, this will contain the actual `HTMLMediaElement`.\n     * @private\n     */\n    _this.media = {\n      currentTime: 0,\n      duration: 0,\n      paused: true,\n      playbackRate: 1,\n      play: function play() {},\n      pause: function pause() {},\n      volume: 0\n    };\n\n    /** @private */\n    _this.mediaType = params.mediaType.toLowerCase();\n    /** @private */\n    _this.elementPosition = params.elementPosition;\n    /** @private */\n    _this.peaks = null;\n    /** @private */\n    _this.playbackRate = 1;\n    /** @private */\n    _this.volume = 1;\n    /** @private */\n    _this.isMuted = false;\n    /** @private */\n    _this.buffer = null;\n    /** @private */\n    _this.onPlayEnd = null;\n    /** @private */\n    _this.mediaListeners = {};\n    return _this;\n  }\n\n  /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */\n  _createClass(MediaElement, [{\n    key: \"init\",\n    value: function init() {\n      this.setPlaybackRate(this.params.audioRate);\n      this.createTimer();\n    }\n\n    /**\n     * Attach event listeners to media element.\n     */\n  }, {\n    key: \"_setupMediaListeners\",\n    value: function _setupMediaListeners() {\n      var _this2 = this;\n      this.mediaListeners.error = function () {\n        _this2.fireEvent('error', 'Error loading media element');\n      };\n      this.mediaListeners.waiting = function () {\n        _this2.fireEvent('waiting');\n      };\n      this.mediaListeners.canplay = function () {\n        _this2.fireEvent('canplay');\n      };\n      this.mediaListeners.ended = function () {\n        _this2.fireEvent('finish');\n      };\n      // listen to and relay play, pause and seeked events to enable\n      // playback control from the external media element\n      this.mediaListeners.play = function () {\n        _this2.fireEvent('play');\n      };\n      this.mediaListeners.pause = function () {\n        _this2.fireEvent('pause');\n      };\n      this.mediaListeners.seeked = function (event) {\n        _this2.fireEvent('seek');\n      };\n      this.mediaListeners.volumechange = function (event) {\n        _this2.isMuted = _this2.media.muted;\n        if (_this2.isMuted) {\n          _this2.volume = 0;\n        } else {\n          _this2.volume = _this2.media.volume;\n        }\n        _this2.fireEvent('volume');\n      };\n\n      // reset event listeners\n      Object.keys(this.mediaListeners).forEach(function (id) {\n        _this2.media.removeEventListener(id, _this2.mediaListeners[id]);\n        _this2.media.addEventListener(id, _this2.mediaListeners[id]);\n      });\n    }\n\n    /**\n     * Create a timer to provide a more precise `audioprocess` event.\n     */\n  }, {\n    key: \"createTimer\",\n    value: function createTimer() {\n      var _this3 = this;\n      var onAudioProcess = function onAudioProcess() {\n        if (_this3.isPaused()) {\n          return;\n        }\n        _this3.fireEvent('audioprocess', _this3.getCurrentTime());\n\n        // Call again in the next frame\n        util.frame(onAudioProcess)();\n      };\n      this.on('play', onAudioProcess);\n\n      // Update the progress one more time to prevent it from being stuck in\n      // case of lower framerates\n      this.on('pause', function () {\n        _this3.fireEvent('audioprocess', _this3.getCurrentTime());\n      });\n    }\n\n    /**\n     * Create media element with url as its source,\n     * and append to container element.\n     *\n     * @param {string} url Path to media file\n     * @param {HTMLElement} container HTML element\n     * @param {number[]|Number.<Array[]>} peaks Array of peak data\n     * @param {string} preload HTML 5 preload attribute value\n     * @throws Will throw an error if the `url` argument is not a valid media\n     * element.\n     */\n  }, {\n    key: \"load\",\n    value: function load(url, container, peaks, preload) {\n      var media = document.createElement(this.mediaType);\n      media.controls = this.params.mediaControls;\n      media.autoplay = this.params.autoplay || false;\n      media.preload = preload == null ? 'auto' : preload;\n      media.src = url;\n      media.style.width = '100%';\n      var prevMedia = container.querySelector(this.mediaType);\n      if (prevMedia) {\n        container.removeChild(prevMedia);\n      }\n      container.appendChild(media);\n      this._load(media, peaks, preload);\n    }\n\n    /**\n     * Load existing media element.\n     *\n     * @param {HTMLMediaElement} elt HTML5 Audio or Video element\n     * @param {number[]|Number.<Array[]>} peaks Array of peak data\n     */\n  }, {\n    key: \"loadElt\",\n    value: function loadElt(elt, peaks) {\n      elt.controls = this.params.mediaControls;\n      elt.autoplay = this.params.autoplay || false;\n      this._load(elt, peaks, elt.preload);\n    }\n\n    /**\n     * Method called by both `load` (from url)\n     * and `loadElt` (existing media element) methods.\n     *\n     * @param {HTMLMediaElement} media HTML5 Audio or Video element\n     * @param {number[]|Number.<Array[]>} peaks Array of peak data\n     * @param {string} preload HTML 5 preload attribute value\n     * @throws Will throw an error if the `media` argument is not a valid media\n     * element.\n     * @private\n     */\n  }, {\n    key: \"_load\",\n    value: function _load(media, peaks, preload) {\n      // verify media element is valid\n      if (!(media instanceof HTMLMediaElement) || typeof media.addEventListener === 'undefined') {\n        throw new Error('media parameter is not a valid media element');\n      }\n\n      // load must be called manually on iOS, otherwise peaks won't draw\n      // until a user interaction triggers load --> 'ready' event\n      //\n      // note that we avoid calling media.load here when given peaks and preload == 'none'\n      // as this almost always triggers some browser fetch of the media.\n      if (typeof media.load == 'function' && !(peaks && preload == 'none')) {\n        // Resets the media element and restarts the media resource. Any\n        // pending events are discarded. How much media data is fetched is\n        // still affected by the preload attribute.\n        media.load();\n      }\n      this.media = media;\n      this._setupMediaListeners();\n      this.peaks = peaks;\n      this.onPlayEnd = null;\n      this.buffer = null;\n      this.isMuted = media.muted;\n      this.setPlaybackRate(this.playbackRate);\n      this.setVolume(this.volume);\n    }\n\n    /**\n     * Used by `wavesurfer.isPlaying()` and `wavesurfer.playPause()`\n     *\n     * @return {boolean} Media paused or not\n     */\n  }, {\n    key: \"isPaused\",\n    value: function isPaused() {\n      return !this.media || this.media.paused;\n    }\n\n    /**\n     * Used by `wavesurfer.getDuration()`\n     *\n     * @return {number} Duration\n     */\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      if (this.explicitDuration) {\n        return this.explicitDuration;\n      }\n      var duration = (this.buffer || this.media).duration;\n      if (duration >= Infinity) {\n        // streaming audio\n        duration = this.media.seekable.end(0);\n      }\n      return duration;\n    }\n\n    /**\n     * Returns the current time in seconds relative to the audio-clip's\n     * duration.\n     *\n     * @return {number} Current time\n     */\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.media && this.media.currentTime;\n    }\n\n    /**\n     * Get the position from 0 to 1\n     *\n     * @return {number} Current position\n     */\n  }, {\n    key: \"getPlayedPercents\",\n    value: function getPlayedPercents() {\n      return this.getCurrentTime() / this.getDuration() || 0;\n    }\n\n    /**\n     * Get the audio source playback rate.\n     *\n     * @return {number} Playback rate\n     */\n  }, {\n    key: \"getPlaybackRate\",\n    value: function getPlaybackRate() {\n      return this.playbackRate || this.media.playbackRate;\n    }\n\n    /**\n     * Set the audio source playback rate.\n     *\n     * @param {number} value Playback rate\n     */\n  }, {\n    key: \"setPlaybackRate\",\n    value: function setPlaybackRate(value) {\n      this.playbackRate = value || 1;\n      this.media.playbackRate = this.playbackRate;\n    }\n\n    /**\n     * Used by `wavesurfer.seekTo()`\n     *\n     * @param {number} start Position to start at in seconds\n     */\n  }, {\n    key: \"seekTo\",\n    value: function seekTo(start) {\n      if (start != null && !isNaN(start)) {\n        this.media.currentTime = start;\n      }\n      this.clearPlayEnd();\n    }\n\n    /**\n     * Plays the loaded audio region.\n     *\n     * @param {number} start Start offset in seconds, relative to the beginning\n     * of a clip.\n     * @param {number} end When to stop, relative to the beginning of a clip.\n     * @emits MediaElement#play\n     * @return {Promise} Result\n     */\n  }, {\n    key: \"play\",\n    value: function play(start, end) {\n      this.seekTo(start);\n      var promise = this.media.play();\n      end && this.setPlayEnd(end);\n      return promise;\n    }\n\n    /**\n     * Pauses the loaded audio.\n     *\n     * @emits MediaElement#pause\n     * @return {Promise} Result\n     */\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var promise;\n      if (this.media) {\n        promise = this.media.pause();\n      }\n      this.clearPlayEnd();\n      return promise;\n    }\n\n    /**\n     * Set the play end\n     *\n     * @param {number} end Where to end\n     */\n  }, {\n    key: \"setPlayEnd\",\n    value: function setPlayEnd(end) {\n      var _this4 = this;\n      this.clearPlayEnd();\n      this._onPlayEnd = function (time) {\n        if (time >= end) {\n          _this4.pause();\n          _this4.seekTo(end);\n        }\n      };\n      this.on('audioprocess', this._onPlayEnd);\n    }\n\n    /** @private */\n  }, {\n    key: \"clearPlayEnd\",\n    value: function clearPlayEnd() {\n      if (this._onPlayEnd) {\n        this.un('audioprocess', this._onPlayEnd);\n        this._onPlayEnd = null;\n      }\n    }\n\n    /**\n     * Compute the max and min value of the waveform when broken into\n     * <length> subranges.\n     *\n     * @param {number} length How many subranges to break the waveform into.\n     * @param {number} first First sample in the required range.\n     * @param {number} last Last sample in the required range.\n     * @return {number[]|Number.<Array[]>} Array of 2*<length> peaks or array of\n     * arrays of peaks consisting of (max, min) values for each subrange.\n     */\n  }, {\n    key: \"getPeaks\",\n    value: function getPeaks(length, first, last) {\n      if (this.buffer) {\n        return _get(_getPrototypeOf(MediaElement.prototype), \"getPeaks\", this).call(this, length, first, last);\n      }\n      return this.peaks || [];\n    }\n\n    /**\n     * Set the sink id for the media player\n     *\n     * @param {string} deviceId String value representing audio device id.\n     * @returns {Promise} A Promise that resolves to `undefined` when there\n     * are no errors.\n     */\n  }, {\n    key: \"setSinkId\",\n    value: function setSinkId(deviceId) {\n      if (deviceId) {\n        if (!this.media.setSinkId) {\n          return Promise.reject(new Error('setSinkId is not supported in your browser'));\n        }\n        return this.media.setSinkId(deviceId);\n      }\n      return Promise.reject(new Error('Invalid deviceId: ' + deviceId));\n    }\n\n    /**\n     * Get the current volume\n     *\n     * @return {number} value A floating point value between 0 and 1.\n     */\n  }, {\n    key: \"getVolume\",\n    value: function getVolume() {\n      return this.volume;\n    }\n\n    /**\n     * Set the audio volume\n     *\n     * @param {number} value A floating point value between 0 and 1.\n     */\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(value) {\n      this.volume = value;\n      // no need to change when it's already at that volume\n      if (this.media.volume !== this.volume) {\n        this.media.volume = this.volume;\n      }\n    }\n\n    /**\n     * Enable or disable muted audio\n     *\n     * @since 4.0.0\n     * @param {boolean} muted Specify `true` to mute audio.\n     */\n  }, {\n    key: \"setMute\",\n    value: function setMute(muted) {\n      // This causes a volume change to be emitted too through the\n      // volumechange event listener.\n      this.isMuted = this.media.muted = muted;\n    }\n\n    /**\n     * This is called when wavesurfer is destroyed\n     *\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this5 = this;\n      this.pause();\n      this.unAll();\n      this.destroyed = true;\n\n      // cleanup media event listeners\n      Object.keys(this.mediaListeners).forEach(function (id) {\n        if (_this5.media) {\n          _this5.media.removeEventListener(id, _this5.mediaListeners[id]);\n        }\n      });\n      if (this.params.removeMediaElementOnDestroy && this.media && this.media.parentNode) {\n        this.media.parentNode.removeChild(this.media);\n      }\n      this.media = null;\n    }\n  }]);\n  return MediaElement;\n}(_webaudio.default);\nexports[\"default\"] = MediaElement;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/peakcache.js\":\n/*!**************************!*\\\n  !*** ./src/peakcache.js ***!\n  \\**************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * Caches the decoded peaks data to improve rendering speed for large audio\n *\n * Is used if the option parameter `partialRender` is set to `true`\n */\nvar PeakCache = /*#__PURE__*/function () {\n  /**\n   * Instantiate cache\n   */\n  function PeakCache() {\n    _classCallCheck(this, PeakCache);\n    this.clearPeakCache();\n  }\n\n  /**\n   * Empty the cache\n   */\n  _createClass(PeakCache, [{\n    key: \"clearPeakCache\",\n    value: function clearPeakCache() {\n      /**\n       * Flat array with entries that are always in pairs to mark the\n       * beginning and end of each subrange.  This is a convenience so we can\n       * iterate over the pairs for easy set difference operations.\n       * @private\n       */\n      this.peakCacheRanges = [];\n      /**\n       * Length of the entire cachable region, used for resetting the cache\n       * when this changes (zoom events, for instance).\n       * @private\n       */\n      this.peakCacheLength = -1;\n    }\n\n    /**\n     * Add a range of peaks to the cache\n     *\n     * @param {number} length The length of the range\n     * @param {number} start The x offset of the start of the range\n     * @param {number} end The x offset of the end of the range\n     * @return {Number.<Array[]>} Array with arrays of numbers\n     */\n  }, {\n    key: \"addRangeToPeakCache\",\n    value: function addRangeToPeakCache(length, start, end) {\n      if (length != this.peakCacheLength) {\n        this.clearPeakCache();\n        this.peakCacheLength = length;\n      }\n\n      // Return ranges that weren't in the cache before the call.\n      var uncachedRanges = [];\n      var i = 0;\n      // Skip ranges before the current start.\n      while (i < this.peakCacheRanges.length && this.peakCacheRanges[i] < start) {\n        i++;\n      }\n      // If |i| is even, |start| falls after an existing range.  Otherwise,\n      // |start| falls between an existing range, and the uncached region\n      // starts when we encounter the next node in |peakCacheRanges| or\n      // |end|, whichever comes first.\n      if (i % 2 == 0) {\n        uncachedRanges.push(start);\n      }\n      while (i < this.peakCacheRanges.length && this.peakCacheRanges[i] <= end) {\n        uncachedRanges.push(this.peakCacheRanges[i]);\n        i++;\n      }\n      // If |i| is even, |end| is after all existing ranges.\n      if (i % 2 == 0) {\n        uncachedRanges.push(end);\n      }\n\n      // Filter out the 0-length ranges.\n      uncachedRanges = uncachedRanges.filter(function (item, pos, arr) {\n        if (pos == 0) {\n          return item != arr[pos + 1];\n        } else if (pos == arr.length - 1) {\n          return item != arr[pos - 1];\n        }\n        return item != arr[pos - 1] && item != arr[pos + 1];\n      });\n\n      // Merge the two ranges together, uncachedRanges will either contain\n      // wholly new points, or duplicates of points in peakCacheRanges.  If\n      // duplicates are detected, remove both and extend the range.\n      this.peakCacheRanges = this.peakCacheRanges.concat(uncachedRanges);\n      this.peakCacheRanges = this.peakCacheRanges.sort(function (a, b) {\n        return a - b;\n      }).filter(function (item, pos, arr) {\n        if (pos == 0) {\n          return item != arr[pos + 1];\n        } else if (pos == arr.length - 1) {\n          return item != arr[pos - 1];\n        }\n        return item != arr[pos - 1] && item != arr[pos + 1];\n      });\n\n      // Push the uncached ranges into an array of arrays for ease of\n      // iteration in the functions that call this.\n      var uncachedRangePairs = [];\n      for (i = 0; i < uncachedRanges.length; i += 2) {\n        uncachedRangePairs.push([uncachedRanges[i], uncachedRanges[i + 1]]);\n      }\n      return uncachedRangePairs;\n    }\n\n    /**\n     * For testing\n     *\n     * @return {Number.<Array[]>} Array with arrays of numbers\n     */\n  }, {\n    key: \"getCacheRanges\",\n    value: function getCacheRanges() {\n      var peakCacheRangePairs = [];\n      var i;\n      for (i = 0; i < this.peakCacheRanges.length; i += 2) {\n        peakCacheRangePairs.push([this.peakCacheRanges[i], this.peakCacheRanges[i + 1]]);\n      }\n      return peakCacheRangePairs;\n    }\n  }]);\n  return PeakCache;\n}();\nexports[\"default\"] = PeakCache;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/util/absMax.js\":\n/*!****************************!*\\\n  !*** ./src/util/absMax.js ***!\n  \\****************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = absMax;\nvar _max = _interopRequireDefault(__webpack_require__(/*! ./max */ \"./src/util/max.js\"));\nvar _min = _interopRequireDefault(__webpack_require__(/*! ./min */ \"./src/util/min.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\r\n * Get the largest absolute value in an array\r\n *\r\n * @param   {Array} values Array of numbers\r\n * @returns {Number} Largest number found\r\n * @example console.log(max([-3, 2, 1]), max([-3, 2, 4])); // logs 3 4\r\n * @since 4.3.0\r\n */\nfunction absMax(values) {\n  var max = (0, _max.default)(values);\n  var min = (0, _min.default)(values);\n  return -min > max ? -min : max;\n}\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/util/clamp.js\":\n/*!***************************!*\\\n  !*** ./src/util/clamp.js ***!\n  \\***************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = clamp;\n/**\n * Returns a number limited to the given range.\n *\n * @param {number} val The number to be limited to a range\n * @param {number} min The lower boundary of the limit range\n * @param {number} max The upper boundary of the limit range\n * @returns {number} A number in the range [min, max]\n */\nfunction clamp(val, min, max) {\n  return Math.min(Math.max(min, val), max);\n}\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/util/fetch.js\":\n/*!***************************!*\\\n  !*** ./src/util/fetch.js ***!\n  \\***************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = fetchFile;\nvar _observer = _interopRequireDefault(__webpack_require__(/*! ./observer */ \"./src/util/observer.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar ProgressHandler = /*#__PURE__*/function () {\n  /**\n   * Instantiate ProgressHandler\n   *\n   * @param {Observer} instance The `fetchFile` observer instance.\n   * @param {Number} contentLength Content length.\n   * @param {Response} response Response object.\n   */\n  function ProgressHandler(instance, contentLength, response) {\n    _classCallCheck(this, ProgressHandler);\n    this.instance = instance;\n    this.instance._reader = response.body.getReader();\n    this.total = parseInt(contentLength, 10);\n    this.loaded = 0;\n  }\n\n  /**\n   * A method that is called once, immediately after the `ReadableStream``\n   * is constructed.\n   *\n   * @param {ReadableStreamDefaultController} controller Controller instance\n   *     used to control the stream.\n   */\n  _createClass(ProgressHandler, [{\n    key: \"start\",\n    value: function start(controller) {\n      var _this = this;\n      var read = function read() {\n        // instance._reader.read() returns a promise that resolves\n        // when a value has been received\n        _this.instance._reader.read().then(function (_ref) {\n          var done = _ref.done,\n            value = _ref.value;\n          // result objects contain two properties:\n          // done  - true if the stream has already given you all its data.\n          // value - some data. Always undefined when done is true.\n          if (done) {\n            // ensure onProgress called when content-length=0\n            if (_this.total === 0) {\n              _this.instance.onProgress.call(_this.instance, {\n                loaded: _this.loaded,\n                total: _this.total,\n                lengthComputable: false\n              });\n            }\n            // no more data needs to be consumed, close the stream\n            controller.close();\n            return;\n          }\n          _this.loaded += value.byteLength;\n          _this.instance.onProgress.call(_this.instance, {\n            loaded: _this.loaded,\n            total: _this.total,\n            lengthComputable: !(_this.total === 0)\n          });\n          // enqueue the next data chunk into our target stream\n          controller.enqueue(value);\n          read();\n        }).catch(function (error) {\n          controller.error(error);\n        });\n      };\n      read();\n    }\n  }]);\n  return ProgressHandler;\n}();\n/**\n * Load a file using `fetch`.\n *\n * @param {object} options Request options to use. See example below.\n * @returns {Observer} Observer instance\n * @example\n * // default options\n * let options = {\n *     url: undefined,\n *     method: 'GET',\n *     mode: 'cors',\n *     credentials: 'same-origin',\n *     cache: 'default',\n *     responseType: 'json',\n *     requestHeaders: [],\n *     redirect: 'follow',\n *     referrer: 'client'\n * };\n *\n * // override some options\n * options.url = '../media/demo.wav';\n\n * // available types: 'arraybuffer', 'blob', 'json' or 'text'\n * options.responseType = 'arraybuffer';\n *\n * // make fetch call\n * let request = util.fetchFile(options);\n *\n * // listen for events\n * request.on('progress', e => {\n *     console.log('progress', e);\n * });\n *\n * request.on('success', data => {\n *     console.log('success!', data);\n * });\n *\n * request.on('error', e => {\n *     console.warn('fetchFile error: ', e);\n * });\n */\nfunction fetchFile(options) {\n  if (!options) {\n    throw new Error('fetch options missing');\n  } else if (!options.url) {\n    throw new Error('fetch url missing');\n  }\n  var instance = new _observer.default();\n  var fetchHeaders = new Headers();\n  var fetchRequest = new Request(options.url);\n\n  // add ability to abort\n  instance.controller = new AbortController();\n\n  // check if headers have to be added\n  if (options && options.requestHeaders) {\n    // add custom request headers\n    options.requestHeaders.forEach(function (header) {\n      fetchHeaders.append(header.key, header.value);\n    });\n  }\n\n  // parse fetch options\n  var responseType = options.responseType || 'json';\n  var fetchOptions = {\n    method: options.method || 'GET',\n    headers: fetchHeaders,\n    mode: options.mode || 'cors',\n    credentials: options.credentials || 'same-origin',\n    cache: options.cache || 'default',\n    redirect: options.redirect || 'follow',\n    referrer: options.referrer || 'client',\n    signal: instance.controller.signal\n  };\n  fetch(fetchRequest, fetchOptions).then(function (response) {\n    // store response reference\n    instance.response = response;\n    var progressAvailable = true;\n    if (!response.body) {\n      // ReadableStream is not yet supported in this browser\n      // see https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\n      progressAvailable = false;\n    }\n\n    // Server must send CORS header \"Access-Control-Expose-Headers: content-length\"\n    var contentLength = response.headers.get('content-length');\n    if (contentLength === null) {\n      // Content-Length server response header missing.\n      // Don't evaluate download progress if we can't compare against a total size\n      // see https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Access-Control-Expose-Headers\n      progressAvailable = false;\n    }\n    if (!progressAvailable) {\n      // not able to check download progress so skip it\n      return response;\n    }\n\n    // fire progress event when during load\n    instance.onProgress = function (e) {\n      instance.fireEvent('progress', e);\n    };\n    return new Response(new ReadableStream(new ProgressHandler(instance, contentLength, response)), fetchOptions);\n  }).then(function (response) {\n    var errMsg;\n    if (response.ok) {\n      switch (responseType) {\n        case 'arraybuffer':\n          return response.arrayBuffer();\n        case 'json':\n          return response.json();\n        case 'blob':\n          return response.blob();\n        case 'text':\n          return response.text();\n        default:\n          errMsg = 'Unknown responseType: ' + responseType;\n          break;\n      }\n    }\n    if (!errMsg) {\n      errMsg = 'HTTP error status: ' + response.status;\n    }\n    throw new Error(errMsg);\n  }).then(function (response) {\n    instance.fireEvent('success', response);\n  }).catch(function (error) {\n    instance.fireEvent('error', error);\n  });\n\n  // return the fetch request\n  instance.fetchRequest = fetchRequest;\n  return instance;\n}\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/util/frame.js\":\n/*!***************************!*\\\n  !*** ./src/util/frame.js ***!\n  \\***************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = frame;\nvar _requestAnimationFrame = _interopRequireDefault(__webpack_require__(/*! ./request-animation-frame */ \"./src/util/request-animation-frame.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * Create a function which will be called at the next requestAnimationFrame\n * cycle\n *\n * @param {function} func The function to call\n *\n * @return {func} The function wrapped within a requestAnimationFrame\n */\nfunction frame(func) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return (0, _requestAnimationFrame.default)(function () {\n      return func.apply(void 0, args);\n    });\n  };\n}\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/util/get-id.js\":\n/*!****************************!*\\\n  !*** ./src/util/get-id.js ***!\n  \\****************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = getId;\n/**\n * Get a random prefixed ID\n *\n * @param {String} prefix Prefix to use. Default is `'wavesurfer_'`.\n * @returns {String} Random prefixed ID\n * @example\n * console.log(getId()); // logs 'wavesurfer_b5pors4ru6g'\n *\n * let prefix = 'foo-';\n * console.log(getId(prefix)); // logs 'foo-b5pors4ru6g'\n */\nfunction getId(prefix) {\n  if (prefix === undefined) {\n    prefix = 'wavesurfer_';\n  }\n  return prefix + Math.random().toString(32).substring(2);\n}\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/util/index.js\":\n/*!***************************!*\\\n  !*** ./src/util/index.js ***!\n  \\***************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"Observer\", ({\n  enumerable: true,\n  get: function get() {\n    return _observer.default;\n  }\n}));\nObject.defineProperty(exports, \"absMax\", ({\n  enumerable: true,\n  get: function get() {\n    return _absMax.default;\n  }\n}));\nObject.defineProperty(exports, \"clamp\", ({\n  enumerable: true,\n  get: function get() {\n    return _clamp.default;\n  }\n}));\nObject.defineProperty(exports, \"debounce\", ({\n  enumerable: true,\n  get: function get() {\n    return _debounce.default;\n  }\n}));\nObject.defineProperty(exports, \"fetchFile\", ({\n  enumerable: true,\n  get: function get() {\n    return _fetch.default;\n  }\n}));\nObject.defineProperty(exports, \"frame\", ({\n  enumerable: true,\n  get: function get() {\n    return _frame.default;\n  }\n}));\nObject.defineProperty(exports, \"getId\", ({\n  enumerable: true,\n  get: function get() {\n    return _getId.default;\n  }\n}));\nObject.defineProperty(exports, \"ignoreSilenceMode\", ({\n  enumerable: true,\n  get: function get() {\n    return _silenceMode.default;\n  }\n}));\nObject.defineProperty(exports, \"max\", ({\n  enumerable: true,\n  get: function get() {\n    return _max.default;\n  }\n}));\nObject.defineProperty(exports, \"min\", ({\n  enumerable: true,\n  get: function get() {\n    return _min.default;\n  }\n}));\nObject.defineProperty(exports, \"preventClick\", ({\n  enumerable: true,\n  get: function get() {\n    return _preventClick.default;\n  }\n}));\nObject.defineProperty(exports, \"requestAnimationFrame\", ({\n  enumerable: true,\n  get: function get() {\n    return _requestAnimationFrame.default;\n  }\n}));\nObject.defineProperty(exports, \"style\", ({\n  enumerable: true,\n  get: function get() {\n    return _style.default;\n  }\n}));\nObject.defineProperty(exports, \"withOrientation\", ({\n  enumerable: true,\n  get: function get() {\n    return _orientation.default;\n  }\n}));\nvar _getId = _interopRequireDefault(__webpack_require__(/*! ./get-id */ \"./src/util/get-id.js\"));\nvar _max = _interopRequireDefault(__webpack_require__(/*! ./max */ \"./src/util/max.js\"));\nvar _min = _interopRequireDefault(__webpack_require__(/*! ./min */ \"./src/util/min.js\"));\nvar _absMax = _interopRequireDefault(__webpack_require__(/*! ./absMax */ \"./src/util/absMax.js\"));\nvar _observer = _interopRequireDefault(__webpack_require__(/*! ./observer */ \"./src/util/observer.js\"));\nvar _style = _interopRequireDefault(__webpack_require__(/*! ./style */ \"./src/util/style.js\"));\nvar _requestAnimationFrame = _interopRequireDefault(__webpack_require__(/*! ./request-animation-frame */ \"./src/util/request-animation-frame.js\"));\nvar _frame = _interopRequireDefault(__webpack_require__(/*! ./frame */ \"./src/util/frame.js\"));\nvar _debounce = _interopRequireDefault(__webpack_require__(/*! debounce */ \"./node_modules/debounce/index.js\"));\nvar _preventClick = _interopRequireDefault(__webpack_require__(/*! ./prevent-click */ \"./src/util/prevent-click.js\"));\nvar _fetch = _interopRequireDefault(__webpack_require__(/*! ./fetch */ \"./src/util/fetch.js\"));\nvar _clamp = _interopRequireDefault(__webpack_require__(/*! ./clamp */ \"./src/util/clamp.js\"));\nvar _orientation = _interopRequireDefault(__webpack_require__(/*! ./orientation */ \"./src/util/orientation.js\"));\nvar _silenceMode = _interopRequireDefault(__webpack_require__(/*! ./silence-mode */ \"./src/util/silence-mode.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n\n/***/ \"./src/util/max.js\":\n/*!*************************!*\\\n  !*** ./src/util/max.js ***!\n  \\*************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = max;\n/**\n * Get the largest value\n *\n * @param   {Array} values Array of numbers\n * @returns {Number} Largest number found\n * @example console.log(max([1, 2, 3])); // logs 3\n */\nfunction max(values) {\n  var largest = -Infinity;\n  Object.keys(values).forEach(function (i) {\n    if (values[i] > largest) {\n      largest = values[i];\n    }\n  });\n  return largest;\n}\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/util/min.js\":\n/*!*************************!*\\\n  !*** ./src/util/min.js ***!\n  \\*************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = min;\n/**\n * Get the smallest value\n *\n * @param   {Array} values Array of numbers\n * @returns {Number} Smallest number found\n * @example console.log(min([1, 2, 3])); // logs 1\n */\nfunction min(values) {\n  var smallest = Number(Infinity);\n  Object.keys(values).forEach(function (i) {\n    if (values[i] < smallest) {\n      smallest = values[i];\n    }\n  });\n  return smallest;\n}\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/util/observer.js\":\n/*!******************************!*\\\n  !*** ./src/util/observer.js ***!\n  \\******************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * @typedef {Object} ListenerDescriptor\n * @property {string} name The name of the event\n * @property {function} callback The callback\n * @property {function} un The function to call to remove the listener\n */\n/**\n * Observer class\n */\nvar Observer = /*#__PURE__*/function () {\n  /**\n   * Instantiate Observer\n   */\n  function Observer() {\n    _classCallCheck(this, Observer);\n    /**\n     * @private\n     * @todo Initialise the handlers here already and remove the conditional\n     * assignment in `on()`\n     */\n    this._disabledEventEmissions = [];\n    this.handlers = null;\n  }\n  /**\n   * Attach a handler function for an event.\n   *\n   * @param {string} event Name of the event to listen to\n   * @param {function} fn The callback to trigger when the event is fired\n   * @return {ListenerDescriptor} The event descriptor\n   */\n  _createClass(Observer, [{\n    key: \"on\",\n    value: function on(event, fn) {\n      var _this = this;\n      if (!this.handlers) {\n        this.handlers = {};\n      }\n      var handlers = this.handlers[event];\n      if (!handlers) {\n        handlers = this.handlers[event] = [];\n      }\n      handlers.push(fn);\n\n      // Return an event descriptor\n      return {\n        name: event,\n        callback: fn,\n        un: function un(e, fn) {\n          return _this.un(e, fn);\n        }\n      };\n    }\n\n    /**\n     * Remove an event handler.\n     *\n     * @param {string} event Name of the event the listener that should be\n     * removed listens to\n     * @param {function} fn The callback that should be removed\n     */\n  }, {\n    key: \"un\",\n    value: function un(event, fn) {\n      if (!this.handlers) {\n        return;\n      }\n      var handlers = this.handlers[event];\n      var i;\n      if (handlers) {\n        if (fn) {\n          for (i = handlers.length - 1; i >= 0; i--) {\n            if (handlers[i] == fn) {\n              handlers.splice(i, 1);\n            }\n          }\n        } else {\n          handlers.length = 0;\n        }\n      }\n    }\n\n    /**\n     * Remove all event handlers.\n     */\n  }, {\n    key: \"unAll\",\n    value: function unAll() {\n      this.handlers = null;\n    }\n\n    /**\n     * Attach a handler to an event. The handler is executed at most once per\n     * event type.\n     *\n     * @param {string} event The event to listen to\n     * @param {function} handler The callback that is only to be called once\n     * @return {ListenerDescriptor} The event descriptor\n     */\n  }, {\n    key: \"once\",\n    value: function once(event, handler) {\n      var _this2 = this;\n      var fn = function fn() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        /*  eslint-disable no-invalid-this */\n        handler.apply(_this2, args);\n        /*  eslint-enable no-invalid-this */\n        setTimeout(function () {\n          _this2.un(event, fn);\n        }, 0);\n      };\n      return this.on(event, fn);\n    }\n\n    /**\n     * Disable firing a list of events by name. When specified, event handlers for any event type\n     * passed in here will not be called.\n     *\n     * @since 4.0.0\n     * @param {string[]} eventNames an array of event names to disable emissions for\n     * @example\n     * // disable seek and interaction events\n     * wavesurfer.setDisabledEventEmissions(['seek', 'interaction']);\n     */\n  }, {\n    key: \"setDisabledEventEmissions\",\n    value: function setDisabledEventEmissions(eventNames) {\n      this._disabledEventEmissions = eventNames;\n    }\n\n    /**\n     * plugins borrow part of this class without calling the constructor,\n     * so we have to be careful about _disabledEventEmissions\n     */\n  }, {\n    key: \"_isDisabledEventEmission\",\n    value: function _isDisabledEventEmission(event) {\n      return this._disabledEventEmissions && this._disabledEventEmissions.includes(event);\n    }\n\n    /**\n     * Manually fire an event\n     *\n     * @param {string} event The event to fire manually\n     * @param {...any} args The arguments with which to call the listeners\n     */\n  }, {\n    key: \"fireEvent\",\n    value: function fireEvent(event) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n      if (!this.handlers || this._isDisabledEventEmission(event)) {\n        return;\n      }\n      var handlers = this.handlers[event];\n      handlers && handlers.forEach(function (fn) {\n        fn.apply(void 0, args);\n      });\n    }\n  }]);\n  return Observer;\n}();\nexports[\"default\"] = Observer;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/util/orientation.js\":\n/*!*********************************!*\\\n  !*** ./src/util/orientation.js ***!\n  \\*********************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = withOrientation;\nvar verticalPropMap = {\n  width: 'height',\n  height: 'width',\n  overflowX: 'overflowY',\n  overflowY: 'overflowX',\n  clientWidth: 'clientHeight',\n  clientHeight: 'clientWidth',\n  clientX: 'clientY',\n  clientY: 'clientX',\n  scrollWidth: 'scrollHeight',\n  scrollLeft: 'scrollTop',\n  offsetLeft: 'offsetTop',\n  offsetTop: 'offsetLeft',\n  offsetHeight: 'offsetWidth',\n  offsetWidth: 'offsetHeight',\n  left: 'top',\n  right: 'bottom',\n  top: 'left',\n  bottom: 'right',\n  borderRightStyle: 'borderBottomStyle',\n  borderRightWidth: 'borderBottomWidth',\n  borderRightColor: 'borderBottomColor'\n};\n\n/**\n * Convert a horizontally-oriented property name to a vertical one.\n *\n * @param {string} prop A property name\n * @param {bool} vertical Whether the element is oriented vertically\n * @returns {string} prop, converted appropriately\n */\nfunction mapProp(prop, vertical) {\n  if (Object.prototype.hasOwnProperty.call(verticalPropMap, prop)) {\n    return vertical ? verticalPropMap[prop] : prop;\n  } else {\n    return prop;\n  }\n}\nvar isProxy = Symbol(\"isProxy\");\n\n/**\n * Returns an appropriately oriented object based on vertical.\n * If vertical is true, attribute getting and setting will be mapped through\n * verticalPropMap, so that e.g. getting the object's .width will give its\n * .height instead.\n * Certain methods of an oriented object will return oriented objects as well.\n * Oriented objects can't be added to the DOM directly since they are Proxy objects\n * and thus fail typechecks. Use domElement to get the actual element for this.\n *\n * @param {object} target The object to be wrapped and oriented\n * @param {bool} vertical Whether the element is oriented vertically\n * @returns {Proxy} An oriented object with attr translation via verticalAttrMap\n * @since 5.0.0\n */\nfunction withOrientation(target, vertical) {\n  if (target[isProxy]) {\n    return target;\n  } else {\n    return new Proxy(target, {\n      get: function get(obj, prop, receiver) {\n        if (prop === isProxy) {\n          return true;\n        } else if (prop === 'domElement') {\n          return obj;\n        } else if (prop === 'style') {\n          return withOrientation(obj.style, vertical);\n        } else if (prop === 'canvas') {\n          return withOrientation(obj.canvas, vertical);\n        } else if (prop === 'getBoundingClientRect') {\n          return function () {\n            return withOrientation(obj.getBoundingClientRect.apply(obj, arguments), vertical);\n          };\n        } else if (prop === 'getContext') {\n          return function () {\n            return withOrientation(obj.getContext.apply(obj, arguments), vertical);\n          };\n        } else {\n          var value = obj[mapProp(prop, vertical)];\n          return typeof value == 'function' ? value.bind(obj) : value;\n        }\n      },\n      set: function set(obj, prop, value) {\n        obj[mapProp(prop, vertical)] = value;\n        return true;\n      }\n    });\n  }\n}\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/util/prevent-click.js\":\n/*!***********************************!*\\\n  !*** ./src/util/prevent-click.js ***!\n  \\***********************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = preventClick;\n/**\n * Stops propagation of click event and removes event listener\n *\n * @private\n * @param {object} event The click event\n */\nfunction preventClickHandler(event) {\n  event.stopPropagation();\n  document.body.removeEventListener('click', preventClickHandler, true);\n}\n\n/**\n * Starts listening for click event and prevent propagation\n *\n * @param {object} values Values\n */\nfunction preventClick(values) {\n  document.body.addEventListener('click', preventClickHandler, true);\n}\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/util/request-animation-frame.js\":\n/*!*********************************************!*\\\n  !*** ./src/util/request-animation-frame.js ***!\n  \\*********************************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n/* eslint-disable valid-jsdoc */\n/**\n * Returns the `requestAnimationFrame` function for the browser, or a shim with\n * `setTimeout` if the function is not found\n *\n * @return {function} Available `requestAnimationFrame` function for the browser\n */\nvar _default = (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback, element) {\n  return setTimeout(callback, 1000 / 60);\n}).bind(window);\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/util/silence-mode.js\":\n/*!**********************************!*\\\n  !*** ./src/util/silence-mode.js ***!\n  \\**********************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = ignoreSilenceMode;\n/**\n * Ignores device silence mode when using the `WebAudio` backend.\n *\n * Many mobile devices contain a hardware button to mute the ringtone for incoming\n * calls and messages. Unfortunately, on some platforms like iOS, this also mutes\n * wavesurfer's audio when using the `WebAudio` backend. This function creates a\n * temporary `<audio>` element that makes sure the WebAudio backend keeps playing\n * when muting the device ringer.\n *\n * @since 5.2.0\n */\nfunction ignoreSilenceMode() {\n  // Set webaudio context with 1 second silent audio 44100 bit rate buffer to allow playing audio even if silent switch is on the device\n  var silentAC = new AudioContext();\n  var silentBS = silentAC.createBufferSource();\n  silentBS.buffer = silentAC.createBuffer(1, 1, 44100);\n  silentBS.connect(silentAC.destination);\n  silentBS.start();\n\n  // Set the src to a short bit of url encoded as a silent mp3\n  // NOTE The silence MP3 must be high quality, when web audio sounds are played\n  // in parallel the web audio sound is mixed to match the bitrate of the html sound\n  // 0.01 seconds of silence VBR220-260 Joint Stereo 859B\n  var audioData = \"data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==\";\n\n  // disable iOS Airplay (setting the attribute in js doesn't work)\n  var tmp = document.createElement(\"div\");\n  tmp.innerHTML = '<audio x-webkit-airplay=\"deny\"></audio>';\n  var audioSilentMode = tmp.children.item(0);\n  audioSilentMode.src = audioData;\n  audioSilentMode.preload = \"auto\";\n  audioSilentMode.type = \"audio/mpeg\";\n  audioSilentMode.disableRemotePlayback = true;\n\n  // play\n  audioSilentMode.play();\n\n  // cleanup\n  audioSilentMode.remove();\n  tmp.remove();\n}\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/util/style.js\":\n/*!***************************!*\\\n  !*** ./src/util/style.js ***!\n  \\***************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = style;\n/**\n * Apply a map of styles to an element\n *\n * @param {HTMLElement} el The element that the styles will be applied to\n * @param {Object} styles The map of propName: attribute, both are used as-is\n *\n * @return {HTMLElement} el\n */\nfunction style(el, styles) {\n  Object.keys(styles).forEach(function (prop) {\n    if (el.style[prop] !== styles[prop]) {\n      el.style[prop] = styles[prop];\n    }\n  });\n  return el;\n}\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/wavesurfer.js\":\n/*!***************************!*\\\n  !*** ./src/wavesurfer.js ***!\n  \\***************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar util = _interopRequireWildcard(__webpack_require__(/*! ./util */ \"./src/util/index.js\"));\nvar _drawer = _interopRequireDefault(__webpack_require__(/*! ./drawer.multicanvas */ \"./src/drawer.multicanvas.js\"));\nvar _webaudio = _interopRequireDefault(__webpack_require__(/*! ./webaudio */ \"./src/webaudio.js\"));\nvar _mediaelement = _interopRequireDefault(__webpack_require__(/*! ./mediaelement */ \"./src/mediaelement.js\"));\nvar _peakcache = _interopRequireDefault(__webpack_require__(/*! ./peakcache */ \"./src/peakcache.js\"));\nvar _mediaelementWebaudio = _interopRequireDefault(__webpack_require__(/*! ./mediaelement-webaudio */ \"./src/mediaelement-webaudio.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/*\n * This work is licensed under a BSD-3-Clause License.\n */\n/** @external {HTMLElement} https://developer.mozilla.org/en/docs/Web/API/HTMLElement */\n/** @external {OfflineAudioContext} https://developer.mozilla.org/en-US/docs/Web/API/OfflineAudioContext */\n/** @external {File} https://developer.mozilla.org/en-US/docs/Web/API/File */\n/** @external {Blob} https://developer.mozilla.org/en-US/docs/Web/API/Blob */\n/** @external {CanvasRenderingContext2D} https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D */\n/** @external {MediaStreamConstraints} https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints */\n/** @external {AudioNode} https://developer.mozilla.org/de/docs/Web/API/AudioNode */\n/**\n * @typedef {Object} WavesurferParams\n * @property {AudioContext} audioContext=null Use your own previously\n * initialized AudioContext or leave blank.\n * @property {number} audioRate=1 Speed at which to play audio. Lower number is\n * slower.\n * @property {ScriptProcessorNode} audioScriptProcessor=null Use your own previously\n * initialized ScriptProcessorNode or leave blank.\n * @property {boolean} autoCenter=true If a scrollbar is present, center the\n * waveform on current progress\n * @property {number} autoCenterRate=5 If autoCenter is active, rate at which the\n * waveform is centered\n * @property {boolean} autoCenterImmediately=false If autoCenter is active, immediately\n * center waveform on current progress\n * @property {string} backend='WebAudio' `'WebAudio'|'MediaElement'|'MediaElementWebAudio'` In most cases\n * you don't have to set this manually. MediaElement is a fallback for unsupported browsers.\n * MediaElementWebAudio allows to use WebAudio API also with big audio files, loading audio like with\n * MediaElement backend (HTML5 audio tag). You have to use the same methods of MediaElement backend for loading and\n * playback, giving also peaks, so the audio data are not decoded. In this way you can use WebAudio features, like filters,\n * also with audio with big duration. For example:\n * ` wavesurfer.load(url | HTMLMediaElement, peaks, preload, duration);\n *   wavesurfer.play();\n *   wavesurfer.setFilter(customFilter);\n * `\n * @property {string} backgroundColor=null Change background color of the\n * waveform container.\n * @property {number} barHeight=1 The height of the wave bars.\n * @property {number} barRadius=0 The radius of the wave bars. Makes bars rounded\n * @property {number} barGap=null The optional spacing between bars of the wave,\n * if not provided will be calculated in legacy format.\n * @property {number} barWidth=null Draw the waveform using bars.\n * @property {number} barMinHeight=null If specified, draw at least a bar of this height,\n * eliminating waveform gaps\n * @property {boolean} closeAudioContext=false Close and nullify all audio\n * contexts when the destroy method is called.\n * @property {!string|HTMLElement} container CSS selector or HTML element where\n * the waveform should be drawn. This is the only required parameter.\n * @property {string} cursorColor='#333' The fill color of the cursor indicating\n * the playhead position.\n * @property {number} cursorWidth=1 Measured in pixels.\n * @property {object} drawingContextAttributes={desynchronized: false} Drawing context\n * attributes.\n * @property {number} duration=null Optional audio length so pre-rendered peaks\n * can be display immediately for example.\n * @property {boolean} fillParent=true Whether to fill the entire container or\n * draw only according to `minPxPerSec`.\n * @property {boolean} forceDecode=false Force decoding of audio using web audio\n * when zooming to get a more detailed waveform.\n * @property {number} height=128 The height of the waveform. Measured in\n * pixels.\n * @property {boolean} hideScrollbar=false Whether to hide the horizontal\n * scrollbar when one would normally be shown.\n * @property {boolean} hideCursor=false Whether to hide the mouse cursor\n * when one would normally be shown by default.\n * @property {boolean} ignoreSilenceMode=false If true, ignores device silence mode\n * when using the `WebAudio` backend.\n * @property {boolean} interact=true Whether the mouse interaction will be\n * enabled at initialization. You can switch this parameter at any time later\n * on.\n * @property {boolean} loopSelection=true (Use with regions plugin) Enable\n * looping of selected regions\n * @property {number} maxCanvasWidth=4000 Maximum width of a single canvas in\n * pixels, excluding a small overlap (2 * `pixelRatio`, rounded up to the next\n * even integer). If the waveform is longer than this value, additional canvases\n * will be used to render the waveform, which is useful for very large waveforms\n * that may be too wide for browsers to draw on a single canvas.\n * @property {boolean} mediaControls=false (Use with backend `MediaElement` or `MediaElementWebAudio`)\n * this enables the native controls for the media element\n * @property {string} mediaType='audio' (Use with backend `MediaElement` or `MediaElementWebAudio`)\n * `'audio'|'video'` ('video' only for `MediaElement`)\n * @property {number} minPxPerSec=20 Minimum number of pixels per second of\n * audio.\n * @property {boolean} normalize=false If true, normalize by the maximum peak\n * instead of 1.0.\n * @property {boolean} partialRender=false Use the PeakCache to improve\n * rendering speed of large waveforms\n * @property {number} pixelRatio=window.devicePixelRatio The pixel ratio used to\n * calculate display\n * @property {PluginDefinition[]} plugins=[] An array of plugin definitions to\n * register during instantiation, they will be directly initialised unless they\n * are added with the `deferInit` property set to true.\n * @property {string} progressColor='#555' The fill color of the part of the\n * waveform behind the cursor. When `progressColor` and `waveColor` are the same\n * the progress wave is not rendered at all.\n * @property {boolean} removeMediaElementOnDestroy=true Set to false to keep the\n * media element in the DOM when the player is destroyed. This is useful when\n * reusing an existing media element via the `loadMediaElement` method.\n * @property {Object} renderer=MultiCanvas Can be used to inject a custom\n * renderer.\n * @property {boolean|number} responsive=false If set to `true` resize the\n * waveform, when the window is resized. This is debounced with a `100ms`\n * timeout by default. If this parameter is a number it represents that timeout.\n * @property {boolean} rtl=false If set to `true`, renders waveform from\n * right-to-left.\n * @property {boolean} scrollParent=false Whether to scroll the container with a\n * lengthy waveform. Otherwise the waveform is shrunk to the container width\n * (see fillParent).\n * @property {number} skipLength=2 Number of seconds to skip with the\n * skipForward() and skipBackward() methods.\n * @property {boolean} splitChannels=false Render with separate waveforms for\n * the channels of the audio\n * @property {SplitChannelOptions} splitChannelsOptions={} Options for splitChannel rendering\n * @property {boolean} vertical=false Render the waveform vertically instead of horizontally.\n * @property {string} waveColor='#999' The fill color of the waveform after the\n * cursor.\n * @property {object} xhr={} XHR options. For example:\n * `let xhr = {\n *     cache: 'default',\n *     mode: 'cors',\n *     method: 'GET',\n *     credentials: 'same-origin',\n *     redirect: 'follow',\n *     referrer: 'client',\n *     requestHeaders: [\n *         {\n *             key: 'Authorization',\n *             value: 'my-token'\n *         }\n *     ]\n * };`\n */\n/**\n * @typedef {Object} PluginDefinition\n * @desc The Object used to describe a plugin\n * @example wavesurfer.addPlugin(pluginDefinition);\n * @property {string} name The name of the plugin, the plugin instance will be\n * added as a property to the wavesurfer instance under this name\n * @property {?Object} staticProps The properties that should be added to the\n * wavesurfer instance as static properties\n * @property {?boolean} deferInit Don't initialise plugin\n * automatically\n * @property {Object} params={} The plugin parameters, they are the first parameter\n * passed to the plugin class constructor function\n * @property {PluginClass} instance The plugin instance factory, is called with\n * the dependency specified in extends. Returns the plugin class.\n */\n/**\n * @typedef {Object} SplitChannelOptions\n * @desc parameters applied when splitChannels option is true\n * @property {boolean} overlay=false determines whether channels are rendered on top of each other or on separate tracks\n * @property {object} channelColors={} object describing color for each channel. Example:\n * {\n *     0: {\n *         progressColor: 'green',\n *         waveColor: 'pink'\n *     },\n *     1: {\n *         progressColor: 'orange',\n *         waveColor: 'purple'\n *     }\n * }\n * @property {number[]} filterChannels=[] indexes of channels to be hidden from rendering\n * @property {boolean} relativeNormalization=false determines whether\n * normalization is done per channel or maintains proportionality between\n * channels. Only applied when normalize and splitChannels are both true.\n * @property {boolean} splitDragSelection=false determines if drag selection in regions\n * plugin works separately on each channel or only one selection for all channels\n * @since 4.3.0\n */\n/**\n * @interface PluginClass\n *\n * @desc This is the interface which is implemented by all plugin classes. Note\n * that this only turns into an observer after being passed through\n * `wavesurfer.addPlugin`.\n *\n * @extends {Observer}\n */\nvar PluginClass = /*#__PURE__*/function () {\n  /**\n   * Construct the plugin\n   *\n   * @param {Object} params={} The plugin params (specific to the plugin)\n   * @param {Object} ws The wavesurfer instance\n   */\n  function PluginClass(params, ws) {\n    _classCallCheck(this, PluginClass);\n  }\n  /**\n   * Initialise the plugin\n   *\n   * Start doing something. This is called by\n   * `wavesurfer.initPlugin(pluginName)`\n   */\n  _createClass(PluginClass, [{\n    key: \"create\",\n    value:\n    /**\n     * Plugin definition factory\n     *\n     * This function must be used to create a plugin definition which can be\n     * used by wavesurfer to correctly instantiate the plugin.\n     *\n     * It returns a `PluginDefinition` object representing the plugin.\n     *\n     * @param {Object} params={} The plugin params (specific to the plugin)\n     */\n    function create(params) {}\n  }, {\n    key: \"init\",\n    value: function init() {}\n    /**\n     * Destroy the plugin instance\n     *\n     * Stop doing something. This is called by\n     * `wavesurfer.destroyPlugin(pluginName)`\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {}\n  }]);\n  return PluginClass;\n}();\n/**\n * WaveSurfer core library class\n *\n * @extends {Observer}\n * @example\n * const params = {\n *   container: '#waveform',\n *   waveColor: 'violet',\n *   progressColor: 'purple'\n * };\n *\n * // initialise like this\n * const wavesurfer = WaveSurfer.create(params);\n *\n * // or like this ...\n * const wavesurfer = new WaveSurfer(params);\n * wavesurfer.init();\n *\n * // load audio file\n * wavesurfer.load('example/media/demo.wav');\n */\nvar WaveSurfer = /*#__PURE__*/function (_util$Observer) {\n  _inherits(WaveSurfer, _util$Observer);\n  var _super = _createSuper(WaveSurfer);\n  /**\n   * Initialise wavesurfer instance\n   *\n   * @param {WavesurferParams} params Instantiation options for wavesurfer\n   * @example\n   * const wavesurfer = new WaveSurfer(params);\n   * @returns {this} Wavesurfer instance\n   */\n  function WaveSurfer(params) {\n    var _this;\n    _classCallCheck(this, WaveSurfer);\n    _this = _super.call(this);\n    /**\n     * Extract relevant parameters (or defaults)\n     * @private\n     */\n    /** @private */\n    _defineProperty(_assertThisInitialized(_this), \"defaultParams\", {\n      audioContext: null,\n      audioScriptProcessor: null,\n      audioRate: 1,\n      autoCenter: true,\n      autoCenterRate: 5,\n      autoCenterImmediately: false,\n      backend: 'WebAudio',\n      backgroundColor: null,\n      barHeight: 1,\n      barRadius: 0,\n      barGap: null,\n      barMinHeight: null,\n      container: null,\n      cursorColor: '#333',\n      cursorWidth: 1,\n      dragSelection: true,\n      drawingContextAttributes: {\n        // Boolean that hints the user agent to reduce the latency\n        // by desynchronizing the canvas paint cycle from the event\n        // loop\n        desynchronized: false\n      },\n      duration: null,\n      fillParent: true,\n      forceDecode: false,\n      height: 128,\n      hideScrollbar: false,\n      hideCursor: false,\n      ignoreSilenceMode: false,\n      interact: true,\n      loopSelection: true,\n      maxCanvasWidth: 4000,\n      mediaContainer: null,\n      mediaControls: false,\n      mediaType: 'audio',\n      minPxPerSec: 20,\n      normalize: false,\n      partialRender: false,\n      pixelRatio: window.devicePixelRatio || screen.deviceXDPI / screen.logicalXDPI,\n      plugins: [],\n      progressColor: '#555',\n      removeMediaElementOnDestroy: true,\n      renderer: _drawer.default,\n      responsive: false,\n      rtl: false,\n      scrollParent: false,\n      skipLength: 2,\n      splitChannels: false,\n      splitChannelsOptions: {\n        overlay: false,\n        channelColors: {},\n        filterChannels: [],\n        relativeNormalization: false,\n        splitDragSelection: false\n      },\n      vertical: false,\n      waveColor: '#999',\n      xhr: {}\n    });\n    /** @private */\n    _defineProperty(_assertThisInitialized(_this), \"backends\", {\n      MediaElement: _mediaelement.default,\n      WebAudio: _webaudio.default,\n      MediaElementWebAudio: _mediaelementWebaudio.default\n    });\n    /**\n     * Functions in the `util` property are available as a prototype property to\n     * all instances\n     *\n     * @type {Object}\n     * @example\n     * const wavesurfer = WaveSurfer.create(params);\n     * wavesurfer.util.style(myElement, { background: 'blue' });\n     */\n    _defineProperty(_assertThisInitialized(_this), \"util\", util);\n    _this.params = Object.assign({}, _this.defaultParams, params);\n    _this.params.splitChannelsOptions = Object.assign({}, _this.defaultParams.splitChannelsOptions, params.splitChannelsOptions);\n    /** @private */\n    _this.container = 'string' == typeof params.container ? document.querySelector(_this.params.container) : _this.params.container;\n    if (!_this.container) {\n      throw new Error('Container element not found');\n    }\n    if (_this.params.mediaContainer == null) {\n      /** @private */\n      _this.mediaContainer = _this.container;\n    } else if (typeof _this.params.mediaContainer == 'string') {\n      /** @private */\n      _this.mediaContainer = document.querySelector(_this.params.mediaContainer);\n    } else {\n      /** @private */\n      _this.mediaContainer = _this.params.mediaContainer;\n    }\n    if (!_this.mediaContainer) {\n      throw new Error('Media Container element not found');\n    }\n    if (_this.params.maxCanvasWidth <= 1) {\n      throw new Error('maxCanvasWidth must be greater than 1');\n    } else if (_this.params.maxCanvasWidth % 2 == 1) {\n      throw new Error('maxCanvasWidth must be an even number');\n    }\n    if (_this.params.rtl === true) {\n      if (_this.params.vertical === true) {\n        util.style(_this.container, {\n          transform: 'rotateX(180deg)'\n        });\n      } else {\n        util.style(_this.container, {\n          transform: 'rotateY(180deg)'\n        });\n      }\n    }\n    if (_this.params.backgroundColor) {\n      _this.setBackgroundColor(_this.params.backgroundColor);\n    }\n\n    /**\n     * @private Used to save the current volume when muting so we can\n     * restore once unmuted\n     * @type {number}\n     */\n    _this.savedVolume = 0;\n\n    /**\n     * @private The current muted state\n     * @type {boolean}\n     */\n    _this.isMuted = false;\n\n    /**\n     * @private Will hold a list of event descriptors that need to be\n     * canceled on subsequent loads of audio\n     * @type {Object[]}\n     */\n    _this.tmpEvents = [];\n\n    /**\n     * @private Holds any running audio downloads\n     * @type {Observer}\n     */\n    _this.currentRequest = null;\n    /** @private */\n    _this.arraybuffer = null;\n    /** @private */\n    _this.drawer = null;\n    /** @private */\n    _this.backend = null;\n    /** @private */\n    _this.peakCache = null;\n\n    // cache constructor objects\n    if (typeof _this.params.renderer !== 'function') {\n      throw new Error('Renderer parameter is invalid');\n    }\n    /**\n     * @private The uninitialised Drawer class\n     */\n    _this.Drawer = _this.params.renderer;\n    /**\n     * @private The uninitialised Backend class\n     */\n    // Back compat\n    if (_this.params.backend == 'AudioElement') {\n      _this.params.backend = 'MediaElement';\n    }\n    if ((_this.params.backend == 'WebAudio' || _this.params.backend === 'MediaElementWebAudio') && !_webaudio.default.prototype.supportsWebAudio.call(null)) {\n      _this.params.backend = 'MediaElement';\n    }\n    _this.Backend = _this.backends[_this.params.backend];\n\n    /**\n     * @private map of plugin names that are currently initialised\n     */\n    _this.initialisedPluginList = {};\n    /** @private */\n    _this.isDestroyed = false;\n\n    /**\n     * Get the current ready status.\n     *\n     * @example const isReady = wavesurfer.isReady;\n     * @return {boolean}\n     */\n    _this.isReady = false;\n\n    // responsive debounced event listener. If this.params.responsive is not\n    // set, this is never called. Use 100ms or this.params.responsive as\n    // timeout for the debounce function.\n    var prevWidth = 0;\n    _this._onResize = util.debounce(function () {\n      if (_this.drawer.wrapper && prevWidth != _this.drawer.wrapper.clientWidth && !_this.params.scrollParent) {\n        prevWidth = _this.drawer.wrapper.clientWidth;\n        if (prevWidth) {\n          // redraw only if waveform container is rendered and has a width\n          _this.drawer.fireEvent('redraw');\n        }\n      }\n    }, typeof _this.params.responsive === 'number' ? _this.params.responsive : 100);\n    return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n  }\n\n  /**\n   * Initialise the wave\n   *\n   * @example\n   * var wavesurfer = new WaveSurfer(params);\n   * wavesurfer.init();\n   * @return {this} The wavesurfer instance\n   */\n  _createClass(WaveSurfer, [{\n    key: \"init\",\n    value: function init() {\n      this.registerPlugins(this.params.plugins);\n      this.createDrawer();\n      this.createBackend();\n      this.createPeakCache();\n      return this;\n    }\n\n    /**\n     * Add and initialise array of plugins (if `plugin.deferInit` is falsey),\n     * this function is called in the init function of wavesurfer\n     *\n     * @param {PluginDefinition[]} plugins An array of plugin definitions\n     * @emits {WaveSurfer#plugins-registered} Called with the array of plugin definitions\n     * @return {this} The wavesurfer instance\n     */\n  }, {\n    key: \"registerPlugins\",\n    value: function registerPlugins(plugins) {\n      var _this2 = this;\n      // first instantiate all the plugins\n      plugins.forEach(function (plugin) {\n        return _this2.addPlugin(plugin);\n      });\n\n      // now run the init functions\n      plugins.forEach(function (plugin) {\n        // call init function of the plugin if deferInit is falsey\n        // in that case you would manually use initPlugins()\n        if (!plugin.deferInit) {\n          _this2.initPlugin(plugin.name);\n        }\n      });\n      this.fireEvent('plugins-registered', plugins);\n      return this;\n    }\n\n    /**\n     * Get a map of plugin names that are currently initialised\n     *\n     * @example wavesurfer.getPlugins();\n     * @return {Object} Object with plugin names\n     */\n  }, {\n    key: \"getActivePlugins\",\n    value: function getActivePlugins() {\n      return this.initialisedPluginList;\n    }\n\n    /**\n     * Add a plugin object to wavesurfer\n     *\n     * @param {PluginDefinition} plugin A plugin definition\n     * @emits {WaveSurfer#plugin-added} Called with the name of the plugin that was added\n     * @example wavesurfer.addPlugin(WaveSurfer.minimap());\n     * @return {this} The wavesurfer instance\n     */\n  }, {\n    key: \"addPlugin\",\n    value: function addPlugin(plugin) {\n      var _this3 = this;\n      if (!plugin.name) {\n        throw new Error('Plugin does not have a name!');\n      }\n      if (!plugin.instance) {\n        throw new Error(\"Plugin \".concat(plugin.name, \" does not have an instance property!\"));\n      }\n\n      // staticProps properties are applied to wavesurfer instance\n      if (plugin.staticProps) {\n        Object.keys(plugin.staticProps).forEach(function (pluginStaticProp) {\n          /**\n           * Properties defined in a plugin definition's `staticProps` property are added as\n           * staticProps properties of the WaveSurfer instance\n           */\n          _this3[pluginStaticProp] = plugin.staticProps[pluginStaticProp];\n        });\n      }\n      var Instance = plugin.instance;\n\n      // turn the plugin instance into an observer\n      var observerPrototypeKeys = Object.getOwnPropertyNames(util.Observer.prototype);\n      observerPrototypeKeys.forEach(function (key) {\n        Instance.prototype[key] = util.Observer.prototype[key];\n      });\n\n      /**\n       * Instantiated plugin classes are added as a property of the wavesurfer\n       * instance\n       * @type {Object}\n       */\n      this[plugin.name] = new Instance(plugin.params || {}, this);\n      this.fireEvent('plugin-added', plugin.name);\n      return this;\n    }\n\n    /**\n     * Initialise a plugin\n     *\n     * @param {string} name A plugin name\n     * @emits WaveSurfer#plugin-initialised\n     * @example wavesurfer.initPlugin('minimap');\n     * @return {this} The wavesurfer instance\n     */\n  }, {\n    key: \"initPlugin\",\n    value: function initPlugin(name) {\n      if (!this[name]) {\n        throw new Error(\"Plugin \".concat(name, \" has not been added yet!\"));\n      }\n      if (this.initialisedPluginList[name]) {\n        // destroy any already initialised plugins\n        this.destroyPlugin(name);\n      }\n      this[name].init();\n      this.initialisedPluginList[name] = true;\n      this.fireEvent('plugin-initialised', name);\n      return this;\n    }\n\n    /**\n     * Destroy a plugin\n     *\n     * @param {string} name A plugin name\n     * @emits WaveSurfer#plugin-destroyed\n     * @example wavesurfer.destroyPlugin('minimap');\n     * @returns {this} The wavesurfer instance\n     */\n  }, {\n    key: \"destroyPlugin\",\n    value: function destroyPlugin(name) {\n      if (!this[name]) {\n        throw new Error(\"Plugin \".concat(name, \" has not been added yet and cannot be destroyed!\"));\n      }\n      if (!this.initialisedPluginList[name]) {\n        throw new Error(\"Plugin \".concat(name, \" is not active and cannot be destroyed!\"));\n      }\n      if (typeof this[name].destroy !== 'function') {\n        throw new Error(\"Plugin \".concat(name, \" does not have a destroy function!\"));\n      }\n      this[name].destroy();\n      delete this.initialisedPluginList[name];\n      this.fireEvent('plugin-destroyed', name);\n      return this;\n    }\n\n    /**\n     * Destroy all initialised plugins. Convenience function to use when\n     * wavesurfer is removed\n     *\n     * @private\n     */\n  }, {\n    key: \"destroyAllPlugins\",\n    value: function destroyAllPlugins() {\n      var _this4 = this;\n      Object.keys(this.initialisedPluginList).forEach(function (name) {\n        return _this4.destroyPlugin(name);\n      });\n    }\n\n    /**\n     * Create the drawer and draw the waveform\n     *\n     * @private\n     * @emits WaveSurfer#drawer-created\n     */\n  }, {\n    key: \"createDrawer\",\n    value: function createDrawer() {\n      var _this5 = this;\n      this.drawer = new this.Drawer(this.container, this.params);\n      this.drawer.init();\n      this.fireEvent('drawer-created', this.drawer);\n      if (this.params.responsive !== false) {\n        window.addEventListener('resize', this._onResize, true);\n        window.addEventListener('orientationchange', this._onResize, true);\n      }\n      this.drawer.on('redraw', function () {\n        _this5.drawBuffer();\n        _this5.drawer.progress(_this5.backend.getPlayedPercents());\n      });\n\n      // Click-to-seek\n      this.drawer.on('click', function (e, progress) {\n        setTimeout(function () {\n          return _this5.seekTo(progress);\n        }, 0);\n      });\n\n      // Relay the scroll event from the drawer\n      this.drawer.on('scroll', function (e) {\n        if (_this5.params.partialRender) {\n          _this5.drawBuffer();\n        }\n        _this5.fireEvent('scroll', e);\n      });\n\n      // Relay the dblclick event from the drawer\n      this.drawer.on('dblclick', function (e, progress) {\n        _this5.fireEvent('dblclick', e, progress);\n      });\n    }\n\n    /**\n     * Create the backend\n     *\n     * @private\n     * @emits WaveSurfer#backend-created\n     */\n  }, {\n    key: \"createBackend\",\n    value: function createBackend() {\n      var _this6 = this;\n      if (this.backend) {\n        this.backend.destroy();\n      }\n      this.backend = new this.Backend(this.params);\n      this.backend.init();\n      this.fireEvent('backend-created', this.backend);\n      this.backend.on('finish', function () {\n        _this6.drawer.progress(_this6.backend.getPlayedPercents());\n        _this6.fireEvent('finish');\n      });\n      this.backend.on('play', function () {\n        return _this6.fireEvent('play');\n      });\n      this.backend.on('pause', function () {\n        return _this6.fireEvent('pause');\n      });\n      this.backend.on('audioprocess', function (time) {\n        _this6.drawer.progress(_this6.backend.getPlayedPercents());\n        _this6.fireEvent('audioprocess', time);\n      });\n\n      // only needed for MediaElement and MediaElementWebAudio backend\n      if (this.params.backend === 'MediaElement' || this.params.backend === 'MediaElementWebAudio') {\n        this.backend.on('seek', function () {\n          _this6.drawer.progress(_this6.backend.getPlayedPercents());\n        });\n        this.backend.on('volume', function () {\n          var newVolume = _this6.getVolume();\n          _this6.fireEvent('volume', newVolume);\n          if (_this6.backend.isMuted !== _this6.isMuted) {\n            _this6.isMuted = _this6.backend.isMuted;\n            _this6.fireEvent('mute', _this6.isMuted);\n          }\n        });\n      }\n    }\n\n    /**\n     * Create the peak cache\n     *\n     * @private\n     */\n  }, {\n    key: \"createPeakCache\",\n    value: function createPeakCache() {\n      if (this.params.partialRender) {\n        this.peakCache = new _peakcache.default();\n      }\n    }\n\n    /**\n     * Get the duration of the audio clip\n     *\n     * @example const duration = wavesurfer.getDuration();\n     * @return {number} Duration in seconds\n     */\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.backend.getDuration();\n    }\n\n    /**\n     * Get the current playback position\n     *\n     * @example const currentTime = wavesurfer.getCurrentTime();\n     * @return {number} Playback position in seconds\n     */\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.backend.getCurrentTime();\n    }\n\n    /**\n     * Set the current play time in seconds.\n     *\n     * @param {number} seconds A positive number in seconds. E.g. 10 means 10\n     * seconds, 60 means 1 minute\n     */\n  }, {\n    key: \"setCurrentTime\",\n    value: function setCurrentTime(seconds) {\n      if (seconds >= this.getDuration()) {\n        this.seekTo(1);\n      } else {\n        this.seekTo(seconds / this.getDuration());\n      }\n    }\n\n    /**\n     * Starts playback from the current position. Optional start and end\n     * measured in seconds can be used to set the range of audio to play.\n     *\n     * @param {?number} start Position to start at\n     * @param {?number} end Position to end at\n     * @emits WaveSurfer#interaction\n     * @return {Promise} Result of the backend play method\n     * @example\n     * // play from second 1 to 5\n     * wavesurfer.play(1, 5);\n     */\n  }, {\n    key: \"play\",\n    value: function play(start, end) {\n      var _this7 = this;\n      if (this.params.ignoreSilenceMode) {\n        // ignores device hardware silence mode\n        util.ignoreSilenceMode();\n      }\n      this.fireEvent('interaction', function () {\n        return _this7.play(start, end);\n      });\n      return this.backend.play(start, end);\n    }\n\n    /**\n     * Set a point in seconds for playback to stop at.\n     *\n     * @param {number} position Position (in seconds) to stop at\n     * @version 3.3.0\n     */\n  }, {\n    key: \"setPlayEnd\",\n    value: function setPlayEnd(position) {\n      this.backend.setPlayEnd(position);\n    }\n\n    /**\n     * Stops and pauses playback\n     *\n     * @example wavesurfer.pause();\n     * @return {Promise} Result of the backend pause method\n     */\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      if (!this.backend.isPaused()) {\n        return this.backend.pause();\n      }\n    }\n\n    /**\n     * Toggle playback\n     *\n     * @example wavesurfer.playPause();\n     * @return {Promise} Result of the backend play or pause method\n     */\n  }, {\n    key: \"playPause\",\n    value: function playPause() {\n      return this.backend.isPaused() ? this.play() : this.pause();\n    }\n\n    /**\n     * Get the current playback state\n     *\n     * @example const isPlaying = wavesurfer.isPlaying();\n     * @return {boolean} False if paused, true if playing\n     */\n  }, {\n    key: \"isPlaying\",\n    value: function isPlaying() {\n      return !this.backend.isPaused();\n    }\n\n    /**\n     * Skip backward\n     *\n     * @param {?number} seconds Amount to skip back, if not specified `skipLength`\n     * is used\n     * @example wavesurfer.skipBackward();\n     */\n  }, {\n    key: \"skipBackward\",\n    value: function skipBackward(seconds) {\n      this.skip(-seconds || -this.params.skipLength);\n    }\n\n    /**\n     * Skip forward\n     *\n     * @param {?number} seconds Amount to skip back, if not specified `skipLength`\n     * is used\n     * @example wavesurfer.skipForward();\n     */\n  }, {\n    key: \"skipForward\",\n    value: function skipForward(seconds) {\n      this.skip(seconds || this.params.skipLength);\n    }\n\n    /**\n     * Skip a number of seconds from the current position (use a negative value\n     * to go backwards).\n     *\n     * @param {number} offset Amount to skip back or forwards\n     * @example\n     * // go back 2 seconds\n     * wavesurfer.skip(-2);\n     */\n  }, {\n    key: \"skip\",\n    value: function skip(offset) {\n      var duration = this.getDuration() || 1;\n      var position = this.getCurrentTime() || 0;\n      position = Math.max(0, Math.min(duration, position + (offset || 0)));\n      this.seekAndCenter(position / duration);\n    }\n\n    /**\n     * Seeks to a position and centers the view\n     *\n     * @param {number} progress Between 0 (=beginning) and 1 (=end)\n     * @example\n     * // seek and go to the middle of the audio\n     * wavesurfer.seekTo(0.5);\n     */\n  }, {\n    key: \"seekAndCenter\",\n    value: function seekAndCenter(progress) {\n      this.seekTo(progress);\n      this.drawer.recenter(progress);\n    }\n\n    /**\n     * Seeks to a position\n     *\n     * @param {number} progress Between 0 (=beginning) and 1 (=end)\n     * @emits WaveSurfer#interaction\n     * @emits WaveSurfer#seek\n     * @example\n     * // seek to the middle of the audio\n     * wavesurfer.seekTo(0.5);\n     */\n  }, {\n    key: \"seekTo\",\n    value: function seekTo(progress) {\n      var _this8 = this;\n      // return an error if progress is not a number between 0 and 1\n      if (typeof progress !== 'number' || !isFinite(progress) || progress < 0 || progress > 1) {\n        throw new Error('Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!');\n      }\n      this.fireEvent('interaction', function () {\n        return _this8.seekTo(progress);\n      });\n      var isWebAudioBackend = this.params.backend === 'WebAudio';\n      var paused = this.backend.isPaused();\n      if (isWebAudioBackend && !paused) {\n        this.backend.pause();\n      }\n\n      // avoid small scrolls while paused seeking\n      var oldScrollParent = this.params.scrollParent;\n      this.params.scrollParent = false;\n      this.backend.seekTo(progress * this.getDuration());\n      this.drawer.progress(progress);\n      if (isWebAudioBackend && !paused) {\n        this.backend.play();\n      }\n      this.params.scrollParent = oldScrollParent;\n      this.fireEvent('seek', progress);\n    }\n\n    /**\n     * Stops and goes to the beginning.\n     *\n     * @example wavesurfer.stop();\n     */\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.pause();\n      this.seekTo(0);\n      this.drawer.progress(0);\n    }\n\n    /**\n     * Sets the ID of the audio device to use for output and returns a Promise.\n     *\n     * @param {string} deviceId String value representing underlying output\n     * device\n     * @returns {Promise} `Promise` that resolves to `undefined` when there are\n     * no errors detected.\n     */\n  }, {\n    key: \"setSinkId\",\n    value: function setSinkId(deviceId) {\n      return this.backend.setSinkId(deviceId);\n    }\n\n    /**\n     * Set the playback volume.\n     *\n     * @param {number} newVolume A value between 0 and 1, 0 being no\n     * volume and 1 being full volume.\n     * @emits WaveSurfer#volume\n     */\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(newVolume) {\n      if (this.isMuted === true) {\n        this.savedVolume = newVolume;\n        return;\n      }\n      this.backend.setVolume(newVolume);\n      this.fireEvent('volume', newVolume);\n    }\n\n    /**\n     * Get the playback volume.\n     *\n     * @return {number} A value between 0 and 1, 0 being no\n     * volume and 1 being full volume.\n     */\n  }, {\n    key: \"getVolume\",\n    value: function getVolume() {\n      return this.backend.getVolume();\n    }\n\n    /**\n     * Set the playback rate.\n     *\n     * @param {number} rate A positive number. E.g. 0.5 means half the normal\n     * speed, 2 means double speed and so on.\n     * @example wavesurfer.setPlaybackRate(2);\n     */\n  }, {\n    key: \"setPlaybackRate\",\n    value: function setPlaybackRate(rate) {\n      this.backend.setPlaybackRate(rate);\n    }\n\n    /**\n     * Get the playback rate.\n     *\n     * @return {number} The current playback rate.\n     */\n  }, {\n    key: \"getPlaybackRate\",\n    value: function getPlaybackRate() {\n      return this.backend.getPlaybackRate();\n    }\n\n    /**\n     * Toggle the volume on and off. If not currently muted it will save the\n     * current volume value and turn the volume off. If currently muted then it\n     * will restore the volume to the saved value, and then rest the saved\n     * value.\n     *\n     * @example wavesurfer.toggleMute();\n     */\n  }, {\n    key: \"toggleMute\",\n    value: function toggleMute() {\n      this.setMute(!this.isMuted);\n    }\n\n    /**\n     * Enable or disable muted audio\n     *\n     * @param {boolean} mute Specify `true` to mute audio.\n     * @emits WaveSurfer#volume\n     * @emits WaveSurfer#mute\n     * @example\n     * // unmute\n     * wavesurfer.setMute(false);\n     * console.log(wavesurfer.getMute()) // logs false\n     */\n  }, {\n    key: \"setMute\",\n    value: function setMute(mute) {\n      // ignore all muting requests if the audio is already in that state\n      if (mute === this.isMuted) {\n        this.fireEvent('mute', this.isMuted);\n        return;\n      }\n      if (this.backend.setMute) {\n        // Backends such as the MediaElement backend have their own handling\n        // of mute, let them handle it.\n        this.backend.setMute(mute);\n        this.isMuted = mute;\n      } else {\n        if (mute) {\n          // If currently not muted then save current volume,\n          // turn off the volume and update the mute properties\n          this.savedVolume = this.backend.getVolume();\n          this.backend.setVolume(0);\n          this.isMuted = true;\n          this.fireEvent('volume', 0);\n        } else {\n          // If currently muted then restore to the saved volume\n          // and update the mute properties\n          this.backend.setVolume(this.savedVolume);\n          this.isMuted = false;\n          this.fireEvent('volume', this.savedVolume);\n        }\n      }\n      this.fireEvent('mute', this.isMuted);\n    }\n\n    /**\n     * Get the current mute status.\n     *\n     * @example const isMuted = wavesurfer.getMute();\n     * @return {boolean} Current mute status\n     */\n  }, {\n    key: \"getMute\",\n    value: function getMute() {\n      return this.isMuted;\n    }\n\n    /**\n     * Get the list of current set filters as an array.\n     *\n     * Filters must be set with setFilters method first\n     *\n     * @return {array} List of enabled filters\n     */\n  }, {\n    key: \"getFilters\",\n    value: function getFilters() {\n      return this.backend.filters || [];\n    }\n\n    /**\n     * Toggles `scrollParent` and redraws\n     *\n     * @example wavesurfer.toggleScroll();\n     */\n  }, {\n    key: \"toggleScroll\",\n    value: function toggleScroll() {\n      this.params.scrollParent = !this.params.scrollParent;\n      this.drawBuffer();\n    }\n\n    /**\n     * Toggle mouse interaction\n     *\n     * @example wavesurfer.toggleInteraction();\n     */\n  }, {\n    key: \"toggleInteraction\",\n    value: function toggleInteraction() {\n      this.params.interact = !this.params.interact;\n    }\n\n    /**\n     * Get the fill color of the waveform after the cursor.\n     *\n     * @param {?number} channelIdx Optional index of the channel to get its wave color if splitChannels is true\n     * @return {string|object} A CSS color string, or an array of CSS color strings.\n     */\n  }, {\n    key: \"getWaveColor\",\n    value: function getWaveColor() {\n      var channelIdx = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (this.params.splitChannelsOptions.channelColors[channelIdx]) {\n        return this.params.splitChannelsOptions.channelColors[channelIdx].waveColor;\n      }\n      return this.params.waveColor;\n    }\n\n    /**\n     * Set the fill color of the waveform after the cursor.\n     *\n     * @param {string|object} color A CSS color string, or an array of CSS color strings.\n     * @param {?number} channelIdx Optional index of the channel to set its wave color if splitChannels is true\n     * @example wavesurfer.setWaveColor('#ddd');\n     */\n  }, {\n    key: \"setWaveColor\",\n    value: function setWaveColor(color) {\n      var channelIdx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      if (this.params.splitChannelsOptions.channelColors[channelIdx]) {\n        this.params.splitChannelsOptions.channelColors[channelIdx].waveColor = color;\n      } else {\n        this.params.waveColor = color;\n      }\n      this.drawBuffer();\n    }\n\n    /**\n     * Get the fill color of the waveform behind the cursor.\n     *\n     * @param {?number} channelIdx Optional index of the channel to get its progress color if splitChannels is true\n     * @return {string|object} A CSS color string, or an array of CSS color strings.\n     */\n  }, {\n    key: \"getProgressColor\",\n    value: function getProgressColor() {\n      var channelIdx = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (this.params.splitChannelsOptions.channelColors[channelIdx]) {\n        return this.params.splitChannelsOptions.channelColors[channelIdx].progressColor;\n      }\n      return this.params.progressColor;\n    }\n\n    /**\n     * Set the fill color of the waveform behind the cursor.\n     *\n     * @param {string|object} color A CSS color string, or an array of CSS color strings.\n     * @param {?number} channelIdx Optional index of the channel to set its progress color if splitChannels is true\n     * @example wavesurfer.setProgressColor('#400');\n     */\n  }, {\n    key: \"setProgressColor\",\n    value: function setProgressColor(color, channelIdx) {\n      if (this.params.splitChannelsOptions.channelColors[channelIdx]) {\n        this.params.splitChannelsOptions.channelColors[channelIdx].progressColor = color;\n      } else {\n        this.params.progressColor = color;\n      }\n      this.drawBuffer();\n    }\n\n    /**\n     * Get the background color of the waveform container.\n     *\n     * @return {string} A CSS color string.\n     */\n  }, {\n    key: \"getBackgroundColor\",\n    value: function getBackgroundColor() {\n      return this.params.backgroundColor;\n    }\n\n    /**\n     * Set the background color of the waveform container.\n     *\n     * @param {string} color A CSS color string.\n     * @example wavesurfer.setBackgroundColor('#FF00FF');\n     */\n  }, {\n    key: \"setBackgroundColor\",\n    value: function setBackgroundColor(color) {\n      this.params.backgroundColor = color;\n      util.style(this.container, {\n        background: this.params.backgroundColor\n      });\n    }\n\n    /**\n     * Get the fill color of the cursor indicating the playhead\n     * position.\n     *\n     * @return {string} A CSS color string.\n     */\n  }, {\n    key: \"getCursorColor\",\n    value: function getCursorColor() {\n      return this.params.cursorColor;\n    }\n\n    /**\n     * Set the fill color of the cursor indicating the playhead\n     * position.\n     *\n     * @param {string} color A CSS color string.\n     * @example wavesurfer.setCursorColor('#222');\n     */\n  }, {\n    key: \"setCursorColor\",\n    value: function setCursorColor(color) {\n      this.params.cursorColor = color;\n      this.drawer.updateCursor();\n    }\n\n    /**\n     * Get the height of the waveform.\n     *\n     * @return {number} Height measured in pixels.\n     */\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.params.height;\n    }\n\n    /**\n     * Set the height of the waveform.\n     *\n     * @param {number} height Height measured in pixels.\n     * @example wavesurfer.setHeight(200);\n     */\n  }, {\n    key: \"setHeight\",\n    value: function setHeight(height) {\n      this.params.height = height;\n      this.drawer.setHeight(height * this.params.pixelRatio);\n      this.drawBuffer();\n    }\n\n    /**\n     * Hide channels from being drawn on the waveform if splitting channels.\n     *\n     * For example, if we want to draw only the peaks for the right stereo channel:\n     *\n     * const wavesurfer = new WaveSurfer.create({...splitChannels: true});\n     * wavesurfer.load('stereo_audio.mp3');\n     *\n     * wavesurfer.setFilteredChannel([0]); <-- hide left channel peaks.\n     *\n     * @param {array} channelIndices Channels to be filtered out from drawing.\n     * @version 4.0.0\n     */\n  }, {\n    key: \"setFilteredChannels\",\n    value: function setFilteredChannels(channelIndices) {\n      this.params.splitChannelsOptions.filterChannels = channelIndices;\n      this.drawBuffer();\n    }\n\n    /**\n     * Get the correct peaks for current wave view-port and render wave\n     *\n     * @private\n     * @emits WaveSurfer#redraw\n     */\n  }, {\n    key: \"drawBuffer\",\n    value: function drawBuffer() {\n      var nominalWidth = Math.round(this.getDuration() * this.params.minPxPerSec * this.params.pixelRatio);\n      var parentWidth = this.drawer.getWidth();\n      var width = nominalWidth;\n      // always start at 0 after zooming for scrolling : issue redraw left part\n      var start = 0;\n      var end = Math.max(start + parentWidth, width);\n      // Fill container\n      if (this.params.fillParent && (!this.params.scrollParent || nominalWidth < parentWidth)) {\n        width = parentWidth;\n        start = 0;\n        end = width;\n      }\n      var peaks;\n      if (this.params.partialRender) {\n        var newRanges = this.peakCache.addRangeToPeakCache(width, start, end);\n        var i;\n        for (i = 0; i < newRanges.length; i++) {\n          peaks = this.backend.getPeaks(width, newRanges[i][0], newRanges[i][1]);\n          this.drawer.drawPeaks(peaks, width, newRanges[i][0], newRanges[i][1]);\n        }\n      } else {\n        peaks = this.backend.getPeaks(width, start, end);\n        this.drawer.drawPeaks(peaks, width, start, end);\n      }\n      this.fireEvent('redraw', peaks, width);\n    }\n\n    /**\n     * Horizontally zooms the waveform in and out. It also changes the parameter\n     * `minPxPerSec` and enables the `scrollParent` option. Calling the function\n     * with a falsey parameter will reset the zoom state.\n     *\n     * @param {?number} pxPerSec Number of horizontal pixels per second of\n     * audio, if none is set the waveform returns to unzoomed state\n     * @emits WaveSurfer#zoom\n     * @example wavesurfer.zoom(20);\n     */\n  }, {\n    key: \"zoom\",\n    value: function zoom(pxPerSec) {\n      if (!pxPerSec) {\n        this.params.minPxPerSec = this.defaultParams.minPxPerSec;\n        this.params.scrollParent = false;\n      } else {\n        this.params.minPxPerSec = pxPerSec;\n        this.params.scrollParent = true;\n      }\n      this.drawBuffer();\n      this.drawer.progress(this.backend.getPlayedPercents());\n      this.drawer.recenter(this.getCurrentTime() / this.getDuration());\n      this.fireEvent('zoom', pxPerSec);\n    }\n\n    /**\n     * Decode buffer and load\n     *\n     * @private\n     * @param {ArrayBuffer} arraybuffer Buffer to process\n     */\n  }, {\n    key: \"loadArrayBuffer\",\n    value: function loadArrayBuffer(arraybuffer) {\n      var _this9 = this;\n      this.decodeArrayBuffer(arraybuffer, function (data) {\n        if (!_this9.isDestroyed) {\n          _this9.loadDecodedBuffer(data);\n        }\n      });\n    }\n\n    /**\n     * Directly load an externally decoded AudioBuffer\n     *\n     * @private\n     * @param {AudioBuffer} buffer Buffer to process\n     * @emits WaveSurfer#ready\n     */\n  }, {\n    key: \"loadDecodedBuffer\",\n    value: function loadDecodedBuffer(buffer) {\n      this.backend.load(buffer);\n      this.drawBuffer();\n      this.isReady = true;\n      this.fireEvent('ready');\n    }\n\n    /**\n     * Loads audio data from a Blob or File object\n     *\n     * @param {Blob|File} blob Audio data\n     * @example\n     */\n  }, {\n    key: \"loadBlob\",\n    value: function loadBlob(blob) {\n      var _this10 = this;\n      // Create file reader\n      var reader = new FileReader();\n      reader.addEventListener('progress', function (e) {\n        return _this10.onProgress(e);\n      });\n      reader.addEventListener('load', function (e) {\n        return _this10.loadArrayBuffer(e.target.result);\n      });\n      reader.addEventListener('error', function () {\n        return _this10.fireEvent('error', 'Error reading file');\n      });\n      reader.readAsArrayBuffer(blob);\n      this.empty();\n    }\n\n    /**\n     * Loads audio and re-renders the waveform.\n     *\n     * @param {string|HTMLMediaElement} url The url of the audio file or the\n     * audio element with the audio\n     * @param {number[]|Number.<Array[]>} peaks Wavesurfer does not have to decode\n     * the audio to render the waveform if this is specified\n     * @param {?string} preload (Use with backend `MediaElement` and `MediaElementWebAudio`)\n     * `'none'|'metadata'|'auto'` Preload attribute for the media element\n     * @param {?number} duration The duration of the audio. This is used to\n     * render the peaks data in the correct size for the audio duration (as\n     * befits the current `minPxPerSec` and zoom value) without having to decode\n     * the audio.\n     * @returns {void}\n     * @throws Will throw an error if the `url` argument is empty.\n     * @example\n     * // uses fetch or media element to load file (depending on backend)\n     * wavesurfer.load('http://example.com/demo.wav');\n     *\n     * // setting preload attribute with media element backend and supplying\n     * // peaks\n     * wavesurfer.load(\n     *   'http://example.com/demo.wav',\n     *   [0.0218, 0.0183, 0.0165, 0.0198, 0.2137, 0.2888],\n     *   true\n     * );\n     */\n  }, {\n    key: \"load\",\n    value: function load(url, peaks, preload, duration) {\n      if (!url) {\n        throw new Error('url parameter cannot be empty');\n      }\n      this.empty();\n      if (preload) {\n        // check whether the preload attribute will be usable and if not log\n        // a warning listing the reasons why not and nullify the variable\n        var preloadIgnoreReasons = {\n          \"Preload is not 'auto', 'none' or 'metadata'\": ['auto', 'metadata', 'none'].indexOf(preload) === -1,\n          'Peaks are not provided': !peaks,\n          \"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'\": ['MediaElement', 'MediaElementWebAudio'].indexOf(this.params.backend) === -1,\n          'Url is not of type string': typeof url !== 'string'\n        };\n        var activeReasons = Object.keys(preloadIgnoreReasons).filter(function (reason) {\n          return preloadIgnoreReasons[reason];\n        });\n        if (activeReasons.length) {\n          // eslint-disable-next-line no-console\n          console.warn('Preload parameter of wavesurfer.load will be ignored because:\\n\\t- ' + activeReasons.join('\\n\\t- '));\n          // stop invalid values from being used\n          preload = null;\n        }\n      }\n\n      // loadBuffer(url, peaks, duration) requires that url is a string\n      // but users can pass in a HTMLMediaElement to WaveSurfer\n      if (this.params.backend === 'WebAudio' && url instanceof HTMLMediaElement) {\n        url = url.src;\n      }\n      switch (this.params.backend) {\n        case 'WebAudio':\n          return this.loadBuffer(url, peaks, duration);\n        case 'MediaElement':\n        case 'MediaElementWebAudio':\n          return this.loadMediaElement(url, peaks, preload, duration);\n      }\n    }\n\n    /**\n     * Loads audio using Web Audio buffer backend.\n     *\n     * @private\n     * @emits WaveSurfer#waveform-ready\n     * @param {string} url URL of audio file\n     * @param {number[]|Number.<Array[]>} peaks Peaks data\n     * @param {?number} duration Optional duration of audio file\n     * @returns {void}\n     */\n  }, {\n    key: \"loadBuffer\",\n    value: function loadBuffer(url, peaks, duration) {\n      var _this11 = this;\n      var load = function load(action) {\n        if (action) {\n          _this11.tmpEvents.push(_this11.once('ready', action));\n        }\n        return _this11.getArrayBuffer(url, function (data) {\n          return _this11.loadArrayBuffer(data);\n        });\n      };\n      if (peaks) {\n        this.backend.setPeaks(peaks, duration);\n        this.drawBuffer();\n        this.fireEvent('waveform-ready');\n        this.tmpEvents.push(this.once('interaction', load));\n      } else {\n        return load();\n      }\n    }\n\n    /**\n     * Either create a media element, or load an existing media element.\n     *\n     * @private\n     * @emits WaveSurfer#waveform-ready\n     * @param {string|HTMLMediaElement} urlOrElt Either a path to a media file, or an\n     * existing HTML5 Audio/Video Element\n     * @param {number[]|Number.<Array[]>} peaks Array of peaks. Required to bypass web audio\n     * dependency\n     * @param {?boolean} preload Set to true if the preload attribute of the\n     * audio element should be enabled\n     * @param {?number} duration Optional duration of audio file\n     */\n  }, {\n    key: \"loadMediaElement\",\n    value: function loadMediaElement(urlOrElt, peaks, preload, duration) {\n      var _this12 = this;\n      var url = urlOrElt;\n      if (typeof urlOrElt === 'string') {\n        this.backend.load(url, this.mediaContainer, peaks, preload);\n      } else {\n        var elt = urlOrElt;\n        this.backend.loadElt(elt, peaks);\n\n        // If peaks are not provided,\n        // url = element.src so we can get peaks with web audio\n        url = elt.src;\n      }\n      this.tmpEvents.push(this.backend.once('canplay', function () {\n        // ignore when backend was already destroyed\n        if (!_this12.backend.destroyed) {\n          _this12.drawBuffer();\n          _this12.isReady = true;\n          _this12.fireEvent('ready');\n        }\n      }), this.backend.once('error', function (err) {\n        return _this12.fireEvent('error', err);\n      }));\n\n      // If peaks are provided, render them and fire the `waveform-ready` event.\n      if (peaks) {\n        this.backend.setPeaks(peaks, duration);\n        this.drawBuffer();\n        this.fireEvent('waveform-ready');\n      }\n\n      // If no pre-decoded peaks are provided, or are provided with\n      // forceDecode flag, attempt to download the audio file and decode it\n      // with Web Audio.\n      if ((!peaks || this.params.forceDecode) && this.backend.supportsWebAudio()) {\n        this.getArrayBuffer(url, function (arraybuffer) {\n          _this12.decodeArrayBuffer(arraybuffer, function (buffer) {\n            _this12.backend.buffer = buffer;\n            _this12.backend.setPeaks(null);\n            _this12.drawBuffer();\n            _this12.fireEvent('waveform-ready');\n          });\n        });\n      }\n    }\n\n    /**\n     * Decode an array buffer and pass data to a callback\n     *\n     * @private\n     * @param {Object} arraybuffer The array buffer to decode\n     * @param {function} callback The function to call on complete\n     */\n  }, {\n    key: \"decodeArrayBuffer\",\n    value: function decodeArrayBuffer(arraybuffer, callback) {\n      var _this13 = this;\n      if (!this.isDestroyed) {\n        this.arraybuffer = arraybuffer;\n        this.backend.decodeArrayBuffer(arraybuffer, function (data) {\n          // Only use the decoded data if we haven't been destroyed or\n          // another decode started in the meantime\n          if (!_this13.isDestroyed && _this13.arraybuffer == arraybuffer) {\n            callback(data);\n            _this13.arraybuffer = null;\n          }\n        }, function () {\n          return _this13.fireEvent('error', 'Error decoding audiobuffer');\n        });\n      }\n    }\n\n    /**\n     * Load an array buffer using fetch and pass the result to a callback\n     *\n     * @param {string} url The URL of the file object\n     * @param {function} callback The function to call on complete\n     * @returns {util.fetchFile} fetch call\n     * @private\n     */\n  }, {\n    key: \"getArrayBuffer\",\n    value: function getArrayBuffer(url, callback) {\n      var _this14 = this;\n      var options = Object.assign({\n        url: url,\n        responseType: 'arraybuffer'\n      }, this.params.xhr);\n      var request = util.fetchFile(options);\n      this.currentRequest = request;\n      this.tmpEvents.push(request.on('progress', function (e) {\n        _this14.onProgress(e);\n      }), request.on('success', function (data) {\n        callback(data);\n        _this14.currentRequest = null;\n      }), request.on('error', function (e) {\n        _this14.fireEvent('error', e);\n        _this14.currentRequest = null;\n      }));\n      return request;\n    }\n\n    /**\n     * Called while the audio file is loading\n     *\n     * @private\n     * @param {Event} e Progress event\n     * @emits WaveSurfer#loading\n     */\n  }, {\n    key: \"onProgress\",\n    value: function onProgress(e) {\n      var percentComplete;\n      if (e.lengthComputable) {\n        percentComplete = e.loaded / e.total;\n      } else {\n        // Approximate progress with an asymptotic\n        // function, and assume downloads in the 1-3 MB range.\n        percentComplete = e.loaded / (e.loaded + 1000000);\n      }\n      this.fireEvent('loading', Math.round(percentComplete * 100), e.target);\n    }\n\n    /**\n     * Exports PCM data into a JSON array and optionally opens in a new window\n     * as valid JSON Blob instance.\n     *\n     * @param {number} length=1024 The scale in which to export the peaks\n     * @param {number} accuracy=10000\n     * @param {?boolean} noWindow Set to true to disable opening a new\n     * window with the JSON\n     * @param {number} start Start index\n     * @param {number} end End index\n     * @return {Promise} Promise that resolves with array of peaks\n     */\n  }, {\n    key: \"exportPCM\",\n    value: function exportPCM(length, accuracy, noWindow, start, end) {\n      length = length || 1024;\n      start = start || 0;\n      accuracy = accuracy || 10000;\n      noWindow = noWindow || false;\n      var peaks = this.backend.getPeaks(length, start, end);\n      var arr = [].map.call(peaks, function (val) {\n        return Math.round(val * accuracy) / accuracy;\n      });\n      return new Promise(function (resolve, reject) {\n        if (!noWindow) {\n          var blobJSON = new Blob([JSON.stringify(arr)], {\n            type: 'application/json;charset=utf-8'\n          });\n          var objURL = URL.createObjectURL(blobJSON);\n          window.open(objURL);\n          URL.revokeObjectURL(objURL);\n        }\n        resolve(arr);\n      });\n    }\n\n    /**\n     * Save waveform image as data URI.\n     *\n     * The default format is `image/png`. Other supported types are\n     * `image/jpeg` and `image/webp`.\n     *\n     * @param {string} format='image/png' A string indicating the image format.\n     * The default format type is `image/png`.\n     * @param {number} quality=1 A number between 0 and 1 indicating the image\n     * quality to use for image formats that use lossy compression such as\n     * `image/jpeg` and `image/webp`.\n     * @param {string} type Image data type to return. Either `dataURL` (default)\n     * or `blob`.\n     * @return {string|string[]|Promise} When using `dataURL` type this returns\n     * a single data URL or an array of data URLs, one for each canvas. When using\n     * `blob` type this returns a `Promise` resolving with an array of `Blob`\n     * instances, one for each canvas.\n     */\n  }, {\n    key: \"exportImage\",\n    value: function exportImage(format, quality, type) {\n      if (!format) {\n        format = 'image/png';\n      }\n      if (!quality) {\n        quality = 1;\n      }\n      if (!type) {\n        type = 'dataURL';\n      }\n      return this.drawer.getImage(format, quality, type);\n    }\n\n    /**\n     * Cancel any fetch request currently in progress\n     */\n  }, {\n    key: \"cancelAjax\",\n    value: function cancelAjax() {\n      if (this.currentRequest && this.currentRequest.controller) {\n        // If the current request has a ProgressHandler, then its ReadableStream might need to be cancelled too\n        // See: Wavesurfer issue #2042\n        // See Firefox bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1583815\n        if (this.currentRequest._reader) {\n          // Ignoring exceptions thrown by call to cancel()\n          this.currentRequest._reader.cancel().catch(function (err) {});\n        }\n        this.currentRequest.controller.abort();\n        this.currentRequest = null;\n      }\n    }\n\n    /**\n     * @private\n     */\n  }, {\n    key: \"clearTmpEvents\",\n    value: function clearTmpEvents() {\n      this.tmpEvents.forEach(function (e) {\n        return e.un();\n      });\n    }\n\n    /**\n     * Display empty waveform.\n     */\n  }, {\n    key: \"empty\",\n    value: function empty() {\n      if (!this.backend.isPaused()) {\n        this.stop();\n        this.backend.disconnectSource();\n      }\n      this.isReady = false;\n      this.cancelAjax();\n      this.clearTmpEvents();\n\n      // empty drawer\n      this.drawer.progress(0);\n      this.drawer.setWidth(0);\n      this.drawer.drawPeaks({\n        length: this.drawer.getWidth()\n      }, 0);\n    }\n\n    /**\n     * Remove events, elements and disconnect WebAudio nodes.\n     *\n     * @emits WaveSurfer#destroy\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.destroyAllPlugins();\n      this.fireEvent('destroy');\n      this.cancelAjax();\n      this.clearTmpEvents();\n      this.unAll();\n      if (this.params.responsive !== false) {\n        window.removeEventListener('resize', this._onResize, true);\n        window.removeEventListener('orientationchange', this._onResize, true);\n      }\n      if (this.backend) {\n        this.backend.destroy();\n        // clears memory usage\n        this.backend = null;\n      }\n      if (this.drawer) {\n        this.drawer.destroy();\n      }\n      this.isDestroyed = true;\n      this.isReady = false;\n      this.arraybuffer = null;\n    }\n  }], [{\n    key: \"create\",\n    value:\n    /**\n     * Instantiate this class, call its `init` function and returns it\n     *\n     * @param {WavesurferParams} params The wavesurfer parameters\n     * @return {Object} WaveSurfer instance\n     * @example const wavesurfer = WaveSurfer.create(params);\n     */\n    function create(params) {\n      var wavesurfer = new WaveSurfer(params);\n      return wavesurfer.init();\n    }\n\n    /**\n     * The library version number is available as a static property of the\n     * WaveSurfer class\n     *\n     * @type {String}\n     * @example\n     * console.log('Using wavesurfer.js ' + WaveSurfer.VERSION);\n     */\n  }]);\n  return WaveSurfer;\n}(util.Observer);\nexports[\"default\"] = WaveSurfer;\n_defineProperty(WaveSurfer, \"VERSION\", \"6.6.4\");\n/**\n * Functions in the `util` property are available as a static property of the\n * WaveSurfer class\n *\n * @type {Object}\n * @example\n * WaveSurfer.util.style(myElement, { background: 'blue' });\n */\n_defineProperty(WaveSurfer, \"util\", util);\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/webaudio.js\":\n/*!*************************!*\\\n  !*** ./src/webaudio.js ***!\n  \\*************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar util = _interopRequireWildcard(__webpack_require__(/*! ./util */ \"./src/util/index.js\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n// using constants to prevent someone writing the string wrong\nvar PLAYING = 'playing';\nvar PAUSED = 'paused';\nvar FINISHED = 'finished';\n\n/**\n * WebAudio backend\n *\n * @extends {util.Observer}\n */\nvar WebAudio = /*#__PURE__*/function (_util$Observer) {\n  _inherits(WebAudio, _util$Observer);\n  var _super = _createSuper(WebAudio);\n  /**\n   * Construct the backend\n   *\n   * @param {WavesurferParams} params Wavesurfer parameters\n   */\n  function WebAudio(params) {\n    var _defineProperty2, _this$states;\n    var _this;\n    _classCallCheck(this, WebAudio);\n    _this = _super.call(this);\n    /** @private */\n    /** audioContext: allows to process audio with WebAudio API */\n    _defineProperty(_assertThisInitialized(_this), \"audioContext\", null);\n    /** @private */\n    _defineProperty(_assertThisInitialized(_this), \"stateBehaviors\", (_defineProperty2 = {}, _defineProperty(_defineProperty2, PLAYING, {\n      init: function init() {\n        this.addOnAudioProcess();\n      },\n      getPlayedPercents: function getPlayedPercents() {\n        var duration = this.getDuration();\n        return this.getCurrentTime() / duration || 0;\n      },\n      getCurrentTime: function getCurrentTime() {\n        return this.startPosition + this.getPlayedTime();\n      }\n    }), _defineProperty(_defineProperty2, PAUSED, {\n      init: function init() {},\n      getPlayedPercents: function getPlayedPercents() {\n        var duration = this.getDuration();\n        return this.getCurrentTime() / duration || 0;\n      },\n      getCurrentTime: function getCurrentTime() {\n        return this.startPosition;\n      }\n    }), _defineProperty(_defineProperty2, FINISHED, {\n      init: function init() {\n        this.fireEvent('finish');\n      },\n      getPlayedPercents: function getPlayedPercents() {\n        return 1;\n      },\n      getCurrentTime: function getCurrentTime() {\n        return this.getDuration();\n      }\n    }), _defineProperty2));\n    _this.params = params;\n    /** ac: Audio Context instance */\n    _this.ac = params.audioContext || (_this.supportsWebAudio() ? _this.getAudioContext() : {});\n    /**@private */\n    _this.lastPlay = _this.ac.currentTime;\n    /** @private */\n    _this.startPosition = 0;\n    /** @private */\n    _this.scheduledPause = null;\n    /** @private */\n    _this.states = (_this$states = {}, _defineProperty(_this$states, PLAYING, Object.create(_this.stateBehaviors[PLAYING])), _defineProperty(_this$states, PAUSED, Object.create(_this.stateBehaviors[PAUSED])), _defineProperty(_this$states, FINISHED, Object.create(_this.stateBehaviors[FINISHED])), _this$states);\n    /** @private */\n    _this.buffer = null;\n    /** @private */\n    _this.filters = [];\n    /** gainNode: allows to control audio volume */\n    _this.gainNode = null;\n    /** @private */\n    _this.mergedPeaks = null;\n    /** @private */\n    _this.offlineAc = null;\n    /** @private */\n    _this.peaks = null;\n    /** @private */\n    _this.playbackRate = 1;\n    /** analyser: provides audio analysis information */\n    _this.analyser = null;\n    /** scriptNode: allows processing audio */\n    _this.scriptNode = null;\n    /** @private */\n    _this.source = null;\n    /** @private */\n    _this.splitPeaks = [];\n    /** @private */\n    _this.state = null;\n    /** @private */\n    _this.explicitDuration = params.duration;\n    /** @private */\n    _this.sinkStreamDestination = null;\n    /** @private */\n    _this.sinkAudioElement = null;\n    /**\n     * Boolean indicating if the backend was destroyed.\n     */\n    _this.destroyed = false;\n    return _this;\n  }\n\n  /**\n   * Initialise the backend, called in `wavesurfer.createBackend()`\n   */\n  _createClass(WebAudio, [{\n    key: \"supportsWebAudio\",\n    value:\n    /**\n     * Does the browser support this backend\n     *\n     * @return {boolean} Whether or not this browser supports this backend\n     */\n    function supportsWebAudio() {\n      return !!(window.AudioContext || window.webkitAudioContext);\n    }\n\n    /**\n     * Get the audio context used by this backend or create one\n     *\n     * @return {AudioContext} Existing audio context, or creates a new one\n     */\n  }, {\n    key: \"getAudioContext\",\n    value: function getAudioContext() {\n      if (!window.WaveSurferAudioContext) {\n        window.WaveSurferAudioContext = new (window.AudioContext || window.webkitAudioContext)();\n      }\n      return window.WaveSurferAudioContext;\n    }\n\n    /**\n     * Get the offline audio context used by this backend or create one\n     *\n     * @param {number} sampleRate The sample rate to use\n     * @return {OfflineAudioContext} Existing offline audio context, or creates\n     * a new one\n     */\n  }, {\n    key: \"getOfflineAudioContext\",\n    value: function getOfflineAudioContext(sampleRate) {\n      if (!window.WaveSurferOfflineAudioContext) {\n        window.WaveSurferOfflineAudioContext = new (window.OfflineAudioContext || window.webkitOfflineAudioContext)(1, 2, sampleRate);\n      }\n      return window.WaveSurferOfflineAudioContext;\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.createVolumeNode();\n      this.createScriptNode();\n      this.createAnalyserNode();\n      this.setState(PAUSED);\n      this.setPlaybackRate(this.params.audioRate);\n      this.setLength(0);\n    }\n\n    /** @private */\n  }, {\n    key: \"disconnectFilters\",\n    value: function disconnectFilters() {\n      if (this.filters) {\n        this.filters.forEach(function (filter) {\n          filter && filter.disconnect();\n        });\n        this.filters = null;\n        // Reconnect direct path\n        this.analyser.connect(this.gainNode);\n      }\n    }\n\n    /**\n     * @private\n     *\n     * @param {string} state The new state\n     */\n  }, {\n    key: \"setState\",\n    value: function setState(state) {\n      if (this.state !== this.states[state]) {\n        this.state = this.states[state];\n        this.state.init.call(this);\n      }\n    }\n\n    /**\n     * Unpacked `setFilters()`\n     *\n     * @param {...AudioNode} filters One or more filters to set\n     */\n  }, {\n    key: \"setFilter\",\n    value: function setFilter() {\n      for (var _len = arguments.length, filters = new Array(_len), _key = 0; _key < _len; _key++) {\n        filters[_key] = arguments[_key];\n      }\n      this.setFilters(filters);\n    }\n\n    /**\n     * Insert custom Web Audio nodes into the graph\n     *\n     * @param {AudioNode[]} filters Packed filters array\n     * @example\n     * const lowpass = wavesurfer.backend.ac.createBiquadFilter();\n     * wavesurfer.backend.setFilter(lowpass);\n     */\n  }, {\n    key: \"setFilters\",\n    value: function setFilters(filters) {\n      // Remove existing filters\n      this.disconnectFilters();\n\n      // Insert filters if filter array not empty\n      if (filters && filters.length) {\n        this.filters = filters;\n\n        // Disconnect direct path before inserting filters\n        this.analyser.disconnect();\n\n        // Connect each filter in turn\n        filters.reduce(function (prev, curr) {\n          prev.connect(curr);\n          return curr;\n        }, this.analyser).connect(this.gainNode);\n      }\n    }\n    /** Create ScriptProcessorNode to process audio */\n  }, {\n    key: \"createScriptNode\",\n    value: function createScriptNode() {\n      if (this.params.audioScriptProcessor) {\n        this.scriptNode = this.params.audioScriptProcessor;\n        this.scriptNode.connect(this.ac.destination);\n      }\n    }\n\n    /** @private */\n  }, {\n    key: \"addOnAudioProcess\",\n    value: function addOnAudioProcess() {\n      var _this2 = this;\n      var loop = function loop() {\n        var time = _this2.getCurrentTime();\n        if (time >= _this2.getDuration() && _this2.state !== _this2.states[FINISHED]) {\n          _this2.setState(FINISHED);\n          _this2.fireEvent('pause');\n        } else if (time >= _this2.scheduledPause && _this2.state !== _this2.states[PAUSED]) {\n          _this2.pause();\n        } else if (_this2.state === _this2.states[PLAYING]) {\n          _this2.fireEvent('audioprocess', time);\n          util.frame(loop)();\n        }\n      };\n      loop();\n    }\n\n    /** Create analyser node to perform audio analysis */\n  }, {\n    key: \"createAnalyserNode\",\n    value: function createAnalyserNode() {\n      this.analyser = this.ac.createAnalyser();\n      this.analyser.connect(this.gainNode);\n    }\n\n    /**\n     * Create the gain node needed to control the playback volume.\n     *\n     */\n  }, {\n    key: \"createVolumeNode\",\n    value: function createVolumeNode() {\n      // Create gain node using the AudioContext\n      if (this.ac.createGain) {\n        this.gainNode = this.ac.createGain();\n      } else {\n        this.gainNode = this.ac.createGainNode();\n      }\n      // Add the gain node to the graph\n      this.gainNode.connect(this.ac.destination);\n    }\n\n    /**\n     * Set the sink id for the media player\n     *\n     * @param {string} deviceId String value representing audio device id.\n     * @returns {Promise} A Promise that resolves to `undefined` when there\n     * are no errors.\n     */\n  }, {\n    key: \"setSinkId\",\n    value: function setSinkId(deviceId) {\n      if (deviceId) {\n        /**\n         * The webaudio API doesn't currently support setting the device\n         * output. Here we create an HTMLAudioElement, connect the\n         * webaudio stream to that element and setSinkId there.\n         */\n        if (!this.sinkAudioElement) {\n          this.sinkAudioElement = new window.Audio();\n          // autoplay is necessary since we're not invoking .play()\n          this.sinkAudioElement.autoplay = true;\n        }\n        if (!this.sinkAudioElement.setSinkId) {\n          return Promise.reject(new Error('setSinkId is not supported in your browser'));\n        }\n        if (!this.sinkStreamDestination) {\n          this.sinkStreamDestination = this.ac.createMediaStreamDestination();\n        }\n        this.gainNode.disconnect();\n        this.gainNode.connect(this.sinkStreamDestination);\n        this.sinkAudioElement.srcObject = this.sinkStreamDestination.stream;\n        return this.sinkAudioElement.setSinkId(deviceId);\n      } else {\n        return Promise.reject(new Error('Invalid deviceId: ' + deviceId));\n      }\n    }\n\n    /**\n     * Set the audio volume\n     *\n     * @param {number} value A floating point value between 0 and 1.\n     */\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(value) {\n      this.gainNode.gain.setValueAtTime(value, this.ac.currentTime);\n    }\n\n    /**\n     * Get the current volume\n     *\n     * @return {number} value A floating point value between 0 and 1.\n     */\n  }, {\n    key: \"getVolume\",\n    value: function getVolume() {\n      return this.gainNode.gain.value;\n    }\n\n    /**\n     * Decode an array buffer and pass data to a callback\n     *\n     * @private\n     * @param {ArrayBuffer} arraybuffer The array buffer to decode\n     * @param {function} callback The function to call on complete.\n     * @param {function} errback The function to call on error.\n     */\n  }, {\n    key: \"decodeArrayBuffer\",\n    value: function decodeArrayBuffer(arraybuffer, callback, errback) {\n      if (!this.offlineAc) {\n        this.offlineAc = this.getOfflineAudioContext(this.ac && this.ac.sampleRate ? this.ac.sampleRate : 44100);\n      }\n      if ('webkitAudioContext' in window) {\n        // Safari: no support for Promise-based decodeAudioData enabled\n        // Enable it in Safari using the Experimental Features > Modern WebAudio API option\n        this.offlineAc.decodeAudioData(arraybuffer, function (data) {\n          return callback(data);\n        }, errback);\n      } else {\n        this.offlineAc.decodeAudioData(arraybuffer).then(function (data) {\n          return callback(data);\n        }).catch(function (err) {\n          return errback(err);\n        });\n      }\n    }\n\n    /**\n     * Set pre-decoded peaks\n     *\n     * @param {number[]|Number.<Array[]>} peaks Peaks data\n     * @param {?number} duration Explicit duration\n     */\n  }, {\n    key: \"setPeaks\",\n    value: function setPeaks(peaks, duration) {\n      if (duration != null) {\n        this.explicitDuration = duration;\n      }\n      this.peaks = peaks;\n    }\n\n    /**\n     * Set the rendered length (different from the length of the audio)\n     *\n     * @param {number} length The rendered length\n     */\n  }, {\n    key: \"setLength\",\n    value: function setLength(length) {\n      // No resize, we can preserve the cached peaks.\n      if (this.mergedPeaks && length == 2 * this.mergedPeaks.length - 1 + 2) {\n        return;\n      }\n      this.splitPeaks = [];\n      this.mergedPeaks = [];\n      // Set the last element of the sparse array so the peak arrays are\n      // appropriately sized for other calculations.\n      var channels = this.buffer ? this.buffer.numberOfChannels : 1;\n      var c;\n      for (c = 0; c < channels; c++) {\n        this.splitPeaks[c] = [];\n        this.splitPeaks[c][2 * (length - 1)] = 0;\n        this.splitPeaks[c][2 * (length - 1) + 1] = 0;\n      }\n      this.mergedPeaks[2 * (length - 1)] = 0;\n      this.mergedPeaks[2 * (length - 1) + 1] = 0;\n    }\n\n    /**\n     * Compute the max and min value of the waveform when broken into <length> subranges.\n     *\n     * @param {number} length How many subranges to break the waveform into.\n     * @param {number} first First sample in the required range.\n     * @param {number} last Last sample in the required range.\n     * @return {number[]|Number.<Array[]>} Array of 2*<length> peaks or array of arrays of\n     * peaks consisting of (max, min) values for each subrange.\n     */\n  }, {\n    key: \"getPeaks\",\n    value: function getPeaks(length, first, last) {\n      if (this.peaks) {\n        return this.peaks;\n      }\n      if (!this.buffer) {\n        return [];\n      }\n      first = first || 0;\n      last = last || length - 1;\n      this.setLength(length);\n      if (!this.buffer) {\n        return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n      }\n\n      /**\n       * The following snippet fixes a buffering data issue on the Safari\n       * browser which returned undefined It creates the missing buffer based\n       * on 1 channel, 4096 samples and the sampleRate from the current\n       * webaudio context 4096 samples seemed to be the best fit for rendering\n       * will review this code once a stable version of Safari TP is out\n       */\n      if (!this.buffer.length) {\n        var newBuffer = this.createBuffer(1, 4096, this.sampleRate);\n        this.buffer = newBuffer.buffer;\n      }\n      var sampleSize = this.buffer.length / length;\n      var sampleStep = ~~(sampleSize / 10) || 1;\n      var channels = this.buffer.numberOfChannels;\n      var c;\n      for (c = 0; c < channels; c++) {\n        var peaks = this.splitPeaks[c];\n        var chan = this.buffer.getChannelData(c);\n        var i = void 0;\n        for (i = first; i <= last; i++) {\n          var start = ~~(i * sampleSize);\n          var end = ~~(start + sampleSize);\n          /**\n           * Initialize the max and min to the first sample of this\n           * subrange, so that even if the samples are entirely\n           * on one side of zero, we still return the true max and\n           * min values in the subrange.\n           */\n          var min = chan[start];\n          var max = min;\n          var j = void 0;\n          for (j = start; j < end; j += sampleStep) {\n            var value = chan[j];\n            if (value > max) {\n              max = value;\n            }\n            if (value < min) {\n              min = value;\n            }\n          }\n          peaks[2 * i] = max;\n          peaks[2 * i + 1] = min;\n          if (c == 0 || max > this.mergedPeaks[2 * i]) {\n            this.mergedPeaks[2 * i] = max;\n          }\n          if (c == 0 || min < this.mergedPeaks[2 * i + 1]) {\n            this.mergedPeaks[2 * i + 1] = min;\n          }\n        }\n      }\n      return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n    }\n\n    /**\n     * Get the position from 0 to 1\n     *\n     * @return {number} Position\n     */\n  }, {\n    key: \"getPlayedPercents\",\n    value: function getPlayedPercents() {\n      return this.state.getPlayedPercents.call(this);\n    }\n\n    /** @private */\n  }, {\n    key: \"disconnectSource\",\n    value: function disconnectSource() {\n      if (this.source) {\n        this.source.disconnect();\n      }\n    }\n    /**\n     * Destroy all references with WebAudio, disconnecting audio nodes and closing Audio Context\n     */\n  }, {\n    key: \"destroyWebAudio\",\n    value: function destroyWebAudio() {\n      this.disconnectFilters();\n      this.disconnectSource();\n      this.gainNode.disconnect();\n      this.scriptNode && this.scriptNode.disconnect();\n      this.analyser.disconnect();\n\n      // close the audioContext if closeAudioContext option is set to true\n      if (this.params.closeAudioContext) {\n        // check if browser supports AudioContext.close()\n        if (typeof this.ac.close === 'function' && this.ac.state != 'closed') {\n          this.ac.close();\n        }\n        // clear the reference to the audiocontext\n        this.ac = null;\n        // clear the actual audiocontext, either passed as param or the\n        // global singleton\n        if (!this.params.audioContext) {\n          window.WaveSurferAudioContext = null;\n        } else {\n          this.params.audioContext = null;\n        }\n        // clear the offlineAudioContext\n        window.WaveSurferOfflineAudioContext = null;\n      }\n\n      // disconnect resources used by setSinkId\n      if (this.sinkStreamDestination) {\n        this.sinkAudioElement.pause();\n        this.sinkAudioElement.srcObject = null;\n        this.sinkStreamDestination.disconnect();\n        this.sinkStreamDestination = null;\n      }\n    }\n    /**\n     * This is called when wavesurfer is destroyed\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (!this.isPaused()) {\n        this.pause();\n      }\n      this.unAll();\n      this.buffer = null;\n      this.destroyed = true;\n      this.destroyWebAudio();\n    }\n\n    /**\n     * Loaded a decoded audio buffer\n     *\n     * @param {Object} buffer Decoded audio buffer to load\n     */\n  }, {\n    key: \"load\",\n    value: function load(buffer) {\n      this.startPosition = 0;\n      this.lastPlay = this.ac.currentTime;\n      this.buffer = buffer;\n      this.createSource();\n    }\n\n    /** @private */\n  }, {\n    key: \"createSource\",\n    value: function createSource() {\n      this.disconnectSource();\n      this.source = this.ac.createBufferSource();\n\n      // adjust for old browsers\n      this.source.start = this.source.start || this.source.noteGrainOn;\n      this.source.stop = this.source.stop || this.source.noteOff;\n      this.setPlaybackRate(this.playbackRate);\n      this.source.buffer = this.buffer;\n      this.source.connect(this.analyser);\n    }\n\n    /**\n     * @private\n     *\n     * some browsers require an explicit call to #resume before they will play back audio\n     */\n  }, {\n    key: \"resumeAudioContext\",\n    value: function resumeAudioContext() {\n      if (this.ac.state == 'suspended') {\n        this.ac.resume && this.ac.resume();\n      }\n    }\n\n    /**\n     * Used by `wavesurfer.isPlaying()` and `wavesurfer.playPause()`\n     *\n     * @return {boolean} Whether or not this backend is currently paused\n     */\n  }, {\n    key: \"isPaused\",\n    value: function isPaused() {\n      return this.state !== this.states[PLAYING];\n    }\n\n    /**\n     * Used by `wavesurfer.getDuration()`\n     *\n     * @return {number} Duration of loaded buffer\n     */\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      if (this.explicitDuration) {\n        return this.explicitDuration;\n      }\n      if (!this.buffer) {\n        return 0;\n      }\n      return this.buffer.duration;\n    }\n\n    /**\n     * Used by `wavesurfer.seekTo()`\n     *\n     * @param {number} start Position to start at in seconds\n     * @param {number} end Position to end at in seconds\n     * @return {{start: number, end: number}} Object containing start and end\n     * positions\n     */\n  }, {\n    key: \"seekTo\",\n    value: function seekTo(start, end) {\n      if (!this.buffer) {\n        return;\n      }\n      this.scheduledPause = null;\n      if (start == null) {\n        start = this.getCurrentTime();\n        if (start >= this.getDuration()) {\n          start = 0;\n        }\n      }\n      if (end == null) {\n        end = this.getDuration();\n      }\n      this.startPosition = start;\n      this.lastPlay = this.ac.currentTime;\n      if (this.state === this.states[FINISHED]) {\n        this.setState(PAUSED);\n      }\n      return {\n        start: start,\n        end: end\n      };\n    }\n\n    /**\n     * Get the playback position in seconds\n     *\n     * @return {number} The playback position in seconds\n     */\n  }, {\n    key: \"getPlayedTime\",\n    value: function getPlayedTime() {\n      return (this.ac.currentTime - this.lastPlay) * this.playbackRate;\n    }\n\n    /**\n     * Plays the loaded audio region.\n     *\n     * @param {number} start Start offset in seconds, relative to the beginning\n     * of a clip.\n     * @param {number} end When to stop relative to the beginning of a clip.\n     */\n  }, {\n    key: \"play\",\n    value: function play(start, end) {\n      if (!this.buffer) {\n        return;\n      }\n\n      // need to re-create source on each playback\n      this.createSource();\n      var adjustedTime = this.seekTo(start, end);\n      start = adjustedTime.start;\n      end = adjustedTime.end;\n      this.scheduledPause = end;\n      this.source.start(0, start);\n      this.resumeAudioContext();\n      this.setState(PLAYING);\n      this.fireEvent('play');\n    }\n\n    /**\n     * Pauses the loaded audio.\n     */\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.scheduledPause = null;\n      this.startPosition += this.getPlayedTime();\n      try {\n        this.source && this.source.stop(0);\n      } catch (err) {\n        // Calling stop can throw the following 2 errors:\n        // - RangeError (The value specified for when is negative.)\n        // - InvalidStateNode (The node has not been started by calling start().)\n        // We can safely ignore both errors, because:\n        // - The range is surely correct\n        // - The node might not have been started yet, in which case we just want to carry on without causing any trouble.\n      }\n      this.setState(PAUSED);\n      this.fireEvent('pause');\n    }\n\n    /**\n     * Returns the current time in seconds relative to the audio-clip's\n     * duration.\n     *\n     * @return {number} The current time in seconds\n     */\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.state.getCurrentTime.call(this);\n    }\n\n    /**\n     * Returns the current playback rate. (0=no playback, 1=normal playback)\n     *\n     * @return {number} The current playback rate\n     */\n  }, {\n    key: \"getPlaybackRate\",\n    value: function getPlaybackRate() {\n      return this.playbackRate;\n    }\n\n    /**\n     * Set the audio source playback rate.\n     *\n     * @param {number} value The playback rate to use\n     */\n  }, {\n    key: \"setPlaybackRate\",\n    value: function setPlaybackRate(value) {\n      this.playbackRate = value || 1;\n      this.source && this.source.playbackRate.setValueAtTime(this.playbackRate, this.ac.currentTime);\n    }\n\n    /**\n     * Set a point in seconds for playback to stop at.\n     *\n     * @param {number} end Position to end at\n     * @version 3.3.0\n     */\n  }, {\n    key: \"setPlayEnd\",\n    value: function setPlayEnd(end) {\n      this.scheduledPause = end;\n    }\n  }]);\n  return WebAudio;\n}(util.Observer);\nexports[\"default\"] = WebAudio;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./node_modules/debounce/index.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/debounce/index.js ***!\n  \\****************************************/\n/***/ ((module) => {\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can't be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__(\"./src/wavesurfer.js\");\n/******/ \t\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});\n//# sourceMappingURL=wavesurfer.js.map","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"WaveSurfer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WaveSurfer\"] = factory();\n\telse\n\t\troot[\"WaveSurfer\"] = factory();\n})(self, () => {\nreturn ","/**\n * @since 3.0.0\n */\n\nimport style from './util/style';\nimport getId from './util/get-id';\n\n/**\n * The `CanvasEntry` class represents an element consisting of a wave `canvas`\n * and an (optional) progress wave `canvas`.\n *\n * The `MultiCanvas` renderer uses one or more `CanvasEntry` instances to\n * render a waveform, depending on the zoom level.\n */\nexport default class CanvasEntry {\n    constructor() {\n        /**\n         * The wave node\n         *\n         * @type {HTMLCanvasElement}\n         */\n        this.wave = null;\n        /**\n         * The wave canvas rendering context\n         *\n         * @type {CanvasRenderingContext2D}\n         */\n        this.waveCtx = null;\n        /**\n         * The (optional) progress wave node\n         *\n         * @type {HTMLCanvasElement}\n         */\n        this.progress = null;\n        /**\n         * The (optional) progress wave canvas rendering context\n         *\n         * @type {CanvasRenderingContext2D}\n         */\n        this.progressCtx = null;\n        /**\n         * Start of the area the canvas should render, between 0 and 1\n         *\n         * @type {number}\n         */\n        this.start = 0;\n        /**\n         * End of the area the canvas should render, between 0 and 1\n         *\n         * @type {number}\n         */\n        this.end = 1;\n        /**\n         * Unique identifier for this entry\n         *\n         * @type {string}\n         */\n        this.id = getId(\n            typeof this.constructor.name !== 'undefined'\n                ? this.constructor.name.toLowerCase() + '_'\n                : 'canvasentry_'\n        );\n        /**\n         * Canvas 2d context attributes\n         *\n         * @type {object}\n         */\n        this.canvasContextAttributes = {};\n    }\n\n    /**\n     * Store the wave canvas element and create the 2D rendering context\n     *\n     * @param {HTMLCanvasElement} element The wave `canvas` element.\n     */\n    initWave(element) {\n        this.wave = element;\n        this.waveCtx = this.wave.getContext('2d', this.canvasContextAttributes);\n    }\n\n    /**\n     * Store the progress wave canvas element and create the 2D rendering\n     * context\n     *\n     * @param {HTMLCanvasElement} element The progress wave `canvas` element.\n     */\n    initProgress(element) {\n        this.progress = element;\n        this.progressCtx = this.progress.getContext(\n            '2d',\n            this.canvasContextAttributes\n        );\n    }\n\n    /**\n     * Update the dimensions\n     *\n     * @param {number} elementWidth Width of the entry\n     * @param {number} totalWidth Total width of the multi canvas renderer\n     * @param {number} width The new width of the element\n     * @param {number} height The new height of the element\n     */\n    updateDimensions(elementWidth, totalWidth, width, height) {\n        // where the canvas starts and ends in the waveform, represented as a\n        // decimal between 0 and 1\n        this.start = this.wave.offsetLeft / totalWidth || 0;\n        this.end = this.start + elementWidth / totalWidth;\n\n        // set wave canvas dimensions\n        this.wave.width = width;\n        this.wave.height = height;\n        let elementSize = { width: elementWidth + 'px' };\n        style(this.wave, elementSize);\n\n        if (this.hasProgressCanvas) {\n            // set progress canvas dimensions\n            this.progress.width = width;\n            this.progress.height = height;\n            style(this.progress, elementSize);\n        }\n    }\n\n    /**\n     * Clear the wave and progress rendering contexts\n     */\n    clearWave() {\n        // wave\n        this.waveCtx.clearRect(\n            0,\n            0,\n            this.waveCtx.canvas.width,\n            this.waveCtx.canvas.height\n        );\n\n        // progress\n        if (this.hasProgressCanvas) {\n            this.progressCtx.clearRect(\n                0,\n                0,\n                this.progressCtx.canvas.width,\n                this.progressCtx.canvas.height\n            );\n        }\n    }\n\n    /**\n     * Set the fill styles for wave and progress\n     * @param {string|string[]} waveColor Fill color for the wave canvas,\n     * or an array of colors to apply as a gradient\n     * @param {?string|string[]} progressColor Fill color for the progress canvas,\n     * or an array of colors to apply as a gradient\n     */\n    setFillStyles(waveColor, progressColor) {\n        this.waveCtx.fillStyle = this.getFillStyle(this.waveCtx, waveColor);\n\n        if (this.hasProgressCanvas) {\n            this.progressCtx.fillStyle = this.getFillStyle(this.progressCtx, progressColor);\n        }\n    }\n\n    /**\n     * Utility function to handle wave color arguments\n     *\n     * When the color argument type is a string or CanvasGradient instance,\n     * it will be returned as is. Otherwise, it will be treated as an array,\n     * and a new CanvasGradient will be returned\n     *\n     * @since 6.0.0\n     * @param {CanvasRenderingContext2D} ctx Rendering context of target canvas\n     * @param {string|string[]|CanvasGradient} color Either a single fill color\n     *     for the wave canvas, an existing CanvasGradient instance, or an array\n     *     of colors to apply as a gradient\n     * @returns {string|CanvasGradient} Returns a string fillstyle value, or a\n     *     canvas gradient\n     */\n    getFillStyle(ctx, color) {\n        if (typeof color == 'string' || color instanceof CanvasGradient) {\n            return color;\n        }\n\n        const waveGradient = ctx.createLinearGradient(0, 0, 0, ctx.canvas.height);\n        color.forEach((value, index) => waveGradient.addColorStop((index / color.length), value));\n\n        return waveGradient;\n    }\n\n    /**\n     * Set the canvas transforms for wave and progress\n     *\n     * @param {boolean} vertical Whether to render vertically\n     */\n    applyCanvasTransforms(vertical) {\n        if (vertical) {\n            // Reflect the waveform across the line y = -x\n            this.waveCtx.setTransform(0, 1, 1, 0, 0, 0);\n\n            if (this.hasProgressCanvas) {\n                this.progressCtx.setTransform(0, 1, 1, 0, 0, 0);\n            }\n        }\n    }\n\n    /**\n     * Draw a rectangle for wave and progress\n     *\n     * @param {number} x X start position\n     * @param {number} y Y start position\n     * @param {number} width Width of the rectangle\n     * @param {number} height Height of the rectangle\n     * @param {number} radius Radius of the rectangle\n     */\n    fillRects(x, y, width, height, radius) {\n        this.fillRectToContext(this.waveCtx, x, y, width, height, radius);\n\n        if (this.hasProgressCanvas) {\n            this.fillRectToContext(\n                this.progressCtx,\n                x,\n                y,\n                width,\n                height,\n                radius\n            );\n        }\n    }\n\n    /**\n     * Draw the actual rectangle on a `canvas` element\n     *\n     * @param {CanvasRenderingContext2D} ctx Rendering context of target canvas\n     * @param {number} x X start position\n     * @param {number} y Y start position\n     * @param {number} width Width of the rectangle\n     * @param {number} height Height of the rectangle\n     * @param {number} radius Radius of the rectangle\n     */\n    fillRectToContext(ctx, x, y, width, height, radius) {\n        if (!ctx) {\n            return;\n        }\n\n        if (radius) {\n            this.drawRoundedRect(ctx, x, y, width, height, radius);\n        } else {\n            ctx.fillRect(x, y, width, height);\n        }\n    }\n\n    /**\n     * Draw a rounded rectangle on Canvas\n     *\n     * @param {CanvasRenderingContext2D} ctx Canvas context\n     * @param {number} x X-position of the rectangle\n     * @param {number} y Y-position of the rectangle\n     * @param {number} width Width of the rectangle\n     * @param {number} height Height of the rectangle\n     * @param {number} radius Radius of the rectangle\n     *\n     * @return {void}\n     * @example drawRoundedRect(ctx, 50, 50, 5, 10, 3)\n     */\n    drawRoundedRect(ctx, x, y, width, height, radius) {\n        if (height === 0) {\n            return;\n        }\n        // peaks are float values from -1 to 1. Use absolute height values in\n        // order to correctly calculate rounded rectangle coordinates\n        if (height < 0) {\n            height *= -1;\n            y -= height;\n        }\n        ctx.beginPath();\n        ctx.moveTo(x + radius, y);\n        ctx.lineTo(x + width - radius, y);\n        ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n        ctx.lineTo(x + width, y + height - radius);\n        ctx.quadraticCurveTo(\n            x + width,\n            y + height,\n            x + width - radius,\n            y + height\n        );\n        ctx.lineTo(x + radius, y + height);\n        ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n        ctx.lineTo(x, y + radius);\n        ctx.quadraticCurveTo(x, y, x + radius, y);\n        ctx.closePath();\n        ctx.fill();\n    }\n\n    /**\n     * Render the actual wave and progress lines\n     *\n     * @param {number[]} peaks Array with peaks data\n     * @param {number} absmax Maximum peak value (absolute)\n     * @param {number} halfH Half the height of the waveform\n     * @param {number} offsetY Offset to the top\n     * @param {number} start The x-offset of the beginning of the area that\n     * should be rendered\n     * @param {number} end The x-offset of the end of the area that\n     * should be rendered\n     */\n    drawLines(peaks, absmax, halfH, offsetY, start, end) {\n        this.drawLineToContext(\n            this.waveCtx,\n            peaks,\n            absmax,\n            halfH,\n            offsetY,\n            start,\n            end\n        );\n\n        if (this.hasProgressCanvas) {\n            this.drawLineToContext(\n                this.progressCtx,\n                peaks,\n                absmax,\n                halfH,\n                offsetY,\n                start,\n                end\n            );\n        }\n    }\n\n    /**\n     * Render the actual waveform line on a `canvas` element\n     *\n     * @param {CanvasRenderingContext2D} ctx Rendering context of target canvas\n     * @param {number[]} peaks Array with peaks data\n     * @param {number} absmax Maximum peak value (absolute)\n     * @param {number} halfH Half the height of the waveform\n     * @param {number} offsetY Offset to the top\n     * @param {number} start The x-offset of the beginning of the area that\n     * should be rendered\n     * @param {number} end The x-offset of the end of the area that\n     * should be rendered\n     */\n    drawLineToContext(ctx, peaks, absmax, halfH, offsetY, start, end) {\n        if (!ctx) {\n            return;\n        }\n\n        const length = peaks.length / 2;\n        const first = Math.round(length * this.start);\n\n        // use one more peak value to make sure we join peaks at ends -- unless,\n        // of course, this is the last canvas\n        const last = Math.round(length * this.end) + 1;\n\n        const canvasStart = first;\n        const canvasEnd = last;\n        const scale = this.wave.width / (canvasEnd - canvasStart - 1);\n\n        // optimization\n        const halfOffset = halfH + offsetY;\n        const absmaxHalf = absmax / halfH;\n\n        ctx.beginPath();\n        ctx.moveTo((canvasStart - first) * scale, halfOffset);\n\n        ctx.lineTo(\n            (canvasStart - first) * scale,\n            halfOffset - Math.round((peaks[2 * canvasStart] || 0) / absmaxHalf)\n        );\n\n        let i, peak, h;\n        for (i = canvasStart; i < canvasEnd; i++) {\n            peak = peaks[2 * i] || 0;\n            h = Math.round(peak / absmaxHalf);\n            ctx.lineTo((i - first) * scale + this.halfPixel, halfOffset - h);\n        }\n\n        // draw the bottom edge going backwards, to make a single\n        // closed hull to fill\n        let j = canvasEnd - 1;\n        for (j; j >= canvasStart; j--) {\n            peak = peaks[2 * j + 1] || 0;\n            h = Math.round(peak / absmaxHalf);\n            ctx.lineTo((j - first) * scale + this.halfPixel, halfOffset - h);\n        }\n\n        ctx.lineTo(\n            (canvasStart - first) * scale,\n            halfOffset -\n            Math.round((peaks[2 * canvasStart + 1] || 0) / absmaxHalf)\n        );\n\n        ctx.closePath();\n        ctx.fill();\n    }\n\n    /**\n     * Destroys this entry\n     */\n    destroy() {\n        this.waveCtx = null;\n        this.wave = null;\n\n        this.progressCtx = null;\n        this.progress = null;\n    }\n\n    /**\n     * Return image data of the wave `canvas` element\n     *\n     * When using a `type` of `'blob'`, this will return a `Promise` that\n     * resolves with a `Blob` instance.\n     *\n     * @param {string} format='image/png' An optional value of a format type.\n     * @param {number} quality=0.92 An optional value between 0 and 1.\n     * @param {string} type='dataURL' Either 'dataURL' or 'blob'.\n     * @return {string|Promise} When using the default `'dataURL'` `type` this\n     * returns a data URL. When using the `'blob'` `type` this returns a\n     * `Promise` that resolves with a `Blob` instance.\n     */\n    getImage(format, quality, type) {\n        if (type === 'blob') {\n            return new Promise(resolve => {\n                this.wave.toBlob(resolve, format, quality);\n            });\n        } else if (type === 'dataURL') {\n            return this.wave.toDataURL(format, quality);\n        }\n    }\n}\n","import * as util from './util';\n\n/**\n * Parent class for renderers\n *\n * @extends {Observer}\n */\nexport default class Drawer extends util.Observer {\n    /**\n     * @param {HTMLElement} container The container node of the wavesurfer instance\n     * @param {WavesurferParams} params The wavesurfer initialisation options\n     */\n    constructor(container, params) {\n        super();\n\n        this.container = util.withOrientation(container, params.vertical);\n        /**\n         * @type {WavesurferParams}\n         */\n        this.params = params;\n        /**\n         * The width of the renderer\n         * @type {number}\n         */\n        this.width = 0;\n        /**\n         * The height of the renderer\n         * @type {number}\n         */\n        this.height = params.height * this.params.pixelRatio;\n\n        this.lastPos = 0;\n        /**\n         * The `<wave>` element which is added to the container\n         * @type {HTMLElement}\n         */\n        this.wrapper = null;\n    }\n\n    /**\n     * Alias of `util.style`\n     *\n     * @param {HTMLElement} el The element that the styles will be applied to\n     * @param {Object} styles The map of propName: attribute, both are used as-is\n     * @return {HTMLElement} el\n     */\n    style(el, styles) {\n        return util.style(el, styles);\n    }\n\n    /**\n     * Create the wrapper `<wave>` element, style it and set up the events for\n     * interaction\n     */\n    createWrapper() {\n        this.wrapper = util.withOrientation(\n            this.container.appendChild(document.createElement('wave')),\n            this.params.vertical\n        );\n\n        this.style(this.wrapper, {\n            display: 'block',\n            position: 'relative',\n            userSelect: 'none',\n            webkitUserSelect: 'none',\n            height: this.params.height + 'px'\n        });\n\n        if (this.params.fillParent || this.params.scrollParent) {\n            this.style(this.wrapper, {\n                width: '100%',\n                cursor: this.params.hideCursor ? 'none' : 'auto',\n                overflowX: this.params.hideScrollbar ? 'hidden' : 'auto',\n                overflowY: 'hidden'\n            });\n        }\n\n        this.setupWrapperEvents();\n    }\n\n    /**\n     * Handle click event\n     *\n     * @param {Event} e Click event\n     * @param {?boolean} noPrevent Set to true to not call `e.preventDefault()`\n     * @return {number} Playback position from 0 to 1\n     */\n    handleEvent(e, noPrevent) {\n        !noPrevent && e.preventDefault();\n\n        const clientX = util.withOrientation(\n            e.targetTouches ? e.targetTouches[0] : e,\n            this.params.vertical\n        ).clientX;\n        const bbox = this.wrapper.getBoundingClientRect();\n\n        const nominalWidth = this.width;\n        const parentWidth = this.getWidth();\n        const progressPixels = this.getProgressPixels(bbox, clientX);\n\n        let progress;\n        if (!this.params.fillParent && nominalWidth < parentWidth) {\n            progress = progressPixels *\n                (this.params.pixelRatio / nominalWidth) || 0;\n        } else {\n            progress = (progressPixels + this.wrapper.scrollLeft) /\n                this.wrapper.scrollWidth || 0;\n        }\n\n        return util.clamp(progress, 0, 1);\n    }\n\n    getProgressPixels(wrapperBbox, clientX) {\n        if (this.params.rtl) {\n            return wrapperBbox.right - clientX;\n        } else {\n            return clientX - wrapperBbox.left;\n        }\n    }\n\n    setupWrapperEvents() {\n        this.wrapper.addEventListener('click', e => {\n            const orientedEvent = util.withOrientation(e, this.params.vertical);\n            const scrollbarHeight = this.wrapper.offsetHeight -\n                  this.wrapper.clientHeight;\n\n            if (scrollbarHeight !== 0) {\n                // scrollbar is visible.  Check if click was on it\n                const bbox = this.wrapper.getBoundingClientRect();\n                if (orientedEvent.clientY >= bbox.bottom - scrollbarHeight) {\n                    // ignore mousedown as it was on the scrollbar\n                    return;\n                }\n            }\n\n            if (this.params.interact) {\n                this.fireEvent('click', e, this.handleEvent(e));\n            }\n        });\n\n        this.wrapper.addEventListener('dblclick', e => {\n            if (this.params.interact) {\n                this.fireEvent('dblclick', e, this.handleEvent(e));\n            }\n        });\n\n        this.wrapper.addEventListener('scroll', e =>\n            this.fireEvent('scroll', e)\n        );\n    }\n\n    /**\n     * Draw peaks on the canvas\n     *\n     * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n     * for split channel rendering\n     * @param {number} length The width of the area that should be drawn\n     * @param {number} start The x-offset of the beginning of the area that\n     * should be rendered\n     * @param {number} end The x-offset of the end of the area that should be\n     * rendered\n     */\n    drawPeaks(peaks, length, start, end) {\n        if (!this.setWidth(length)) {\n            this.clearWave();\n        }\n\n        this.params.barWidth\n            ? this.drawBars(peaks, 0, start, end)\n            : this.drawWave(peaks, 0, start, end);\n    }\n\n    /**\n     * Scroll to the beginning\n     */\n    resetScroll() {\n        if (this.wrapper !== null) {\n            this.wrapper.scrollLeft = 0;\n        }\n    }\n\n    /**\n     * Recenter the view-port at a certain percent of the waveform\n     *\n     * @param {number} percent Value from 0 to 1 on the waveform\n     */\n    recenter(percent) {\n        const position = this.wrapper.scrollWidth * percent;\n        this.recenterOnPosition(position, true);\n    }\n\n    /**\n     * Recenter the view-port on a position, either scroll there immediately or\n     * in steps of 5 pixels\n     *\n     * @param {number} position X-offset in pixels\n     * @param {boolean} immediate Set to true to immediately scroll somewhere\n     */\n    recenterOnPosition(position, immediate) {\n        const scrollLeft = this.wrapper.scrollLeft;\n        const half = ~~(this.wrapper.clientWidth / 2);\n        const maxScroll = this.wrapper.scrollWidth - this.wrapper.clientWidth;\n        let target = position - half;\n        let offset = target - scrollLeft;\n\n        if (maxScroll == 0) {\n            // no need to continue if scrollbar is not there\n            return;\n        }\n\n        // if the cursor is currently visible...\n        if (!immediate && -half <= offset && offset < half) {\n            // set rate at which waveform is centered\n            let rate = this.params.autoCenterRate;\n\n            // make rate depend on width of view and length of waveform\n            rate /= half;\n            rate *= maxScroll;\n\n            offset = Math.max(-rate, Math.min(rate, offset));\n            target = scrollLeft + offset;\n        }\n\n        // limit target to valid range (0 to maxScroll)\n        target = Math.max(0, Math.min(maxScroll, target));\n        // no use attempting to scroll if we're not moving\n        if (target != scrollLeft) {\n            this.wrapper.scrollLeft = target;\n        }\n    }\n\n    /**\n     * Get the current scroll position in pixels\n     *\n     * @return {number} Horizontal scroll position in pixels\n     */\n    getScrollX() {\n        let x = 0;\n        if (this.wrapper) {\n            const pixelRatio = this.params.pixelRatio;\n            x = Math.round(this.wrapper.scrollLeft * pixelRatio);\n\n            // In cases of elastic scroll (safari with mouse wheel) you can\n            // scroll beyond the limits of the container\n            // Calculate and floor the scrollable extent to make sure an out\n            // of bounds value is not returned\n            // Ticket #1312\n            if (this.params.scrollParent) {\n                const maxScroll = ~~(\n                    this.wrapper.scrollWidth * pixelRatio -\n                    this.getWidth()\n                );\n                x = Math.min(maxScroll, Math.max(0, x));\n            }\n        }\n        return x;\n    }\n\n    /**\n     * Get the width of the container\n     *\n     * @return {number} The width of the container\n     */\n    getWidth() {\n        return Math.round(this.container.clientWidth * this.params.pixelRatio);\n    }\n\n    /**\n     * Set the width of the container\n     *\n     * @param {number} width The new width of the container\n     * @return {boolean} Whether the width of the container was updated or not\n     */\n    setWidth(width) {\n        if (this.width == width) {\n            return false;\n        }\n\n        this.width = width;\n\n        if (this.params.fillParent || this.params.scrollParent) {\n            this.style(this.wrapper, {\n                width: ''\n            });\n        } else {\n            const newWidth = ~~(this.width / this.params.pixelRatio) + 'px';\n            this.style(this.wrapper, {\n                width: newWidth\n            });\n        }\n\n        this.updateSize();\n        return true;\n    }\n\n    /**\n     * Set the height of the container\n     *\n     * @param {number} height The new height of the container.\n     * @return {boolean} Whether the height of the container was updated or not\n     */\n    setHeight(height) {\n        if (height == this.height) {\n            return false;\n        }\n        this.height = height;\n\n        this.style(this.wrapper, {\n            height: ~~(this.height / this.params.pixelRatio) + 'px'\n        });\n\n        this.updateSize();\n        return true;\n    }\n\n    /**\n     * Called by wavesurfer when progress should be rendered\n     *\n     * @param {number} progress From 0 to 1\n     */\n    progress(progress) {\n        const minPxDelta = 1 / this.params.pixelRatio;\n        const pos = Math.round(progress * this.width) * minPxDelta;\n\n        if (pos < this.lastPos || pos - this.lastPos >= minPxDelta) {\n            this.lastPos = pos;\n\n            if (this.params.scrollParent && this.params.autoCenter) {\n                const newPos = ~~(this.wrapper.scrollWidth * progress);\n                this.recenterOnPosition(\n                    newPos,\n                    this.params.autoCenterImmediately\n                );\n            }\n\n            this.updateProgress(pos);\n        }\n    }\n\n    /**\n     * This is called when wavesurfer is destroyed\n     */\n    destroy() {\n        this.unAll();\n        if (this.wrapper) {\n            if (this.wrapper.parentNode == this.container.domElement) {\n                this.container.removeChild(this.wrapper.domElement);\n            }\n            this.wrapper = null;\n        }\n    }\n\n    /* Renderer-specific methods */\n\n    /**\n     * Called after cursor related params have changed.\n     *\n     * @abstract\n     */\n    updateCursor() {}\n\n    /**\n     * Called when the size of the container changes so the renderer can adjust\n     *\n     * @abstract\n     */\n    updateSize() {}\n\n    /**\n     * Draw a waveform with bars\n     *\n     * @abstract\n     * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for split channel\n     * rendering\n     * @param {number} channelIndex The index of the current channel. Normally\n     * should be 0\n     * @param {number} start The x-offset of the beginning of the area that\n     * should be rendered\n     * @param {number} end The x-offset of the end of the area that should be\n     * rendered\n     */\n    drawBars(peaks, channelIndex, start, end) {}\n\n    /**\n     * Draw a waveform\n     *\n     * @abstract\n     * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for split channel\n     * rendering\n     * @param {number} channelIndex The index of the current channel. Normally\n     * should be 0\n     * @param {number} start The x-offset of the beginning of the area that\n     * should be rendered\n     * @param {number} end The x-offset of the end of the area that should be\n     * rendered\n     */\n    drawWave(peaks, channelIndex, start, end) {}\n\n    /**\n     * Clear the waveform\n     *\n     * @abstract\n     */\n    clearWave() {}\n\n    /**\n     * Render the new progress\n     *\n     * @abstract\n     * @param {number} position X-Offset of progress position in pixels\n     */\n    updateProgress(position) {}\n}\n","import Drawer from './drawer';\nimport * as util from './util';\nimport CanvasEntry from './drawer.canvasentry';\n\n/**\n * MultiCanvas renderer for wavesurfer. Is currently the default and sole\n * builtin renderer.\n *\n * A `MultiCanvas` consists of one or more `CanvasEntry` instances, depending\n * on the zoom level.\n */\nexport default class MultiCanvas extends Drawer {\n    /**\n     * @param {HTMLElement} container The container node of the wavesurfer instance\n     * @param {WavesurferParams} params The wavesurfer initialisation options\n     */\n    constructor(container, params) {\n        super(container, params);\n\n        /**\n         * @type {number}\n         */\n        this.maxCanvasWidth = params.maxCanvasWidth;\n\n        /**\n         * @type {number}\n         */\n        this.maxCanvasElementWidth = Math.round(\n            params.maxCanvasWidth / params.pixelRatio\n        );\n\n        /**\n         * Whether or not the progress wave is rendered. If the `waveColor`\n         * and `progressColor` are the same color it is not.\n         *\n         * @type {boolean}\n         */\n        this.hasProgressCanvas = params.waveColor != params.progressColor;\n\n        /**\n         * @type {number}\n         */\n        this.halfPixel = 0.5 / params.pixelRatio;\n\n        /**\n         * List of `CanvasEntry` instances.\n         *\n         * @type {Array}\n         */\n        this.canvases = [];\n\n        /**\n         * @type {HTMLElement}\n         */\n        this.progressWave = null;\n\n        /**\n         * Class used to generate entries.\n         *\n         * @type {function}\n         */\n        this.EntryClass = CanvasEntry;\n\n        /**\n         * Canvas 2d context attributes.\n         *\n         * @type {object}\n         */\n        this.canvasContextAttributes = params.drawingContextAttributes;\n\n        /**\n         * Overlap added between entries to prevent vertical white stripes\n         * between `canvas` elements.\n         *\n         * @type {number}\n         */\n        this.overlap = 2 * Math.ceil(params.pixelRatio / 2);\n\n        /**\n         * The radius of the wave bars. Makes bars rounded\n         *\n         * @type {number}\n         */\n        this.barRadius = params.barRadius || 0;\n\n        /**\n         * Whether to render the waveform vertically. Defaults to false.\n         *\n         * @type {boolean}\n         */\n        this.vertical = params.vertical;\n    }\n\n    /**\n     * Initialize the drawer\n     */\n    init() {\n        this.createWrapper();\n        this.createElements();\n    }\n\n    /**\n     * Create the canvas elements and style them\n     *\n     */\n    createElements() {\n        this.progressWave = util.withOrientation(\n            this.wrapper.appendChild(document.createElement('wave')),\n            this.params.vertical\n        );\n        this.style(this.progressWave, {\n            position: 'absolute',\n            zIndex: 3,\n            left: 0,\n            top: 0,\n            bottom: 0,\n            overflow: 'hidden',\n            width: '0',\n            display: 'none',\n            boxSizing: 'border-box',\n            borderRightStyle: 'solid',\n            pointerEvents: 'none'\n        });\n\n        this.addCanvas();\n        this.updateCursor();\n    }\n\n    /**\n     * Update cursor style\n     */\n    updateCursor() {\n        this.style(this.progressWave, {\n            borderRightWidth: this.params.cursorWidth + 'px',\n            borderRightColor: this.params.cursorColor\n        });\n    }\n\n    /**\n     * Adjust to the updated size by adding or removing canvases\n     */\n    updateSize() {\n        const totalWidth = Math.round(this.width / this.params.pixelRatio);\n        const requiredCanvases = Math.ceil(\n            totalWidth / (this.maxCanvasElementWidth + this.overlap)\n        );\n\n        // add required canvases\n        while (this.canvases.length < requiredCanvases) {\n            this.addCanvas();\n        }\n\n        // remove older existing canvases, if any\n        while (this.canvases.length > requiredCanvases) {\n            this.removeCanvas();\n        }\n\n        let canvasWidth = this.maxCanvasWidth + this.overlap;\n        const lastCanvas = this.canvases.length - 1;\n        this.canvases.forEach((entry, i) => {\n            if (i == lastCanvas) {\n                canvasWidth = this.width - this.maxCanvasWidth * lastCanvas;\n            }\n            this.updateDimensions(entry, canvasWidth, this.height);\n\n            entry.clearWave();\n        });\n    }\n\n    /**\n     * Add a canvas to the canvas list\n     *\n     */\n    addCanvas() {\n        const entry = new this.EntryClass();\n        entry.canvasContextAttributes = this.canvasContextAttributes;\n        entry.hasProgressCanvas = this.hasProgressCanvas;\n        entry.halfPixel = this.halfPixel;\n        const leftOffset = this.maxCanvasElementWidth * this.canvases.length;\n\n        // wave\n        let wave = util.withOrientation(\n            this.wrapper.appendChild(document.createElement('canvas')),\n            this.params.vertical\n        );\n        this.style(wave, {\n            position: 'absolute',\n            zIndex: 2,\n            left: leftOffset + 'px',\n            top: 0,\n            bottom: 0,\n            height: '100%',\n            pointerEvents: 'none'\n        });\n        entry.initWave(wave);\n\n        // progress\n        if (this.hasProgressCanvas) {\n            let progress = util.withOrientation(\n                this.progressWave.appendChild(document.createElement('canvas')),\n                this.params.vertical\n            );\n            this.style(progress, {\n                position: 'absolute',\n                left: leftOffset + 'px',\n                top: 0,\n                bottom: 0,\n                height: '100%'\n            });\n            entry.initProgress(progress);\n        }\n\n        this.canvases.push(entry);\n    }\n\n    /**\n     * Pop single canvas from the list\n     *\n     */\n    removeCanvas() {\n        let lastEntry = this.canvases[this.canvases.length - 1];\n\n        // wave\n        lastEntry.wave.parentElement.removeChild(lastEntry.wave.domElement);\n\n        // progress\n        if (this.hasProgressCanvas) {\n            lastEntry.progress.parentElement.removeChild(lastEntry.progress.domElement);\n        }\n\n        // cleanup\n        if (lastEntry) {\n            lastEntry.destroy();\n            lastEntry = null;\n        }\n\n        this.canvases.pop();\n    }\n\n    /**\n     * Update the dimensions of a canvas element\n     *\n     * @param {CanvasEntry} entry Target entry\n     * @param {number} width The new width of the element\n     * @param {number} height The new height of the element\n     */\n    updateDimensions(entry, width, height) {\n        const elementWidth = Math.round(width / this.params.pixelRatio);\n        const totalWidth = Math.round(this.width / this.params.pixelRatio);\n\n        // update canvas dimensions\n        entry.updateDimensions(elementWidth, totalWidth, width, height);\n\n        // style element\n        this.style(this.progressWave, { display: 'block' });\n    }\n\n    /**\n     * Clear the whole multi-canvas\n     */\n    clearWave() {\n        util.frame(() => {\n            this.canvases.forEach(entry => entry.clearWave());\n        })();\n    }\n\n    /**\n     * Draw a waveform with bars\n     *\n     * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n     * for split channel rendering\n     * @param {number} channelIndex The index of the current channel. Normally\n     * should be 0. Must be an integer.\n     * @param {number} start The x-offset of the beginning of the area that\n     * should be rendered\n     * @param {number} end The x-offset of the end of the area that should be\n     * rendered\n     * @returns {void}\n     */\n    drawBars(peaks, channelIndex, start, end) {\n        return this.prepareDraw(\n            peaks,\n            channelIndex,\n            start,\n            end,\n            ({ absmax, hasMinVals, height, offsetY, halfH, peaks, channelIndex: ch }) => {\n                // if drawBars was called within ws.empty we don't pass a start and\n                // don't want anything to happen\n                if (start === undefined) {\n                    return;\n                }\n                // Skip every other value if there are negatives.\n                const peakIndexScale = hasMinVals ? 2 : 1;\n                const length = peaks.length / peakIndexScale;\n                const bar = this.params.barWidth * this.params.pixelRatio;\n                const gap =\n                    this.params.barGap === null\n                        ? Math.max(this.params.pixelRatio, ~~(bar / 2))\n                        : Math.max(\n                            this.params.pixelRatio,\n                            this.params.barGap * this.params.pixelRatio\n                        );\n                const step = bar + gap;\n\n                const scale = length / this.width;\n                const first = start;\n                const last = end;\n                let peakIndex = first;\n                for (peakIndex; peakIndex < last; peakIndex += step) {\n\n                    // search for the highest peak in the range this bar falls into\n                    let peak = 0;\n                    let peakIndexRange = Math.floor(peakIndex * scale) * peakIndexScale; // start index\n                    const peakIndexEnd = Math.floor((peakIndex + step) * scale) * peakIndexScale;\n                    do { // do..while makes sure at least one peak is always evaluated\n                        const newPeak = Math.abs(peaks[peakIndexRange]); // for arrays starting with negative values\n                        if (newPeak > peak) {\n                            peak = newPeak; // higher\n                        }\n                        peakIndexRange += peakIndexScale; // skip every other value for negatives\n                    } while (peakIndexRange < peakIndexEnd);\n\n                    // calculate the height of this bar according to the highest peak found\n                    let h = Math.round((peak / absmax) * halfH);\n\n                    // raise the bar height to the specified minimum height\n                    // Math.max is used to replace any value smaller than barMinHeight (not just 0) with barMinHeight\n                    if (this.params.barMinHeight) {\n                        h = Math.max(h, this.params.barMinHeight);\n                    }\n\n                    this.fillRect(\n                        peakIndex + this.halfPixel,\n                        halfH - h + offsetY,\n                        bar + this.halfPixel,\n                        h * 2,\n                        this.barRadius,\n                        ch\n                    );\n                }\n            }\n        );\n    }\n\n    /**\n     * Draw a waveform\n     *\n     * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays\n     * for split channel rendering\n     * @param {number} channelIndex The index of the current channel. Normally\n     * should be 0\n     * @param {number?} start The x-offset of the beginning of the area that\n     * should be rendered (If this isn't set only a flat line is rendered)\n     * @param {number?} end The x-offset of the end of the area that should be\n     * rendered\n     * @returns {void}\n     */\n    drawWave(peaks, channelIndex, start, end) {\n        return this.prepareDraw(\n            peaks,\n            channelIndex,\n            start,\n            end,\n            ({ absmax, hasMinVals, height, offsetY, halfH, peaks, channelIndex }) => {\n                if (!hasMinVals) {\n                    const reflectedPeaks = [];\n                    const len = peaks.length;\n                    let i = 0;\n                    for (i; i < len; i++) {\n                        reflectedPeaks[2 * i] = peaks[i];\n                        reflectedPeaks[2 * i + 1] = -peaks[i];\n                    }\n                    peaks = reflectedPeaks;\n                }\n\n                // if drawWave was called within ws.empty we don't pass a start and\n                // end and simply want a flat line\n                if (start !== undefined) {\n                    this.drawLine(peaks, absmax, halfH, offsetY, start, end, channelIndex);\n                }\n\n                // always draw a median line\n                this.fillRect(\n                    0,\n                    halfH + offsetY - this.halfPixel,\n                    this.width,\n                    this.halfPixel,\n                    this.barRadius,\n                    channelIndex\n                );\n            }\n        );\n    }\n\n    /**\n     * Tell the canvas entries to render their portion of the waveform\n     *\n     * @param {number[]} peaks Peaks data\n     * @param {number} absmax Maximum peak value (absolute)\n     * @param {number} halfH Half the height of the waveform\n     * @param {number} offsetY Offset to the top\n     * @param {number} start The x-offset of the beginning of the area that\n     * should be rendered\n     * @param {number} end The x-offset of the end of the area that\n     * should be rendered\n     * @param {channelIndex} channelIndex The channel index of the line drawn\n     */\n    drawLine(peaks, absmax, halfH, offsetY, start, end, channelIndex) {\n        const { waveColor, progressColor } = this.params.splitChannelsOptions.channelColors[channelIndex] || {};\n        this.canvases.forEach((entry, i) => {\n            this.setFillStyles(entry, waveColor, progressColor);\n            this.applyCanvasTransforms(entry, this.params.vertical);\n            entry.drawLines(peaks, absmax, halfH, offsetY, start, end);\n        });\n    }\n\n    /**\n     * Draw a rectangle on the multi-canvas\n     *\n     * @param {number} x X-position of the rectangle\n     * @param {number} y Y-position of the rectangle\n     * @param {number} width Width of the rectangle\n     * @param {number} height Height of the rectangle\n     * @param {number} radius Radius of the rectangle\n     * @param {channelIndex} channelIndex The channel index of the bar drawn\n     */\n    fillRect(x, y, width, height, radius, channelIndex) {\n        const startCanvas = Math.floor(x / this.maxCanvasWidth);\n        const endCanvas = Math.min(\n            Math.ceil((x + width) / this.maxCanvasWidth) + 1,\n            this.canvases.length\n        );\n        let i = startCanvas;\n        for (i; i < endCanvas; i++) {\n            const entry = this.canvases[i];\n            const leftOffset = i * this.maxCanvasWidth;\n\n            const intersection = {\n                x1: Math.max(x, i * this.maxCanvasWidth),\n                y1: y,\n                x2: Math.min(\n                    x + width,\n                    i * this.maxCanvasWidth + entry.wave.width\n                ),\n                y2: y + height\n            };\n\n            if (intersection.x1 < intersection.x2) {\n                const { waveColor, progressColor } = this.params.splitChannelsOptions.channelColors[channelIndex] || {};\n                this.setFillStyles(entry, waveColor, progressColor);\n                this.applyCanvasTransforms(entry, this.params.vertical);\n\n                entry.fillRects(\n                    intersection.x1 - leftOffset,\n                    intersection.y1,\n                    intersection.x2 - intersection.x1,\n                    intersection.y2 - intersection.y1,\n                    radius\n                );\n            }\n        }\n    }\n\n    /**\n     * Returns whether to hide the channel from being drawn based on params.\n     *\n     * @param {number} channelIndex The index of the current channel.\n     * @returns {bool} True to hide the channel, false to draw.\n     */\n    hideChannel(channelIndex) {\n        return this.params.splitChannels && this.params.splitChannelsOptions.filterChannels.includes(channelIndex);\n    }\n\n    /**\n     * Performs preparation tasks and calculations which are shared by `drawBars`\n     * and `drawWave`\n     *\n     * @param {number[]|Number.<Array[]>} peaks Can also be an array of arrays for\n     * split channel rendering\n     * @param {number} channelIndex The index of the current channel. Normally\n     * should be 0\n     * @param {number?} start The x-offset of the beginning of the area that\n     * should be rendered. If this isn't set only a flat line is rendered\n     * @param {number?} end The x-offset of the end of the area that should be\n     * rendered\n     * @param {function} fn The render function to call, e.g. `drawWave`\n     * @param {number} drawIndex The index of the current channel after filtering.\n     * @param {number?} normalizedMax Maximum modulation value across channels for use with relativeNormalization. Ignored when undefined\n     * @returns {void}\n     */\n    prepareDraw(peaks, channelIndex, start, end, fn, drawIndex, normalizedMax) {\n        return util.frame(() => {\n            // Split channels and call this function with the channelIndex set\n            if (peaks[0] instanceof Array) {\n                const channels = peaks;\n\n                if (this.params.splitChannels) {\n                    const filteredChannels = channels.filter((c, i) => !this.hideChannel(i));\n                    if (!this.params.splitChannelsOptions.overlay) {\n                        this.setHeight(\n                            Math.max(filteredChannels.length, 1) *\n                                this.params.height *\n                                this.params.pixelRatio\n                        );\n                    }\n\n                    let overallAbsMax;\n                    if (this.params.splitChannelsOptions && this.params.splitChannelsOptions.relativeNormalization) {\n                        // calculate maximum peak across channels to use for normalization\n                        overallAbsMax = util.max(channels.map((channelPeaks => util.absMax(channelPeaks))));\n                    }\n\n\n                    return channels.forEach((channelPeaks, i) =>\n                        this.prepareDraw(channelPeaks, i, start, end, fn, filteredChannels.indexOf(channelPeaks), overallAbsMax)\n                    );\n                }\n                peaks = channels[0];\n            }\n\n            // Return and do not draw channel peaks if hidden.\n            if (this.hideChannel(channelIndex)) {\n                return;\n            }\n\n            // calculate maximum modulation value, either from the barHeight\n            // parameter or if normalize=true from the largest value in the peak\n            // set\n            let absmax = 1 / this.params.barHeight;\n            if (this.params.normalize) {\n                absmax = normalizedMax === undefined ? util.absMax(peaks) : normalizedMax;\n            }\n\n            // Bar wave draws the bottom only as a reflection of the top,\n            // so we don't need negative values\n            const hasMinVals = [].some.call(peaks, val => val < 0);\n            const height = this.params.height * this.params.pixelRatio;\n            const halfH = height / 2;\n\n            let offsetY = height * drawIndex || 0;\n\n            // Override offsetY if overlay is true\n            if (this.params.splitChannelsOptions && this.params.splitChannelsOptions.overlay) {\n                offsetY = 0;\n            }\n\n            return fn({\n                absmax: absmax,\n                hasMinVals: hasMinVals,\n                height: height,\n                offsetY: offsetY,\n                halfH: halfH,\n                peaks: peaks,\n                channelIndex: channelIndex\n            });\n        })();\n    }\n\n    /**\n     * Set the fill styles for a certain entry (wave and progress)\n     *\n     * @param {CanvasEntry} entry Target entry\n     * @param {string} waveColor Wave color to draw this entry\n     * @param {string} progressColor Progress color to draw this entry\n     */\n    setFillStyles(entry, waveColor = this.params.waveColor, progressColor = this.params.progressColor) {\n        entry.setFillStyles(waveColor, progressColor);\n    }\n\n    /**\n     * Set the canvas transforms for a certain entry (wave and progress)\n     *\n     * @param {CanvasEntry} entry Target entry\n     * @param {boolean} vertical Whether to render the waveform vertically\n     */\n    applyCanvasTransforms(entry, vertical = false) {\n        entry.applyCanvasTransforms(vertical);\n    }\n\n    /**\n     * Return image data of the multi-canvas\n     *\n     * When using a `type` of `'blob'`, this will return a `Promise`.\n     *\n     * @param {string} format='image/png' An optional value of a format type.\n     * @param {number} quality=0.92 An optional value between 0 and 1.\n     * @param {string} type='dataURL' Either 'dataURL' or 'blob'.\n     * @return {string|string[]|Promise} When using the default `'dataURL'`\n     * `type` this returns a single data URL or an array of data URLs,\n     * one for each canvas. When using the `'blob'` `type` this returns a\n     * `Promise` that resolves with an array of `Blob` instances, one for each\n     * canvas.\n     */\n    getImage(format, quality, type) {\n        if (type === 'blob') {\n            return Promise.all(\n                this.canvases.map(entry => {\n                    return entry.getImage(format, quality, type);\n                })\n            );\n        } else if (type === 'dataURL') {\n            let images = this.canvases.map(entry =>\n                entry.getImage(format, quality, type)\n            );\n            return images.length > 1 ? images : images[0];\n        }\n    }\n\n    /**\n     * Render the new progress\n     *\n     * @param {number} position X-offset of progress position in pixels\n     */\n    updateProgress(position) {\n        this.style(this.progressWave, { width: position + 'px' });\n    }\n}\n","import MediaElement from './mediaelement';\n\n/**\n * MediaElementWebAudio backend: load audio via an HTML5 audio tag, but playback with the WebAudio API.\n * The advantage here is that the html5 <audio> tag can perform range requests on the server and not\n * buffer the entire file in one request, and you still get the filtering and scripting functionality\n * of the webaudio API.\n * Note that in order to use range requests and prevent buffering, you must provide peak data.\n *\n * @since 3.2.0\n */\nexport default class MediaElementWebAudio extends MediaElement {\n    /**\n     * Construct the backend\n     *\n     * @param {WavesurferParams} params Wavesurfer parameters\n     */\n    constructor(params) {\n        super(params);\n        /** @private */\n        this.params = params;\n        /** @private */\n        this.sourceMediaElement = null;\n    }\n\n    /**\n     * Initialise the backend, called in `wavesurfer.createBackend()`\n     */\n    init() {\n        this.setPlaybackRate(this.params.audioRate);\n        this.createTimer();\n        this.createVolumeNode();\n        this.createScriptNode();\n        this.createAnalyserNode();\n    }\n    /**\n     * Private method called by both `load` (from url)\n     * and `loadElt` (existing media element) methods.\n     *\n     * @param {HTMLMediaElement} media HTML5 Audio or Video element\n     * @param {number[]|Number.<Array[]>} peaks Array of peak data\n     * @param {string} preload HTML 5 preload attribute value\n     * @private\n     */\n    _load(media, peaks, preload) {\n        super._load(media, peaks, preload);\n        this.createMediaElementSource(media);\n    }\n\n    /**\n     * Create MediaElementSource node\n     *\n     * @since 3.2.0\n     * @param {HTMLMediaElement} mediaElement HTML5 Audio to load\n     */\n    createMediaElementSource(mediaElement) {\n        this.sourceMediaElement = this.ac.createMediaElementSource(\n            mediaElement\n        );\n        this.sourceMediaElement.connect(this.analyser);\n    }\n\n    play(start, end) {\n        this.resumeAudioContext();\n        return super.play(start, end);\n    }\n\n    /**\n     * This is called when wavesurfer is destroyed\n     *\n     */\n    destroy() {\n        super.destroy();\n\n        this.destroyWebAudio();\n    }\n}\n","import WebAudio from './webaudio';\nimport * as util from './util';\n\n/**\n * MediaElement backend\n */\nexport default class MediaElement extends WebAudio {\n    /**\n     * Construct the backend\n     *\n     * @param {WavesurferParams} params Wavesurfer parameters\n     */\n    constructor(params) {\n        super(params);\n        /** @private */\n        this.params = params;\n\n        /**\n         * Initially a dummy media element to catch errors. Once `_load` is\n         * called, this will contain the actual `HTMLMediaElement`.\n         * @private\n         */\n        this.media = {\n            currentTime: 0,\n            duration: 0,\n            paused: true,\n            playbackRate: 1,\n            play() {},\n            pause() {},\n            volume: 0\n        };\n\n        /** @private */\n        this.mediaType = params.mediaType.toLowerCase();\n        /** @private */\n        this.elementPosition = params.elementPosition;\n        /** @private */\n        this.peaks = null;\n        /** @private */\n        this.playbackRate = 1;\n        /** @private */\n        this.volume = 1;\n        /** @private */\n        this.isMuted = false;\n        /** @private */\n        this.buffer = null;\n        /** @private */\n        this.onPlayEnd = null;\n        /** @private */\n        this.mediaListeners = {};\n    }\n\n    /**\n     * Initialise the backend, called in `wavesurfer.createBackend()`\n     */\n    init() {\n        this.setPlaybackRate(this.params.audioRate);\n        this.createTimer();\n    }\n\n    /**\n     * Attach event listeners to media element.\n     */\n    _setupMediaListeners() {\n        this.mediaListeners.error = () => {\n            this.fireEvent('error', 'Error loading media element');\n        };\n        this.mediaListeners.waiting = () => {\n            this.fireEvent('waiting');\n        };\n        this.mediaListeners.canplay = () => {\n            this.fireEvent('canplay');\n        };\n        this.mediaListeners.ended = () => {\n            this.fireEvent('finish');\n        };\n        // listen to and relay play, pause and seeked events to enable\n        // playback control from the external media element\n        this.mediaListeners.play = () => {\n            this.fireEvent('play');\n        };\n        this.mediaListeners.pause = () => {\n            this.fireEvent('pause');\n        };\n        this.mediaListeners.seeked = event => {\n            this.fireEvent('seek');\n        };\n        this.mediaListeners.volumechange = event => {\n            this.isMuted = this.media.muted;\n            if (this.isMuted) {\n                this.volume = 0;\n            } else {\n                this.volume = this.media.volume;\n            }\n            this.fireEvent('volume');\n        };\n\n        // reset event listeners\n        Object.keys(this.mediaListeners).forEach(id => {\n            this.media.removeEventListener(id, this.mediaListeners[id]);\n            this.media.addEventListener(id, this.mediaListeners[id]);\n        });\n    }\n\n    /**\n     * Create a timer to provide a more precise `audioprocess` event.\n     */\n    createTimer() {\n        const onAudioProcess = () => {\n            if (this.isPaused()) {\n                return;\n            }\n            this.fireEvent('audioprocess', this.getCurrentTime());\n\n            // Call again in the next frame\n            util.frame(onAudioProcess)();\n        };\n\n        this.on('play', onAudioProcess);\n\n        // Update the progress one more time to prevent it from being stuck in\n        // case of lower framerates\n        this.on('pause', () => {\n            this.fireEvent('audioprocess', this.getCurrentTime());\n        });\n    }\n\n    /**\n     * Create media element with url as its source,\n     * and append to container element.\n     *\n     * @param {string} url Path to media file\n     * @param {HTMLElement} container HTML element\n     * @param {number[]|Number.<Array[]>} peaks Array of peak data\n     * @param {string} preload HTML 5 preload attribute value\n     * @throws Will throw an error if the `url` argument is not a valid media\n     * element.\n     */\n    load(url, container, peaks, preload) {\n        const media = document.createElement(this.mediaType);\n        media.controls = this.params.mediaControls;\n        media.autoplay = this.params.autoplay || false;\n        media.preload = preload == null ? 'auto' : preload;\n        media.src = url;\n        media.style.width = '100%';\n\n        const prevMedia = container.querySelector(this.mediaType);\n        if (prevMedia) {\n            container.removeChild(prevMedia);\n        }\n        container.appendChild(media);\n\n        this._load(media, peaks, preload);\n    }\n\n    /**\n     * Load existing media element.\n     *\n     * @param {HTMLMediaElement} elt HTML5 Audio or Video element\n     * @param {number[]|Number.<Array[]>} peaks Array of peak data\n     */\n    loadElt(elt, peaks) {\n        elt.controls = this.params.mediaControls;\n        elt.autoplay = this.params.autoplay || false;\n\n        this._load(elt, peaks, elt.preload);\n    }\n\n    /**\n     * Method called by both `load` (from url)\n     * and `loadElt` (existing media element) methods.\n     *\n     * @param {HTMLMediaElement} media HTML5 Audio or Video element\n     * @param {number[]|Number.<Array[]>} peaks Array of peak data\n     * @param {string} preload HTML 5 preload attribute value\n     * @throws Will throw an error if the `media` argument is not a valid media\n     * element.\n     * @private\n     */\n    _load(media, peaks, preload) {\n        // verify media element is valid\n        if (\n            !(media instanceof HTMLMediaElement) ||\n            typeof media.addEventListener === 'undefined'\n        ) {\n            throw new Error('media parameter is not a valid media element');\n        }\n\n        // load must be called manually on iOS, otherwise peaks won't draw\n        // until a user interaction triggers load --> 'ready' event\n        //\n        // note that we avoid calling media.load here when given peaks and preload == 'none'\n        // as this almost always triggers some browser fetch of the media.\n        if (typeof media.load == 'function' && !(peaks && preload == 'none')) {\n            // Resets the media element and restarts the media resource. Any\n            // pending events are discarded. How much media data is fetched is\n            // still affected by the preload attribute.\n            media.load();\n        }\n\n        this.media = media;\n        this._setupMediaListeners();\n        this.peaks = peaks;\n        this.onPlayEnd = null;\n        this.buffer = null;\n        this.isMuted = media.muted;\n        this.setPlaybackRate(this.playbackRate);\n        this.setVolume(this.volume);\n    }\n\n    /**\n     * Used by `wavesurfer.isPlaying()` and `wavesurfer.playPause()`\n     *\n     * @return {boolean} Media paused or not\n     */\n    isPaused() {\n        return !this.media || this.media.paused;\n    }\n\n    /**\n     * Used by `wavesurfer.getDuration()`\n     *\n     * @return {number} Duration\n     */\n    getDuration() {\n        if (this.explicitDuration) {\n            return this.explicitDuration;\n        }\n        let duration = (this.buffer || this.media).duration;\n        if (duration >= Infinity) {\n            // streaming audio\n            duration = this.media.seekable.end(0);\n        }\n        return duration;\n    }\n\n    /**\n     * Returns the current time in seconds relative to the audio-clip's\n     * duration.\n     *\n     * @return {number} Current time\n     */\n    getCurrentTime() {\n        return this.media && this.media.currentTime;\n    }\n\n    /**\n     * Get the position from 0 to 1\n     *\n     * @return {number} Current position\n     */\n    getPlayedPercents() {\n        return this.getCurrentTime() / this.getDuration() || 0;\n    }\n\n    /**\n     * Get the audio source playback rate.\n     *\n     * @return {number} Playback rate\n     */\n    getPlaybackRate() {\n        return this.playbackRate || this.media.playbackRate;\n    }\n\n    /**\n     * Set the audio source playback rate.\n     *\n     * @param {number} value Playback rate\n     */\n    setPlaybackRate(value) {\n        this.playbackRate = value || 1;\n        this.media.playbackRate = this.playbackRate;\n    }\n\n    /**\n     * Used by `wavesurfer.seekTo()`\n     *\n     * @param {number} start Position to start at in seconds\n     */\n    seekTo(start) {\n        if (start != null && !isNaN(start)) {\n            this.media.currentTime = start;\n        }\n        this.clearPlayEnd();\n    }\n\n    /**\n     * Plays the loaded audio region.\n     *\n     * @param {number} start Start offset in seconds, relative to the beginning\n     * of a clip.\n     * @param {number} end When to stop, relative to the beginning of a clip.\n     * @emits MediaElement#play\n     * @return {Promise} Result\n     */\n    play(start, end) {\n        this.seekTo(start);\n        const promise = this.media.play();\n        end && this.setPlayEnd(end);\n\n        return promise;\n    }\n\n    /**\n     * Pauses the loaded audio.\n     *\n     * @emits MediaElement#pause\n     * @return {Promise} Result\n     */\n    pause() {\n        let promise;\n\n        if (this.media) {\n            promise = this.media.pause();\n        }\n        this.clearPlayEnd();\n\n        return promise;\n    }\n\n    /**\n     * Set the play end\n     *\n     * @param {number} end Where to end\n     */\n    setPlayEnd(end) {\n        this.clearPlayEnd();\n\n        this._onPlayEnd = time => {\n            if (time >= end) {\n                this.pause();\n                this.seekTo(end);\n            }\n        };\n        this.on('audioprocess', this._onPlayEnd);\n    }\n\n    /** @private */\n    clearPlayEnd() {\n        if (this._onPlayEnd) {\n            this.un('audioprocess', this._onPlayEnd);\n            this._onPlayEnd = null;\n        }\n    }\n\n    /**\n     * Compute the max and min value of the waveform when broken into\n     * <length> subranges.\n     *\n     * @param {number} length How many subranges to break the waveform into.\n     * @param {number} first First sample in the required range.\n     * @param {number} last Last sample in the required range.\n     * @return {number[]|Number.<Array[]>} Array of 2*<length> peaks or array of\n     * arrays of peaks consisting of (max, min) values for each subrange.\n     */\n    getPeaks(length, first, last) {\n        if (this.buffer) {\n            return super.getPeaks(length, first, last);\n        }\n        return this.peaks || [];\n    }\n\n    /**\n     * Set the sink id for the media player\n     *\n     * @param {string} deviceId String value representing audio device id.\n     * @returns {Promise} A Promise that resolves to `undefined` when there\n     * are no errors.\n     */\n    setSinkId(deviceId) {\n        if (deviceId) {\n            if (!this.media.setSinkId) {\n                return Promise.reject(\n                    new Error('setSinkId is not supported in your browser')\n                );\n            }\n            return this.media.setSinkId(deviceId);\n        }\n\n        return Promise.reject(new Error('Invalid deviceId: ' + deviceId));\n    }\n\n    /**\n     * Get the current volume\n     *\n     * @return {number} value A floating point value between 0 and 1.\n     */\n    getVolume() {\n        return this.volume;\n    }\n\n    /**\n     * Set the audio volume\n     *\n     * @param {number} value A floating point value between 0 and 1.\n     */\n    setVolume(value) {\n        this.volume = value;\n        // no need to change when it's already at that volume\n        if (this.media.volume !== this.volume) {\n            this.media.volume = this.volume;\n        }\n    }\n\n    /**\n     * Enable or disable muted audio\n     *\n     * @since 4.0.0\n     * @param {boolean} muted Specify `true` to mute audio.\n     */\n    setMute(muted) {\n        // This causes a volume change to be emitted too through the\n        // volumechange event listener.\n        this.isMuted = this.media.muted = muted;\n    }\n\n    /**\n     * This is called when wavesurfer is destroyed\n     *\n     */\n    destroy() {\n        this.pause();\n        this.unAll();\n        this.destroyed = true;\n\n        // cleanup media event listeners\n        Object.keys(this.mediaListeners).forEach(id => {\n            if (this.media) {\n                this.media.removeEventListener(id, this.mediaListeners[id]);\n            }\n        });\n\n        if (\n            this.params.removeMediaElementOnDestroy &&\n            this.media &&\n            this.media.parentNode\n        ) {\n            this.media.parentNode.removeChild(this.media);\n        }\n\n        this.media = null;\n    }\n}\n","/**\n * Caches the decoded peaks data to improve rendering speed for large audio\n *\n * Is used if the option parameter `partialRender` is set to `true`\n */\nexport default class PeakCache {\n    /**\n     * Instantiate cache\n     */\n    constructor() {\n        this.clearPeakCache();\n    }\n\n    /**\n     * Empty the cache\n     */\n    clearPeakCache() {\n        /**\n         * Flat array with entries that are always in pairs to mark the\n         * beginning and end of each subrange.  This is a convenience so we can\n         * iterate over the pairs for easy set difference operations.\n         * @private\n         */\n        this.peakCacheRanges = [];\n        /**\n         * Length of the entire cachable region, used for resetting the cache\n         * when this changes (zoom events, for instance).\n         * @private\n         */\n        this.peakCacheLength = -1;\n    }\n\n    /**\n     * Add a range of peaks to the cache\n     *\n     * @param {number} length The length of the range\n     * @param {number} start The x offset of the start of the range\n     * @param {number} end The x offset of the end of the range\n     * @return {Number.<Array[]>} Array with arrays of numbers\n     */\n    addRangeToPeakCache(length, start, end) {\n        if (length != this.peakCacheLength) {\n            this.clearPeakCache();\n            this.peakCacheLength = length;\n        }\n\n        // Return ranges that weren't in the cache before the call.\n        let uncachedRanges = [];\n        let i = 0;\n        // Skip ranges before the current start.\n        while (\n            i < this.peakCacheRanges.length &&\n            this.peakCacheRanges[i] < start\n        ) {\n            i++;\n        }\n        // If |i| is even, |start| falls after an existing range.  Otherwise,\n        // |start| falls between an existing range, and the uncached region\n        // starts when we encounter the next node in |peakCacheRanges| or\n        // |end|, whichever comes first.\n        if (i % 2 == 0) {\n            uncachedRanges.push(start);\n        }\n        while (\n            i < this.peakCacheRanges.length &&\n            this.peakCacheRanges[i] <= end\n        ) {\n            uncachedRanges.push(this.peakCacheRanges[i]);\n            i++;\n        }\n        // If |i| is even, |end| is after all existing ranges.\n        if (i % 2 == 0) {\n            uncachedRanges.push(end);\n        }\n\n        // Filter out the 0-length ranges.\n        uncachedRanges = uncachedRanges.filter((item, pos, arr) => {\n            if (pos == 0) {\n                return item != arr[pos + 1];\n            } else if (pos == arr.length - 1) {\n                return item != arr[pos - 1];\n            }\n            return item != arr[pos - 1] && item != arr[pos + 1];\n        });\n\n        // Merge the two ranges together, uncachedRanges will either contain\n        // wholly new points, or duplicates of points in peakCacheRanges.  If\n        // duplicates are detected, remove both and extend the range.\n        this.peakCacheRanges = this.peakCacheRanges.concat(uncachedRanges);\n        this.peakCacheRanges = this.peakCacheRanges\n            .sort((a, b) => a - b)\n            .filter((item, pos, arr) => {\n                if (pos == 0) {\n                    return item != arr[pos + 1];\n                } else if (pos == arr.length - 1) {\n                    return item != arr[pos - 1];\n                }\n                return item != arr[pos - 1] && item != arr[pos + 1];\n            });\n\n        // Push the uncached ranges into an array of arrays for ease of\n        // iteration in the functions that call this.\n        const uncachedRangePairs = [];\n        for (i = 0; i < uncachedRanges.length; i += 2) {\n            uncachedRangePairs.push([uncachedRanges[i], uncachedRanges[i + 1]]);\n        }\n\n        return uncachedRangePairs;\n    }\n\n    /**\n     * For testing\n     *\n     * @return {Number.<Array[]>} Array with arrays of numbers\n     */\n    getCacheRanges() {\n        const peakCacheRangePairs = [];\n        let i;\n        for (i = 0; i < this.peakCacheRanges.length; i += 2) {\n            peakCacheRangePairs.push([\n                this.peakCacheRanges[i],\n                this.peakCacheRanges[i + 1]\n            ]);\n        }\n        return peakCacheRangePairs;\n    }\n}\n","import utilMax from './max';\r\nimport utilmin from './min';\r\n\r\n/**\r\n * Get the largest absolute value in an array\r\n *\r\n * @param   {Array} values Array of numbers\r\n * @returns {Number} Largest number found\r\n * @example console.log(max([-3, 2, 1]), max([-3, 2, 4])); // logs 3 4\r\n * @since 4.3.0\r\n */\r\nexport default function absMax(values) {\r\n    const max = utilMax(values);\r\n    const min = utilmin(values);\r\n    return -min > max ? -min : max;\r\n}\r\n","/**\n * Returns a number limited to the given range.\n *\n * @param {number} val The number to be limited to a range\n * @param {number} min The lower boundary of the limit range\n * @param {number} max The upper boundary of the limit range\n * @returns {number} A number in the range [min, max]\n */\nexport default function clamp(val, min, max) {\n    return Math.min(Math.max(min, val), max);\n}\n","/**\n * @since 3.0.0\n */\n\nimport Observer from './observer';\n\nclass ProgressHandler {\n    /**\n     * Instantiate ProgressHandler\n     *\n     * @param {Observer} instance The `fetchFile` observer instance.\n     * @param {Number} contentLength Content length.\n     * @param {Response} response Response object.\n     */\n    constructor(instance, contentLength, response) {\n        this.instance = instance;\n        this.instance._reader = response.body.getReader();\n\n        this.total = parseInt(contentLength, 10);\n        this.loaded = 0;\n    }\n\n    /**\n     * A method that is called once, immediately after the `ReadableStream``\n     * is constructed.\n     *\n     * @param {ReadableStreamDefaultController} controller Controller instance\n     *     used to control the stream.\n     */\n    start(controller) {\n        const read = () => {\n            // instance._reader.read() returns a promise that resolves\n            // when a value has been received\n            this.instance._reader\n                .read()\n                .then(({ done, value }) => {\n                    // result objects contain two properties:\n                    // done  - true if the stream has already given you all its data.\n                    // value - some data. Always undefined when done is true.\n                    if (done) {\n                        // ensure onProgress called when content-length=0\n                        if (this.total === 0) {\n                            this.instance.onProgress.call(this.instance, {\n                                loaded: this.loaded,\n                                total: this.total,\n                                lengthComputable: false\n                            });\n                        }\n                        // no more data needs to be consumed, close the stream\n                        controller.close();\n                        return;\n                    }\n\n                    this.loaded += value.byteLength;\n                    this.instance.onProgress.call(this.instance, {\n                        loaded: this.loaded,\n                        total: this.total,\n                        lengthComputable: !(this.total === 0)\n                    });\n                    // enqueue the next data chunk into our target stream\n                    controller.enqueue(value);\n                    read();\n                })\n                .catch(error => {\n                    controller.error(error);\n                });\n        };\n\n        read();\n    }\n}\n\n/**\n * Load a file using `fetch`.\n *\n * @param {object} options Request options to use. See example below.\n * @returns {Observer} Observer instance\n * @example\n * // default options\n * let options = {\n *     url: undefined,\n *     method: 'GET',\n *     mode: 'cors',\n *     credentials: 'same-origin',\n *     cache: 'default',\n *     responseType: 'json',\n *     requestHeaders: [],\n *     redirect: 'follow',\n *     referrer: 'client'\n * };\n *\n * // override some options\n * options.url = '../media/demo.wav';\n\n * // available types: 'arraybuffer', 'blob', 'json' or 'text'\n * options.responseType = 'arraybuffer';\n *\n * // make fetch call\n * let request = util.fetchFile(options);\n *\n * // listen for events\n * request.on('progress', e => {\n *     console.log('progress', e);\n * });\n *\n * request.on('success', data => {\n *     console.log('success!', data);\n * });\n *\n * request.on('error', e => {\n *     console.warn('fetchFile error: ', e);\n * });\n */\nexport default function fetchFile(options) {\n    if (!options) {\n        throw new Error('fetch options missing');\n    } else if (!options.url) {\n        throw new Error('fetch url missing');\n    }\n    const instance = new Observer();\n    const fetchHeaders = new Headers();\n    const fetchRequest = new Request(options.url);\n\n    // add ability to abort\n    instance.controller = new AbortController();\n\n    // check if headers have to be added\n    if (options && options.requestHeaders) {\n        // add custom request headers\n        options.requestHeaders.forEach(header => {\n            fetchHeaders.append(header.key, header.value);\n        });\n    }\n\n    // parse fetch options\n    const responseType = options.responseType || 'json';\n    const fetchOptions = {\n        method: options.method || 'GET',\n        headers: fetchHeaders,\n        mode: options.mode || 'cors',\n        credentials: options.credentials || 'same-origin',\n        cache: options.cache || 'default',\n        redirect: options.redirect || 'follow',\n        referrer: options.referrer || 'client',\n        signal: instance.controller.signal\n    };\n\n    fetch(fetchRequest, fetchOptions)\n        .then(response => {\n            // store response reference\n            instance.response = response;\n\n            let progressAvailable = true;\n            if (!response.body) {\n                // ReadableStream is not yet supported in this browser\n                // see https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\n                progressAvailable = false;\n            }\n\n            // Server must send CORS header \"Access-Control-Expose-Headers: content-length\"\n            const contentLength = response.headers.get('content-length');\n            if (contentLength === null) {\n                // Content-Length server response header missing.\n                // Don't evaluate download progress if we can't compare against a total size\n                // see https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Access-Control-Expose-Headers\n                progressAvailable = false;\n            }\n\n            if (!progressAvailable) {\n                // not able to check download progress so skip it\n                return response;\n            }\n\n            // fire progress event when during load\n            instance.onProgress = e => {\n                instance.fireEvent('progress', e);\n            };\n\n            return new Response(\n                new ReadableStream(\n                    new ProgressHandler(instance, contentLength, response)\n                ),\n                fetchOptions\n            );\n        })\n        .then(response => {\n            let errMsg;\n            if (response.ok) {\n                switch (responseType) {\n                    case 'arraybuffer':\n                        return response.arrayBuffer();\n\n                    case 'json':\n                        return response.json();\n\n                    case 'blob':\n                        return response.blob();\n\n                    case 'text':\n                        return response.text();\n\n                    default:\n                        errMsg = 'Unknown responseType: ' + responseType;\n                        break;\n                }\n            }\n            if (!errMsg) {\n                errMsg = 'HTTP error status: ' + response.status;\n            }\n            throw new Error(errMsg);\n        })\n        .then(response => {\n            instance.fireEvent('success', response);\n        })\n        .catch(error => {\n            instance.fireEvent('error', error);\n        });\n\n    // return the fetch request\n    instance.fetchRequest = fetchRequest;\n    return instance;\n}\n","import reqAnimationFrame from './request-animation-frame';\n\n/**\n * Create a function which will be called at the next requestAnimationFrame\n * cycle\n *\n * @param {function} func The function to call\n *\n * @return {func} The function wrapped within a requestAnimationFrame\n */\nexport default function frame(func) {\n    return (...args) => reqAnimationFrame(() => func(...args));\n}\n","/**\n * Get a random prefixed ID\n *\n * @param {String} prefix Prefix to use. Default is `'wavesurfer_'`.\n * @returns {String} Random prefixed ID\n * @example\n * console.log(getId()); // logs 'wavesurfer_b5pors4ru6g'\n *\n * let prefix = 'foo-';\n * console.log(getId(prefix)); // logs 'foo-b5pors4ru6g'\n */\nexport default function getId(prefix) {\n    if (prefix === undefined) {\n        prefix = 'wavesurfer_';\n    }\n    return (\n        prefix +\n        Math.random()\n            .toString(32)\n            .substring(2)\n    );\n}\n","export { default as getId } from './get-id';\nexport { default as max } from './max';\nexport { default as min } from './min';\nexport { default as absMax } from './absMax';\nexport { default as Observer } from './observer';\nexport { default as style } from './style';\nexport { default as requestAnimationFrame } from './request-animation-frame';\nexport { default as frame } from './frame';\nexport { default as debounce } from 'debounce';\nexport { default as preventClick } from './prevent-click';\nexport { default as fetchFile } from './fetch';\nexport { default as clamp } from './clamp';\nexport { default as withOrientation } from './orientation';\nexport { default as ignoreSilenceMode } from './silence-mode';\n","/**\n * Get the largest value\n *\n * @param   {Array} values Array of numbers\n * @returns {Number} Largest number found\n * @example console.log(max([1, 2, 3])); // logs 3\n */\nexport default function max(values) {\n    let largest = -Infinity;\n    Object.keys(values).forEach(i => {\n        if (values[i] > largest) {\n            largest = values[i];\n        }\n    });\n    return largest;\n}\n","/**\n * Get the smallest value\n *\n * @param   {Array} values Array of numbers\n * @returns {Number} Smallest number found\n * @example console.log(min([1, 2, 3])); // logs 1\n */\nexport default function min(values) {\n    let smallest = Number(Infinity);\n    Object.keys(values).forEach(i => {\n        if (values[i] < smallest) {\n            smallest = values[i];\n        }\n    });\n    return smallest;\n}\n","/**\n * @typedef {Object} ListenerDescriptor\n * @property {string} name The name of the event\n * @property {function} callback The callback\n * @property {function} un The function to call to remove the listener\n */\n\n/**\n * Observer class\n */\nexport default class Observer {\n    /**\n     * Instantiate Observer\n     */\n    constructor() {\n        /**\n         * @private\n         * @todo Initialise the handlers here already and remove the conditional\n         * assignment in `on()`\n         */\n        this._disabledEventEmissions = [];\n        this.handlers = null;\n    }\n    /**\n     * Attach a handler function for an event.\n     *\n     * @param {string} event Name of the event to listen to\n     * @param {function} fn The callback to trigger when the event is fired\n     * @return {ListenerDescriptor} The event descriptor\n     */\n    on(event, fn) {\n        if (!this.handlers) {\n            this.handlers = {};\n        }\n\n        let handlers = this.handlers[event];\n        if (!handlers) {\n            handlers = this.handlers[event] = [];\n        }\n        handlers.push(fn);\n\n        // Return an event descriptor\n        return {\n            name: event,\n            callback: fn,\n            un: (e, fn) => this.un(e, fn)\n        };\n    }\n\n    /**\n     * Remove an event handler.\n     *\n     * @param {string} event Name of the event the listener that should be\n     * removed listens to\n     * @param {function} fn The callback that should be removed\n     */\n    un(event, fn) {\n        if (!this.handlers) {\n            return;\n        }\n\n        const handlers = this.handlers[event];\n        let i;\n        if (handlers) {\n            if (fn) {\n                for (i = handlers.length - 1; i >= 0; i--) {\n                    if (handlers[i] == fn) {\n                        handlers.splice(i, 1);\n                    }\n                }\n            } else {\n                handlers.length = 0;\n            }\n        }\n    }\n\n    /**\n     * Remove all event handlers.\n     */\n    unAll() {\n        this.handlers = null;\n    }\n\n    /**\n     * Attach a handler to an event. The handler is executed at most once per\n     * event type.\n     *\n     * @param {string} event The event to listen to\n     * @param {function} handler The callback that is only to be called once\n     * @return {ListenerDescriptor} The event descriptor\n     */\n    once(event, handler) {\n        const fn = (...args) => {\n            /*  eslint-disable no-invalid-this */\n            handler.apply(this, args);\n            /*  eslint-enable no-invalid-this */\n            setTimeout(() => {\n                this.un(event, fn);\n            }, 0);\n        };\n        return this.on(event, fn);\n    }\n\n    /**\n     * Disable firing a list of events by name. When specified, event handlers for any event type\n     * passed in here will not be called.\n     *\n     * @since 4.0.0\n     * @param {string[]} eventNames an array of event names to disable emissions for\n     * @example\n     * // disable seek and interaction events\n     * wavesurfer.setDisabledEventEmissions(['seek', 'interaction']);\n     */\n    setDisabledEventEmissions(eventNames) {\n        this._disabledEventEmissions = eventNames;\n    }\n\n    /**\n     * plugins borrow part of this class without calling the constructor,\n     * so we have to be careful about _disabledEventEmissions\n     */\n\n    _isDisabledEventEmission(event) {\n        return this._disabledEventEmissions && this._disabledEventEmissions.includes(event);\n    }\n\n    /**\n     * Manually fire an event\n     *\n     * @param {string} event The event to fire manually\n     * @param {...any} args The arguments with which to call the listeners\n     */\n    fireEvent(event, ...args) {\n        if (!this.handlers || this._isDisabledEventEmission(event)) {\n            return;\n        }\n\n        const handlers = this.handlers[event];\n        handlers &&\n            handlers.forEach(fn => {\n                fn(...args);\n            });\n    }\n}\n","const verticalPropMap = {\n    width: 'height',\n    height: 'width',\n\n    overflowX: 'overflowY',\n    overflowY: 'overflowX',\n\n    clientWidth: 'clientHeight',\n    clientHeight: 'clientWidth',\n\n    clientX: 'clientY',\n    clientY: 'clientX',\n\n    scrollWidth: 'scrollHeight',\n    scrollLeft: 'scrollTop',\n\n    offsetLeft: 'offsetTop',\n    offsetTop: 'offsetLeft',\n    offsetHeight: 'offsetWidth',\n    offsetWidth: 'offsetHeight',\n\n    left: 'top',\n    right: 'bottom',\n    top: 'left',\n    bottom: 'right',\n\n    borderRightStyle: 'borderBottomStyle',\n    borderRightWidth: 'borderBottomWidth',\n    borderRightColor: 'borderBottomColor'\n};\n\n/**\n * Convert a horizontally-oriented property name to a vertical one.\n *\n * @param {string} prop A property name\n * @param {bool} vertical Whether the element is oriented vertically\n * @returns {string} prop, converted appropriately\n */\nfunction mapProp(prop, vertical) {\n    if (Object.prototype.hasOwnProperty.call(verticalPropMap, prop)) {\n        return vertical ? verticalPropMap[prop] : prop;\n    } else {\n        return prop;\n    }\n}\n\nconst isProxy = Symbol(\"isProxy\");\n\n/**\n * Returns an appropriately oriented object based on vertical.\n * If vertical is true, attribute getting and setting will be mapped through\n * verticalPropMap, so that e.g. getting the object's .width will give its\n * .height instead.\n * Certain methods of an oriented object will return oriented objects as well.\n * Oriented objects can't be added to the DOM directly since they are Proxy objects\n * and thus fail typechecks. Use domElement to get the actual element for this.\n *\n * @param {object} target The object to be wrapped and oriented\n * @param {bool} vertical Whether the element is oriented vertically\n * @returns {Proxy} An oriented object with attr translation via verticalAttrMap\n * @since 5.0.0\n */\nexport default function withOrientation(target, vertical) {\n    if (target[isProxy]) {\n        return target;\n    } else {\n        return new Proxy(\n            target, {\n                get: function(obj, prop, receiver) {\n                    if (prop === isProxy) {\n                        return true;\n                    } else if (prop === 'domElement') {\n                        return obj;\n                    } else if (prop === 'style') {\n                        return withOrientation(obj.style, vertical);\n                    } else if (prop === 'canvas') {\n                        return withOrientation(obj.canvas, vertical);\n                    } else if (prop === 'getBoundingClientRect') {\n                        return function(...args) {\n                            return withOrientation(obj.getBoundingClientRect(...args), vertical);\n                        };\n                    } else if (prop === 'getContext') {\n                        return function(...args) {\n                            return withOrientation(obj.getContext(...args), vertical);\n                        };\n                    } else {\n                        let value = obj[mapProp(prop, vertical)];\n                        return typeof value == 'function' ? value.bind(obj) : value;\n                    }\n                },\n                set: function(obj, prop, value) {\n                    obj[mapProp(prop, vertical)] = value;\n                    return true;\n                }\n            }\n        );\n    }\n}\n","/**\n * Stops propagation of click event and removes event listener\n *\n * @private\n * @param {object} event The click event\n */\nfunction preventClickHandler(event) {\n    event.stopPropagation();\n    document.body.removeEventListener('click', preventClickHandler, true);\n}\n\n/**\n * Starts listening for click event and prevent propagation\n *\n * @param {object} values Values\n */\nexport default function preventClick(values) {\n    document.body.addEventListener('click', preventClickHandler, true);\n}\n","/* eslint-disable valid-jsdoc */\n/**\n * Returns the `requestAnimationFrame` function for the browser, or a shim with\n * `setTimeout` if the function is not found\n *\n * @return {function} Available `requestAnimationFrame` function for the browser\n */\nexport default (\n    window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    ((callback, element) => setTimeout(callback, 1000 / 60))\n).bind(window);\n","/**\n * Ignores device silence mode when using the `WebAudio` backend.\n *\n * Many mobile devices contain a hardware button to mute the ringtone for incoming\n * calls and messages. Unfortunately, on some platforms like iOS, this also mutes\n * wavesurfer's audio when using the `WebAudio` backend. This function creates a\n * temporary `<audio>` element that makes sure the WebAudio backend keeps playing\n * when muting the device ringer.\n *\n * @since 5.2.0\n */\nexport default function ignoreSilenceMode() {\n    // Set webaudio context with 1 second silent audio 44100 bit rate buffer to allow playing audio even if silent switch is on the device\n    const silentAC = new AudioContext();\n    const silentBS = silentAC.createBufferSource();\n    silentBS.buffer = silentAC.createBuffer(1, 1, 44100);\n    silentBS.connect(silentAC.destination);\n    silentBS.start();\n\n    // Set the src to a short bit of url encoded as a silent mp3\n    // NOTE The silence MP3 must be high quality, when web audio sounds are played\n    // in parallel the web audio sound is mixed to match the bitrate of the html sound\n    // 0.01 seconds of silence VBR220-260 Joint Stereo 859B\n    const audioData = \"data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==\";\n\n    // disable iOS Airplay (setting the attribute in js doesn't work)\n    let tmp = document.createElement(\"div\");\n    tmp.innerHTML = '<audio x-webkit-airplay=\"deny\"></audio>';\n\n    let audioSilentMode = tmp.children.item(0);\n    audioSilentMode.src = audioData;\n    audioSilentMode.preload = \"auto\";\n    audioSilentMode.type = \"audio/mpeg\";\n    audioSilentMode.disableRemotePlayback = true;\n\n    // play\n    audioSilentMode.play();\n\n    // cleanup\n    audioSilentMode.remove();\n    tmp.remove();\n}\n","/**\n * Apply a map of styles to an element\n *\n * @param {HTMLElement} el The element that the styles will be applied to\n * @param {Object} styles The map of propName: attribute, both are used as-is\n *\n * @return {HTMLElement} el\n */\nexport default function style(el, styles) {\n    Object.keys(styles).forEach(prop => {\n        if (el.style[prop] !== styles[prop]) {\n            el.style[prop] = styles[prop];\n        }\n    });\n    return el;\n}\n","import * as util from './util';\nimport MultiCanvas from './drawer.multicanvas';\nimport WebAudio from './webaudio';\nimport MediaElement from './mediaelement';\nimport PeakCache from './peakcache';\nimport MediaElementWebAudio from './mediaelement-webaudio';\n\n/*\n * This work is licensed under a BSD-3-Clause License.\n */\n\n/** @external {HTMLElement} https://developer.mozilla.org/en/docs/Web/API/HTMLElement */\n/** @external {OfflineAudioContext} https://developer.mozilla.org/en-US/docs/Web/API/OfflineAudioContext */\n/** @external {File} https://developer.mozilla.org/en-US/docs/Web/API/File */\n/** @external {Blob} https://developer.mozilla.org/en-US/docs/Web/API/Blob */\n/** @external {CanvasRenderingContext2D} https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D */\n/** @external {MediaStreamConstraints} https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints */\n/** @external {AudioNode} https://developer.mozilla.org/de/docs/Web/API/AudioNode */\n\n/**\n * @typedef {Object} WavesurferParams\n * @property {AudioContext} audioContext=null Use your own previously\n * initialized AudioContext or leave blank.\n * @property {number} audioRate=1 Speed at which to play audio. Lower number is\n * slower.\n * @property {ScriptProcessorNode} audioScriptProcessor=null Use your own previously\n * initialized ScriptProcessorNode or leave blank.\n * @property {boolean} autoCenter=true If a scrollbar is present, center the\n * waveform on current progress\n * @property {number} autoCenterRate=5 If autoCenter is active, rate at which the\n * waveform is centered\n * @property {boolean} autoCenterImmediately=false If autoCenter is active, immediately\n * center waveform on current progress\n * @property {string} backend='WebAudio' `'WebAudio'|'MediaElement'|'MediaElementWebAudio'` In most cases\n * you don't have to set this manually. MediaElement is a fallback for unsupported browsers.\n * MediaElementWebAudio allows to use WebAudio API also with big audio files, loading audio like with\n * MediaElement backend (HTML5 audio tag). You have to use the same methods of MediaElement backend for loading and\n * playback, giving also peaks, so the audio data are not decoded. In this way you can use WebAudio features, like filters,\n * also with audio with big duration. For example:\n * ` wavesurfer.load(url | HTMLMediaElement, peaks, preload, duration);\n *   wavesurfer.play();\n *   wavesurfer.setFilter(customFilter);\n * `\n * @property {string} backgroundColor=null Change background color of the\n * waveform container.\n * @property {number} barHeight=1 The height of the wave bars.\n * @property {number} barRadius=0 The radius of the wave bars. Makes bars rounded\n * @property {number} barGap=null The optional spacing between bars of the wave,\n * if not provided will be calculated in legacy format.\n * @property {number} barWidth=null Draw the waveform using bars.\n * @property {number} barMinHeight=null If specified, draw at least a bar of this height,\n * eliminating waveform gaps\n * @property {boolean} closeAudioContext=false Close and nullify all audio\n * contexts when the destroy method is called.\n * @property {!string|HTMLElement} container CSS selector or HTML element where\n * the waveform should be drawn. This is the only required parameter.\n * @property {string} cursorColor='#333' The fill color of the cursor indicating\n * the playhead position.\n * @property {number} cursorWidth=1 Measured in pixels.\n * @property {object} drawingContextAttributes={desynchronized: false} Drawing context\n * attributes.\n * @property {number} duration=null Optional audio length so pre-rendered peaks\n * can be display immediately for example.\n * @property {boolean} fillParent=true Whether to fill the entire container or\n * draw only according to `minPxPerSec`.\n * @property {boolean} forceDecode=false Force decoding of audio using web audio\n * when zooming to get a more detailed waveform.\n * @property {number} height=128 The height of the waveform. Measured in\n * pixels.\n * @property {boolean} hideScrollbar=false Whether to hide the horizontal\n * scrollbar when one would normally be shown.\n * @property {boolean} hideCursor=false Whether to hide the mouse cursor\n * when one would normally be shown by default.\n * @property {boolean} ignoreSilenceMode=false If true, ignores device silence mode\n * when using the `WebAudio` backend.\n * @property {boolean} interact=true Whether the mouse interaction will be\n * enabled at initialization. You can switch this parameter at any time later\n * on.\n * @property {boolean} loopSelection=true (Use with regions plugin) Enable\n * looping of selected regions\n * @property {number} maxCanvasWidth=4000 Maximum width of a single canvas in\n * pixels, excluding a small overlap (2 * `pixelRatio`, rounded up to the next\n * even integer). If the waveform is longer than this value, additional canvases\n * will be used to render the waveform, which is useful for very large waveforms\n * that may be too wide for browsers to draw on a single canvas.\n * @property {boolean} mediaControls=false (Use with backend `MediaElement` or `MediaElementWebAudio`)\n * this enables the native controls for the media element\n * @property {string} mediaType='audio' (Use with backend `MediaElement` or `MediaElementWebAudio`)\n * `'audio'|'video'` ('video' only for `MediaElement`)\n * @property {number} minPxPerSec=20 Minimum number of pixels per second of\n * audio.\n * @property {boolean} normalize=false If true, normalize by the maximum peak\n * instead of 1.0.\n * @property {boolean} partialRender=false Use the PeakCache to improve\n * rendering speed of large waveforms\n * @property {number} pixelRatio=window.devicePixelRatio The pixel ratio used to\n * calculate display\n * @property {PluginDefinition[]} plugins=[] An array of plugin definitions to\n * register during instantiation, they will be directly initialised unless they\n * are added with the `deferInit` property set to true.\n * @property {string} progressColor='#555' The fill color of the part of the\n * waveform behind the cursor. When `progressColor` and `waveColor` are the same\n * the progress wave is not rendered at all.\n * @property {boolean} removeMediaElementOnDestroy=true Set to false to keep the\n * media element in the DOM when the player is destroyed. This is useful when\n * reusing an existing media element via the `loadMediaElement` method.\n * @property {Object} renderer=MultiCanvas Can be used to inject a custom\n * renderer.\n * @property {boolean|number} responsive=false If set to `true` resize the\n * waveform, when the window is resized. This is debounced with a `100ms`\n * timeout by default. If this parameter is a number it represents that timeout.\n * @property {boolean} rtl=false If set to `true`, renders waveform from\n * right-to-left.\n * @property {boolean} scrollParent=false Whether to scroll the container with a\n * lengthy waveform. Otherwise the waveform is shrunk to the container width\n * (see fillParent).\n * @property {number} skipLength=2 Number of seconds to skip with the\n * skipForward() and skipBackward() methods.\n * @property {boolean} splitChannels=false Render with separate waveforms for\n * the channels of the audio\n * @property {SplitChannelOptions} splitChannelsOptions={} Options for splitChannel rendering\n * @property {boolean} vertical=false Render the waveform vertically instead of horizontally.\n * @property {string} waveColor='#999' The fill color of the waveform after the\n * cursor.\n * @property {object} xhr={} XHR options. For example:\n * `let xhr = {\n *     cache: 'default',\n *     mode: 'cors',\n *     method: 'GET',\n *     credentials: 'same-origin',\n *     redirect: 'follow',\n *     referrer: 'client',\n *     requestHeaders: [\n *         {\n *             key: 'Authorization',\n *             value: 'my-token'\n *         }\n *     ]\n * };`\n */\n\n/**\n * @typedef {Object} PluginDefinition\n * @desc The Object used to describe a plugin\n * @example wavesurfer.addPlugin(pluginDefinition);\n * @property {string} name The name of the plugin, the plugin instance will be\n * added as a property to the wavesurfer instance under this name\n * @property {?Object} staticProps The properties that should be added to the\n * wavesurfer instance as static properties\n * @property {?boolean} deferInit Don't initialise plugin\n * automatically\n * @property {Object} params={} The plugin parameters, they are the first parameter\n * passed to the plugin class constructor function\n * @property {PluginClass} instance The plugin instance factory, is called with\n * the dependency specified in extends. Returns the plugin class.\n */\n\n/**\n * @typedef {Object} SplitChannelOptions\n * @desc parameters applied when splitChannels option is true\n * @property {boolean} overlay=false determines whether channels are rendered on top of each other or on separate tracks\n * @property {object} channelColors={} object describing color for each channel. Example:\n * {\n *     0: {\n *         progressColor: 'green',\n *         waveColor: 'pink'\n *     },\n *     1: {\n *         progressColor: 'orange',\n *         waveColor: 'purple'\n *     }\n * }\n * @property {number[]} filterChannels=[] indexes of channels to be hidden from rendering\n * @property {boolean} relativeNormalization=false determines whether\n * normalization is done per channel or maintains proportionality between\n * channels. Only applied when normalize and splitChannels are both true.\n * @property {boolean} splitDragSelection=false determines if drag selection in regions\n * plugin works separately on each channel or only one selection for all channels\n * @since 4.3.0\n */\n\n/**\n * @interface PluginClass\n *\n * @desc This is the interface which is implemented by all plugin classes. Note\n * that this only turns into an observer after being passed through\n * `wavesurfer.addPlugin`.\n *\n * @extends {Observer}\n */\nclass PluginClass {\n    /**\n     * Plugin definition factory\n     *\n     * This function must be used to create a plugin definition which can be\n     * used by wavesurfer to correctly instantiate the plugin.\n     *\n     * It returns a `PluginDefinition` object representing the plugin.\n     *\n     * @param {Object} params={} The plugin params (specific to the plugin)\n     */\n    create(params) {}\n    /**\n     * Construct the plugin\n     *\n     * @param {Object} params={} The plugin params (specific to the plugin)\n     * @param {Object} ws The wavesurfer instance\n     */\n    constructor(params, ws) {}\n    /**\n     * Initialise the plugin\n     *\n     * Start doing something. This is called by\n     * `wavesurfer.initPlugin(pluginName)`\n     */\n    init() {}\n    /**\n     * Destroy the plugin instance\n     *\n     * Stop doing something. This is called by\n     * `wavesurfer.destroyPlugin(pluginName)`\n     */\n    destroy() {}\n}\n\n/**\n * WaveSurfer core library class\n *\n * @extends {Observer}\n * @example\n * const params = {\n *   container: '#waveform',\n *   waveColor: 'violet',\n *   progressColor: 'purple'\n * };\n *\n * // initialise like this\n * const wavesurfer = WaveSurfer.create(params);\n *\n * // or like this ...\n * const wavesurfer = new WaveSurfer(params);\n * wavesurfer.init();\n *\n * // load audio file\n * wavesurfer.load('example/media/demo.wav');\n */\nexport default class WaveSurfer extends util.Observer {\n    /** @private */\n    defaultParams = {\n        audioContext: null,\n        audioScriptProcessor: null,\n        audioRate: 1,\n        autoCenter: true,\n        autoCenterRate: 5,\n        autoCenterImmediately: false,\n        backend: 'WebAudio',\n        backgroundColor: null,\n        barHeight: 1,\n        barRadius: 0,\n        barGap: null,\n        barMinHeight: null,\n        container: null,\n        cursorColor: '#333',\n        cursorWidth: 1,\n        dragSelection: true,\n        drawingContextAttributes: {\n            // Boolean that hints the user agent to reduce the latency\n            // by desynchronizing the canvas paint cycle from the event\n            // loop\n            desynchronized: false\n        },\n        duration: null,\n        fillParent: true,\n        forceDecode: false,\n        height: 128,\n        hideScrollbar: false,\n        hideCursor: false,\n        ignoreSilenceMode: false,\n        interact: true,\n        loopSelection: true,\n        maxCanvasWidth: 4000,\n        mediaContainer: null,\n        mediaControls: false,\n        mediaType: 'audio',\n        minPxPerSec: 20,\n        normalize: false,\n        partialRender: false,\n        pixelRatio:\n            window.devicePixelRatio || screen.deviceXDPI / screen.logicalXDPI,\n        plugins: [],\n        progressColor: '#555',\n        removeMediaElementOnDestroy: true,\n        renderer: MultiCanvas,\n        responsive: false,\n        rtl: false,\n        scrollParent: false,\n        skipLength: 2,\n        splitChannels: false,\n        splitChannelsOptions: {\n            overlay: false,\n            channelColors: {},\n            filterChannels: [],\n            relativeNormalization: false,\n            splitDragSelection: false\n        },\n        vertical: false,\n        waveColor: '#999',\n        xhr: {}\n    };\n\n    /** @private */\n    backends = {\n        MediaElement,\n        WebAudio,\n        MediaElementWebAudio\n    };\n\n    /**\n     * Instantiate this class, call its `init` function and returns it\n     *\n     * @param {WavesurferParams} params The wavesurfer parameters\n     * @return {Object} WaveSurfer instance\n     * @example const wavesurfer = WaveSurfer.create(params);\n     */\n    static create(params) {\n        const wavesurfer = new WaveSurfer(params);\n        return wavesurfer.init();\n    }\n\n    /**\n     * The library version number is available as a static property of the\n     * WaveSurfer class\n     *\n     * @type {String}\n     * @example\n     * console.log('Using wavesurfer.js ' + WaveSurfer.VERSION);\n     */\n    static VERSION = __VERSION__;\n\n    /**\n     * Functions in the `util` property are available as a prototype property to\n     * all instances\n     *\n     * @type {Object}\n     * @example\n     * const wavesurfer = WaveSurfer.create(params);\n     * wavesurfer.util.style(myElement, { background: 'blue' });\n     */\n    util = util;\n\n    /**\n     * Functions in the `util` property are available as a static property of the\n     * WaveSurfer class\n     *\n     * @type {Object}\n     * @example\n     * WaveSurfer.util.style(myElement, { background: 'blue' });\n     */\n    static util = util;\n\n    /**\n     * Initialise wavesurfer instance\n     *\n     * @param {WavesurferParams} params Instantiation options for wavesurfer\n     * @example\n     * const wavesurfer = new WaveSurfer(params);\n     * @returns {this} Wavesurfer instance\n     */\n    constructor(params) {\n        super();\n        /**\n         * Extract relevant parameters (or defaults)\n         * @private\n         */\n        this.params = Object.assign({}, this.defaultParams, params);\n        this.params.splitChannelsOptions = Object.assign(\n            {},\n            this.defaultParams.splitChannelsOptions,\n            params.splitChannelsOptions\n        );\n        /** @private */\n        this.container =\n            'string' == typeof params.container\n                ? document.querySelector(this.params.container)\n                : this.params.container;\n\n        if (!this.container) {\n            throw new Error('Container element not found');\n        }\n\n        if (this.params.mediaContainer == null) {\n            /** @private */\n            this.mediaContainer = this.container;\n        } else if (typeof this.params.mediaContainer == 'string') {\n            /** @private */\n            this.mediaContainer = document.querySelector(\n                this.params.mediaContainer\n            );\n        } else {\n            /** @private */\n            this.mediaContainer = this.params.mediaContainer;\n        }\n\n        if (!this.mediaContainer) {\n            throw new Error('Media Container element not found');\n        }\n\n        if (this.params.maxCanvasWidth <= 1) {\n            throw new Error('maxCanvasWidth must be greater than 1');\n        } else if (this.params.maxCanvasWidth % 2 == 1) {\n            throw new Error('maxCanvasWidth must be an even number');\n        }\n\n        if (this.params.rtl === true) {\n            if (this.params.vertical === true) {\n                util.style(this.container, { transform: 'rotateX(180deg)' });\n            } else {\n                util.style(this.container, { transform: 'rotateY(180deg)' });\n            }\n        }\n\n        if (this.params.backgroundColor) {\n            this.setBackgroundColor(this.params.backgroundColor);\n        }\n\n        /**\n         * @private Used to save the current volume when muting so we can\n         * restore once unmuted\n         * @type {number}\n         */\n        this.savedVolume = 0;\n\n        /**\n         * @private The current muted state\n         * @type {boolean}\n         */\n        this.isMuted = false;\n\n        /**\n         * @private Will hold a list of event descriptors that need to be\n         * canceled on subsequent loads of audio\n         * @type {Object[]}\n         */\n        this.tmpEvents = [];\n\n        /**\n         * @private Holds any running audio downloads\n         * @type {Observer}\n         */\n        this.currentRequest = null;\n        /** @private */\n        this.arraybuffer = null;\n        /** @private */\n        this.drawer = null;\n        /** @private */\n        this.backend = null;\n        /** @private */\n        this.peakCache = null;\n\n        // cache constructor objects\n        if (typeof this.params.renderer !== 'function') {\n            throw new Error('Renderer parameter is invalid');\n        }\n        /**\n         * @private The uninitialised Drawer class\n         */\n        this.Drawer = this.params.renderer;\n        /**\n         * @private The uninitialised Backend class\n         */\n        // Back compat\n        if (this.params.backend == 'AudioElement') {\n            this.params.backend = 'MediaElement';\n        }\n\n        if (\n            (this.params.backend == 'WebAudio' ||\n                this.params.backend === 'MediaElementWebAudio') &&\n            !WebAudio.prototype.supportsWebAudio.call(null)\n        ) {\n            this.params.backend = 'MediaElement';\n        }\n        this.Backend = this.backends[this.params.backend];\n\n        /**\n         * @private map of plugin names that are currently initialised\n         */\n        this.initialisedPluginList = {};\n        /** @private */\n        this.isDestroyed = false;\n\n        /**\n         * Get the current ready status.\n         *\n         * @example const isReady = wavesurfer.isReady;\n         * @return {boolean}\n         */\n        this.isReady = false;\n\n        // responsive debounced event listener. If this.params.responsive is not\n        // set, this is never called. Use 100ms or this.params.responsive as\n        // timeout for the debounce function.\n        let prevWidth = 0;\n        this._onResize = util.debounce(\n            () => {\n                if (\n                    this.drawer.wrapper &&\n                    prevWidth != this.drawer.wrapper.clientWidth &&\n                    !this.params.scrollParent\n                ) {\n                    prevWidth = this.drawer.wrapper.clientWidth;\n                    if (prevWidth) {\n                        // redraw only if waveform container is rendered and has a width\n                        this.drawer.fireEvent('redraw');\n                    }\n                }\n            },\n            typeof this.params.responsive === 'number'\n                ? this.params.responsive\n                : 100\n        );\n\n        return this;\n    }\n\n    /**\n     * Initialise the wave\n     *\n     * @example\n     * var wavesurfer = new WaveSurfer(params);\n     * wavesurfer.init();\n     * @return {this} The wavesurfer instance\n     */\n    init() {\n        this.registerPlugins(this.params.plugins);\n        this.createDrawer();\n        this.createBackend();\n        this.createPeakCache();\n        return this;\n    }\n\n    /**\n     * Add and initialise array of plugins (if `plugin.deferInit` is falsey),\n     * this function is called in the init function of wavesurfer\n     *\n     * @param {PluginDefinition[]} plugins An array of plugin definitions\n     * @emits {WaveSurfer#plugins-registered} Called with the array of plugin definitions\n     * @return {this} The wavesurfer instance\n     */\n    registerPlugins(plugins) {\n        // first instantiate all the plugins\n        plugins.forEach(plugin => this.addPlugin(plugin));\n\n        // now run the init functions\n        plugins.forEach(plugin => {\n            // call init function of the plugin if deferInit is falsey\n            // in that case you would manually use initPlugins()\n            if (!plugin.deferInit) {\n                this.initPlugin(plugin.name);\n            }\n        });\n        this.fireEvent('plugins-registered', plugins);\n        return this;\n    }\n\n    /**\n     * Get a map of plugin names that are currently initialised\n     *\n     * @example wavesurfer.getPlugins();\n     * @return {Object} Object with plugin names\n     */\n    getActivePlugins() {\n        return this.initialisedPluginList;\n    }\n\n    /**\n     * Add a plugin object to wavesurfer\n     *\n     * @param {PluginDefinition} plugin A plugin definition\n     * @emits {WaveSurfer#plugin-added} Called with the name of the plugin that was added\n     * @example wavesurfer.addPlugin(WaveSurfer.minimap());\n     * @return {this} The wavesurfer instance\n     */\n    addPlugin(plugin) {\n        if (!plugin.name) {\n            throw new Error('Plugin does not have a name!');\n        }\n        if (!plugin.instance) {\n            throw new Error(\n                `Plugin ${plugin.name} does not have an instance property!`\n            );\n        }\n\n        // staticProps properties are applied to wavesurfer instance\n        if (plugin.staticProps) {\n            Object.keys(plugin.staticProps).forEach(pluginStaticProp => {\n                /**\n                 * Properties defined in a plugin definition's `staticProps` property are added as\n                 * staticProps properties of the WaveSurfer instance\n                 */\n                this[pluginStaticProp] = plugin.staticProps[pluginStaticProp];\n            });\n        }\n\n        const Instance = plugin.instance;\n\n        // turn the plugin instance into an observer\n        const observerPrototypeKeys = Object.getOwnPropertyNames(\n            util.Observer.prototype\n        );\n        observerPrototypeKeys.forEach(key => {\n            Instance.prototype[key] = util.Observer.prototype[key];\n        });\n\n        /**\n         * Instantiated plugin classes are added as a property of the wavesurfer\n         * instance\n         * @type {Object}\n         */\n        this[plugin.name] = new Instance(plugin.params || {}, this);\n        this.fireEvent('plugin-added', plugin.name);\n        return this;\n    }\n\n    /**\n     * Initialise a plugin\n     *\n     * @param {string} name A plugin name\n     * @emits WaveSurfer#plugin-initialised\n     * @example wavesurfer.initPlugin('minimap');\n     * @return {this} The wavesurfer instance\n     */\n    initPlugin(name) {\n        if (!this[name]) {\n            throw new Error(`Plugin ${name} has not been added yet!`);\n        }\n        if (this.initialisedPluginList[name]) {\n            // destroy any already initialised plugins\n            this.destroyPlugin(name);\n        }\n        this[name].init();\n        this.initialisedPluginList[name] = true;\n        this.fireEvent('plugin-initialised', name);\n        return this;\n    }\n\n    /**\n     * Destroy a plugin\n     *\n     * @param {string} name A plugin name\n     * @emits WaveSurfer#plugin-destroyed\n     * @example wavesurfer.destroyPlugin('minimap');\n     * @returns {this} The wavesurfer instance\n     */\n    destroyPlugin(name) {\n        if (!this[name]) {\n            throw new Error(\n                `Plugin ${name} has not been added yet and cannot be destroyed!`\n            );\n        }\n        if (!this.initialisedPluginList[name]) {\n            throw new Error(\n                `Plugin ${name} is not active and cannot be destroyed!`\n            );\n        }\n        if (typeof this[name].destroy !== 'function') {\n            throw new Error(`Plugin ${name} does not have a destroy function!`);\n        }\n\n        this[name].destroy();\n        delete this.initialisedPluginList[name];\n        this.fireEvent('plugin-destroyed', name);\n        return this;\n    }\n\n    /**\n     * Destroy all initialised plugins. Convenience function to use when\n     * wavesurfer is removed\n     *\n     * @private\n     */\n    destroyAllPlugins() {\n        Object.keys(this.initialisedPluginList).forEach(name =>\n            this.destroyPlugin(name)\n        );\n    }\n\n    /**\n     * Create the drawer and draw the waveform\n     *\n     * @private\n     * @emits WaveSurfer#drawer-created\n     */\n    createDrawer() {\n        this.drawer = new this.Drawer(this.container, this.params);\n        this.drawer.init();\n        this.fireEvent('drawer-created', this.drawer);\n\n        if (this.params.responsive !== false) {\n            window.addEventListener('resize', this._onResize, true);\n            window.addEventListener('orientationchange', this._onResize, true);\n        }\n\n        this.drawer.on('redraw', () => {\n            this.drawBuffer();\n            this.drawer.progress(this.backend.getPlayedPercents());\n        });\n\n        // Click-to-seek\n        this.drawer.on('click', (e, progress) => {\n            setTimeout(() => this.seekTo(progress), 0);\n        });\n\n        // Relay the scroll event from the drawer\n        this.drawer.on('scroll', e => {\n            if (this.params.partialRender) {\n                this.drawBuffer();\n            }\n            this.fireEvent('scroll', e);\n        });\n\n        // Relay the dblclick event from the drawer\n        this.drawer.on('dblclick', (e, progress) => {\n            this.fireEvent('dblclick', e, progress);\n        });\n\n    }\n\n    /**\n     * Create the backend\n     *\n     * @private\n     * @emits WaveSurfer#backend-created\n     */\n    createBackend() {\n        if (this.backend) {\n            this.backend.destroy();\n        }\n\n        this.backend = new this.Backend(this.params);\n        this.backend.init();\n        this.fireEvent('backend-created', this.backend);\n\n        this.backend.on('finish', () => {\n            this.drawer.progress(this.backend.getPlayedPercents());\n            this.fireEvent('finish');\n        });\n        this.backend.on('play', () => this.fireEvent('play'));\n        this.backend.on('pause', () => this.fireEvent('pause'));\n\n        this.backend.on('audioprocess', time => {\n            this.drawer.progress(this.backend.getPlayedPercents());\n            this.fireEvent('audioprocess', time);\n        });\n\n        // only needed for MediaElement and MediaElementWebAudio backend\n        if (\n            this.params.backend === 'MediaElement' ||\n            this.params.backend === 'MediaElementWebAudio'\n        ) {\n            this.backend.on('seek', () => {\n                this.drawer.progress(this.backend.getPlayedPercents());\n            });\n\n            this.backend.on('volume', () => {\n                let newVolume = this.getVolume();\n                this.fireEvent('volume', newVolume);\n\n                if (this.backend.isMuted !== this.isMuted) {\n                    this.isMuted = this.backend.isMuted;\n                    this.fireEvent('mute', this.isMuted);\n                }\n            });\n        }\n    }\n\n    /**\n     * Create the peak cache\n     *\n     * @private\n     */\n    createPeakCache() {\n        if (this.params.partialRender) {\n            this.peakCache = new PeakCache();\n        }\n    }\n\n    /**\n     * Get the duration of the audio clip\n     *\n     * @example const duration = wavesurfer.getDuration();\n     * @return {number} Duration in seconds\n     */\n    getDuration() {\n        return this.backend.getDuration();\n    }\n\n    /**\n     * Get the current playback position\n     *\n     * @example const currentTime = wavesurfer.getCurrentTime();\n     * @return {number} Playback position in seconds\n     */\n    getCurrentTime() {\n        return this.backend.getCurrentTime();\n    }\n\n    /**\n     * Set the current play time in seconds.\n     *\n     * @param {number} seconds A positive number in seconds. E.g. 10 means 10\n     * seconds, 60 means 1 minute\n     */\n    setCurrentTime(seconds) {\n        if (seconds >= this.getDuration()) {\n            this.seekTo(1);\n        } else {\n            this.seekTo(seconds / this.getDuration());\n        }\n    }\n\n    /**\n     * Starts playback from the current position. Optional start and end\n     * measured in seconds can be used to set the range of audio to play.\n     *\n     * @param {?number} start Position to start at\n     * @param {?number} end Position to end at\n     * @emits WaveSurfer#interaction\n     * @return {Promise} Result of the backend play method\n     * @example\n     * // play from second 1 to 5\n     * wavesurfer.play(1, 5);\n     */\n    play(start, end) {\n        if (this.params.ignoreSilenceMode) {\n            // ignores device hardware silence mode\n            util.ignoreSilenceMode();\n        }\n\n        this.fireEvent('interaction', () => this.play(start, end));\n        return this.backend.play(start, end);\n    }\n\n    /**\n     * Set a point in seconds for playback to stop at.\n     *\n     * @param {number} position Position (in seconds) to stop at\n     * @version 3.3.0\n     */\n    setPlayEnd(position) {\n        this.backend.setPlayEnd(position);\n    }\n\n    /**\n     * Stops and pauses playback\n     *\n     * @example wavesurfer.pause();\n     * @return {Promise} Result of the backend pause method\n     */\n    pause() {\n        if (!this.backend.isPaused()) {\n            return this.backend.pause();\n        }\n    }\n\n    /**\n     * Toggle playback\n     *\n     * @example wavesurfer.playPause();\n     * @return {Promise} Result of the backend play or pause method\n     */\n    playPause() {\n        return this.backend.isPaused() ? this.play() : this.pause();\n    }\n\n    /**\n     * Get the current playback state\n     *\n     * @example const isPlaying = wavesurfer.isPlaying();\n     * @return {boolean} False if paused, true if playing\n     */\n    isPlaying() {\n        return !this.backend.isPaused();\n    }\n\n    /**\n     * Skip backward\n     *\n     * @param {?number} seconds Amount to skip back, if not specified `skipLength`\n     * is used\n     * @example wavesurfer.skipBackward();\n     */\n    skipBackward(seconds) {\n        this.skip(-seconds || -this.params.skipLength);\n    }\n\n    /**\n     * Skip forward\n     *\n     * @param {?number} seconds Amount to skip back, if not specified `skipLength`\n     * is used\n     * @example wavesurfer.skipForward();\n     */\n    skipForward(seconds) {\n        this.skip(seconds || this.params.skipLength);\n    }\n\n    /**\n     * Skip a number of seconds from the current position (use a negative value\n     * to go backwards).\n     *\n     * @param {number} offset Amount to skip back or forwards\n     * @example\n     * // go back 2 seconds\n     * wavesurfer.skip(-2);\n     */\n    skip(offset) {\n        const duration = this.getDuration() || 1;\n        let position = this.getCurrentTime() || 0;\n        position = Math.max(0, Math.min(duration, position + (offset || 0)));\n        this.seekAndCenter(position / duration);\n    }\n\n    /**\n     * Seeks to a position and centers the view\n     *\n     * @param {number} progress Between 0 (=beginning) and 1 (=end)\n     * @example\n     * // seek and go to the middle of the audio\n     * wavesurfer.seekTo(0.5);\n     */\n    seekAndCenter(progress) {\n        this.seekTo(progress);\n        this.drawer.recenter(progress);\n    }\n\n    /**\n     * Seeks to a position\n     *\n     * @param {number} progress Between 0 (=beginning) and 1 (=end)\n     * @emits WaveSurfer#interaction\n     * @emits WaveSurfer#seek\n     * @example\n     * // seek to the middle of the audio\n     * wavesurfer.seekTo(0.5);\n     */\n    seekTo(progress) {\n        // return an error if progress is not a number between 0 and 1\n        if (\n            typeof progress !== 'number' ||\n            !isFinite(progress) ||\n            progress < 0 ||\n            progress > 1\n        ) {\n            throw new Error(\n                'Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!'\n            );\n        }\n        this.fireEvent('interaction', () => this.seekTo(progress));\n\n        const isWebAudioBackend = this.params.backend === 'WebAudio';\n        const paused = this.backend.isPaused();\n\n        if (isWebAudioBackend && !paused) {\n            this.backend.pause();\n        }\n\n        // avoid small scrolls while paused seeking\n        const oldScrollParent = this.params.scrollParent;\n        this.params.scrollParent = false;\n        this.backend.seekTo(progress * this.getDuration());\n        this.drawer.progress(progress);\n\n        if (isWebAudioBackend && !paused) {\n            this.backend.play();\n        }\n\n        this.params.scrollParent = oldScrollParent;\n        this.fireEvent('seek', progress);\n    }\n\n    /**\n     * Stops and goes to the beginning.\n     *\n     * @example wavesurfer.stop();\n     */\n    stop() {\n        this.pause();\n        this.seekTo(0);\n        this.drawer.progress(0);\n    }\n\n    /**\n     * Sets the ID of the audio device to use for output and returns a Promise.\n     *\n     * @param {string} deviceId String value representing underlying output\n     * device\n     * @returns {Promise} `Promise` that resolves to `undefined` when there are\n     * no errors detected.\n     */\n    setSinkId(deviceId) {\n        return this.backend.setSinkId(deviceId);\n    }\n\n    /**\n     * Set the playback volume.\n     *\n     * @param {number} newVolume A value between 0 and 1, 0 being no\n     * volume and 1 being full volume.\n     * @emits WaveSurfer#volume\n     */\n    setVolume(newVolume) {\n        if (this.isMuted === true) {\n            this.savedVolume = newVolume;\n            return;\n        }\n        this.backend.setVolume(newVolume);\n        this.fireEvent('volume', newVolume);\n    }\n\n    /**\n     * Get the playback volume.\n     *\n     * @return {number} A value between 0 and 1, 0 being no\n     * volume and 1 being full volume.\n     */\n    getVolume() {\n        return this.backend.getVolume();\n    }\n\n    /**\n     * Set the playback rate.\n     *\n     * @param {number} rate A positive number. E.g. 0.5 means half the normal\n     * speed, 2 means double speed and so on.\n     * @example wavesurfer.setPlaybackRate(2);\n     */\n    setPlaybackRate(rate) {\n        this.backend.setPlaybackRate(rate);\n    }\n\n    /**\n     * Get the playback rate.\n     *\n     * @return {number} The current playback rate.\n     */\n    getPlaybackRate() {\n        return this.backend.getPlaybackRate();\n    }\n\n    /**\n     * Toggle the volume on and off. If not currently muted it will save the\n     * current volume value and turn the volume off. If currently muted then it\n     * will restore the volume to the saved value, and then rest the saved\n     * value.\n     *\n     * @example wavesurfer.toggleMute();\n     */\n    toggleMute() {\n        this.setMute(!this.isMuted);\n    }\n\n    /**\n     * Enable or disable muted audio\n     *\n     * @param {boolean} mute Specify `true` to mute audio.\n     * @emits WaveSurfer#volume\n     * @emits WaveSurfer#mute\n     * @example\n     * // unmute\n     * wavesurfer.setMute(false);\n     * console.log(wavesurfer.getMute()) // logs false\n     */\n    setMute(mute) {\n        // ignore all muting requests if the audio is already in that state\n        if (mute === this.isMuted) {\n            this.fireEvent('mute', this.isMuted);\n            return;\n        }\n\n        if (this.backend.setMute) {\n            // Backends such as the MediaElement backend have their own handling\n            // of mute, let them handle it.\n            this.backend.setMute(mute);\n            this.isMuted = mute;\n        } else {\n            if (mute) {\n                // If currently not muted then save current volume,\n                // turn off the volume and update the mute properties\n                this.savedVolume = this.backend.getVolume();\n                this.backend.setVolume(0);\n                this.isMuted = true;\n                this.fireEvent('volume', 0);\n            } else {\n                // If currently muted then restore to the saved volume\n                // and update the mute properties\n                this.backend.setVolume(this.savedVolume);\n                this.isMuted = false;\n                this.fireEvent('volume', this.savedVolume);\n            }\n        }\n        this.fireEvent('mute', this.isMuted);\n    }\n\n    /**\n     * Get the current mute status.\n     *\n     * @example const isMuted = wavesurfer.getMute();\n     * @return {boolean} Current mute status\n     */\n    getMute() {\n        return this.isMuted;\n    }\n\n    /**\n     * Get the list of current set filters as an array.\n     *\n     * Filters must be set with setFilters method first\n     *\n     * @return {array} List of enabled filters\n     */\n    getFilters() {\n        return this.backend.filters || [];\n    }\n\n    /**\n     * Toggles `scrollParent` and redraws\n     *\n     * @example wavesurfer.toggleScroll();\n     */\n    toggleScroll() {\n        this.params.scrollParent = !this.params.scrollParent;\n        this.drawBuffer();\n    }\n\n    /**\n     * Toggle mouse interaction\n     *\n     * @example wavesurfer.toggleInteraction();\n     */\n    toggleInteraction() {\n        this.params.interact = !this.params.interact;\n    }\n\n    /**\n     * Get the fill color of the waveform after the cursor.\n     *\n     * @param {?number} channelIdx Optional index of the channel to get its wave color if splitChannels is true\n     * @return {string|object} A CSS color string, or an array of CSS color strings.\n     */\n    getWaveColor(channelIdx = null) {\n        if (this.params.splitChannelsOptions.channelColors[channelIdx]) {\n            return this.params.splitChannelsOptions.channelColors[channelIdx].waveColor;\n        }\n        return this.params.waveColor;\n    }\n\n    /**\n     * Set the fill color of the waveform after the cursor.\n     *\n     * @param {string|object} color A CSS color string, or an array of CSS color strings.\n     * @param {?number} channelIdx Optional index of the channel to set its wave color if splitChannels is true\n     * @example wavesurfer.setWaveColor('#ddd');\n     */\n    setWaveColor(color, channelIdx = null) {\n        if (this.params.splitChannelsOptions.channelColors[channelIdx]) {\n            this.params.splitChannelsOptions.channelColors[channelIdx].waveColor = color;\n        } else {\n            this.params.waveColor = color;\n        }\n        this.drawBuffer();\n    }\n\n    /**\n     * Get the fill color of the waveform behind the cursor.\n     *\n     * @param {?number} channelIdx Optional index of the channel to get its progress color if splitChannels is true\n     * @return {string|object} A CSS color string, or an array of CSS color strings.\n     */\n    getProgressColor(channelIdx = null) {\n        if (this.params.splitChannelsOptions.channelColors[channelIdx]) {\n            return this.params.splitChannelsOptions.channelColors[channelIdx].progressColor;\n        }\n        return this.params.progressColor;\n    }\n\n    /**\n     * Set the fill color of the waveform behind the cursor.\n     *\n     * @param {string|object} color A CSS color string, or an array of CSS color strings.\n     * @param {?number} channelIdx Optional index of the channel to set its progress color if splitChannels is true\n     * @example wavesurfer.setProgressColor('#400');\n     */\n    setProgressColor(color, channelIdx) {\n        if (this.params.splitChannelsOptions.channelColors[channelIdx]) {\n            this.params.splitChannelsOptions.channelColors[channelIdx].progressColor = color;\n        } else {\n            this.params.progressColor = color;\n        }\n        this.drawBuffer();\n    }\n\n    /**\n     * Get the background color of the waveform container.\n     *\n     * @return {string} A CSS color string.\n     */\n    getBackgroundColor() {\n        return this.params.backgroundColor;\n    }\n\n    /**\n     * Set the background color of the waveform container.\n     *\n     * @param {string} color A CSS color string.\n     * @example wavesurfer.setBackgroundColor('#FF00FF');\n     */\n    setBackgroundColor(color) {\n        this.params.backgroundColor = color;\n        util.style(this.container, { background: this.params.backgroundColor });\n    }\n\n    /**\n     * Get the fill color of the cursor indicating the playhead\n     * position.\n     *\n     * @return {string} A CSS color string.\n     */\n    getCursorColor() {\n        return this.params.cursorColor;\n    }\n\n    /**\n     * Set the fill color of the cursor indicating the playhead\n     * position.\n     *\n     * @param {string} color A CSS color string.\n     * @example wavesurfer.setCursorColor('#222');\n     */\n    setCursorColor(color) {\n        this.params.cursorColor = color;\n        this.drawer.updateCursor();\n    }\n\n    /**\n     * Get the height of the waveform.\n     *\n     * @return {number} Height measured in pixels.\n     */\n    getHeight() {\n        return this.params.height;\n    }\n\n    /**\n     * Set the height of the waveform.\n     *\n     * @param {number} height Height measured in pixels.\n     * @example wavesurfer.setHeight(200);\n     */\n    setHeight(height) {\n        this.params.height = height;\n        this.drawer.setHeight(height * this.params.pixelRatio);\n        this.drawBuffer();\n    }\n\n    /**\n     * Hide channels from being drawn on the waveform if splitting channels.\n     *\n     * For example, if we want to draw only the peaks for the right stereo channel:\n     *\n     * const wavesurfer = new WaveSurfer.create({...splitChannels: true});\n     * wavesurfer.load('stereo_audio.mp3');\n     *\n     * wavesurfer.setFilteredChannel([0]); <-- hide left channel peaks.\n     *\n     * @param {array} channelIndices Channels to be filtered out from drawing.\n     * @version 4.0.0\n     */\n    setFilteredChannels(channelIndices) {\n        this.params.splitChannelsOptions.filterChannels = channelIndices;\n        this.drawBuffer();\n    }\n\n    /**\n     * Get the correct peaks for current wave view-port and render wave\n     *\n     * @private\n     * @emits WaveSurfer#redraw\n     */\n    drawBuffer() {\n        const nominalWidth = Math.round(\n            this.getDuration() *\n                this.params.minPxPerSec *\n                this.params.pixelRatio\n        );\n        const parentWidth = this.drawer.getWidth();\n        let width = nominalWidth;\n        // always start at 0 after zooming for scrolling : issue redraw left part\n        let start = 0;\n        let end = Math.max(start + parentWidth, width);\n        // Fill container\n        if (\n            this.params.fillParent &&\n            (!this.params.scrollParent || nominalWidth < parentWidth)\n        ) {\n            width = parentWidth;\n            start = 0;\n            end = width;\n        }\n\n        let peaks;\n        if (this.params.partialRender) {\n            const newRanges = this.peakCache.addRangeToPeakCache(\n                width,\n                start,\n                end\n            );\n            let i;\n            for (i = 0; i < newRanges.length; i++) {\n                peaks = this.backend.getPeaks(\n                    width,\n                    newRanges[i][0],\n                    newRanges[i][1]\n                );\n                this.drawer.drawPeaks(\n                    peaks,\n                    width,\n                    newRanges[i][0],\n                    newRanges[i][1]\n                );\n            }\n        } else {\n            peaks = this.backend.getPeaks(width, start, end);\n            this.drawer.drawPeaks(peaks, width, start, end);\n        }\n        this.fireEvent('redraw', peaks, width);\n    }\n\n    /**\n     * Horizontally zooms the waveform in and out. It also changes the parameter\n     * `minPxPerSec` and enables the `scrollParent` option. Calling the function\n     * with a falsey parameter will reset the zoom state.\n     *\n     * @param {?number} pxPerSec Number of horizontal pixels per second of\n     * audio, if none is set the waveform returns to unzoomed state\n     * @emits WaveSurfer#zoom\n     * @example wavesurfer.zoom(20);\n     */\n    zoom(pxPerSec) {\n        if (!pxPerSec) {\n            this.params.minPxPerSec = this.defaultParams.minPxPerSec;\n            this.params.scrollParent = false;\n        } else {\n            this.params.minPxPerSec = pxPerSec;\n            this.params.scrollParent = true;\n        }\n\n        this.drawBuffer();\n        this.drawer.progress(this.backend.getPlayedPercents());\n\n        this.drawer.recenter(this.getCurrentTime() / this.getDuration());\n        this.fireEvent('zoom', pxPerSec);\n    }\n\n    /**\n     * Decode buffer and load\n     *\n     * @private\n     * @param {ArrayBuffer} arraybuffer Buffer to process\n     */\n    loadArrayBuffer(arraybuffer) {\n        this.decodeArrayBuffer(arraybuffer, data => {\n            if (!this.isDestroyed) {\n                this.loadDecodedBuffer(data);\n            }\n        });\n    }\n\n    /**\n     * Directly load an externally decoded AudioBuffer\n     *\n     * @private\n     * @param {AudioBuffer} buffer Buffer to process\n     * @emits WaveSurfer#ready\n     */\n    loadDecodedBuffer(buffer) {\n        this.backend.load(buffer);\n        this.drawBuffer();\n        this.isReady = true;\n        this.fireEvent('ready');\n    }\n\n    /**\n     * Loads audio data from a Blob or File object\n     *\n     * @param {Blob|File} blob Audio data\n     * @example\n     */\n    loadBlob(blob) {\n        // Create file reader\n        const reader = new FileReader();\n        reader.addEventListener('progress', e => this.onProgress(e));\n        reader.addEventListener('load', e =>\n            this.loadArrayBuffer(e.target.result)\n        );\n        reader.addEventListener('error', () =>\n            this.fireEvent('error', 'Error reading file')\n        );\n        reader.readAsArrayBuffer(blob);\n        this.empty();\n    }\n\n    /**\n     * Loads audio and re-renders the waveform.\n     *\n     * @param {string|HTMLMediaElement} url The url of the audio file or the\n     * audio element with the audio\n     * @param {number[]|Number.<Array[]>} peaks Wavesurfer does not have to decode\n     * the audio to render the waveform if this is specified\n     * @param {?string} preload (Use with backend `MediaElement` and `MediaElementWebAudio`)\n     * `'none'|'metadata'|'auto'` Preload attribute for the media element\n     * @param {?number} duration The duration of the audio. This is used to\n     * render the peaks data in the correct size for the audio duration (as\n     * befits the current `minPxPerSec` and zoom value) without having to decode\n     * the audio.\n     * @returns {void}\n     * @throws Will throw an error if the `url` argument is empty.\n     * @example\n     * // uses fetch or media element to load file (depending on backend)\n     * wavesurfer.load('http://example.com/demo.wav');\n     *\n     * // setting preload attribute with media element backend and supplying\n     * // peaks\n     * wavesurfer.load(\n     *   'http://example.com/demo.wav',\n     *   [0.0218, 0.0183, 0.0165, 0.0198, 0.2137, 0.2888],\n     *   true\n     * );\n     */\n    load(url, peaks, preload, duration) {\n        if (!url) {\n            throw new Error('url parameter cannot be empty');\n        }\n        this.empty();\n        if (preload) {\n            // check whether the preload attribute will be usable and if not log\n            // a warning listing the reasons why not and nullify the variable\n            const preloadIgnoreReasons = {\n                \"Preload is not 'auto', 'none' or 'metadata'\":\n                    ['auto', 'metadata', 'none'].indexOf(preload) === -1,\n                'Peaks are not provided': !peaks,\n                \"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'\":\n                    ['MediaElement', 'MediaElementWebAudio'].indexOf(\n                        this.params.backend\n                    ) === -1,\n                'Url is not of type string': typeof url !== 'string'\n            };\n            const activeReasons = Object.keys(preloadIgnoreReasons).filter(\n                reason => preloadIgnoreReasons[reason]\n            );\n            if (activeReasons.length) {\n                // eslint-disable-next-line no-console\n                console.warn(\n                    'Preload parameter of wavesurfer.load will be ignored because:\\n\\t- ' +\n                        activeReasons.join('\\n\\t- ')\n                );\n                // stop invalid values from being used\n                preload = null;\n            }\n        }\n\n        // loadBuffer(url, peaks, duration) requires that url is a string\n        // but users can pass in a HTMLMediaElement to WaveSurfer\n        if (this.params.backend === 'WebAudio' && url instanceof HTMLMediaElement) {\n            url = url.src;\n        }\n\n        switch (this.params.backend) {\n            case 'WebAudio':\n                return this.loadBuffer(url, peaks, duration);\n            case 'MediaElement':\n            case 'MediaElementWebAudio':\n                return this.loadMediaElement(url, peaks, preload, duration);\n        }\n    }\n\n    /**\n     * Loads audio using Web Audio buffer backend.\n     *\n     * @private\n     * @emits WaveSurfer#waveform-ready\n     * @param {string} url URL of audio file\n     * @param {number[]|Number.<Array[]>} peaks Peaks data\n     * @param {?number} duration Optional duration of audio file\n     * @returns {void}\n     */\n    loadBuffer(url, peaks, duration) {\n        const load = action => {\n            if (action) {\n                this.tmpEvents.push(this.once('ready', action));\n            }\n            return this.getArrayBuffer(url, data => this.loadArrayBuffer(data));\n        };\n\n        if (peaks) {\n            this.backend.setPeaks(peaks, duration);\n            this.drawBuffer();\n            this.fireEvent('waveform-ready');\n            this.tmpEvents.push(this.once('interaction', load));\n        } else {\n            return load();\n        }\n    }\n\n    /**\n     * Either create a media element, or load an existing media element.\n     *\n     * @private\n     * @emits WaveSurfer#waveform-ready\n     * @param {string|HTMLMediaElement} urlOrElt Either a path to a media file, or an\n     * existing HTML5 Audio/Video Element\n     * @param {number[]|Number.<Array[]>} peaks Array of peaks. Required to bypass web audio\n     * dependency\n     * @param {?boolean} preload Set to true if the preload attribute of the\n     * audio element should be enabled\n     * @param {?number} duration Optional duration of audio file\n     */\n    loadMediaElement(urlOrElt, peaks, preload, duration) {\n        let url = urlOrElt;\n\n        if (typeof urlOrElt === 'string') {\n            this.backend.load(url, this.mediaContainer, peaks, preload);\n        } else {\n            const elt = urlOrElt;\n            this.backend.loadElt(elt, peaks);\n\n            // If peaks are not provided,\n            // url = element.src so we can get peaks with web audio\n            url = elt.src;\n        }\n\n        this.tmpEvents.push(\n            this.backend.once('canplay', () => {\n                // ignore when backend was already destroyed\n                if (!this.backend.destroyed) {\n                    this.drawBuffer();\n                    this.isReady = true;\n                    this.fireEvent('ready');\n                }\n            }),\n            this.backend.once('error', err => this.fireEvent('error', err))\n        );\n\n        // If peaks are provided, render them and fire the `waveform-ready` event.\n        if (peaks) {\n            this.backend.setPeaks(peaks, duration);\n            this.drawBuffer();\n            this.fireEvent('waveform-ready');\n        }\n\n        // If no pre-decoded peaks are provided, or are provided with\n        // forceDecode flag, attempt to download the audio file and decode it\n        // with Web Audio.\n        if (\n            (!peaks || this.params.forceDecode) &&\n            this.backend.supportsWebAudio()\n        ) {\n            this.getArrayBuffer(url, arraybuffer => {\n                this.decodeArrayBuffer(arraybuffer, buffer => {\n                    this.backend.buffer = buffer;\n                    this.backend.setPeaks(null);\n                    this.drawBuffer();\n                    this.fireEvent('waveform-ready');\n                });\n            });\n        }\n    }\n\n    /**\n     * Decode an array buffer and pass data to a callback\n     *\n     * @private\n     * @param {Object} arraybuffer The array buffer to decode\n     * @param {function} callback The function to call on complete\n     */\n    decodeArrayBuffer(arraybuffer, callback) {\n        if (!this.isDestroyed) {\n            this.arraybuffer = arraybuffer;\n            this.backend.decodeArrayBuffer(\n                arraybuffer,\n                data => {\n                    // Only use the decoded data if we haven't been destroyed or\n                    // another decode started in the meantime\n                    if (!this.isDestroyed && this.arraybuffer == arraybuffer) {\n                        callback(data);\n                        this.arraybuffer = null;\n                    }\n                },\n                () => this.fireEvent('error', 'Error decoding audiobuffer')\n            );\n        }\n    }\n\n    /**\n     * Load an array buffer using fetch and pass the result to a callback\n     *\n     * @param {string} url The URL of the file object\n     * @param {function} callback The function to call on complete\n     * @returns {util.fetchFile} fetch call\n     * @private\n     */\n    getArrayBuffer(url, callback) {\n        let options = Object.assign(\n            {\n                url: url,\n                responseType: 'arraybuffer'\n            },\n            this.params.xhr\n        );\n        const request = util.fetchFile(options);\n\n        this.currentRequest = request;\n\n        this.tmpEvents.push(\n            request.on('progress', e => {\n                this.onProgress(e);\n            }),\n            request.on('success', data => {\n                callback(data);\n                this.currentRequest = null;\n            }),\n            request.on('error', e => {\n                this.fireEvent('error', e);\n                this.currentRequest = null;\n            })\n        );\n\n        return request;\n    }\n\n    /**\n     * Called while the audio file is loading\n     *\n     * @private\n     * @param {Event} e Progress event\n     * @emits WaveSurfer#loading\n     */\n    onProgress(e) {\n        let percentComplete;\n        if (e.lengthComputable) {\n            percentComplete = e.loaded / e.total;\n        } else {\n            // Approximate progress with an asymptotic\n            // function, and assume downloads in the 1-3 MB range.\n            percentComplete = e.loaded / (e.loaded + 1000000);\n        }\n        this.fireEvent('loading', Math.round(percentComplete * 100), e.target);\n    }\n\n    /**\n     * Exports PCM data into a JSON array and optionally opens in a new window\n     * as valid JSON Blob instance.\n     *\n     * @param {number} length=1024 The scale in which to export the peaks\n     * @param {number} accuracy=10000\n     * @param {?boolean} noWindow Set to true to disable opening a new\n     * window with the JSON\n     * @param {number} start Start index\n     * @param {number} end End index\n     * @return {Promise} Promise that resolves with array of peaks\n     */\n    exportPCM(length, accuracy, noWindow, start, end) {\n        length = length || 1024;\n        start = start || 0;\n        accuracy = accuracy || 10000;\n        noWindow = noWindow || false;\n        const peaks = this.backend.getPeaks(length, start, end);\n        const arr = [].map.call(\n            peaks,\n            val => Math.round(val * accuracy) / accuracy\n        );\n\n        return new Promise((resolve, reject) => {\n            if (!noWindow){\n                const blobJSON = new Blob(\n                    [JSON.stringify(arr)],\n                    {type: 'application/json;charset=utf-8'}\n                );\n                const objURL = URL.createObjectURL(blobJSON);\n                window.open(objURL);\n                URL.revokeObjectURL(objURL);\n            }\n            resolve(arr);\n        });\n    }\n\n    /**\n     * Save waveform image as data URI.\n     *\n     * The default format is `image/png`. Other supported types are\n     * `image/jpeg` and `image/webp`.\n     *\n     * @param {string} format='image/png' A string indicating the image format.\n     * The default format type is `image/png`.\n     * @param {number} quality=1 A number between 0 and 1 indicating the image\n     * quality to use for image formats that use lossy compression such as\n     * `image/jpeg` and `image/webp`.\n     * @param {string} type Image data type to return. Either `dataURL` (default)\n     * or `blob`.\n     * @return {string|string[]|Promise} When using `dataURL` type this returns\n     * a single data URL or an array of data URLs, one for each canvas. When using\n     * `blob` type this returns a `Promise` resolving with an array of `Blob`\n     * instances, one for each canvas.\n     */\n    exportImage(format, quality, type) {\n        if (!format) {\n            format = 'image/png';\n        }\n        if (!quality) {\n            quality = 1;\n        }\n        if (!type) {\n            type = 'dataURL';\n        }\n\n        return this.drawer.getImage(format, quality, type);\n    }\n\n    /**\n     * Cancel any fetch request currently in progress\n     */\n    cancelAjax() {\n        if (this.currentRequest && this.currentRequest.controller) {\n            // If the current request has a ProgressHandler, then its ReadableStream might need to be cancelled too\n            // See: Wavesurfer issue #2042\n            // See Firefox bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1583815\n            if (this.currentRequest._reader) {\n                // Ignoring exceptions thrown by call to cancel()\n                this.currentRequest._reader.cancel().catch(err => {});\n            }\n\n            this.currentRequest.controller.abort();\n            this.currentRequest = null;\n        }\n    }\n\n    /**\n     * @private\n     */\n    clearTmpEvents() {\n        this.tmpEvents.forEach(e => e.un());\n    }\n\n    /**\n     * Display empty waveform.\n     */\n    empty() {\n        if (!this.backend.isPaused()) {\n            this.stop();\n            this.backend.disconnectSource();\n        }\n        this.isReady = false;\n        this.cancelAjax();\n        this.clearTmpEvents();\n\n        // empty drawer\n        this.drawer.progress(0);\n        this.drawer.setWidth(0);\n        this.drawer.drawPeaks({ length: this.drawer.getWidth() }, 0);\n    }\n\n    /**\n     * Remove events, elements and disconnect WebAudio nodes.\n     *\n     * @emits WaveSurfer#destroy\n     */\n    destroy() {\n        this.destroyAllPlugins();\n        this.fireEvent('destroy');\n        this.cancelAjax();\n        this.clearTmpEvents();\n        this.unAll();\n        if (this.params.responsive !== false) {\n            window.removeEventListener('resize', this._onResize, true);\n            window.removeEventListener(\n                'orientationchange',\n                this._onResize,\n                true\n            );\n        }\n        if (this.backend) {\n            this.backend.destroy();\n            // clears memory usage\n            this.backend = null;\n        }\n        if (this.drawer) {\n            this.drawer.destroy();\n        }\n        this.isDestroyed = true;\n        this.isReady = false;\n        this.arraybuffer = null;\n    }\n}\n","import * as util from './util';\n\n// using constants to prevent someone writing the string wrong\nconst PLAYING = 'playing';\nconst PAUSED = 'paused';\nconst FINISHED = 'finished';\n\n/**\n * WebAudio backend\n *\n * @extends {util.Observer}\n */\nexport default class WebAudio extends util.Observer {\n    /** audioContext: allows to process audio with WebAudio API */\n    audioContext = null;\n    /** @private */\n    stateBehaviors = {\n        [PLAYING]: {\n            init() {\n                this.addOnAudioProcess();\n            },\n            getPlayedPercents() {\n                const duration = this.getDuration();\n                return this.getCurrentTime() / duration || 0;\n            },\n            getCurrentTime() {\n                return this.startPosition + this.getPlayedTime();\n            }\n        },\n        [PAUSED]: {\n            init() {\n            },\n            getPlayedPercents() {\n                const duration = this.getDuration();\n                return this.getCurrentTime() / duration || 0;\n            },\n            getCurrentTime() {\n                return this.startPosition;\n            }\n        },\n        [FINISHED]: {\n            init() {\n                this.fireEvent('finish');\n            },\n            getPlayedPercents() {\n                return 1;\n            },\n            getCurrentTime() {\n                return this.getDuration();\n            }\n        }\n    };\n\n    /**\n     * Does the browser support this backend\n     *\n     * @return {boolean} Whether or not this browser supports this backend\n     */\n    supportsWebAudio() {\n        return !!(window.AudioContext || window.webkitAudioContext);\n    }\n\n    /**\n     * Get the audio context used by this backend or create one\n     *\n     * @return {AudioContext} Existing audio context, or creates a new one\n     */\n    getAudioContext() {\n        if (!window.WaveSurferAudioContext) {\n            window.WaveSurferAudioContext = new (window.AudioContext ||\n                window.webkitAudioContext)();\n        }\n        return window.WaveSurferAudioContext;\n    }\n\n    /**\n     * Get the offline audio context used by this backend or create one\n     *\n     * @param {number} sampleRate The sample rate to use\n     * @return {OfflineAudioContext} Existing offline audio context, or creates\n     * a new one\n     */\n    getOfflineAudioContext(sampleRate) {\n        if (!window.WaveSurferOfflineAudioContext) {\n            window.WaveSurferOfflineAudioContext = new (window.OfflineAudioContext ||\n                window.webkitOfflineAudioContext)(1, 2, sampleRate);\n        }\n        return window.WaveSurferOfflineAudioContext;\n    }\n\n    /**\n     * Construct the backend\n     *\n     * @param {WavesurferParams} params Wavesurfer parameters\n     */\n    constructor(params) {\n        super();\n        /** @private */\n        this.params = params;\n        /** ac: Audio Context instance */\n        this.ac =\n            params.audioContext ||\n            (this.supportsWebAudio() ? this.getAudioContext() : {});\n        /**@private */\n        this.lastPlay = this.ac.currentTime;\n        /** @private */\n        this.startPosition = 0;\n        /** @private */\n        this.scheduledPause = null;\n        /** @private */\n        this.states = {\n            [PLAYING]: Object.create(this.stateBehaviors[PLAYING]),\n            [PAUSED]: Object.create(this.stateBehaviors[PAUSED]),\n            [FINISHED]: Object.create(this.stateBehaviors[FINISHED])\n        };\n        /** @private */\n        this.buffer = null;\n        /** @private */\n        this.filters = [];\n        /** gainNode: allows to control audio volume */\n        this.gainNode = null;\n        /** @private */\n        this.mergedPeaks = null;\n        /** @private */\n        this.offlineAc = null;\n        /** @private */\n        this.peaks = null;\n        /** @private */\n        this.playbackRate = 1;\n        /** analyser: provides audio analysis information */\n        this.analyser = null;\n        /** scriptNode: allows processing audio */\n        this.scriptNode = null;\n        /** @private */\n        this.source = null;\n        /** @private */\n        this.splitPeaks = [];\n        /** @private */\n        this.state = null;\n        /** @private */\n        this.explicitDuration = params.duration;\n        /** @private */\n        this.sinkStreamDestination = null;\n        /** @private */\n        this.sinkAudioElement = null;\n        /**\n         * Boolean indicating if the backend was destroyed.\n         */\n        this.destroyed = false;\n    }\n\n    /**\n     * Initialise the backend, called in `wavesurfer.createBackend()`\n     */\n    init() {\n        this.createVolumeNode();\n        this.createScriptNode();\n        this.createAnalyserNode();\n\n        this.setState(PAUSED);\n        this.setPlaybackRate(this.params.audioRate);\n        this.setLength(0);\n    }\n\n    /** @private */\n    disconnectFilters() {\n        if (this.filters) {\n            this.filters.forEach(filter => {\n                filter && filter.disconnect();\n            });\n            this.filters = null;\n            // Reconnect direct path\n            this.analyser.connect(this.gainNode);\n        }\n    }\n\n    /**\n     * @private\n     *\n     * @param {string} state The new state\n     */\n    setState(state) {\n        if (this.state !== this.states[state]) {\n            this.state = this.states[state];\n            this.state.init.call(this);\n        }\n    }\n\n    /**\n     * Unpacked `setFilters()`\n     *\n     * @param {...AudioNode} filters One or more filters to set\n     */\n    setFilter(...filters) {\n        this.setFilters(filters);\n    }\n\n    /**\n     * Insert custom Web Audio nodes into the graph\n     *\n     * @param {AudioNode[]} filters Packed filters array\n     * @example\n     * const lowpass = wavesurfer.backend.ac.createBiquadFilter();\n     * wavesurfer.backend.setFilter(lowpass);\n     */\n    setFilters(filters) {\n        // Remove existing filters\n        this.disconnectFilters();\n\n        // Insert filters if filter array not empty\n        if (filters && filters.length) {\n            this.filters = filters;\n\n            // Disconnect direct path before inserting filters\n            this.analyser.disconnect();\n\n            // Connect each filter in turn\n            filters\n                .reduce((prev, curr) => {\n                    prev.connect(curr);\n                    return curr;\n                }, this.analyser)\n                .connect(this.gainNode);\n        }\n    }\n    /** Create ScriptProcessorNode to process audio */\n    createScriptNode() {\n        if (this.params.audioScriptProcessor) {\n            this.scriptNode = this.params.audioScriptProcessor;\n            this.scriptNode.connect(this.ac.destination);\n        }\n    }\n\n    /** @private */\n    addOnAudioProcess() {\n        const loop = () => {\n            const time = this.getCurrentTime();\n\n            if (time >= this.getDuration() && this.state !== this.states[FINISHED]) {\n                this.setState(FINISHED);\n                this.fireEvent('pause');\n            } else if (time >= this.scheduledPause && this.state !== this.states[PAUSED]) {\n                this.pause();\n            } else if (this.state === this.states[PLAYING]) {\n                this.fireEvent('audioprocess', time);\n                util.frame(loop)();\n            }\n        };\n\n        loop();\n    }\n\n    /** Create analyser node to perform audio analysis */\n    createAnalyserNode() {\n        this.analyser = this.ac.createAnalyser();\n        this.analyser.connect(this.gainNode);\n    }\n\n    /**\n     * Create the gain node needed to control the playback volume.\n     *\n     */\n    createVolumeNode() {\n        // Create gain node using the AudioContext\n        if (this.ac.createGain) {\n            this.gainNode = this.ac.createGain();\n        } else {\n            this.gainNode = this.ac.createGainNode();\n        }\n        // Add the gain node to the graph\n        this.gainNode.connect(this.ac.destination);\n    }\n\n    /**\n     * Set the sink id for the media player\n     *\n     * @param {string} deviceId String value representing audio device id.\n     * @returns {Promise} A Promise that resolves to `undefined` when there\n     * are no errors.\n     */\n    setSinkId(deviceId) {\n        if (deviceId) {\n            /**\n             * The webaudio API doesn't currently support setting the device\n             * output. Here we create an HTMLAudioElement, connect the\n             * webaudio stream to that element and setSinkId there.\n             */\n            if (!this.sinkAudioElement) {\n                this.sinkAudioElement = new window.Audio();\n                // autoplay is necessary since we're not invoking .play()\n                this.sinkAudioElement.autoplay = true;\n            }\n            if (!this.sinkAudioElement.setSinkId) {\n                return Promise.reject(\n                    new Error('setSinkId is not supported in your browser')\n                );\n            }\n            if (!this.sinkStreamDestination) {\n                this.sinkStreamDestination = this.ac.createMediaStreamDestination();\n            }\n            this.gainNode.disconnect();\n            this.gainNode.connect(this.sinkStreamDestination);\n            this.sinkAudioElement.srcObject = this.sinkStreamDestination.stream;\n\n            return this.sinkAudioElement.setSinkId(deviceId);\n        } else {\n            return Promise.reject(new Error('Invalid deviceId: ' + deviceId));\n        }\n    }\n\n    /**\n     * Set the audio volume\n     *\n     * @param {number} value A floating point value between 0 and 1.\n     */\n    setVolume(value) {\n        this.gainNode.gain.setValueAtTime(value, this.ac.currentTime);\n    }\n\n    /**\n     * Get the current volume\n     *\n     * @return {number} value A floating point value between 0 and 1.\n     */\n    getVolume() {\n        return this.gainNode.gain.value;\n    }\n\n    /**\n     * Decode an array buffer and pass data to a callback\n     *\n     * @private\n     * @param {ArrayBuffer} arraybuffer The array buffer to decode\n     * @param {function} callback The function to call on complete.\n     * @param {function} errback The function to call on error.\n     */\n    decodeArrayBuffer(arraybuffer, callback, errback) {\n        if (!this.offlineAc) {\n            this.offlineAc = this.getOfflineAudioContext(\n                this.ac && this.ac.sampleRate ? this.ac.sampleRate : 44100\n            );\n        }\n        if ('webkitAudioContext' in window) {\n            // Safari: no support for Promise-based decodeAudioData enabled\n            // Enable it in Safari using the Experimental Features > Modern WebAudio API option\n            this.offlineAc.decodeAudioData(\n                arraybuffer,\n                data => callback(data),\n                errback\n            );\n        } else {\n            this.offlineAc.decodeAudioData(arraybuffer).then(\n                (data) => callback(data)\n            ).catch(\n                (err) => errback(err)\n            );\n        }\n    }\n\n    /**\n     * Set pre-decoded peaks\n     *\n     * @param {number[]|Number.<Array[]>} peaks Peaks data\n     * @param {?number} duration Explicit duration\n     */\n    setPeaks(peaks, duration) {\n        if (duration != null) {\n            this.explicitDuration = duration;\n        }\n        this.peaks = peaks;\n    }\n\n    /**\n     * Set the rendered length (different from the length of the audio)\n     *\n     * @param {number} length The rendered length\n     */\n    setLength(length) {\n        // No resize, we can preserve the cached peaks.\n        if (this.mergedPeaks && length == 2 * this.mergedPeaks.length - 1 + 2) {\n            return;\n        }\n\n        this.splitPeaks = [];\n        this.mergedPeaks = [];\n        // Set the last element of the sparse array so the peak arrays are\n        // appropriately sized for other calculations.\n        const channels = this.buffer ? this.buffer.numberOfChannels : 1;\n        let c;\n        for (c = 0; c < channels; c++) {\n            this.splitPeaks[c] = [];\n            this.splitPeaks[c][2 * (length - 1)] = 0;\n            this.splitPeaks[c][2 * (length - 1) + 1] = 0;\n        }\n        this.mergedPeaks[2 * (length - 1)] = 0;\n        this.mergedPeaks[2 * (length - 1) + 1] = 0;\n    }\n\n    /**\n     * Compute the max and min value of the waveform when broken into <length> subranges.\n     *\n     * @param {number} length How many subranges to break the waveform into.\n     * @param {number} first First sample in the required range.\n     * @param {number} last Last sample in the required range.\n     * @return {number[]|Number.<Array[]>} Array of 2*<length> peaks or array of arrays of\n     * peaks consisting of (max, min) values for each subrange.\n     */\n    getPeaks(length, first, last) {\n        if (this.peaks) {\n            return this.peaks;\n        }\n        if (!this.buffer) {\n            return [];\n        }\n\n        first = first || 0;\n        last = last || length - 1;\n\n        this.setLength(length);\n\n        if (!this.buffer) {\n            return this.params.splitChannels\n                ? this.splitPeaks\n                : this.mergedPeaks;\n        }\n\n        /**\n         * The following snippet fixes a buffering data issue on the Safari\n         * browser which returned undefined It creates the missing buffer based\n         * on 1 channel, 4096 samples and the sampleRate from the current\n         * webaudio context 4096 samples seemed to be the best fit for rendering\n         * will review this code once a stable version of Safari TP is out\n         */\n        if (!this.buffer.length) {\n            const newBuffer = this.createBuffer(1, 4096, this.sampleRate);\n            this.buffer = newBuffer.buffer;\n        }\n\n        const sampleSize = this.buffer.length / length;\n        const sampleStep = ~~(sampleSize / 10) || 1;\n        const channels = this.buffer.numberOfChannels;\n        let c;\n\n        for (c = 0; c < channels; c++) {\n            const peaks = this.splitPeaks[c];\n            const chan = this.buffer.getChannelData(c);\n            let i;\n\n            for (i = first; i <= last; i++) {\n                const start = ~~(i * sampleSize);\n                const end = ~~(start + sampleSize);\n                /**\n                 * Initialize the max and min to the first sample of this\n                 * subrange, so that even if the samples are entirely\n                 * on one side of zero, we still return the true max and\n                 * min values in the subrange.\n                 */\n                let min = chan[start];\n                let max = min;\n                let j;\n\n                for (j = start; j < end; j += sampleStep) {\n                    const value = chan[j];\n\n                    if (value > max) {\n                        max = value;\n                    }\n\n                    if (value < min) {\n                        min = value;\n                    }\n                }\n\n                peaks[2 * i] = max;\n                peaks[2 * i + 1] = min;\n\n                if (c == 0 || max > this.mergedPeaks[2 * i]) {\n                    this.mergedPeaks[2 * i] = max;\n                }\n\n                if (c == 0 || min < this.mergedPeaks[2 * i + 1]) {\n                    this.mergedPeaks[2 * i + 1] = min;\n                }\n            }\n        }\n\n        return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;\n    }\n\n    /**\n     * Get the position from 0 to 1\n     *\n     * @return {number} Position\n     */\n    getPlayedPercents() {\n        return this.state.getPlayedPercents.call(this);\n    }\n\n    /** @private */\n    disconnectSource() {\n        if (this.source) {\n            this.source.disconnect();\n        }\n    }\n    /**\n     * Destroy all references with WebAudio, disconnecting audio nodes and closing Audio Context\n     */\n    destroyWebAudio() {\n        this.disconnectFilters();\n        this.disconnectSource();\n        this.gainNode.disconnect();\n        this.scriptNode && this.scriptNode.disconnect();\n        this.analyser.disconnect();\n\n        // close the audioContext if closeAudioContext option is set to true\n        if (this.params.closeAudioContext) {\n            // check if browser supports AudioContext.close()\n            if (\n                typeof this.ac.close === 'function' &&\n                this.ac.state != 'closed'\n            ) {\n                this.ac.close();\n            }\n            // clear the reference to the audiocontext\n            this.ac = null;\n            // clear the actual audiocontext, either passed as param or the\n            // global singleton\n            if (!this.params.audioContext) {\n                window.WaveSurferAudioContext = null;\n            } else {\n                this.params.audioContext = null;\n            }\n            // clear the offlineAudioContext\n            window.WaveSurferOfflineAudioContext = null;\n        }\n\n        // disconnect resources used by setSinkId\n        if (this.sinkStreamDestination) {\n            this.sinkAudioElement.pause();\n            this.sinkAudioElement.srcObject = null;\n            this.sinkStreamDestination.disconnect();\n            this.sinkStreamDestination = null;\n        }\n    }\n    /**\n     * This is called when wavesurfer is destroyed\n     */\n    destroy() {\n        if (!this.isPaused()) {\n            this.pause();\n        }\n        this.unAll();\n        this.buffer = null;\n        this.destroyed = true;\n\n        this.destroyWebAudio();\n    }\n\n    /**\n     * Loaded a decoded audio buffer\n     *\n     * @param {Object} buffer Decoded audio buffer to load\n     */\n    load(buffer) {\n        this.startPosition = 0;\n        this.lastPlay = this.ac.currentTime;\n        this.buffer = buffer;\n        this.createSource();\n    }\n\n    /** @private */\n    createSource() {\n        this.disconnectSource();\n        this.source = this.ac.createBufferSource();\n\n        // adjust for old browsers\n        this.source.start = this.source.start || this.source.noteGrainOn;\n        this.source.stop = this.source.stop || this.source.noteOff;\n\n        this.setPlaybackRate(this.playbackRate);\n        this.source.buffer = this.buffer;\n        this.source.connect(this.analyser);\n    }\n\n    /**\n     * @private\n     *\n     * some browsers require an explicit call to #resume before they will play back audio\n     */\n    resumeAudioContext() {\n        if (this.ac.state == 'suspended') {\n            this.ac.resume && this.ac.resume();\n        }\n    }\n\n    /**\n     * Used by `wavesurfer.isPlaying()` and `wavesurfer.playPause()`\n     *\n     * @return {boolean} Whether or not this backend is currently paused\n     */\n    isPaused() {\n        return this.state !== this.states[PLAYING];\n    }\n\n    /**\n     * Used by `wavesurfer.getDuration()`\n     *\n     * @return {number} Duration of loaded buffer\n     */\n    getDuration() {\n        if (this.explicitDuration) {\n            return this.explicitDuration;\n        }\n        if (!this.buffer) {\n            return 0;\n        }\n        return this.buffer.duration;\n    }\n\n    /**\n     * Used by `wavesurfer.seekTo()`\n     *\n     * @param {number} start Position to start at in seconds\n     * @param {number} end Position to end at in seconds\n     * @return {{start: number, end: number}} Object containing start and end\n     * positions\n     */\n    seekTo(start, end) {\n        if (!this.buffer) {\n            return;\n        }\n\n        this.scheduledPause = null;\n\n        if (start == null) {\n            start = this.getCurrentTime();\n            if (start >= this.getDuration()) {\n                start = 0;\n            }\n        }\n        if (end == null) {\n            end = this.getDuration();\n        }\n\n        this.startPosition = start;\n        this.lastPlay = this.ac.currentTime;\n\n        if (this.state === this.states[FINISHED]) {\n            this.setState(PAUSED);\n        }\n\n        return {\n            start: start,\n            end: end\n        };\n    }\n\n    /**\n     * Get the playback position in seconds\n     *\n     * @return {number} The playback position in seconds\n     */\n    getPlayedTime() {\n        return (this.ac.currentTime - this.lastPlay) * this.playbackRate;\n    }\n\n    /**\n     * Plays the loaded audio region.\n     *\n     * @param {number} start Start offset in seconds, relative to the beginning\n     * of a clip.\n     * @param {number} end When to stop relative to the beginning of a clip.\n     */\n    play(start, end) {\n        if (!this.buffer) {\n            return;\n        }\n\n        // need to re-create source on each playback\n        this.createSource();\n\n        const adjustedTime = this.seekTo(start, end);\n\n        start = adjustedTime.start;\n        end = adjustedTime.end;\n\n        this.scheduledPause = end;\n\n        this.source.start(0, start);\n\n        this.resumeAudioContext();\n\n        this.setState(PLAYING);\n\n        this.fireEvent('play');\n    }\n\n    /**\n     * Pauses the loaded audio.\n     */\n    pause() {\n        this.scheduledPause = null;\n\n        this.startPosition += this.getPlayedTime();\n        try {\n            this.source && this.source.stop(0);\n        } catch (err) {\n            // Calling stop can throw the following 2 errors:\n            // - RangeError (The value specified for when is negative.)\n            // - InvalidStateNode (The node has not been started by calling start().)\n            // We can safely ignore both errors, because:\n            // - The range is surely correct\n            // - The node might not have been started yet, in which case we just want to carry on without causing any trouble.\n        }\n\n        this.setState(PAUSED);\n\n        this.fireEvent('pause');\n    }\n\n    /**\n     * Returns the current time in seconds relative to the audio-clip's\n     * duration.\n     *\n     * @return {number} The current time in seconds\n     */\n    getCurrentTime() {\n        return this.state.getCurrentTime.call(this);\n    }\n\n    /**\n     * Returns the current playback rate. (0=no playback, 1=normal playback)\n     *\n     * @return {number} The current playback rate\n     */\n    getPlaybackRate() {\n        return this.playbackRate;\n    }\n\n    /**\n     * Set the audio source playback rate.\n     *\n     * @param {number} value The playback rate to use\n     */\n    setPlaybackRate(value) {\n        this.playbackRate = value || 1;\n        this.source && this.source.playbackRate.setValueAtTime(\n            this.playbackRate,\n            this.ac.currentTime\n        );\n    }\n\n    /**\n     * Set a point in seconds for playback to stop at.\n     *\n     * @param {number} end Position to end at\n     * @version 3.3.0\n     */\n    setPlayEnd(end) {\n        this.scheduledPause = end;\n    }\n}\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n",null,"// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/wavesurfer.js\");\n",null,"/**\n * @typedef {Object} MarkerParams\n * @desc The parameters used to describe a marker.\n * @example wavesurfer.addMarker(regionParams);\n * @property {number} time The time to set the marker at\n * @property {?label} string An optional marker label\n * @property {?tooltip} string An optional marker tooltip\n * @property {?color} string Background color for marker\n * @property {?position} string \"top\" or \"bottom\", defaults to \"bottom\"\n * @property {?markerElement} element An HTML element to display instead of the default marker image\n * @property {?draggable} boolean Set marker as draggable, defaults to false\n * @property {?boolean} preventContextMenu Determines whether the context menu\n * is prevented from being opened, defaults to false\n */\n\n\n/**\n * Markers are points in time in the audio that can be jumped to.\n *\n * @implements {PluginClass}\n *\n * @example\n * import MarkersPlugin from 'wavesurfer.markers.js';\n *\n * // if you are using <script> tags\n * var MarkerPlugin = window.WaveSurfer.markers;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     MarkersPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\n\nconst DEFAULT_FILL_COLOR = \"#D8D8D8\";\nconst DEFAULT_POSITION = \"bottom\";\n\nexport default class MarkersPlugin {\n    /**\n     * @typedef {Object} MarkersPluginParams\n     * @property {?MarkerParams[]} markers Initial set of markers\n     * @fires MarkersPlugin#marker-click\n     * @fires MarkersPlugin#marker-drag\n     * @fires MarkersPlugin#marker-drop\n     */\n\n    /**\n     * Markers plugin definition factory\n     *\n     * This function must be used to create a plugin definition which can be\n     * used by wavesurfer to correctly instantiate the plugin.\n     *\n     * @param {MarkersPluginParams} params parameters use to initialise the plugin\n     * @since 4.6.0\n     * @return {PluginDefinition} an object representing the plugin\n     */\n    static create(params) {\n        return {\n            name: 'markers',\n            deferInit: params && params.deferInit ? params.deferInit : false,\n            params: params,\n            staticProps: {\n                addMarker(options) {\n                    if (!this.initialisedPluginList.markers) {\n                        this.initPlugin('markers');\n                    }\n                    return this.markers.add(options);\n                },\n                getMarkers() {\n                    return this.markers;\n                },\n                clearMarkers() {\n                    this.markers && this.markers.clear();\n                }\n            },\n            instance: MarkersPlugin\n        };\n    }\n\n    constructor(params, ws) {\n        this.params = params;\n        this.wavesurfer = ws;\n        this.util = ws.util;\n        this.style = this.util.style;\n        this.markerLineWidth = 1;\n        this.markerWidth = 11;\n        this.markerHeight = 22;\n        this.dragging = false;\n\n\n        this._onResize = () => {\n            this._updateMarkerPositions();\n        };\n\n        this._onBackendCreated = () => {\n            this.wrapper = this.wavesurfer.drawer.wrapper;\n            if (this.params.markers) {\n                this.params.markers.forEach(marker => this.add(marker));\n            }\n            window.addEventListener('resize', this._onResize, true);\n            window.addEventListener('orientationchange', this._onResize, true);\n            this.wavesurfer.on('zoom', this._onResize);\n\n            if (!this.markers.find(marker => marker.draggable)){\n                return;\n            }\n\n            this.onMouseMove = (e) => this._onMouseMove(e);\n            window.addEventListener('mousemove', this.onMouseMove);\n\n            this.onMouseUp = (e) => this._onMouseUp(e);\n            window.addEventListener(\"mouseup\", this.onMouseUp);\n        };\n\n        this.markers = [];\n        this._onReady = () => {\n            this.wrapper = this.wavesurfer.drawer.wrapper;\n            this._updateMarkerPositions();\n        };\n    }\n\n    init() {\n        // Check if ws is ready\n        if (this.wavesurfer.isReady) {\n            this._onBackendCreated();\n            this._onReady();\n        } else {\n            this.wavesurfer.once('ready', this._onReady);\n            this.wavesurfer.once('backend-created', this._onBackendCreated);\n        }\n    }\n\n    destroy() {\n        this.wavesurfer.un('ready', this._onReady);\n        this.wavesurfer.un('backend-created', this._onBackendCreated);\n\n        this.wavesurfer.un('zoom', this._onResize);\n\n        window.removeEventListener('resize', this._onResize, true);\n        window.removeEventListener('orientationchange', this._onResize, true);\n\n        if (this.onMouseMove) {\n            window.removeEventListener('mousemove', this.onMouseMove);\n        }\n        if (this.onMouseUp) {\n            window.removeEventListener(\"mouseup\", this.onMouseUp);\n        }\n\n        this.clear();\n    }\n\n    /**\n     * Add a marker\n     *\n     * @param {MarkerParams} params Marker definition\n     * @return {object} The created marker\n     */\n    add(params) {\n        let marker = {\n            time: params.time,\n            label: params.label,\n            tooltip: params.tooltip,\n            color: params.color || DEFAULT_FILL_COLOR,\n            position: params.position || DEFAULT_POSITION,\n            draggable: !!params.draggable,\n            preventContextMenu: !!params.preventContextMenu\n        };\n\n        marker.el = this._createMarkerElement(marker, params.markerElement);\n\n        this.wrapper.appendChild(marker.el);\n        this.markers.push(marker);\n        this._updateMarkerPositions();\n\n        this._registerEvents();\n\n        return marker;\n    }\n\n    /**\n     * Remove a marker\n     *\n     * @param {number|Object} indexOrMarker Index of the marker to remove or the marker object itself\n     */\n    remove(indexOrMarker) {\n        let index = indexOrMarker;\n        if (isNaN(index)) {\n            index = this.markers.findIndex(marker => marker === indexOrMarker);\n        }\n        let marker = this.markers[index];\n        if (!marker) {\n            return;\n        }\n        let label = marker.el.getElementsByClassName(\"marker-label\")[0];\n        if (label) {\n            if (label._onContextMenu) {\n                label.removeEventListener(\"contextmenu\", label._onContextMenu);\n            }\n            if (label._onClick) {\n                label.removeEventListener(\"click\", label._onClick);\n            }\n            if (label._onMouseDown) {\n                label.removeEventListener(\"mousedown\", label._onMouseDown);\n            }\n        }\n\n        this.wrapper.removeChild(marker.el);\n        this.markers.splice(index, 1);\n\n        this._unregisterEvents();\n    }\n\n    _createPointerSVG(color, position) {\n        const svgNS = \"http://www.w3.org/2000/svg\";\n\n        const el = document.createElementNS(svgNS, \"svg\");\n        const polygon = document.createElementNS(svgNS, \"polygon\");\n\n        el.setAttribute(\"viewBox\", \"0 0 40 80\");\n\n        polygon.setAttribute(\"id\", \"polygon\");\n        polygon.setAttribute(\"stroke\", \"#979797\");\n        polygon.setAttribute(\"fill\", color);\n        polygon.setAttribute(\"points\", \"20 0 40 30 40 80 0 80 0 30\");\n        if ( position == \"top\" ) {\n            polygon.setAttribute(\"transform\", \"rotate(180, 20 40)\");\n        }\n\n        el.appendChild(polygon);\n\n        this.style(el, {\n            width: this.markerWidth + \"px\",\n            height: this.markerHeight + \"px\",\n            \"min-width\": this.markerWidth + \"px\",\n            \"margin-right\": \"5px\",\n            \"z-index\": 4\n        });\n        return el;\n    }\n\n    _createMarkerElement(marker, markerElement) {\n        let label = marker.label;\n        let tooltip = marker.tooltip;\n\n        const el = document.createElement('marker');\n        el.className = \"wavesurfer-marker\";\n\n        this.style(el, {\n            position: \"absolute\",\n            height: \"100%\",\n            display: \"flex\",\n            overflow: \"hidden\",\n            \"flex-direction\": (marker.position == \"top\" ? \"column-reverse\" : \"column\")\n        });\n\n        const line = document.createElement('div');\n        const width = markerElement ? markerElement.width : this.markerWidth;\n        marker.offset = (width - this.markerLineWidth) / 2;\n        this.style(line, {\n            \"flex-grow\": 1,\n            \"margin-left\": marker.offset + \"px\",\n            background: \"black\",\n            width: this.markerLineWidth + \"px\",\n            opacity: 0.1\n        });\n        el.appendChild(line);\n\n        const labelDiv = document.createElement('div');\n        const point = markerElement || this._createPointerSVG(marker.color, marker.position);\n        if (marker.draggable){\n            point.draggable = false;\n        }\n        labelDiv.appendChild(point);\n\n        if ( label ) {\n            const labelEl = document.createElement('span');\n            labelEl.innerText = label;\n            labelEl.setAttribute('title', tooltip);\n            this.style(labelEl, {\n                \"font-family\": \"inherit\",\n                \"font-size\": \"90%\"\n            });\n            labelDiv.appendChild(labelEl);\n        }\n\n        this.style(labelDiv, {\n            display: \"flex\",\n            \"align-items\": \"center\",\n            cursor: \"pointer\"\n        });\n        labelDiv.classList.add(\"marker-label\");\n\n        el.appendChild(labelDiv);\n\n        labelDiv._onClick = (e) => {\n            e.stopPropagation();\n            // Click event is caught when the marker-drop event was dispatched.\n            // Drop event was dispatched at this moment, but this.dragging\n            // is waiting for the next tick to set as false\n            if (this.dragging){\n                return;\n            }\n            this.wavesurfer.setCurrentTime(marker.time);\n            this.wavesurfer.fireEvent(\"marker-click\", marker, e);\n        };\n        labelDiv.addEventListener(\"click\", labelDiv._onClick);\n\n        labelDiv._onContextMenu = (e) => {\n            if (marker.preventContextMenu) {\n                e.preventDefault();\n            }\n            this.wavesurfer.fireEvent(\"marker-contextmenu\", marker, e);\n        };\n        labelDiv.addEventListener(\"contextmenu\", labelDiv._onContextMenu);\n\n        if (marker.draggable) {\n            labelDiv._onMouseDown = () => {\n                this.selectedMarker = marker;\n            };\n            labelDiv.addEventListener(\"mousedown\", labelDiv._onMouseDown);\n        }\n        return el;\n    }\n\n    _updateMarkerPositions() {\n        for ( let i = 0 ; i < this.markers.length; i++ ) {\n            let marker = this.markers[i];\n            this._updateMarkerPosition(marker);\n        }\n    }\n\n    /**\n     * Update a marker position based on its time property.\n     *\n     * @private\n     * @param {MarkerParams} params The marker to update.\n     * @returns {void}\n     */\n    _updateMarkerPosition(params) {\n        const duration = this.wavesurfer.getDuration();\n        const elementWidth =\n            this.wavesurfer.drawer.width /\n            this.wavesurfer.params.pixelRatio;\n\n        const positionPct = Math.min(params.time / duration, 1);\n        const leftPx = ((elementWidth * positionPct) - params.offset);\n        this.style(params.el, {\n            \"left\": leftPx + \"px\",\n            \"max-width\": (elementWidth - leftPx) + \"px\"\n        });\n    }\n\n    /**\n     * Fires `marker-drag` event, update the `time` property for the\n     * selected marker based on the mouse position, and calls to update\n     * its position.\n     *\n     * @private\n     * @param {MouseEvent} event The mouse event.\n     * @returns {void}\n     */\n    _onMouseMove(event) {\n        if (!this.selectedMarker){\n            return;\n        }\n        if (!this.dragging){\n            this.dragging = true;\n            this.wavesurfer.fireEvent(\"marker-drag\", this.selectedMarker, event);\n        }\n        this.selectedMarker.time = this.wavesurfer.drawer.handleEvent(event) * this.wavesurfer.getDuration();\n        this._updateMarkerPositions();\n    }\n\n    /**\n     * Fires `marker-drop` event and unselect the dragged marker.\n     *\n     * @private\n     * @param {MouseEvent} event The mouse event.\n     * @returns {void}\n     */\n    _onMouseUp(event) {\n        if (this.selectedMarker) {\n            setTimeout(() => {\n                this.selectedMarker = false;\n                this.dragging = false;\n            }, 0);\n        }\n\n        if (!this.dragging) {\n            return;\n        }\n\n        event.stopPropagation();\n        const duration = this.wavesurfer.getDuration();\n        this.selectedMarker.time = this.wavesurfer.drawer.handleEvent(event) * duration;\n        this._updateMarkerPositions();\n        this.wavesurfer.fireEvent(\"marker-drop\", this.selectedMarker, event);\n    }\n\n    _registerEvents() {\n        if (!this.markers.find(marker => marker.draggable)) {\n            return;\n        }\n        //we have some draggable markers, check for listeners\n        if (!this.onMouseMove) {\n            this.onMouseMove = (e) => this._onMouseMove(e);\n            window.addEventListener('mousemove', this.onMouseMove);\n        }\n\n        if (!this.onMouseUp) {\n            this.onMouseUp = (e) => this._onMouseUp(e);\n            window.addEventListener(\"mouseup\", this.onMouseUp);\n        }\n    }\n\n    _unregisterEvents() {\n        if (this.markers.find(marker => marker.draggable)) {\n            return;\n        }\n        //we don't have any draggable markers, unregister listeners\n        if (this.onMouseMove) {\n            window.removeEventListener('mousemove', this.onMouseMove);\n            this.onMouseMove = null;\n        }\n        if (this.onMouseUp) {\n            window.removeEventListener(\"mouseup\", this.onMouseUp);\n            this.onMouseUp = null;\n        }\n    }\n\n    /**\n     * Remove all markers\n     */\n    clear() {\n        while ( this.markers.length > 0 ) {\n            this.remove(0);\n        }\n    }\n}\n","/**\n *  @since 4.0.0 This class has been split\n *\n * @typedef {Object} RegionsPluginParams\n * @property {?boolean} dragSelection Enable creating regions by dragging with\n * the mouse\n * @property {?boolean} contentEditable=false Allow/disallow editing content of the region\n * @property {?boolean} removeButton=false adds remove region button\n * @property {?RegionParams[]} regions Regions that should be added upon\n * initialisation\n * @property {number} slop=2 The sensitivity of the mouse dragging\n * @property {?number} snapToGridInterval Snap the regions to a grid of the specified multiples in seconds\n * @property {?number} snapToGridOffset Shift the snap-to-grid by the specified seconds. May also be negative.\n * @property {?boolean} deferInit Set to true to manually call\n * @property {number} maxRegions Maximum number of regions that may be created by the user at one time.\n * `initPlugin('regions')`\n * @property {function} formatTimeCallback Allows custom formating for region tooltip.\n * @property {?number} edgeScrollWidth='5% from container edges' Optional width for edgeScroll to start\n */\n\n/**\n * @typedef {Object} RegionParams\n * @desc The parameters used to describe a region.\n * @example wavesurfer.addRegion(regionParams);\n * @property {string} id=random The id of the region\n * @property {number} start=0 The start position of the region (in seconds).\n * @property {number} end=0 The end position of the region (in seconds).\n * @property {?boolean} loop Whether to loop the region when played back.\n * @property {boolean} drag=true Allow/disallow dragging the region.\n * @property {boolean} resize=true Allow/disallow resizing the region.\n * @property {string} [color='rgba(0, 0, 0, 0.1)'] HTML color code.\n * @property {?number} channelIdx Select channel to draw the region on (if there are multiple channel waveforms).\n * @property {?object} handleStyle A set of CSS properties used to style the left and right handle.\n * @property {?boolean} preventContextMenu=false Determines whether the context menu is prevented from being opened.\n * @property {boolean} showTooltip=true Enable/disable tooltip displaying start and end times when hovering over region.\n */\n\nimport {Region} from \"./region.js\";\n\n/**\n * Regions are visual overlays on waveform that can be used to play and loop\n * portions of audio. Regions can be dragged and resized.\n *\n * Visual customization is possible via CSS (using the selectors\n * `.wavesurfer-region` and `.wavesurfer-handle`).\n *\n * @implements {PluginClass}\n * @extends {Observer}\n *\n * @example\n * // es6\n * import RegionsPlugin from 'wavesurfer.regions.js';\n *\n * // commonjs\n * var RegionsPlugin = require('wavesurfer.regions.js');\n *\n * // if you are using <script> tags\n * var RegionsPlugin = window.WaveSurfer.regions;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     RegionsPlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class RegionsPlugin {\n    /**\n     * Regions plugin definition factory\n     *\n     * This function must be used to create a plugin definition which can be\n     * used by wavesurfer to correctly instantiate the plugin.\n     *\n     * @param {RegionsPluginParams} params parameters use to initialise the plugin\n     * @return {PluginDefinition} an object representing the plugin\n     */\n    static create(params) {\n        return {\n            name: 'regions',\n            deferInit: params && params.deferInit ? params.deferInit : false,\n            params: params,\n            staticProps: {\n                addRegion(options) {\n                    if (!this.initialisedPluginList.regions) {\n                        this.initPlugin('regions');\n                    }\n                    return this.regions.add(options);\n                },\n\n                clearRegions() {\n                    this.regions && this.regions.clear();\n                },\n\n                enableDragSelection(options) {\n                    if (!this.initialisedPluginList.regions) {\n                        this.initPlugin('regions');\n                    }\n                    this.regions.enableDragSelection(options);\n                },\n\n                disableDragSelection() {\n                    this.regions.disableDragSelection();\n                }\n            },\n            instance: RegionsPlugin\n        };\n    }\n\n    constructor(params, ws) {\n        this.params = params;\n        this.wavesurfer = ws;\n        this.util = {\n            ...ws.util,\n            getRegionSnapToGridValue: value => {\n                return this.getRegionSnapToGridValue(value, params);\n            }\n        };\n        this.maxRegions = params.maxRegions;\n        this.regionsMinLength = params.regionsMinLength || null;\n\n        // turn the plugin instance into an observer\n        const observerPrototypeKeys = Object.getOwnPropertyNames(\n            this.util.Observer.prototype\n        );\n        observerPrototypeKeys.forEach(key => {\n            Region.prototype[key] = this.util.Observer.prototype[key];\n        });\n        this.wavesurfer.Region = Region;\n\n        // By default, scroll the container if the user drags a region\n        // within 5% (based on its initial size) of its edge\n        const scrollWidthProportion = 0.05;\n        this._onBackendCreated = () => {\n            this.wrapper = this.wavesurfer.drawer.wrapper;\n            this.orientation = this.wavesurfer.drawer.orientation;\n            this.defaultEdgeScrollWidth = this.wrapper.clientWidth * scrollWidthProportion;\n            if (this.params.regions) {\n                this.params.regions.forEach(region => {\n                    this.add(region);\n                });\n            }\n        };\n\n        // Id-based hash of regions\n        this.list = {};\n        this._onReady = () => {\n            this.wrapper = this.wavesurfer.drawer.wrapper;\n            this.vertical = this.wavesurfer.drawer.params.vertical;\n            if (this.params.dragSelection) {\n                this.enableDragSelection(this.params);\n            }\n            Object.keys(this.list).forEach(id => {\n                this.list[id].updateRender();\n            });\n        };\n    }\n\n    init() {\n        // Check if ws is ready\n        if (this.wavesurfer.isReady) {\n            this._onBackendCreated();\n            this._onReady();\n        } else {\n            this.wavesurfer.once('ready', this._onReady);\n            this.wavesurfer.once('backend-created', this._onBackendCreated);\n        }\n    }\n\n    destroy() {\n        this.wavesurfer.un('ready', this._onReady);\n        this.wavesurfer.un('backend-created', this._onBackendCreated);\n        // Disabling `region-removed' because destroying the plugin calls\n        // the Region.remove() method that is also used to remove regions based\n        // on user input. This can cause confusion since teardown is not a\n        // user event, but would emit `region-removed` as if it was.\n        this.wavesurfer.setDisabledEventEmissions(['region-removed']);\n        this.disableDragSelection();\n        this.clear();\n    }\n\n    /**\n     * check to see if adding a new region would exceed maxRegions\n     * @return {boolean} whether we should proceed and create a region\n     * @private\n     */\n    wouldExceedMaxRegions() {\n        return (\n            this.maxRegions && Object.keys(this.list).length >= this.maxRegions\n        );\n    }\n\n    /**\n     * Add a region\n     *\n     * @param {object} params Region parameters\n     * @return {Region} The created region\n     */\n    add(params) {\n        if (this.wouldExceedMaxRegions()) {\n            return null;\n        }\n\n        params = {\n            edgeScrollWidth: this.params.edgeScrollWidth || this.defaultEdgeScrollWidth,\n            contentEditable: this.params.contentEditable,\n            removeButton: this.params.removeButton,\n            ...params\n        };\n\n        // Take formatTimeCallback from plugin params if not already set\n        if (!params.formatTimeCallback && this.params.formatTimeCallback) {\n            params = {...params, formatTimeCallback: this.params.formatTimeCallback};\n        }\n\n        if (!params.minLength && this.regionsMinLength) {\n            params = {...params, minLength: this.regionsMinLength};\n        }\n\n        const region = new this.wavesurfer.Region(params, this.util, this.wavesurfer);\n\n        this.list[region.id] = region;\n\n        region.on('remove', () => {\n            delete this.list[region.id];\n        });\n\n        return region;\n    }\n\n    /**\n     * Remove all regions\n     */\n    clear() {\n        Object.keys(this.list).forEach(id => {\n            this.list[id].remove();\n        });\n    }\n\n    enableDragSelection(params) {\n        this.disableDragSelection();\n\n        const slop = params.slop || 2;\n        const container = this.wavesurfer.drawer.container;\n        const scroll =\n            params.scroll !== false && this.wavesurfer.params.scrollParent;\n        const scrollSpeed = params.scrollSpeed || 1;\n        const scrollThreshold = params.scrollThreshold || 10;\n        let drag;\n        let duration = this.wavesurfer.getDuration();\n        let maxScroll;\n        let start;\n        let region;\n        let touchId;\n        let pxMove = 0;\n        let scrollDirection;\n        let wrapperRect;\n\n        // Scroll when the user is dragging within the threshold\n        const edgeScroll = e => {\n            if (!region || !scrollDirection) {\n                return;\n            }\n\n            // Update scroll position\n            let scrollLeft =\n                this.wrapper.scrollLeft + scrollSpeed * scrollDirection;\n            this.wrapper.scrollLeft = scrollLeft = Math.min(\n                maxScroll,\n                Math.max(0, scrollLeft)\n            );\n\n            // Update range\n            const end = this.wavesurfer.drawer.handleEvent(e);\n            region.update({\n                start: Math.min(end * duration, start * duration),\n                end: Math.max(end * duration, start * duration)\n            });\n\n            // Check that there is more to scroll and repeat\n            if (scrollLeft < maxScroll && scrollLeft > 0) {\n                window.requestAnimationFrame(() => {\n                    edgeScroll(e);\n                });\n            }\n        };\n\n        const eventDown = e => {\n            if (e.touches && e.touches.length > 1) {\n                return;\n            }\n            duration = this.wavesurfer.getDuration();\n            touchId = e.targetTouches ? e.targetTouches[0].identifier : null;\n\n            // Store for scroll calculations\n            maxScroll = this.wrapper.scrollWidth -\n                this.wrapper.clientWidth;\n            wrapperRect = this.util.withOrientation(\n                this.wrapper.getBoundingClientRect(),\n                this.vertical\n            );\n\n            // set the region channel index based on the clicked area\n            if (this.wavesurfer.params.splitChannels && this.wavesurfer.params.splitChannelsOptions.splitDragSelection) {\n                const y = (e.touches ? e.touches[0].clientY : e.clientY) - wrapperRect.top;\n                const channelCount = this.wavesurfer.backend.buffer != null ? this.wavesurfer.backend.buffer.numberOfChannels : 1;\n                const channelHeight = this.wrapper.clientHeight / channelCount;\n                const channelIdx = Math.floor(y / channelHeight);\n                params.channelIdx = channelIdx;\n                const channelColors = this.wavesurfer.params.splitChannelsOptions.channelColors[channelIdx];\n                if (channelColors && channelColors.dragColor) {\n                    params.color = channelColors.dragColor;\n                }\n            }\n\n            drag = true;\n            start = this.wavesurfer.drawer.handleEvent(e, true);\n            region = null;\n            scrollDirection = null;\n        };\n        this.wrapper.addEventListener('mousedown', eventDown);\n        this.wrapper.addEventListener('touchstart', eventDown);\n        this.on('disable-drag-selection', () => {\n            this.wrapper.removeEventListener('touchstart', eventDown);\n            this.wrapper.removeEventListener('mousedown', eventDown);\n        });\n\n        const eventUp = e => {\n            if (e.touches && e.touches.length > 1) {\n                return;\n            }\n\n            drag = false;\n            pxMove = 0;\n            scrollDirection = null;\n\n            if (region) {\n                this.util.preventClick();\n                region.fireEvent('update-end', e);\n                this.wavesurfer.fireEvent('region-update-end', region, e);\n            }\n\n            region = null;\n        };\n        this.wrapper.addEventListener('mouseleave', eventUp);\n        this.wrapper.addEventListener('mouseup', eventUp);\n        this.wrapper.addEventListener('touchend', eventUp);\n\n        document.body.addEventListener('mouseup', eventUp);\n        document.body.addEventListener('touchend', eventUp);\n        this.on('disable-drag-selection', () => {\n            document.body.removeEventListener('mouseup', eventUp);\n            document.body.removeEventListener('touchend', eventUp);\n            this.wrapper.removeEventListener('touchend', eventUp);\n            this.wrapper.removeEventListener('mouseup', eventUp);\n            this.wrapper.removeEventListener('mouseleave', eventUp);\n        });\n\n        const eventMove = event => {\n            if (!drag) {\n                return;\n            }\n            if (++pxMove <= slop) {\n                return;\n            }\n\n            if (event.touches && event.touches.length > 1) {\n                return;\n            }\n            if (event.targetTouches && event.targetTouches[0].identifier != touchId) {\n                return;\n            }\n\n            // auto-create a region during mouse drag, unless region-count would exceed \"maxRegions\"\n            if (!region) {\n                region = this.add(params || {});\n                if (!region) {\n                    return;\n                }\n            }\n\n            const end = this.wavesurfer.drawer.handleEvent(event);\n            const startUpdate = this.wavesurfer.regions.util.getRegionSnapToGridValue(\n                start * duration\n            );\n            const endUpdate = this.wavesurfer.regions.util.getRegionSnapToGridValue(\n                end * duration\n            );\n            region.update({\n                start: Math.min(endUpdate, startUpdate),\n                end: Math.max(endUpdate, startUpdate)\n            });\n\n            let orientedEvent = this.util.withOrientation(event, this.vertical);\n\n            // If scrolling is enabled\n            if (scroll && container.clientWidth < this.wrapper.scrollWidth) {\n                // Check threshold based on mouse\n                const x = orientedEvent.clientX - wrapperRect.left;\n                if (x <= scrollThreshold) {\n                    scrollDirection = -1;\n                } else if (x >= wrapperRect.right - scrollThreshold) {\n                    scrollDirection = 1;\n                } else {\n                    scrollDirection = null;\n                }\n                scrollDirection && edgeScroll(event);\n            }\n        };\n        this.wrapper.addEventListener('mousemove', eventMove);\n        this.wrapper.addEventListener('touchmove', eventMove);\n        this.on('disable-drag-selection', () => {\n            this.wrapper.removeEventListener('touchmove', eventMove);\n            this.wrapper.removeEventListener('mousemove', eventMove);\n        });\n\n        this.wavesurfer.on('region-created', region => {\n            if (this.regionsMinLength) {\n                region.minLength = this.regionsMinLength;\n            }\n        });\n    }\n\n    disableDragSelection() {\n        this.fireEvent('disable-drag-selection');\n    }\n\n    /**\n     * Get current region\n     *\n     * The smallest region that contains the current time. If several such\n     * regions exist, take the first. Return `null` if none exist.\n     *\n     * @returns {Region} The current region\n     */\n    getCurrentRegion() {\n        const time = this.wavesurfer.getCurrentTime();\n        let min = null;\n        Object.keys(this.list).forEach(id => {\n            const cur = this.list[id];\n            if (cur.start <= time && cur.end >= time) {\n                if (!min || cur.end - cur.start < min.end - min.start) {\n                    min = cur;\n                }\n            }\n        });\n\n        return min;\n    }\n\n    /**\n     * Match the value to the grid, if required\n     *\n     * If the regions plugin params have a snapToGridInterval set, return the\n     * value matching the nearest grid interval. If no snapToGridInterval is set,\n     * the passed value will be returned without modification.\n     *\n     * @param {number} value the value to snap to the grid, if needed\n     * @param {Object} params the regions plugin params\n     * @returns {number} value\n     */\n    getRegionSnapToGridValue(value, params) {\n        if (params.snapToGridInterval) {\n            // the regions should snap to a grid\n            const offset = params.snapToGridOffset || 0;\n            return (\n                Math.round((value - offset) / params.snapToGridInterval) *\n                    params.snapToGridInterval +\n                offset\n            );\n        }\n\n        // no snap-to-grid\n        return value;\n    }\n}\n","/**\n *  @since 4.0.0\n *\n * (Single) Region plugin class\n *\n * Must be turned into an observer before instantiating. This is done in\n * `RegionsPlugin` (main plugin class).\n *\n * @extends {Observer}\n */\nexport class Region {\n    constructor(params, regionsUtils, ws) {\n        this.wavesurfer = ws;\n        this.wrapper = ws.drawer.wrapper;\n        this.util = ws.util;\n        this.style = this.util.style;\n        this.regionsUtil = regionsUtils;\n        this.vertical = ws.drawer.params.vertical;\n\n        this.id = params.id == null ? ws.util.getId() : params.id;\n        this.start = Number(params.start) || 0;\n        this.end =\n            params.end == null\n                ? // small marker-like region\n                this.start +\n                (4 / this.wrapper.scrollWidth) * this.wavesurfer.getDuration()\n                : Number(params.end);\n        this.resize =\n            params.resize === undefined ? true : Boolean(params.resize);\n        this.drag = params.drag === undefined ? true : Boolean(params.drag);\n        this.contentEditable = Boolean(params.contentEditable);\n        this.removeButton = Boolean(params.removeButton);\n        // reflect resize and drag state of region for region-updated listener\n        this.isResizing = false;\n        this.isDragging = false;\n        this.loop = Boolean(params.loop);\n        this.color = params.color || 'rgba(0, 0, 0, 0.1)';\n        // The left and right handleStyle properties can be set to 'none' for\n        // no styling or can be assigned an object containing CSS properties.\n        this.handleStyle = params.handleStyle || {\n            left: {},\n            right: {}\n        };\n        this.handleLeftEl = null;\n        this.handleRightEl = null;\n        this.data = params.data || {};\n        this.attributes = params.attributes || {};\n        this.showTooltip = params.showTooltip ?? true;\n\n        this.maxLength = params.maxLength;\n        // It assumes the minLength parameter value, or the regionsMinLength parameter value, if the first one not provided\n        this.minLength = params.minLength;\n        this._onRedraw = () => this.updateRender();\n\n        this.scroll = params.scroll !== false && ws.params.scrollParent;\n        this.scrollSpeed = params.scrollSpeed || 1;\n        this.scrollThreshold = params.scrollThreshold || 10;\n        // Determines whether the context menu is prevented from being opened.\n        this.preventContextMenu =\n            params.preventContextMenu === undefined\n                ? false\n                : Boolean(params.preventContextMenu);\n\n        // select channel ID to set region\n        let channelIdx =\n            params.channelIdx == null ? -1 : parseInt(params.channelIdx);\n        this.channelIdx = channelIdx;\n        this.regionHeight = '100%';\n        this.marginTop = '0px';\n\n        if (channelIdx !== -1) {\n            let channelCount =\n                this.wavesurfer.backend.buffer != null\n                    ? this.wavesurfer.backend.buffer.numberOfChannels\n                    : -1;\n            if (channelCount >= 0 && channelIdx < channelCount) {\n                this.regionHeight = Math.floor((1 / channelCount) * 100) + '%';\n                this.marginTop =\n                    this.wavesurfer.getHeight() * channelIdx + 'px';\n            }\n        }\n\n        this.formatTimeCallback = params.formatTimeCallback;\n        this.edgeScrollWidth = params.edgeScrollWidth;\n        this.bindInOut();\n        this.render();\n        this.wavesurfer.on('zoom', this._onRedraw);\n        this.wavesurfer.on('redraw', this._onRedraw);\n        this.wavesurfer.fireEvent('region-created', this);\n    }\n\n    /* Update region params. */\n    update(params, eventParams) {\n        if (params.start != null) {\n            this.start = Number(params.start);\n        }\n        if (params.end != null) {\n            this.end = Number(params.end);\n        }\n        if (params.loop != null) {\n            this.loop = Boolean(params.loop);\n        }\n        if (params.color != null) {\n            this.color = params.color;\n        }\n        if (params.handleStyle != null) {\n            this.handleStyle = params.handleStyle;\n        }\n        if (params.data != null) {\n            this.data = params.data;\n        }\n        if (params.resize != null) {\n            this.resize = Boolean(params.resize);\n            this.updateHandlesResize(this.resize);\n        }\n        if (params.drag != null) {\n            this.drag = Boolean(params.drag);\n        }\n        if (params.maxLength != null) {\n            this.maxLength = Number(params.maxLength);\n        }\n        if (params.minLength != null) {\n            this.minLength = Number(params.minLength);\n        }\n        if (params.attributes != null) {\n            this.attributes = params.attributes;\n        }\n\n        this.updateRender();\n        this.fireEvent('update');\n        this.wavesurfer.fireEvent('region-updated', this, eventParams);\n    }\n\n    /* Remove a single region. */\n    remove() {\n        if (this.element) {\n            this.element.remove();\n            this.element = null;\n            this.fireEvent('remove');\n            this.wavesurfer.un('zoom', this._onRedraw);\n            this.wavesurfer.un('redraw', this._onRedraw);\n            this.wavesurfer.fireEvent('region-removed', this);\n        }\n    }\n\n    /**\n     * Play the audio region.\n     * @param {number} start Optional offset to start playing at\n     */\n    play(start) {\n        const s = start || this.start;\n        this.wavesurfer.play(s, this.end);\n        this.fireEvent('play');\n        this.wavesurfer.fireEvent('region-play', this);\n    }\n\n    /**\n     * Play the audio region in a loop.\n     * @param {number} start Optional offset to start playing at\n     * */\n    playLoop(start) {\n        this.loop = true;\n        this.play(start);\n    }\n\n    /**\n     * Set looping on/off.\n     * @param {boolean} loop True if should play in loop\n     */\n    setLoop(loop) {\n        this.loop = loop;\n    }\n\n    /* Render a region as a DOM element. */\n    render() {\n        this.element = this.util.withOrientation(\n            this.wrapper.appendChild(document.createElement('region')),\n            this.vertical\n        );\n\n        this.element.className = 'wavesurfer-region';\n        if (this.showTooltip) {\n            this.element.title = this.formatTime(this.start, this.end);\n        }\n        this.element.setAttribute('data-id', this.id);\n\n        for (const attrname in this.attributes) {\n            this.element.setAttribute(\n                'data-region-' + attrname,\n                this.attributes[attrname]\n            );\n        }\n\n        this.style(this.element, {\n            position: 'absolute',\n            zIndex: 3,\n            height: this.regionHeight,\n            top: this.marginTop\n        });\n\n        /* Button Remove Region */\n        if (this.removeButton){\n            const removeButtonEl = document.createElement('div');\n            removeButtonEl.className = 'remove-region-button';\n            removeButtonEl.textContent = '';\n            this.removeButtonEl = this.element.appendChild(removeButtonEl);\n            const css = {\n                zIndex: 4,\n                position: 'absolute',\n                bottom: 0,\n                right: '4px',\n                cursor:'pointer',\n                fontSize: '20px',\n                lineHeight: '21px',\n                color: 'grey'\n            };\n            this.style(this.removeButtonEl, css);\n        }\n\n        /* Edit content */\n        if (this.contentEditable){\n            const contentEl = document.createElement('div');\n            contentEl.className = 'region-content';\n            contentEl.contentEditable = 'true';\n            contentEl.innerText = this.data.text || '';\n            this.contentEl = this.element.appendChild(contentEl);\n            const css = {\n                zIndex: 4,\n                padding: '2px 5px',\n                cursor:'text'};\n            this.style(this.contentEl, css);\n        }\n\n        /* Resize handles */\n        if (this.resize) {\n            this.handleLeftEl = this.util.withOrientation(\n                this.element.appendChild(document.createElement('handle')),\n                this.vertical\n            );\n            this.handleRightEl = this.util.withOrientation(\n                this.element.appendChild(document.createElement('handle')),\n                this.vertical\n            );\n\n            this.handleLeftEl.className = 'wavesurfer-handle wavesurfer-handle-start';\n            this.handleRightEl.className = 'wavesurfer-handle wavesurfer-handle-end';\n\n            // Default CSS properties for both handles.\n            const css = {\n                cursor: this.vertical ? 'row-resize' : 'col-resize',\n                position: 'absolute',\n                top: '0px',\n                width: '2px',\n                height: '100%',\n                backgroundColor: 'rgba(0, 0, 0, 1)'\n            };\n\n            // Merge CSS properties per handle.\n            const handleLeftCss =\n                this.handleStyle.left !== 'none'\n                    ? Object.assign(\n                        { left: '0px' },\n                        css,\n                        this.handleStyle.left\n                    )\n                    : null;\n            const handleRightCss =\n                this.handleStyle.right !== 'none'\n                    ? Object.assign(\n                        { right: '0px' },\n                        css,\n                        this.handleStyle.right\n                    )\n                    : null;\n\n            if (handleLeftCss) {\n                this.style(this.handleLeftEl, handleLeftCss);\n            }\n\n            if (handleRightCss) {\n                this.style(this.handleRightEl, handleRightCss);\n            }\n        }\n\n        this.updateRender();\n        this.bindEvents();\n    }\n\n    formatTime(start, end) {\n        if (this.formatTimeCallback) {\n            return this.formatTimeCallback(start, end);\n        }\n        return (start == end ? [start] : [start, end])\n            .map((time) =>\n                [\n                    Math.floor((time % 3600) / 60), // minutes\n                    ('00' + Math.floor(time % 60)).slice(-2) // seconds\n                ].join(':')\n            )\n            .join('-');\n    }\n\n    getWidth() {\n        return this.wavesurfer.drawer.width / this.wavesurfer.params.pixelRatio;\n    }\n\n    /* Update element's position, width, color. */\n    updateRender() {\n        // duration varies during loading process, so don't overwrite important data\n        const dur = this.wavesurfer.getDuration();\n        const width = this.getWidth();\n\n        let startLimited = this.start;\n        let endLimited = this.end;\n        if (startLimited < 0) {\n            startLimited = 0;\n            endLimited = endLimited - startLimited;\n        }\n        if (endLimited > dur) {\n            endLimited = dur;\n            startLimited = dur - (endLimited - startLimited);\n        }\n\n        if (this.minLength != null) {\n            endLimited = Math.max(startLimited + this.minLength, endLimited);\n        }\n\n        if (this.maxLength != null) {\n            endLimited = Math.min(startLimited + this.maxLength, endLimited);\n        }\n\n        if (this.element != null) {\n            // Calculate the left and width values of the region such that\n            // no gaps appear between regions.\n            const left = Math.round((startLimited / dur) * width);\n            const regionWidth = Math.round((endLimited / dur) * width) - left;\n\n            this.style(this.element, {\n                left: left + 'px',\n                width: regionWidth + 'px',\n                backgroundColor: this.color,\n                cursor: this.drag ? 'move' : 'default'\n            });\n\n            for (const attrname in this.attributes) {\n                this.element.setAttribute(\n                    'data-region-' + attrname,\n                    this.attributes[attrname]\n                );\n            }\n\n            if (this.showTooltip) {\n                this.element.title = this.formatTime(this.start, this.end);\n            }\n        }\n    }\n\n    /* Bind audio events. */\n    bindInOut() {\n        this.firedIn = false;\n        this.firedOut = false;\n\n        const onProcess = (time) => {\n            let start = Math.round(this.start * 10) / 10;\n            let end = Math.round(this.end * 10) / 10;\n            time = Math.round(time * 10) / 10;\n\n            if (\n                !this.firedOut &&\n                this.firedIn &&\n                (start > time || end <= time)\n            ) {\n                this.firedOut = true;\n                this.firedIn = false;\n                this.fireEvent('out');\n                this.wavesurfer.fireEvent('region-out', this);\n            }\n            if (!this.firedIn && start <= time && end > time) {\n                this.firedIn = true;\n                this.firedOut = false;\n                this.fireEvent('in');\n                this.wavesurfer.fireEvent('region-in', this);\n            }\n        };\n\n        this.wavesurfer.backend.on('audioprocess', onProcess);\n\n        this.on('remove', () => {\n            this.wavesurfer.backend.un('audioprocess', onProcess);\n        });\n\n        /* Loop playback. */\n        this.on('out', () => {\n            if (this.loop) {\n                const realTime = this.wavesurfer.getCurrentTime();\n                if (realTime >= this.start && realTime <= this.end) {\n                    this.wavesurfer.play(this.start);\n                }\n            }\n        });\n    }\n\n    /* Bind DOM events. */\n    bindEvents() {\n        const preventContextMenu = this.preventContextMenu;\n\n        this.element.addEventListener('mouseenter', (e) => {\n            this.fireEvent('mouseenter', e);\n            this.wavesurfer.fireEvent('region-mouseenter', this, e);\n        });\n\n        this.element.addEventListener('mouseleave', (e) => {\n            this.fireEvent('mouseleave', e);\n            this.wavesurfer.fireEvent('region-mouseleave', this, e);\n        });\n\n        this.element.addEventListener('click', (e) => {\n            e.preventDefault();\n            this.fireEvent('click', e);\n            this.wavesurfer.fireEvent('region-click', this, e);\n        });\n\n        this.element.addEventListener('dblclick', (e) => {\n            e.stopPropagation();\n            e.preventDefault();\n            this.fireEvent('dblclick', e);\n            this.wavesurfer.fireEvent('region-dblclick', this, e);\n        });\n\n        this.element.addEventListener('contextmenu', (e) => {\n            if (preventContextMenu) {\n                e.preventDefault();\n            }\n            this.fireEvent('contextmenu', e);\n            this.wavesurfer.fireEvent('region-contextmenu', this, e);\n        });\n\n        /* Drag or resize on mousemove. */\n        if (this.drag || this.resize) {\n            this.bindDragEvents();\n        }\n\n        /* Edit content */\n        if (this.contentEditable){\n            this.contentEl.addEventListener('blur', this.onContentBlur.bind(this));\n            this.contentEl.addEventListener('click', this.onContentClick.bind(this));\n        }\n        /* Remove button */\n        if (this.removeButton){\n            this.removeButtonEl.addEventListener('click', this.onRemove.bind(this));\n        }\n    }\n\n    bindDragEvents() {\n        const container = this.wavesurfer.drawer.container;\n        const scrollSpeed = this.scrollSpeed;\n        let startTime;\n        let touchId;\n        let drag;\n        let maxScroll;\n        let resize;\n        let updated = false;\n        let scrollDirection;\n        let wrapperRect;\n        let regionLeftHalfTime;\n        let regionRightHalfTime;\n\n        // Scroll when the user is dragging within the threshold\n        const edgeScroll = (event) => {\n            let orientedEvent = this.util.withOrientation(event, this.vertical);\n            const duration = this.wavesurfer.getDuration();\n            if (!scrollDirection || (!drag && !resize)) {\n                return;\n            }\n\n            const x = orientedEvent.clientX;\n            let distanceBetweenCursorAndWrapperEdge = 0;\n            let regionHalfTimeWidth = 0;\n            let adjustment = 0;\n\n            // Get the currently selected time according to the mouse position\n            let time = this.regionsUtil.getRegionSnapToGridValue(\n                this.wavesurfer.drawer.handleEvent(event) * duration\n            );\n\n            if (drag) {\n                // Considering the point of contact with the region while edgescrolling\n                if (scrollDirection === -1) {\n                    regionHalfTimeWidth = regionLeftHalfTime * this.wavesurfer.params.minPxPerSec;\n                    distanceBetweenCursorAndWrapperEdge = x - wrapperRect.left;\n                } else {\n                    regionHalfTimeWidth = regionRightHalfTime * this.wavesurfer.params.minPxPerSec;\n                    distanceBetweenCursorAndWrapperEdge = wrapperRect.right - x;\n                }\n            } else {\n                // Considering minLength while edgescroll\n                let minLength = this.minLength;\n                if (!minLength) {\n                    minLength = 0;\n                }\n\n                if (resize === 'start') {\n                    if (time > this.end - minLength) {\n                        time = this.end - minLength;\n                        adjustment = scrollSpeed * scrollDirection;\n                    }\n\n                    if (time < 0) {\n                        time = 0;\n                    }\n                } else if (resize === 'end') {\n                    if (time < this.start + minLength) {\n                        time = this.start + minLength;\n                        adjustment = scrollSpeed * scrollDirection;\n                    }\n\n                    if (time > duration) {\n                        time = duration;\n                    }\n                }\n            }\n\n            // Don't edgescroll if region has reached min or max limit\n            const wrapperScrollLeft = this.wrapper.scrollLeft;\n\n            if (scrollDirection === -1) {\n                if (Math.round(wrapperScrollLeft) === 0) {\n                    return;\n                }\n\n                if (Math.round(wrapperScrollLeft - regionHalfTimeWidth + distanceBetweenCursorAndWrapperEdge) <= 0) {\n                    return;\n                }\n            } else {\n                if (Math.round(wrapperScrollLeft) === maxScroll) {\n                    return;\n                }\n\n                if (Math.round(wrapperScrollLeft + regionHalfTimeWidth - distanceBetweenCursorAndWrapperEdge) >= maxScroll) {\n                    return;\n                }\n            }\n\n            // Update scroll position\n            let scrollLeft = wrapperScrollLeft - adjustment + scrollSpeed * scrollDirection;\n\n            if (scrollDirection === -1) {\n                const calculatedLeft = Math.max(0 + regionHalfTimeWidth - distanceBetweenCursorAndWrapperEdge, scrollLeft);\n                this.wrapper.scrollLeft = scrollLeft = calculatedLeft;\n            } else {\n                const calculatedRight = Math.min(maxScroll - regionHalfTimeWidth + distanceBetweenCursorAndWrapperEdge, scrollLeft);\n                this.wrapper.scrollLeft = scrollLeft = calculatedRight;\n            }\n\n            const delta = time - startTime;\n            startTime = time;\n\n            // Continue dragging or resizing\n            drag ? this.onDrag(delta) : this.onResize(delta, resize);\n\n            // Repeat\n            window.requestAnimationFrame(() => {\n                edgeScroll(event);\n            });\n        };\n\n        const onDown = (event) => {\n            const duration = this.wavesurfer.getDuration();\n            if (event.touches && event.touches.length > 1) {\n                return;\n            }\n            touchId = event.targetTouches ? event.targetTouches[0].identifier : null;\n\n            // stop the event propagation, if this region is resizable or draggable\n            // and the event is therefore handled here.\n            if (this.drag || this.resize) {\n                event.stopPropagation();\n            }\n\n            // Store the selected startTime we begun dragging or resizing\n            startTime = this.regionsUtil.getRegionSnapToGridValue(\n                this.wavesurfer.drawer.handleEvent(event, true) * duration\n            );\n\n            // Store the selected point of contact when we begin dragging\n            regionLeftHalfTime = startTime - this.start;\n            regionRightHalfTime = this.end - startTime;\n\n            // Store for scroll calculations\n            maxScroll = this.wrapper.scrollWidth - this.wrapper.clientWidth;\n\n            wrapperRect = this.util.withOrientation(\n                this.wrapper.getBoundingClientRect(),\n                this.vertical\n            );\n\n            this.isResizing = false;\n            this.isDragging = false;\n            if (event.target.tagName.toLowerCase() === 'handle') {\n                this.isResizing = true;\n                resize = event.target.classList.contains('wavesurfer-handle-start')\n                    ? 'start'\n                    : 'end';\n            } else {\n                this.isDragging = true;\n                drag = true;\n                resize = false;\n            }\n        };\n        const onUp = (event) => {\n            if (event.touches && event.touches.length > 1) {\n                return;\n            }\n\n            if (drag || resize) {\n                this.isDragging = false;\n                this.isResizing = false;\n                drag = false;\n                scrollDirection = null;\n                resize = false;\n            }\n\n            if (updated) {\n                updated = false;\n                this.util.preventClick();\n                this.fireEvent('update-end', event);\n                this.wavesurfer.fireEvent('region-update-end', this, event);\n            }\n        };\n        const onMove = (event) => {\n            const duration = this.wavesurfer.getDuration();\n            let orientedEvent = this.util.withOrientation(event, this.vertical);\n            let delta = null;\n\n            if (event.touches && event.touches.length > 1) {\n                return;\n            }\n            if (event.targetTouches && event.targetTouches[0].identifier != touchId) {\n                return;\n            }\n            if (!drag && !resize) {\n                return;\n            }\n\n            const oldTime = startTime;\n            let time = this.regionsUtil.getRegionSnapToGridValue(\n                this.wavesurfer.drawer.handleEvent(event) * duration\n            );\n\n            if (drag) {\n                // To maintain relative cursor start point while dragging\n                const maxEnd = this.wavesurfer.getDuration();\n                if (time > maxEnd - regionRightHalfTime) {\n                    time = maxEnd - regionRightHalfTime;\n                }\n\n                if (time - regionLeftHalfTime < 0) {\n                    time = regionLeftHalfTime;\n                }\n            }\n\n            if (resize) {\n                // To maintain relative cursor start point while resizing\n                // we have to handle for minLength\n                let minLength = this.minLength;\n                if (!minLength) {\n                    minLength = 0;\n                }\n\n                if (resize === 'start') {\n                    if (time > this.end - minLength) {\n                        time = this.end - minLength;\n                    }\n\n                    if (time < 0) {\n                        time = 0;\n                    }\n                } else if (resize === 'end') {\n                    if (time < this.start + minLength) {\n                        // Calculate the end time based on the min length of the region.\n                        time = this.start + minLength;\n                        delta = time - (this.end + (time - startTime));\n                    }\n\n                    if (time > duration) {\n                        time = duration;\n                    }\n                }\n            }\n\n            if (!delta) {\n                delta = time - startTime;\n            }\n\n            startTime = time;\n\n            // Drag\n            if (this.drag && drag) {\n                updated = updated || !!delta;\n                this.onDrag(delta);\n            }\n\n            // Resize\n            if (this.resize && resize) {\n                updated = updated || !!delta;\n                this.onResize(delta, resize);\n            }\n\n            if (\n                this.scroll && container.clientWidth < this.wrapper.scrollWidth\n            ) {\n                // Triggering edgescroll from within edgeScrollWidth\n                let x = orientedEvent.clientX;\n\n                // Check direction\n                if (x < wrapperRect.left + this.edgeScrollWidth) {\n                    scrollDirection = -1;\n                } else if (x > wrapperRect.right - this.edgeScrollWidth) {\n                    scrollDirection = 1;\n                } else {\n                    scrollDirection = null;\n                }\n\n                if (scrollDirection) {\n                    edgeScroll(event);\n                }\n            }\n        };\n\n        this.element.addEventListener('mousedown', onDown);\n        this.element.addEventListener('touchstart', onDown);\n\n        document.body.addEventListener('mousemove', onMove);\n        document.body.addEventListener('touchmove', onMove, {passive: false});\n\n        document.addEventListener('mouseup', onUp);\n        document.body.addEventListener('touchend', onUp);\n\n        this.on('remove', () => {\n            document.removeEventListener('mouseup', onUp);\n            document.body.removeEventListener('touchend', onUp);\n            document.body.removeEventListener('mousemove', onMove);\n            document.body.removeEventListener('touchmove', onMove);\n        });\n\n        this.wavesurfer.on('destroy', () => {\n            document.removeEventListener('mouseup', onUp);\n            document.body.removeEventListener('touchend', onUp);\n        });\n    }\n\n    onDrag(delta) {\n        const maxEnd = this.wavesurfer.getDuration();\n        if (this.end + delta > maxEnd) {\n            delta = maxEnd - this.end;\n        }\n\n        if (this.start + delta < 0) {\n            delta = this.start * -1;\n        }\n\n        const eventParams = {\n            direction: this._getDragDirection(delta),\n            action: 'drag'\n        };\n\n        this.update({\n            start: this.start + delta,\n            end: this.end + delta\n        }, eventParams);\n    }\n\n    /**\n     * Returns the direction of dragging region based on delta\n     * Negative delta means region is moving to the left\n     * Positive - to the right\n     * For zero delta the direction is not defined\n     * @param {number} delta Drag offset\n     * @returns {string|null} Direction 'left', 'right' or null\n     */\n    _getDragDirection(delta) {\n        if (delta < 0) {\n            return 'left';\n        }\n        if (delta > 0) {\n            return 'right';\n        }\n        return null;\n    }\n\n    /**\n     * @example\n     * onResize(-5, 'start') // Moves the start point 5 seconds back\n     * onResize(0.5, 'end') // Moves the end point 0.5 seconds forward\n     *\n     * @param {number} delta How much to add or subtract, given in seconds\n     * @param {string} direction 'start 'or 'end'\n     */\n    onResize(delta, direction) {\n        const duration = this.wavesurfer.getDuration();\n        const eventParams = {\n            action: 'resize',\n            direction: direction === 'start' ? 'left' : 'right'\n        };\n\n        if (direction === 'start') {\n            // Check if changing the start by the given delta would result in the region being smaller than minLength\n            if (delta > 0 && this.end - (this.start + delta) < this.minLength) {\n                delta = this.end - this.minLength - this.start;\n            }\n\n            // Check if changing the start by the given delta would result in the region being larger than maxLength\n            if (delta < 0 && this.end - (this.start + delta) > this.maxLength) {\n                delta = this.end - this.start - this.maxLength;\n            }\n\n            if (delta < 0 && (this.start + delta) < 0) {\n                delta = this.start * -1;\n            }\n\n            this.update({\n                start: Math.min(this.start + delta, this.end),\n                end: Math.max(this.start + delta, this.end)\n            }, eventParams);\n        } else {\n            // Check if changing the end by the given delta would result in the region being smaller than minLength\n            if (delta < 0 && this.end + delta - this.start < this.minLength) {\n                delta = this.start + this.minLength - this.end;\n            }\n\n            // Check if changing the end by the given delta would result in the region being larger than maxLength\n            if (delta > 0 && this.end + delta - this.start > this.maxLength) {\n                delta = this.maxLength - (this.end - this.start);\n            }\n\n            if (delta > 0 && (this.end + delta) > duration) {\n                delta = duration - this.end;\n            }\n\n            this.update({\n                start: Math.min(this.end + delta, this.start),\n                end: Math.max(this.end + delta, this.start)\n            }, eventParams);\n        }\n    }\n\n    onContentBlur(event){\n        const {text: oldText} = this.data || {};\n        const text = event.target.innerText;\n        const data = {...this.data, text };\n        const eventParams = {action: 'contentEdited', oldText, text};\n        this.update({data}, eventParams);\n    }\n\n    onContentClick(event){\n        event.stopPropagation();\n    }\n\n    onRemove(event){\n        event.stopPropagation();\n        this.remove();\n    }\n\n    updateHandlesResize(resize) {\n        let cursorStyle;\n        if (resize) {\n            cursorStyle = this.vertical ? 'row-resize' : 'col-resize';\n        } else {\n            cursorStyle = 'auto';\n        }\n\n        this.handleLeftEl && this.style(this.handleLeftEl, { cursor: cursorStyle });\n        this.handleRightEl && this.style(this.handleRightEl, { cursor: cursorStyle });\n    }\n}\n","import Crunker from 'crunker'\r\nexport default class DropHandler {\r\n    constructor(morphaweb) {\r\n        this.morphaweb = morphaweb\r\n        this.overlay = document.getElementById(\"overlay\")\r\n        this.messageOverlay = document.getElementById(\"message-overlay\")\r\n        this.messageText = document.getElementById(\"message-text\")\r\n        this.crunker = new Crunker({sampleRate:48000})\r\n        \r\n        document.addEventListener(\"dragover\", this.allowDrop.bind(this))\r\n        document.addEventListener(\"drop\", this.onDrop.bind(this))\r\n    }\r\n\r\n    allowDrop(e) {\r\n        this.overlayShow()\r\n        e.preventDefault()\r\n    }\r\n\r\n    showMessage(text, duration = 10000) {\r\n        this.messageText.textContent = text;\r\n        this.messageOverlay.classList.add('show');\r\n        \r\n        setTimeout(() => {\r\n            this.messageOverlay.classList.remove('show');\r\n        }, duration);\r\n    }\r\n\r\n    async loadFiles(files) {\r\n        const MAX_DURATION_SECONDS = 174; // 2.9 minutes in seconds\r\n        \r\n        let audioBuffers = []\r\n        let audioCtx = new AudioContext()\r\n        let markers = []\r\n        let offset = 0\r\n        const fileArray = [...files]\r\n        const promise = fileArray.map(async file => {\r\n            console.log(file)\r\n            await file.arrayBuffer().then(async buf => {\r\n                console.log(`Number of channels: ${buf.length}`);\r\n                const p = await audioCtx.decodeAudioData(buf).then(async buf => {\r\n                    if (buf.duration > MAX_DURATION_SECONDS) {\r\n                        const truncatedBuffer = audioCtx.createBuffer(\r\n                            buf.numberOfChannels,\r\n                            Math.floor(MAX_DURATION_SECONDS * buf.sampleRate),\r\n                            buf.sampleRate\r\n                        );\r\n                        \r\n                        for (let channel = 0; channel < buf.numberOfChannels; channel++) {\r\n                            truncatedBuffer.copyToChannel(\r\n                                buf.getChannelData(channel).slice(0, Math.floor(MAX_DURATION_SECONDS * buf.sampleRate)),\r\n                                channel\r\n                            );\r\n                        }\r\n                        \r\n                        this.showMessage(`Audio file longer than ${MAX_DURATION_SECONDS/60} minutes. It has been truncated.`);\r\n                        buf = truncatedBuffer;\r\n                    }\r\n\r\n                    let m = await this.morphaweb.wavHandler.getMarkersFromFile(file)\r\n                    m = m.map((mm,i) => {\r\n                        mm.position += offset\r\n                        return mm\r\n                    })\r\n                    markers.push(...m)\r\n                    // add marker between multiple files\r\n                    markers.push({position: buf.duration*1000})\r\n                    offset += buf.duration*1000\r\n                    audioBuffers.push(buf)\r\n                },() => {\r\n                    this.morphaweb.track(\"ErrorFileUploadMarkers\")\r\n                })\r\n                return p;\r\n            }, () => {\r\n                this.morphaweb.track(\"ErrorFileUpload\")\r\n            })\r\n        })\r\n        const resolvedPromises = await Promise.all(promise)\r\n        markers.pop()\r\n        const concatted = this.crunker.concatAudio(audioBuffers)\r\n        const ex = this.crunker.export(concatted,\"audio/wav\")\r\n        const obj = {\r\n            blob: ex.blob,\r\n            markers: markers\r\n        }\r\n        return obj\r\n    }\r\n    \r\n    onDrop(e) {\r\n        e.preventDefault()\r\n        this.overlayHide()\r\n        this.morphaweb.wavesurfer.clearMarkers()\r\n        this.loadFiles(e.dataTransfer.files).then(res => {\r\n            this.morphaweb.wavesurfer.loadBlob(res.blob)\r\n            this.morphaweb.wavHandler.markers = res.markers\r\n        })\r\n    }\r\n\r\n\r\n    overlayShow() {\r\n        this.overlay.style.display = 'block'\r\n    }\r\n\r\n    overlayHide() {\r\n        this.overlay.style.display = 'none'\r\n    }\r\n}","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"Crunker\",[],t):\"object\"==typeof exports?exports.Crunker=t():e.Crunker=t()}(\"undefined\"!=typeof self?self:this,(()=>(()=>{\"use strict\";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},t={};function n(e){return n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},n(e)}function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,(o=a.key,i=void 0,i=function(e,t){if(\"object\"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||\"default\");if(\"object\"!==n(a))return a;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(o,\"string\"),\"symbol\"===n(i)?i:String(i)),a)}var o,i}e.r(t),e.d(t,{default:()=>u});var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.sampleRate;o(this,e),this._context=this._createContext(n),n||(n=this._context.sampleRate),this._sampleRate=n}var t,n,a;return t=e,n=[{key:\"_createContext\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:44100;return window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,new AudioContext({sampleRate:e})}},{key:\"context\",get:function(){return this._context}},{key:\"fetchAudio\",value:async function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return await Promise.all(n.map((async function(t){var n;return n=t instanceof File||t instanceof Blob?await t.arrayBuffer():await fetch(t).then((function(e){return e.headers.has(\"Content-Type\")&&!e.headers.get(\"Content-Type\").includes(\"audio/\")&&console.warn(\"Crunker: Attempted to fetch an audio file, but its MIME type is `\".concat(e.headers.get(\"Content-Type\").split(\";\")[0],\"`. We'll try and continue anyway. (file: \\\"\").concat(t,'\")')),e.arrayBuffer()})),await e._context.decodeAudioData(n)})))}},{key:\"mergeAudio\",value:function(e){var t=this._context.createBuffer(this._maxNumberOfChannels(e),this._sampleRate*this._maxDuration(e),this._sampleRate);return e.forEach((function(e){for(var n=0;n<e.numberOfChannels;n++){for(var r=t.getChannelData(n),a=e.getChannelData(n),o=e.getChannelData(n).length-1;o>=0;o--)r[o]+=a[o];t.getChannelData(n).set(r)}})),t}},{key:\"concatAudio\",value:function(e){var t=this._context.createBuffer(this._maxNumberOfChannels(e),this._totalLength(e),this._sampleRate),n=0;return e.forEach((function(e){for(var r=0;r<e.numberOfChannels;r++)t.getChannelData(r).set(e.getChannelData(r),n);n+=e.length})),t}},{key:\"padAudio\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===n)return e;if(t<0)throw new Error('Crunker: Parameter \"padStart\" in padAudio must be positive');if(n<0)throw new Error('Crunker: Parameter \"seconds\" in padAudio must be positive');for(var r=this._context.createBuffer(e.numberOfChannels,Math.ceil(e.length+n*e.sampleRate),e.sampleRate),a=0;a<e.numberOfChannels;a++){var o=e.getChannelData(a);r.getChannelData(a).set(o.subarray(0,Math.ceil(t*e.sampleRate)+1),0),r.getChannelData(a).set(o.subarray(Math.ceil(t*e.sampleRate)+2,r.length+1),Math.ceil((t+n)*e.sampleRate))}return r}},{key:\"sliceAudio\",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(t>=n)throw new Error('Crunker: \"start\" time should be less than \"end\" time in sliceAudio method');for(var o=Math.round((n-t)*this._sampleRate),i=Math.round(t*this._sampleRate),u=this._context.createBuffer(e.numberOfChannels,o,this._sampleRate),l=0;l<e.numberOfChannels;l++)for(var s=e.getChannelData(l),f=u.getChannelData(l),c=0;c<o;c++)f[c]=s[i+c],c<r*this._sampleRate&&(f[c]*=c/(r*this._sampleRate)),c>o-a*this._sampleRate&&(f[c]*=(o-c)/(a*this._sampleRate));return u}},{key:\"play\",value:function(e){var t=this._context.createBufferSource();return t.buffer=e,t.connect(this._context.destination),t.start(),t}},{key:\"export\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"audio/wav\",n=this._interleave(e),r=this._writeHeaders(n,e.numberOfChannels,e.sampleRate),a=new Blob([r],{type:t});return{blob:a,url:this._renderURL(a),element:this._renderAudioElement(a)}}},{key:\"download\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"crunker\",n=document.createElement(\"a\");return n.style.display=\"none\",n.href=this._renderURL(e),n.download=\"\".concat(t,\".\").concat(e.type.split(\"/\")[1]),n.click(),n}},{key:\"notSupported\",value:function(e){return this._isSupported()?void 0:e()}},{key:\"close\",value:function(){return this._context.close(),this}},{key:\"_maxDuration\",value:function(e){return Math.max.apply(Math,r(e.map((function(e){return e.duration}))))}},{key:\"_maxNumberOfChannels\",value:function(e){return Math.max.apply(Math,r(e.map((function(e){return e.numberOfChannels}))))}},{key:\"_totalLength\",value:function(e){return e.map((function(e){return e.length})).reduce((function(e,t){return e+t}),0)}},{key:\"_isSupported\",value:function(){return\"AudioContext\"in window||\"webkitAudioContext\"in window||\"mozAudioContext\"in window}},{key:\"_writeHeaders\",value:function(e,t,n){var r=2*t,a=2*e.length,o=36+a,i=new ArrayBuffer(8+o),u=new DataView(i);return this._writeString(u,0,\"RIFF\"),u.setUint32(4,o,!0),this._writeString(u,8,\"WAVE\"),this._writeString(u,12,\"fmt \"),u.setUint32(16,16,!0),u.setUint16(20,1,!0),u.setUint16(22,t,!0),u.setUint32(24,n,!0),u.setUint32(28,n*r,!0),u.setUint16(32,r,!0),u.setUint16(34,16,!0),this._writeString(u,36,\"data\"),u.setUint32(40,a,!0),this._floatTo16BitPCM(u,e,44)}},{key:\"_floatTo16BitPCM\",value:function(e,t,n){for(var r=0;r<t.length;r++,n+=2){var a=Math.max(-1,Math.min(1,t[r]));e.setInt16(n,a<0?32768*a:32767*a,!0)}return e}},{key:\"_writeString\",value:function(e,t,n){for(var r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))}},{key:\"_interleave\",value:function(e){if(1===e.numberOfChannels)return e.getChannelData(0);for(var t=[],n=0;n<e.numberOfChannels;n++)t.push(e.getChannelData(n));for(var r=t.reduce((function(e,t){return e+t.length}),0),a=new Float32Array(r),o=0,i=0;o<r;)t.forEach((function(e){a[o++]=e[i]})),i++;return a}},{key:\"_renderAudioElement\",value:function(e){var t=document.createElement(\"audio\");return t.controls=!0,t.src=this._renderURL(e),t}},{key:\"_renderURL\",value:function(e){return(window.URL||window.webkitURL).createObjectURL(e)}}],n&&i(t.prototype,n),a&&i(t,a),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();return t})()));\n//# sourceMappingURL=crunker.js.map","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Crunker\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Crunker\"] = factory();\n\telse\n\t\troot[\"Crunker\"] = factory();\n})(typeof self !== 'undefined' ? self : this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export interface CrunkerConstructorOptions {\n  /**\n   * Sample rate for Crunker's internal audio context.\n   *\n   * @default 44100\n   */\n  sampleRate: number;\n}\n\nexport type CrunkerInputTypes = string | File | Blob;\n\n/**\n * An exported Crunker audio object.\n */\nexport interface ExportedCrunkerAudio {\n  blob: Blob;\n  url: string;\n  element: HTMLAudioElement;\n}\n\n/**\n * Crunker is the simple way to merge, concatenate, play, export and download audio files using the Web Audio API.\n */\nexport default class Crunker {\n  private readonly _sampleRate: number;\n  private readonly _context: AudioContext;\n\n  /**\n   * Creates a new instance of Crunker with the provided options.\n   *\n   * If `sampleRate` is not defined, it will auto-select an appropriate sample rate\n   * for the device being used.\n   */\n  constructor({ sampleRate }: Partial<CrunkerConstructorOptions> = {}) {\n    this._context = this._createContext(sampleRate);\n\n    sampleRate ||= this._context.sampleRate;\n\n    this._sampleRate = sampleRate;\n  }\n\n  /**\n   * Creates Crunker's internal AudioContext.\n   *\n   * @internal\n   */\n  private _createContext(sampleRate: number = 44_100): AudioContext {\n    window.AudioContext = window.AudioContext || (window as any).webkitAudioContext || (window as any).mozAudioContext;\n    return new AudioContext({ sampleRate });\n  }\n\n  /**\n   *\n   * The internal AudioContext used by Crunker.\n   */\n  get context(): AudioContext {\n    return this._context;\n  }\n\n  /**\n   * Asynchronously fetches multiple audio files and returns an array of AudioBuffers.\n   */\n  async fetchAudio(...filepaths: CrunkerInputTypes[]): Promise<AudioBuffer[]> {\n    return await Promise.all(\n      filepaths.map(async (filepath) => {\n        let buffer: ArrayBuffer;\n\n        if (filepath instanceof File || filepath instanceof Blob) {\n          buffer = await filepath.arrayBuffer();\n        } else {\n          buffer = await fetch(filepath).then((response) => {\n            if (response.headers.has('Content-Type') && !response.headers.get('Content-Type')!.includes('audio/')) {\n              console.warn(\n                `Crunker: Attempted to fetch an audio file, but its MIME type is \\`${\n                  response.headers.get('Content-Type')!.split(';')[0]\n                }\\`. We'll try and continue anyway. (file: \"${filepath}\")`\n              );\n            }\n\n            return response.arrayBuffer();\n          });\n        }\n\n        return await this._context.decodeAudioData(buffer);\n      })\n    );\n  }\n\n  /**\n   * Merges (layers) multiple AudioBuffers into a single AudioBuffer.\n   *\n   * **Visual representation:**\n   *\n   * ![](https://user-images.githubusercontent.com/12958674/88806278-968f0680-d186-11ea-9cb5-8ef2606ffcc7.png)\n   */\n  mergeAudio(buffers: AudioBuffer[]): AudioBuffer {\n    const output = this._context.createBuffer(\n      this._maxNumberOfChannels(buffers),\n      this._sampleRate * this._maxDuration(buffers),\n      this._sampleRate\n    );\n\n    buffers.forEach((buffer) => {\n      for (let channelNumber = 0; channelNumber < buffer.numberOfChannels; channelNumber++) {\n        const outputData = output.getChannelData(channelNumber);\n        const bufferData = buffer.getChannelData(channelNumber);\n\n        for (let i = buffer.getChannelData(channelNumber).length - 1; i >= 0; i--) {\n          outputData[i] += bufferData[i];\n        }\n\n        output.getChannelData(channelNumber).set(outputData);\n      }\n    });\n\n    return output;\n  }\n\n  /**\n   * Concatenates multiple AudioBuffers into a single AudioBuffer.\n   *\n   * **Visual representation:**\n   *\n   * ![](https://user-images.githubusercontent.com/12958674/88806297-9d1d7e00-d186-11ea-8cd2-c64cb0324845.png)\n   */\n  concatAudio(buffers: AudioBuffer[]): AudioBuffer {\n    const output = this._context.createBuffer(\n      this._maxNumberOfChannels(buffers),\n      this._totalLength(buffers),\n      this._sampleRate\n    );\n    let offset = 0;\n\n    buffers.forEach((buffer) => {\n      for (let channelNumber = 0; channelNumber < buffer.numberOfChannels; channelNumber++) {\n        output.getChannelData(channelNumber).set(buffer.getChannelData(channelNumber), offset);\n      }\n\n      offset += buffer.length;\n    });\n\n    return output;\n  }\n\n  /**\n   * Pads a specified AudioBuffer with silence from a specified start time,\n   * for a specified length of time.\n   *\n   * Accepts float values as well as whole integers.\n   *\n   * @param buffer AudioBuffer to pad\n   * @param padStart Time to start padding (in seconds)\n   * @param seconds Duration to pad for (in seconds)\n   */\n  padAudio(buffer: AudioBuffer, padStart: number = 0, seconds: number = 0): AudioBuffer {\n    if (seconds === 0) return buffer;\n\n    if (padStart < 0) throw new Error('Crunker: Parameter \"padStart\" in padAudio must be positive');\n    if (seconds < 0) throw new Error('Crunker: Parameter \"seconds\" in padAudio must be positive');\n\n    const updatedBuffer = this._context.createBuffer(\n      buffer.numberOfChannels,\n      Math.ceil(buffer.length + seconds * buffer.sampleRate),\n      buffer.sampleRate\n    );\n\n    for (let channelNumber = 0; channelNumber < buffer.numberOfChannels; channelNumber++) {\n      const channelData = buffer.getChannelData(channelNumber);\n      updatedBuffer\n        .getChannelData(channelNumber)\n        .set(channelData.subarray(0, Math.ceil(padStart * buffer.sampleRate) + 1), 0);\n\n      updatedBuffer\n        .getChannelData(channelNumber)\n        .set(\n          channelData.subarray(Math.ceil(padStart * buffer.sampleRate) + 2, updatedBuffer.length + 1),\n          Math.ceil((padStart + seconds) * buffer.sampleRate)\n        );\n    }\n\n    return updatedBuffer;\n  }\n\n  /**\n   * Slices an AudioBuffer from the specified start time to the end time, with optional fade in and out.\n   *\n   * @param buffer AudioBuffer to slice\n   * @param start Start time (in seconds)\n   * @param end End time (in seconds)\n   * @param fadeIn Fade in duration (in seconds, default is 0)\n   * @param fadeOut Fade out duration (in seconds, default is 0)\n   */\n  sliceAudio(buffer: AudioBuffer, start: number, end: number, fadeIn: number = 0, fadeOut: number = 0): AudioBuffer {\n    if (start >= end) throw new Error('Crunker: \"start\" time should be less than \"end\" time in sliceAudio method');\n\n    const length = Math.round((end - start) * this._sampleRate);\n    const offset = Math.round(start * this._sampleRate);\n    const newBuffer = this._context.createBuffer(buffer.numberOfChannels, length, this._sampleRate);\n\n    for (let channel = 0; channel < buffer.numberOfChannels; channel++) {\n      const inputData = buffer.getChannelData(channel);\n      const outputData = newBuffer.getChannelData(channel);\n\n      for (let i = 0; i < length; i++) {\n        outputData[i] = inputData[offset + i];\n\n        // Apply fade in\n        if (i < fadeIn * this._sampleRate) {\n          outputData[i] *= i / (fadeIn * this._sampleRate);\n        }\n\n        // Apply fade out\n        if (i > length - fadeOut * this._sampleRate) {\n          outputData[i] *= (length - i) / (fadeOut * this._sampleRate);\n        }\n      }\n    }\n\n    return newBuffer;\n  }\n\n  /**\n   * Plays the provided AudioBuffer in an AudioBufferSourceNode.\n   */\n  play(buffer: AudioBuffer): AudioBufferSourceNode {\n    const source = this._context.createBufferSource();\n\n    source.buffer = buffer;\n    source.connect(this._context.destination);\n    source.start();\n\n    return source;\n  }\n\n  /**\n   * Exports the specified AudioBuffer to a Blob, Object URI and HTMLAudioElement.\n   *\n   * Note that changing the MIME type does not change the actual file format. The\n   * file format will **always** be a WAVE file due to how audio is stored in the\n   * browser.\n   *\n   * @param buffer Buffer to export\n   * @param type MIME type (default: `audio/wav`)\n   */\n  export(buffer: AudioBuffer, type: string = 'audio/wav'): ExportedCrunkerAudio {\n    const recorded = this._interleave(buffer);\n    const dataview = this._writeHeaders(recorded, buffer.numberOfChannels, buffer.sampleRate);\n    const audioBlob = new Blob([dataview], { type });\n\n    return {\n      blob: audioBlob,\n      url: this._renderURL(audioBlob),\n      element: this._renderAudioElement(audioBlob),\n    };\n  }\n\n  /**\n   * Downloads the provided Blob.\n   *\n   * @param blob Blob to download\n   * @param filename An optional file name to use for the download (default: `crunker`)\n   */\n  download(blob: Blob, filename: string = 'crunker'): HTMLAnchorElement {\n    const a = document.createElement('a');\n\n    a.style.display = 'none';\n    a.href = this._renderURL(blob);\n    a.download = `${filename}.${blob.type.split('/')[1]}`;\n    a.click();\n\n    return a;\n  }\n\n  /**\n   * Executes a callback if the browser does not support the Web Audio API.\n   *\n   * Returns the result of the callback, or `undefined` if the Web Audio API is supported.\n   *\n   * @param callback callback to run if the browser does not support the Web Audio API\n   */\n  notSupported<T>(callback: () => T): T | undefined {\n    return this._isSupported() ? undefined : callback();\n  }\n\n  /**\n   * Closes Crunker's internal AudioContext.\n   */\n  close(): this {\n    this._context.close();\n    return this;\n  }\n\n  /**\n   * Returns the largest duration of the longest AudioBuffer.\n   *\n   * @internal\n   */\n  private _maxDuration(buffers: AudioBuffer[]): number {\n    return Math.max(...buffers.map((buffer) => buffer.duration));\n  }\n\n  /**\n   * Returns the largest number of channels in an array of AudioBuffers.\n   *\n   * @internal\n   */\n  private _maxNumberOfChannels(buffers: AudioBuffer[]): number {\n    return Math.max(...buffers.map((buffer) => buffer.numberOfChannels));\n  }\n\n  /**\n   * Returns the sum of the lengths of an array of AudioBuffers.\n   *\n   * @internal\n   */\n  private _totalLength(buffers: AudioBuffer[]): number {\n    return buffers.map((buffer) => buffer.length).reduce((a, b) => a + b, 0);\n  }\n\n  /**\n   * Returns whether the browser supports the Web Audio API.\n   *\n   * @internal\n   */\n  private _isSupported(): boolean {\n    return 'AudioContext' in window || 'webkitAudioContext' in window || 'mozAudioContext' in window;\n  }\n\n  /**\n   * Writes the WAV headers for the specified Float32Array.\n   *\n   * Returns a DataView containing the WAV headers and file content.\n   *\n   * @internal\n   */\n  private _writeHeaders(buffer: Float32Array, numOfChannels: number, sampleRate: number): DataView {\n    const bitDepth = 16;\n    const bytesPerSample = bitDepth / 8;\n    const sampleSize = numOfChannels * bytesPerSample;\n\n    const fileHeaderSize = 8;\n    const chunkHeaderSize = 36;\n    const chunkDataSize = buffer.length * bytesPerSample;\n    const chunkTotalSize = chunkHeaderSize + chunkDataSize;\n\n    const arrayBuffer = new ArrayBuffer(fileHeaderSize + chunkTotalSize);\n    const view = new DataView(arrayBuffer);\n\n    this._writeString(view, 0, 'RIFF');\n    view.setUint32(4, chunkTotalSize, true);\n    this._writeString(view, 8, 'WAVE');\n    this._writeString(view, 12, 'fmt ');\n    view.setUint32(16, 16, true);\n    view.setUint16(20, 1, true);\n    view.setUint16(22, numOfChannels, true);\n    view.setUint32(24, sampleRate, true);\n    view.setUint32(28, sampleRate * sampleSize, true);\n    view.setUint16(32, sampleSize, true);\n    view.setUint16(34, bitDepth, true);\n    this._writeString(view, 36, 'data');\n    view.setUint32(40, chunkDataSize, true);\n\n    return this._floatTo16BitPCM(view, buffer, fileHeaderSize + chunkHeaderSize);\n  }\n\n  /**\n   * Converts a Float32Array to 16-bit PCM.\n   *\n   * @internal\n   */\n  private _floatTo16BitPCM(dataview: DataView, buffer: Float32Array, offset: number): DataView {\n    for (let i = 0; i < buffer.length; i++, offset += 2) {\n      const tmp = Math.max(-1, Math.min(1, buffer[i]));\n      dataview.setInt16(offset, tmp < 0 ? tmp * 0x8000 : tmp * 0x7fff, true);\n    }\n\n    return dataview;\n  }\n\n  /**\n   * Writes a string to a DataView at the specified offset.\n   *\n   * @internal\n   */\n  private _writeString(dataview: DataView, offset: number, header: string): void {\n    for (let i = 0; i < header.length; i++) {\n      dataview.setUint8(offset + i, header.charCodeAt(i));\n    }\n  }\n\n  /**\n   * Converts an AudioBuffer to a Float32Array.\n   *\n   * @internal\n   */\n  private _interleave(input: AudioBuffer): Float32Array {\n    if (input.numberOfChannels === 1) {\n      // No need to interleave channels, just return single channel data to save performance and memory\n      return input.getChannelData(0);\n    }\n    const channels = [];\n    for (let i = 0; i < input.numberOfChannels; i++) {\n      channels.push(input.getChannelData(i));\n    }\n    const length = channels.reduce((prev, channelData) => prev + channelData.length, 0);\n    const result = new Float32Array(length);\n\n    let index = 0;\n    let inputIndex = 0;\n\n    // for 2 channels its like: [L[0], R[0], L[1], R[1], ... , L[n], R[n]]\n    while (index < length) {\n      channels.forEach((channelData) => {\n        result[index++] = channelData[inputIndex];\n      });\n\n      inputIndex++;\n    }\n\n    return result;\n  }\n\n  /**\n   * Creates an HTMLAudioElement whose source is the specified Blob.\n   *\n   * @internal\n   */\n  private _renderAudioElement(blob: Blob): HTMLAudioElement {\n    const audio = document.createElement('audio');\n\n    audio.controls = true;\n    audio.src = this._renderURL(blob);\n\n    return audio;\n  }\n\n  /**\n   * Creates an Object URL for the specified Blob.\n   *\n   * @internal\n   */\n  private _renderURL(blob: Blob): string {\n    return (window.URL || window.webkitURL).createObjectURL(blob);\n  }\n}\n","import { throttle } from \"lodash\";\r\nexport default class ControlsHandler {\r\n    constructor(morphaweb) {\r\n        this.morphaweb = morphaweb\r\n        this.playButton = document.getElementById(\"play\")\r\n        this.pauseButton = document.getElementById(\"pause\")\r\n        this.exportButton = document.getElementById(\"export\")\r\n        this.sliceButton = document.getElementById(\"auto-slice\")\r\n        this.sliceCountInput = document.getElementById(\"slice-count\")\r\n        this.detectOnsetsButton = document.getElementById(\"detect-onsets\")\r\n        this.divideMarkersButton = document.getElementById(\"divide-markers\")\r\n        \r\n        // Initial state - disable buttons\r\n        this.setButtonsState(true);\r\n        \r\n        // Add listeners\r\n        this.exportButton.addEventListener('click', this.exportWavFile)\r\n        this.playButton.addEventListener('click', this.play)\r\n        this.pauseButton.addEventListener('click', this.pause)\r\n        this.sliceButton.addEventListener('click', this.handleAutoSlice)\r\n        this.detectOnsetsButton.addEventListener('click', this.handleOnsetDetection)\r\n        this.divideMarkersButton.addEventListener('click', this.divideMarkersByTwo)\r\n        this.sliceCountInput.addEventListener('input', this.validateSliceCount)\r\n\r\n        document.addEventListener('keydown', this.onKeydown.bind(this))\r\n        this.morphaweb.wavesurfer.on('seek', this.onSeek.bind(this))\r\n        this.morphaweb.wavesurfer.on('finish', this.onFinish.bind(this))\r\n        this.morphaweb.wavesurfer.on('ready', () => this.setButtonsState(false))\r\n        window.addEventListener(\"wheel\", throttle(this.onWheel.bind(this), 10))\r\n\r\n        document.addEventListener('markers-changed', this.updateDivideButton.bind(this));\r\n        \r\n        // Initial states\r\n        this.updateDivideButton();\r\n        this.validateSliceCount();\r\n    }\r\n\r\n    setButtonsState = (disabled) => {\r\n        this.playButton.disabled = disabled;\r\n        this.pauseButton.disabled = disabled;\r\n        this.exportButton.disabled = disabled;\r\n        this.sliceButton.disabled = disabled;\r\n        this.detectOnsetsButton.disabled = disabled;\r\n        this.sliceCountInput.disabled = disabled;\r\n        // Don't enable divide button here as it has its own logic\r\n    }\r\n\r\n    validateSliceCount = () => {\r\n        const value = parseInt(this.sliceCountInput.value);\r\n        const min = parseInt(this.sliceCountInput.min);\r\n        \r\n        if (isNaN(value) || value < min) {\r\n            this.sliceCountInput.value = min;\r\n        }\r\n        \r\n        // Disable slice button if no valid number or no audio loaded\r\n        this.sliceButton.disabled = \r\n            isNaN(value) || \r\n            value < min || \r\n            this.morphaweb.wavesurfer.getDuration() === 0;\r\n    }\r\n\r\n    exportWavFile = () => {\r\n        try {\r\n            if(this.morphaweb.wavesurfer.getDuration() === 0) { return false; }\r\n            //if()\r\n            \r\n            const buffer = [\r\n                this.morphaweb.wavesurfer.backend.buffer.getChannelData(0),\r\n            ]\r\n\r\n            try {\r\n                buffer.push(this.morphaweb.wavesurfer.backend.buffer.getChannelData(1))\r\n            } catch(error) {\r\n                // Duplicate L channel to R channel\r\n                buffer.push(this.morphaweb.wavesurfer.backend.buffer.getChannelData(0))\r\n                console.log('No second channel')\r\n            }\r\n            \r\n            const markers = this.morphaweb.wavesurfer.markers.markers\r\n            this.morphaweb.wavHandler.createFileFromBuffer(buffer,markers)\r\n        } catch(error) {\r\n            console.log(error)\r\n            this.morphaweb.track(\"ErrorExportWavFile\")\r\n        }\r\n    }\r\n\r\n    play = () => {\r\n        if(this.morphaweb.wavesurfer.isPlaying()) {\r\n            this.morphaweb.wavesurfer.seekTo(0)\r\n        }\r\n        this.morphaweb.wavesurfer.play()\r\n    }\r\n\r\n    pause = () => {\r\n        this.morphaweb.wavesurfer.pause()\r\n    }\r\n\r\n    playToggle = () => {\r\n        if (this.morphaweb.wavesurfer.isPlaying()) {\r\n            this.morphaweb.wavesurfer.pause()\r\n        } else {\r\n            this.morphaweb.wavesurfer.play()\r\n        }\r\n    }\r\n\r\n    onSeek = (p) => {\r\n        this.morphaweb.playOffset = p\r\n        this.morphaweb.markerHandler.removeTopMarker(\"top\")\r\n        this.morphaweb.markerHandler.createMarker(this.morphaweb.playOffset * this.morphaweb.wavesurfer.getDuration(),\"top\")\r\n        this.morphaweb.wavesurfer.play()\r\n    }\r\n    \r\n    onFinish = () => {\r\n        // Do nothing\r\n    }\r\n    \r\n    onWheel = (e) => {\r\n        if(this.morphaweb.scrollPos + e.deltaY >= this.morphaweb.scrollMin) {\r\n            this.morphaweb.scrollPos = this.morphaweb.scrollPos + e.deltaY\r\n            this.morphaweb.wavesurfer.zoom(this.morphaweb.scrollPos)\r\n        }\r\n    }\r\n    \r\n    onKeydown = (e) => {\r\n        switch(e.key) {\r\n            case \"j\":\r\n            case \"J\":\r\n                this.morphaweb.markerHandler.createMarkerAtCurrentPosition()\r\n                break;\r\n            case \"k\":\r\n            case \"K\":\r\n                this.morphaweb.markerHandler.removeSelectedMarker()\r\n                break;\r\n            case \" \":\r\n                this.playToggle()\r\n                break;\r\n        }\r\n    }\r\n\r\n    handleAutoSlice = () => {\r\n        if(this.morphaweb.wavesurfer.getDuration() === 0) { return false; }\r\n        const numberOfSlices = parseInt(this.sliceCountInput.value);\r\n\r\n        this.morphaweb.markerHandler.clearAllMarkers();\r\n        this.morphaweb.markerHandler.createAutoSlices(numberOfSlices);\r\n        this.morphaweb.track(\"AutoSlice\");\r\n    }\r\n\r\n    handleOnsetDetection = () => {\r\n        try {\r\n            if(this.morphaweb.wavesurfer.getDuration() === 0) { return false; }\r\n            this.morphaweb.detectOnsets();\r\n            this.morphaweb.track(\"OnsetDetection\");\r\n        } catch(error) {\r\n            this.morphaweb.track(\"ErrorOnsetDetection\");\r\n        }\r\n    }\r\n\r\n    updateDivideButton = (event) => {\r\n        const markerCount = this.morphaweb.markerHandler.getBottomMarkers().length;\r\n        this.divideMarkersButton.disabled = markerCount < 2;\r\n    }\r\n\r\n    divideMarkersByTwo = () => {\r\n        try {\r\n            if (!this.morphaweb.markerHandler.hasEnoughMarkers()) {\r\n                return;\r\n            }\r\n            this.morphaweb.markerHandler.divideMarkersByTwo();\r\n            this.morphaweb.track(\"DivideMarkersByTwo\");\r\n        } catch (error) {\r\n            this.morphaweb.track(\"ErrorDivideMarkersByTwo\");\r\n        }\r\n    }\r\n}","export default class MarkerHandler {\r\n    constructor(morphaweb){\r\n        this.color = '#ff990a'\r\n        this.colorHighlight = \"#ff1111\"\r\n        this.colorTopMarker = \"#ff00bb\"\r\n        this.markers = morphaweb.wavesurfer.markers;\r\n\r\n        this.morphaweb = morphaweb\r\n        this.morphaweb.wavesurfer.on('marker-click',this.onClick.bind(this))\r\n        this.morphaweb.wavesurfer.on('marker-drag', this.onMarkersChanged.bind(this));\r\n        this.morphaweb.wavesurfer.on('marker-remove', this.onMarkersChanged.bind(this));\r\n        this.morphaweb.wavesurfer.on('marker-update', this.onMarkersChanged.bind(this));\r\n    }\r\n\r\n    addMarkers = (markers) => {\r\n        for (let marker of markers) {\r\n            this.createMarker(marker.position / 1000)\r\n        }\r\n    }\r\n    removeTopMarker() {\r\n        const i = this.markers.markers.map(m => m.position).indexOf('top')\r\n        this.morphaweb.wavesurfer.markers.remove(i)\r\n    }\r\n\r\n    removeSelectedMarker() {\r\n        const i = this.getSelectedMarkerIndex()\r\n        this.markers.remove(i)\r\n        this.onMarkersChanged();\r\n    }\r\n\r\n    highlightMarker(time) {\r\n        this.markers.markers.map(m => {\r\n            if(m.position==\"bottom\"){\r\n                if(m.time == time) {\r\n                    m.el.children[1].children[0].children[0].setAttribute('fill', this.colorHighlight)\r\n                } else {\r\n                    m.el.children[1].children[0].children[0].setAttribute('fill', this.color)\r\n                }       \r\n            }\r\n        })\r\n    }\r\n\r\n    getBottomMarkers() {\r\n        return this.markers.markers.filter(m => m.position === \"bottom\")\r\n    }\r\n\r\n    getTopMarkers() {\r\n        return this.markers.markers.filter(m => m.position === \"top\")\r\n    }\r\n\r\n    getSelectedMarker() {\r\n        const selectedMarker = this.markers.markers.filter(m => m.el.children[1].children[0].children[0].getAttribute('fill') === this.colorHighlight)[0]\r\n        return selectedMarker;\r\n    }\r\n    getSelectedMarkerIndex() {\r\n        const selectedMarker = this.getSelectedMarker()\r\n        return this.markers.markers.findIndex(m => m === selectedMarker)\r\n    }\r\n\r\n    getMarkerAtTime(time) {\r\n        const bottomMarkers = this.getBottomMarkers()\r\n        return bottomMarkers.indexOf(time)\r\n    }\r\n    \r\n    createMarker(time, type=\"bottom\") {\r\n        if (type == \"bottom\" && this.getMarkerAtTime(time) != -1) {return false}\r\n\r\n        // Get audio data and find nearest zero crossing\r\n        const audioData = this.morphaweb.wavesurfer.backend.buffer.getChannelData(0);\r\n        const sampleRate = this.morphaweb.wavesurfer.backend.buffer.sampleRate;\r\n        const sampleIndex = Math.round(time * sampleRate);\r\n        \r\n        // Only snap to zero crossings for bottom markers (user-created)\r\n        let snappedTime = time;\r\n        if (type === \"bottom\" && this.morphaweb.onsetHandler) {\r\n            const snappedSample = this.morphaweb.onsetHandler.findNearestZeroCrossing(audioData, sampleIndex);\r\n            snappedTime = snappedSample / sampleRate;\r\n        }\r\n\r\n        let o = {\r\n            time: snappedTime,\r\n            position: \"bottom\",\r\n            color: this.color,\r\n            draggable: true\r\n        }\r\n        if(type == \"top\") {\r\n            o.position = \"top\";\r\n            o.color = this.colorTopMarker;\r\n        }\r\n        this.morphaweb.wavesurfer.addMarker(o);\r\n        this.onMarkersChanged();\r\n    }\r\n    \r\n    createMarkerAtCurrentPosition() {\r\n        this.createMarker(this.morphaweb.playOffset * this.morphaweb.wavesurfer.getDuration(),\"bottom\")\r\n    }\r\n\r\n    onClick(e) {\r\n        this.highlightMarker(e.time)\r\n    }   \r\n\r\n    createAutoSlices(numberOfSlices) {\r\n        const duration = this.morphaweb.wavesurfer.getDuration();\r\n        const interval = duration / numberOfSlices;\r\n\r\n        // Create marker at the beginning (time = 0)\r\n        this.createMarker(0, \"bottom\");\r\n\r\n        // Create markers at regular intervals\r\n        for (let i = 1; i < numberOfSlices; i++) {\r\n            this.createMarker(interval * i, \"bottom\");\r\n        }\r\n    }\r\n\r\n    clearAllMarkers() {\r\n        this.morphaweb.wavesurfer.clearMarkers();\r\n        this.onMarkersChanged();\r\n    }\r\n\r\n    // Add method to get all markers in time order\r\n    getMarkers() {\r\n        return this.markers.markers.sort((a, b) => a.time - b.time);\r\n    }\r\n\r\n    // Add method to convert onset times to markers\r\n    createOnsetMarkers(onsets) {\r\n        this.clearAllMarkers();\r\n        onsets.forEach(onset => {\r\n            this.createMarker(onset, \"bottom\");\r\n        });\r\n    }\r\n\r\n    // Add method to convert markers to onset times\r\n    getOnsetTimes() {\r\n        return this.getTopMarkers()\r\n            .map(marker => marker.time)\r\n            .sort((a, b) => a - b);\r\n    }\r\n\r\n    // Add method to update marker positions\r\n    updateMarkerPosition(index, newTime) {\r\n        const marker = this.markers.markers[index];\r\n        if (marker) {\r\n            marker.time = newTime;\r\n            this.morphaweb.wavesurfer.updateMarkerPosition(index, newTime);\r\n        }\r\n    }\r\n\r\n    onMarkersChanged() {\r\n        // Dispatch custom event when markers change\r\n        const event = new CustomEvent('markers-changed', {\r\n            detail: { markerCount: this.getBottomMarkers().length }\r\n        });\r\n        document.dispatchEvent(event);\r\n    }\r\n\r\n    hasEnoughMarkers() {\r\n        return this.getBottomMarkers().length >= 2;\r\n    }\r\n\r\n    divideMarkersByTwo() {\r\n        if (!this.hasEnoughMarkers()) {\r\n            return;\r\n        }\r\n        \r\n        const currentMarkers = this.getBottomMarkers().sort((a, b) => a.time - b.time);\r\n        const newMarkers = currentMarkers.filter((_, index) => index % 2 === 0);\r\n        \r\n        this.clearAllMarkers();\r\n        newMarkers.forEach(marker => {\r\n            this.createMarker(marker.time, \"bottom\");\r\n        });\r\n    }\r\n}","import { WaveFile } from \"wavefile\";\r\nimport { saveAs } from \"file-saver\";\r\n\r\nexport default class WavHandler {\r\n    constructor() {\r\n        this.markers = []\r\n        this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n    }\r\n\r\n    async getMarkersFromFile(file) {\r\n        return new Promise((resolve, reject) => {\r\n            let fr = new FileReader()\r\n            let cues = []\r\n            fr.readAsDataURL(file)\r\n            fr.onloadend = () => {\r\n                // Check if file is MP3 or WAV\r\n                if (file.type === 'audio/wav' || file.type === 'audio/wave' || file.type === 'audio/x-wav') {\r\n                    let f = new WaveFile()\r\n                    const base64String = fr.result\r\n                        .replace(\"data:\", \"\")\r\n                        .replace(/^.+,/, \"\");\r\n                    f.fromBase64(base64String)\r\n                    cues = f.listCuePoints()\r\n                    resolve(cues)\r\n                } else {\r\n                    // For MP3s, we won't have cue points initially\r\n                    resolve([])\r\n                }\r\n            }\r\n            fr.onerror = reject\r\n        })\r\n    }\r\n\r\n    async createFileFromBuffer(buffer, markers) {\r\n        console.log('Exporting audio...')\r\n        let file = new WaveFile()\r\n        file.fromScratch(2, this.audioContext.sampleRate, '32f', buffer)\r\n\r\n        // Add markers as cue points\r\n        for (let marker of markers) {\r\n            if (marker.position != \"top\") {\r\n                file.setCuePoint({\r\n                    position: marker.time * 1000\r\n                })\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < file.cue.points.length; i++) {\r\n            file.cue.points[i].dwPosition = file.cue.points[i].dwSampleOffset\r\n        }\r\n\r\n        const data = file.toDataURI()\r\n        \r\n        // Determine file extension based on original format\r\n        const filename = \"export.wav\"\r\n        console.log('Saving file...')\r\n        saveAs(data, filename)\r\n    }\r\n}","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The WaveFile class.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\n/** @module wavefile */\r\n\r\nimport { encode, decode } from './lib/parsers/base64-arraybuffer.js';\r\nimport { WaveFileConverter } from './lib/wavefile-converter';\r\n\r\n/**\r\n * A class to manipulate wav files.\r\n * @extends WaveFileConverter\r\n */\r\nexport class WaveFile extends WaveFileConverter {\r\n\r\n  /**\r\n   * @param {Uint8Array=} wav A wave file buffer.\r\n   * @throws {Error} If container is not RIFF, RIFX or RF64.\r\n   * @throws {Error} If format is not WAVE.\r\n   * @throws {Error} If no 'fmt ' chunk is found.\r\n   * @throws {Error} If no 'data' chunk is found.\r\n   */\r\n  constructor(wav) {\r\n    super();\r\n    if (wav) {\r\n      this.fromBuffer(wav);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Use a .wav file encoded as a base64 string to load the WaveFile object.\r\n   * @param {string} base64String A .wav file as a base64 string.\r\n   * @throws {Error} If any property of the object appears invalid.\r\n   */\r\n  fromBase64(base64String) {\r\n    this.fromBuffer(decode(base64String));\r\n  }\r\n\r\n  /**\r\n   * Return a base64 string representig the WaveFile object as a .wav file.\r\n   * @return {string} A .wav file as a base64 string.\r\n   * @throws {Error} If any property of the object appears invalid.\r\n   */\r\n  toBase64() {\r\n    return encode(this.toBuffer());\r\n  }\r\n\r\n  /**\r\n   * Return a DataURI string representig the WaveFile object as a .wav file.\r\n   * The return of this method can be used to load the audio in browsers.\r\n   * @return {string} A .wav file as a DataURI.\r\n   * @throws {Error} If any property of the object appears invalid.\r\n   */\r\n  toDataURI() {\r\n    return 'data:audio/wav;base64,' + this.toBase64();\r\n  }\r\n\r\n  /**\r\n   * Use a .wav file encoded as a DataURI to load the WaveFile object.\r\n   * @param {string} dataURI A .wav file as DataURI.\r\n   * @throws {Error} If any property of the object appears invalid.\r\n   */\r\n  fromDataURI(dataURI) {\r\n    this.fromBase64(dataURI.replace('data:audio/wav;base64,', ''));\r\n  }\r\n}\r\n","/*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2017 Brett Zamir, 2012 Niklas von Hertzen\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n\r\n/**\r\n * Encode a byte buffer as a base64 string.\r\n * @param {!Uint8Array} bytes The buffer.\r\n * @return {string} A .wav file as a DataURI.\r\n */\r\nexport function encode(bytes) {\r\n  /** @type {string} */\r\n  let base64 = '';\r\n  for (let i = 0; i < bytes.length; i += 3) {\r\n    base64 += chars[bytes[i] >> 2];\r\n    base64 += chars[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\r\n    base64 += chars[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\r\n    base64 += chars[bytes[i + 2] & 63];\r\n  }\r\n  if (bytes.length % 3 === 2) {\r\n    base64 = base64.substring(0, base64.length - 1) + '=';\r\n  } else if (bytes.length % 3 === 1) {\r\n    base64 = base64.substring(0, base64.length - 2) + '==';\r\n  }\r\n  return base64;\r\n}\r\n\r\n/**\r\n * Decode a base64 string as a byte as buffer.\r\n * @param {string} base64 A .wav file as a DataURI.\r\n * @return {!Uint8Array} A .wav file as a DataURI.\r\n */\r\nexport function decode(base64) {\r\n  /** @type {!Uint8Array} */\r\n  let lookup = new Uint8Array(256);\r\n  for (let i = 0; i < chars.length; i++) {\r\n    lookup[chars.charCodeAt(i)] = i;\r\n  }\r\n  /** @type {number} */\r\n  let bufferLength = base64.length * 0.75;\r\n  if (base64[base64.length - 1] === '=') {\r\n    bufferLength--;\r\n    if (base64[base64.length - 2] === '=') {\r\n      bufferLength--;\r\n    }\r\n  }\r\n  /** @type {!Uint8Array} */\r\n  let bytes = new Uint8Array(bufferLength);\r\n  for (let i = 0, j = 0; i < base64.length; i += 4) {\r\n    /** @type {number} */\r\n    let encoded1 = lookup[base64.charCodeAt(i)];\r\n    /** @type {number} */\r\n    let encoded2 = lookup[base64.charCodeAt(i + 1)];\r\n    /** @type {number} */\r\n    let encoded3 = lookup[base64.charCodeAt(i + 2)];\r\n    /** @type {number} */\r\n    let encoded4 = lookup[base64.charCodeAt(i + 3)];\r\n    bytes[j++] = encoded1 << 2 | encoded2 >> 4;\r\n    bytes[j++] = (encoded2 & 15) << 4 | encoded3 >> 2;\r\n    bytes[j++] = (encoded3 & 3) << 6 | encoded4 & 63;\r\n  }\r\n  return bytes;\r\n}\r\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The WaveFileConverter class.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\nimport { changeBitDepth } from './codecs/bitdepth';\r\nimport * as imaadpcm from './codecs/imaadpcm';\r\nimport * as alaw from './codecs/alaw';\r\nimport * as mulaw from './codecs/mulaw';\r\nimport { unpackArrayTo } from './parsers/binary';\r\nimport { WaveFileCueEditor } from './wavefile-cue-editor';\r\nimport { validateSampleRate } from './validators/validate-sample-rate';\r\nimport { resample } from './resampler';\r\n\r\n/**\r\n * A class to convert wav files to other types of wav files.\r\n * @extends WaveFileCueEditor\r\n * @ignore\r\n */\r\nexport class WaveFileConverter extends WaveFileCueEditor {\r\n\r\n  /**\r\n   * Force a file as RIFF.\r\n   */\r\n  toRIFF() {\r\n    /** @type {!Float64Array} */\r\n    let output = new Float64Array(\r\n      outputSize_(this.data.samples.length, this.dataType.bits / 8));\r\n    unpackArrayTo(this.data.samples, this.dataType, output,\r\n      0, this.data.samples.length);\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      this.bitDepth,\r\n      output,\r\n      {container: 'RIFF'});\r\n  }\r\n\r\n  /**\r\n   * Force a file as RIFX.\r\n   */\r\n  toRIFX() {\r\n    /** @type {!Float64Array} */\r\n    let output = new Float64Array(\r\n      outputSize_(this.data.samples.length, this.dataType.bits / 8));\r\n    unpackArrayTo(this.data.samples, this.dataType, output,\r\n      0, this.data.samples.length);\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      this.bitDepth,\r\n      output,\r\n      {container: 'RIFX'});\r\n  }\r\n\r\n  /**\r\n   * Encode a 16-bit wave file as 4-bit IMA ADPCM.\r\n   * @throws {Error} If sample rate is not 8000.\r\n   * @throws {Error} If number of channels is not 1.\r\n   */\r\n  toIMAADPCM() {\r\n    if (this.fmt.sampleRate !== 8000) {\r\n      throw new Error(\r\n        'Only 8000 Hz files can be compressed as IMA-ADPCM.');\r\n    } else if (this.fmt.numChannels !== 1) {\r\n      throw new Error(\r\n        'Only mono files can be compressed as IMA-ADPCM.');\r\n    } else {\r\n      this.assure16Bit_();\r\n      /** @type {!Int16Array} */\r\n      let output = new Int16Array(\r\n        outputSize_(this.data.samples.length, 2));\r\n      unpackArrayTo(this.data.samples, this.dataType, output,\r\n        0, this.data.samples.length);\r\n      this.fromExisting_(\r\n        this.fmt.numChannels,\r\n        this.fmt.sampleRate,\r\n        '4',\r\n        imaadpcm.encode(output),\r\n        {container: this.correctContainer_()});\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Decode a 4-bit IMA ADPCM wave file as a 16-bit wave file.\r\n   * @param {string=} [bitDepthCode='16'] The new bit depth of the samples.\r\n   *    One of '8' ... '32' (integers), '32f' or '64' (floats).\r\n   */\r\n  fromIMAADPCM(bitDepthCode='16') {\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      '16',\r\n      imaadpcm.decode(this.data.samples, this.fmt.blockAlign),\r\n      {container: this.correctContainer_()});\r\n    if (bitDepthCode != '16') {\r\n      this.toBitDepth(bitDepthCode);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Encode a 16-bit wave file as 8-bit A-Law.\r\n   */\r\n  toALaw() {\r\n    this.assure16Bit_();\r\n    /** @type {!Int16Array} */\r\n    let output = new Int16Array(\r\n      outputSize_(this.data.samples.length, 2));\r\n    unpackArrayTo(this.data.samples, this.dataType, output,\r\n        0, this.data.samples.length);\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      '8a',\r\n      alaw.encode(output),\r\n      {container: this.correctContainer_()});\r\n  }\r\n\r\n  /**\r\n   * Decode a 8-bit A-Law wave file into a 16-bit wave file.\r\n   * @param {string=} [bitDepthCode='16'] The new bit depth of the samples.\r\n   *    One of '8' ... '32' (integers), '32f' or '64' (floats).\r\n   */\r\n  fromALaw(bitDepthCode='16') {\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      '16',\r\n      alaw.decode(this.data.samples),\r\n      {container: this.correctContainer_()});\r\n    if (bitDepthCode != '16') {\r\n      this.toBitDepth(bitDepthCode);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Encode 16-bit wave file as 8-bit mu-Law.\r\n   */\r\n  toMuLaw() {\r\n    this.assure16Bit_();\r\n    /** @type {!Int16Array} */\r\n    let output = new Int16Array(\r\n      outputSize_(this.data.samples.length, 2));\r\n    unpackArrayTo(this.data.samples, this.dataType, output,\r\n        0, this.data.samples.length);\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      '8m',\r\n      mulaw.encode(output),\r\n      {container: this.correctContainer_()});\r\n  }\r\n\r\n  /**\r\n   * Decode a 8-bit mu-Law wave file into a 16-bit wave file.\r\n   * @param {string=} [bitDepthCode='16'] The new bit depth of the samples.\r\n   *    One of '8' ... '32' (integers), '32f' or '64' (floats).\r\n   */\r\n  fromMuLaw(bitDepthCode='16') {\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      '16',\r\n      mulaw.decode(this.data.samples),\r\n      {container: this.correctContainer_()});\r\n    if (bitDepthCode != '16') {\r\n      this.toBitDepth(bitDepthCode);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Change the bit depth of the samples.\r\n   * @param {string} newBitDepth The new bit depth of the samples.\r\n   *    One of '8' ... '32' (integers), '32f' or '64' (floats)\r\n   * @param {boolean=} [changeResolution=true] A boolean indicating if the\r\n   *    resolution of samples should be actually changed or not.\r\n   * @throws {Error} If the bit depth is not valid.\r\n   */\r\n  toBitDepth(newBitDepth, changeResolution=true) {\r\n    /** @type {string} */\r\n    let toBitDepth = newBitDepth;\r\n    /** @type {string} */\r\n    let thisBitDepth = this.bitDepth;\r\n    if (!changeResolution) {\r\n      if (newBitDepth != '32f') {\r\n        toBitDepth = this.dataType.bits.toString();\r\n      }\r\n      thisBitDepth = '' + this.dataType.bits;\r\n    }\r\n    // If the file is compressed, make it\r\n    // PCM before changing the bit depth\r\n    this.assureUncompressed_();\r\n    /**\r\n     * The original samples, interleaved.\r\n     * @type {!(Array|TypedArray)}\r\n     */\r\n    let samples = this.getSamples(true);\r\n    /**\r\n     * The container for the new samples.\r\n     * @type {!Float64Array}\r\n     */\r\n    let newSamples = new Float64Array(samples.length);\r\n    // Change the bit depth\r\n    changeBitDepth(samples, thisBitDepth, newSamples, toBitDepth);\r\n    // Re-create the file\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      newBitDepth,\r\n      newSamples,\r\n      {container: this.correctContainer_()});\r\n  }\r\n\r\n  /**\r\n   * Convert the sample rate of the file.\r\n   * @param {number} sampleRate The target sample rate.\r\n   * @param {Object=} options The extra configuration, if needed.\r\n   */\r\n  toSampleRate(sampleRate, options) {\r\n    this.validateResample_(sampleRate);\r\n    /** @type {!(Array|TypedArray)} */\r\n    let samples = this.getSamples();\r\n    /** @type {!(Array|Float64Array)} */\r\n    let newSamples = [];\r\n    // Mono files\r\n    if (samples.constructor === Float64Array) {\r\n      newSamples = resample(samples, this.fmt.sampleRate, sampleRate, options);\r\n    // Multi-channel files\r\n    } else {\r\n      for (let i = 0; i < samples.length; i++) {\r\n        newSamples.push(resample(\r\n          samples[i], this.fmt.sampleRate, sampleRate, options));\r\n      }\r\n    }\r\n    // Recreate the file\r\n    this.fromExisting_(\r\n      this.fmt.numChannels, sampleRate, this.bitDepth, newSamples,\r\n      {'container': this.correctContainer_()});\r\n  }\r\n\r\n  /**\r\n   * Validate the conditions for resampling.\r\n   * @param {number} sampleRate The target sample rate.\r\n   * @throws {Error} If the file cant be resampled.\r\n   * @private\r\n   */\r\n  validateResample_(sampleRate) {\r\n    if (!validateSampleRate(\r\n        this.fmt.numChannels, this.fmt.bitsPerSample, sampleRate)) {\r\n      throw new Error('Invalid sample rate.');\r\n    } else if (['4','8a','8m'].indexOf(this.bitDepth) > -1) {\r\n      throw new Error(\r\n        'wavefile can\\'t change the sample rate of compressed files.');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Make the file 16-bit if it is not.\r\n   * @private\r\n   */\r\n  assure16Bit_() {\r\n    this.assureUncompressed_();\r\n    if (this.bitDepth != '16') {\r\n      this.toBitDepth('16');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Uncompress the samples in case of a compressed file.\r\n   * @private\r\n   */\r\n  assureUncompressed_() {\r\n    if (this.bitDepth == '8a') {\r\n      this.fromALaw();\r\n    } else if (this.bitDepth == '8m') {\r\n      this.fromMuLaw();\r\n    } else if (this.bitDepth == '4') {\r\n      this.fromIMAADPCM();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return 'RIFF' if the container is 'RF64', the current container name\r\n   * otherwise. Used to enforce 'RIFF' when RF64 is not allowed.\r\n   * @return {string}\r\n   * @private\r\n   */\r\n  correctContainer_() {\r\n    return this.container == 'RF64' ? 'RIFF' : this.container;\r\n  }\r\n\r\n  /**\r\n   * Set up the WaveFileCreator object based on the arguments passed.\r\n   * This method only reset the fmt , fact, ds64 and data chunks.\r\n   * @param {number} numChannels The number of channels\r\n   *    (Integer numbers: 1 for mono, 2 stereo and so on).\r\n   * @param {number} sampleRate The sample rate.\r\n   *    Integer numbers like 8000, 44100, 48000, 96000, 192000.\r\n   * @param {string} bitDepthCode The audio bit depth code.\r\n   *    One of '4', '8', '8a', '8m', '16', '24', '32', '32f', '64'\r\n   *    or any value between '8' and '32' (like '12').\r\n   * @param {!(Array|TypedArray)} samples\r\n   *    The samples. Must be in the correct range according to the bit depth.\r\n   * @param {Object} options Used to define the container. Uses RIFF by default.\r\n   * @throws {Error} If any argument does not meet the criteria.\r\n   * @private\r\n   */\r\n  fromExisting_(numChannels, sampleRate, bitDepthCode, samples, options) {\r\n    /** @type {!Object} */\r\n    let tmpWav = new WaveFileCueEditor();\r\n    Object.assign(this.fmt, tmpWav.fmt);\r\n    Object.assign(this.fact, tmpWav.fact);\r\n    Object.assign(this.ds64, tmpWav.ds64);\r\n    Object.assign(this.data, tmpWav.data);\r\n    this.newWavFile_(numChannels, sampleRate, bitDepthCode, samples, options);\r\n  }\r\n}\r\n\r\n/**\r\n * Return the size in bytes of the output sample array when applying\r\n * compression to 16-bit samples.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction outputSize_(byteLen, byteOffset) {\r\n  /** @type {number} */\r\n  let outputSize = byteLen / byteOffset;\r\n  if (outputSize % 2) {\r\n    outputSize++;\r\n  }\r\n  return outputSize;\r\n}\r\n","/*\r\n * Copyright (c) 2017-2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview A module to change the bit depth of PCM samples.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/rochars/bitdepth\r\n */\r\n\r\n/**\r\n * Change the bit depth of PCM samples.\r\n * @param {!Array|!TypedArray} samples The original samples.\r\n * @param {string} bithDepth The original bit depth.\r\n * @param {!TypedArray} newSamples The output array.\r\n * @param {string} targetBitDepth The target bit depth.\r\n * @throws {Error} If original or target bit depths are not valid.\r\n */\r\nexport function changeBitDepth(samples, bithDepth, newSamples, targetBitDepth) {\r\n  // float to float, just copy the values\r\n  if ([\"32f\",\"64\"].indexOf(bithDepth) > -1 &&\r\n    [\"32f\",\"64\"].indexOf(targetBitDepth) > -1) {\r\n    newSamples.set(samples);\r\n    return;\r\n  }\r\n  validateBitDepth_(bithDepth);\r\n  validateBitDepth_(targetBitDepth);\r\n  /** @type {!Function} */\r\n  let toFunction = getBitDepthFunction_(bithDepth, targetBitDepth);\r\n  /** @type {!Object<string, number>} */\r\n  let options = {\r\n    oldMin: Math.pow(2, parseInt(bithDepth, 10)) / 2,\r\n    newMin: Math.pow(2, parseInt(targetBitDepth, 10)) / 2,\r\n    oldMax: (Math.pow(2, parseInt(bithDepth, 10)) / 2) - 1,\r\n    newMax: (Math.pow(2, parseInt(targetBitDepth, 10)) / 2) - 1,\r\n  };\r\n  // sign the samples if original is 8-bit\r\n  sign8Bit_(bithDepth, samples, true);\r\n  // change the resolution of the samples\r\n  for (let i = 0, len = samples.length; i < len; i++) {        \r\n    newSamples[i] = toFunction(samples[i], options);\r\n  }\r\n  // unsign the samples if target is 8-bit\r\n  sign8Bit_(targetBitDepth, newSamples, false);\r\n}\r\n\r\n/**\r\n * Change the bit depth from int to int.\r\n * @param {number} sample The sample.\r\n * @param {!Object<string, number>} args Data about the bit depths.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction intToInt_(sample, args) {\r\n  if (sample > 0) {\r\n    sample = parseInt((sample / args.oldMax) * args.newMax, 10);\r\n  } else {\r\n    sample = parseInt((sample / args.oldMin) * args.newMin, 10);\r\n  }\r\n  return sample;\r\n}\r\n\r\n/**\r\n * Change the bit depth from float to int.\r\n * @param {number} sample The sample.\r\n * @param {!Object<string, number>} args Data about the bit depths.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction floatToInt_(sample, args) {\r\n  return parseInt(\r\n    sample > 0 ? sample * args.newMax : sample * args.newMin, 10);\r\n}\r\n\r\n/**\r\n * Change the bit depth from int to float.\r\n * @param {number} sample The sample.\r\n * @param {!Object<string, number>} args Data about the bit depths.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction intToFloat_(sample, args) {\r\n  return sample > 0 ? sample / args.oldMax : sample / args.oldMin;\r\n}\r\n\r\n/**\r\n * Return the function to change the bit depth of a sample.\r\n * @param {string} original The original bit depth of the data.\r\n * @param {string} target The new bit depth of the data.\r\n * @return {!Function}\r\n * @private\r\n */\r\nfunction getBitDepthFunction_(original, target) {\r\n  /** @type {!Function} */\r\n  let func = function(x) {return x;};\r\n  if (original != target) {\r\n    if ([\"32f\", \"64\"].includes(original)) {\r\n      func = floatToInt_;\r\n    } else {\r\n      if ([\"32f\", \"64\"].includes(target)) {\r\n        func = intToFloat_;\r\n      } else {\r\n        func = intToInt_;\r\n      }\r\n    }\r\n  }\r\n  return func;\r\n}\r\n\r\n/**\r\n * Validate the bit depth.\r\n * @param {string} bitDepth The original bit depth.\r\n * @throws {Error} If bit depth is not valid.\r\n * @private\r\n */\r\nfunction validateBitDepth_(bitDepth) {\r\n  if ((bitDepth != \"32f\" && bitDepth != \"64\") &&\r\n      (parseInt(bitDepth, 10) < \"8\" || parseInt(bitDepth, 10) > \"53\")) {\r\n    throw new Error(\"Invalid bit depth.\");\r\n  }\r\n}\r\n\r\n/**\r\n * Sign samples if they are 8-bit.\r\n * @param {string} bitDepth The bit depth code.\r\n * @param {!Array|!TypedArray} samples The samples.\r\n * @param {boolean} sign True to sign, false to unsign.\r\n * @private\r\n */\r\nfunction sign8Bit_(bitDepth, samples, sign) {\r\n  if (bitDepth == \"8\") {\r\n    let factor = sign ? -128 : 128;\r\n    for (let i = 0, len = samples.length; i < len; i++) {\r\n      samples[i] = samples[i] += factor;\r\n    }\r\n  }\r\n}\r\n","/*\r\n * imaadpcm: IMA ADPCM codec in JavaScript.\r\n * Copyright (c) 2018-2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2016 acida. MIT License.  \r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview IMA ADPCM codec.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/rochars/imaadpcm\r\n */\r\n\r\n/**\r\n * @type {!Array<number>}\r\n * @private\r\n */\r\nconst INDEX_TABLE = [\r\n    -1, -1, -1, -1, 2, 4, 6, 8,\r\n    -1, -1, -1, -1, 2, 4, 6, 8];\r\n/**\r\n * @type {!Array<number>}\r\n * @private\r\n */\r\nconst STEP_TABLE = [\r\n    7, 8, 9, 10, 11, 12, 13, 14,\r\n    16, 17, 19, 21, 23, 25, 28, 31,\r\n    34, 37, 41, 45, 50, 55, 60, 66,\r\n    73, 80, 88, 97, 107, 118, 130, 143,\r\n    157, 173, 190, 209, 230, 253, 279, 307,\r\n    337, 371, 408, 449, 494, 544, 598, 658,\r\n    724, 796, 876, 963, 1060, 1166, 1282, 1411,\r\n    1552, 1707, 1878, 2066, 2272, 2499, 2749, 3024,\r\n    3327, 3660, 4026, 4428, 4871, 5358, 5894, 6484,\r\n    7132, 7845, 8630, 9493, 10442, 11487, 12635, 13899,\r\n    15289, 16818, 18500, 20350, 22385, 24623, 27086, 29794,\r\n    32767];\r\n\r\n/**\r\n * Encode 16-bit PCM samples into 4-bit IMA ADPCM samples.\r\n * @param {!Int16Array} samples A array of samples.\r\n * @return {!Uint8Array}\r\n */\r\nexport function encode(samples) {\r\n  /** @type {!Object} */\r\n  let state = {\r\n    index: 0,\r\n    predicted: 0,\r\n    step: 7\r\n  };\r\n  /** @type {!Uint8Array} */\r\n  let adpcmSamples = new Uint8Array((samples.length));\r\n  /** @type {!Array<number>} */\r\n  let block = [];\r\n  /** @type {number} */\r\n  let fileIndex = 0;\r\n  /** @type {number} */\r\n  let blockCount = 0;\r\n  for (let i = 0, len = samples.length; i < len; i++) {\r\n    if ((i % 505 == 0 && i != 0)) {\r\n      adpcmSamples.set(encodeBlock(block, state), fileIndex);\r\n      fileIndex += 256;\r\n      block = [];\r\n      blockCount++;\r\n    }\r\n    block.push(samples[i]);\r\n  }\r\n  let samplesLength = samples.length / 2;\r\n  if (samplesLength % 2) {\r\n    samplesLength++;\r\n  }\r\n  return adpcmSamples.slice(0, samplesLength + 512 + blockCount * 4);\r\n}\r\n\r\n/**\r\n * Decode IMA ADPCM samples into 16-bit PCM samples.\r\n * @param {!Uint8Array} adpcmSamples A array of ADPCM samples.\r\n * @param {number} blockAlign The block size.\r\n * @return {!Int16Array}\r\n */\r\nexport function decode(adpcmSamples, blockAlign=256) {\r\n  /** @type {!Object} */\r\n  let state = {\r\n    index: 0,\r\n    predicted: 0,\r\n    step: 7\r\n  };\r\n  /** @type {!Int16Array} */\r\n  let samples = new Int16Array(adpcmSamples.length * 2);\r\n  /** @type {!Array<number>} */\r\n  let block = [];\r\n  /** @type {number} */\r\n  let fileIndex = 0;\r\n  for (let i = 0, len = adpcmSamples.length; i < len; i++) {\r\n    if (i % blockAlign == 0 && i != 0) {            \r\n      let decoded = decodeBlock(block, state);\r\n      samples.set(decoded, fileIndex);\r\n      fileIndex += decoded.length;\r\n      block = [];\r\n    }\r\n    block.push(adpcmSamples[i]);\r\n  }\r\n  return samples;\r\n}\r\n\r\n/**\r\n * Encode a block of 505 16-bit samples as 4-bit ADPCM samples.\r\n * @param {!Array<number>} block A sample block of 505 samples.\r\n * @param {!Object} state The encoder state.\r\n * @return {!Array<number>}\r\n */\r\nfunction encodeBlock(block, state) {\r\n  /** @type {!Array<number>} */\r\n  let adpcmSamples = blockHead_(block[0], state);\r\n  for (let i = 3, len = block.length; i < len; i+=2) {\r\n    /** @type {number} */\r\n    let sample2 = encodeSample_(block[i], state);\r\n    /** @type {number} */\r\n    let sample = encodeSample_(block[i + 1], state);\r\n    adpcmSamples.push((sample << 4) | sample2);\r\n  }\r\n  return adpcmSamples;\r\n}\r\n\r\n/**\r\n * Decode a block of ADPCM samples into 16-bit PCM samples.\r\n * @param {!Array<number>} block A adpcm sample block.\r\n * @param {!Object} state The decoder state.\r\n * @return {!Array<number>}\r\n */\r\nfunction decodeBlock(block, state) {\r\n  state.predicted = sign_((block[1] << 8) | block[0]);\r\n  state.index = block[2];\r\n  state.step = STEP_TABLE[state.index];\r\n  /** @type {!Array<number>} */\r\n  let result = [\r\n      state.predicted,\r\n      state.predicted\r\n    ];\r\n  for (let i = 4, len = block.length; i < len; i++) {\r\n    /** @type {number} */\r\n    let original_sample = block[i];\r\n    /** @type {number} */\r\n    let second_sample = original_sample >> 4;\r\n    /** @type {number} */\r\n    let first_sample = (second_sample << 4) ^ original_sample;\r\n    result.push(decodeSample_(first_sample, state));\r\n    result.push(decodeSample_(second_sample, state));\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * Sign a 16-bit integer.\r\n * @param {number} num A 16-bit integer.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction sign_(num) {\r\n  return num > 32768 ? num - 65536 : num;\r\n}\r\n\r\n/**\r\n * Compress a 16-bit PCM sample into a 4-bit ADPCM sample.\r\n * @param {number} sample The sample.\r\n * @param {!Object} state The encoder state.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction encodeSample_(sample, state) {\r\n  /** @type {number} */\r\n  let delta = sample - state.predicted;\r\n  /** @type {number} */\r\n  let value = 0;\r\n  if (delta >= 0) {\r\n    value = 0;\r\n  } else {\r\n    value = 8;\r\n    delta = -delta;\r\n  }\r\n  /** @type {number} */\r\n  let step = STEP_TABLE[state.index];\r\n  /** @type {number} */\r\n  let diff = step >> 3;\r\n  if (delta > step) {\r\n    value |= 4;\r\n    delta -= step;\r\n    diff += step;\r\n  }\r\n  step >>= 1;\r\n  if (delta > step) {\r\n    value |= 2;\r\n    delta -= step;\r\n    diff += step;\r\n  }\r\n  step >>= 1;\r\n  if (delta > step) {\r\n    value |= 1;\r\n    diff += step;\r\n  }\r\n  updateEncoder_(value, diff, state);\r\n  return value;\r\n}\r\n\r\n/**\r\n * Set the value for encoderPredicted_ and encoderIndex_\r\n * after each sample is compressed.\r\n * @param {number} value The compressed ADPCM sample\r\n * @param {number} diff The calculated difference\r\n * @param {!Object} state The encoder state.\r\n * @private\r\n */\r\nfunction updateEncoder_(value, diff, state) {\r\n  if (value & 8) {\r\n    state.predicted -= diff;\r\n  } else {\r\n    state.predicted += diff;\r\n  }\r\n  if (state.predicted < -0x8000) {\r\n    state.predicted = -0x8000;\r\n  } else if (state.predicted > 0x7fff) {\r\n    state.predicted = 0x7fff;\r\n  }\r\n  state.index += INDEX_TABLE[value & 7];\r\n  if (state.index < 0) {\r\n    state.index = 0;\r\n  } else if (state.index > 88) {\r\n    state.index = 88;\r\n  }\r\n}\r\n\r\n/**\r\n * Decode a 4-bit ADPCM sample into a 16-bit PCM sample.\r\n * @param {number} nibble A 4-bit adpcm sample.\r\n * @param {!Object} state The decoder state.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction decodeSample_(nibble, state) {\r\n  /** @type {number} */\r\n  let difference = 0;\r\n  if (nibble & 4) {\r\n    difference += state.step;\r\n  }\r\n  if (nibble & 2) {\r\n    difference += state.step >> 1;\r\n  }\r\n  if (nibble & 1) {\r\n    difference += state.step >> 2;\r\n  }\r\n  difference += state.step >> 3;\r\n  if (nibble & 8) {\r\n    difference = -difference;\r\n  }\r\n  state.predicted += difference;\r\n  if (state.predicted > 32767) {\r\n    state.predicted = 32767;\r\n  } else if (state.predicted < -32767) {\r\n    state.predicted = -32767;\r\n  }\r\n  updateDecoder_(nibble, state);\r\n  return state.predicted;\r\n}\r\n\r\n/**\r\n * Update the index and step after decoding a sample.\r\n * @param {number} nibble A 4-bit adpcm sample.\r\n * @param {!Object} state The decoder state.\r\n * @private\r\n */\r\nfunction updateDecoder_(nibble, state) {\r\n  state.index += INDEX_TABLE[nibble];\r\n  if (state.index < 0) {\r\n    state.index = 0;\r\n  } else if (state.index > 88) {\r\n    state.index = 88;\r\n  }\r\n  state.step = STEP_TABLE[state.index];\r\n}\r\n\r\n/**\r\n * Return the head of a ADPCM sample block.\r\n * @param {number} sample The first sample of the block.\r\n * @param {!Object} state The encoder state.\r\n * @return {!Array<number>}\r\n * @private\r\n */\r\nfunction blockHead_(sample, state) {\r\n  encodeSample_(sample, state);\r\n  /** @type {!Array<number>} */\r\n  let adpcmSamples = [];\r\n  adpcmSamples.push(sample & 0xFF);\r\n  adpcmSamples.push((sample >> 8) & 0xFF);\r\n  adpcmSamples.push(state.index);\r\n  adpcmSamples.push(0);\r\n  return adpcmSamples;\r\n}\r\n","/*\r\n * alawmulaw: A-Law and mu-Law codecs in JavaScript.\r\n * https://github.com/rochars/alawmulaw\r\n *\r\n * Copyright (c) 2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview A-Law codec.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/rochars/alawmulaw\r\n */\r\n\r\n/** @type {!Array<number>} */\r\nconst LOG_TABLE = [\r\n  1,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5, \r\n  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6, \r\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7, \r\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7 \r\n];\r\n\r\n/**\r\n * Encode a 16-bit linear PCM sample as 8-bit A-Law.\r\n * @param {number} sample A 16-bit PCM sample\r\n * @return {number}\r\n */\r\nexport function encodeSample(sample) {\r\n  /** @type {number} */\r\n  let compandedValue; \r\n  sample = (sample ==-32768) ? -32767 : sample;\r\n  /** @type {number} */\r\n  let sign = ((~sample) >> 8) & 0x80; \r\n  if (!sign) {\r\n    sample = sample * -1; \r\n  }\r\n  if (sample > 32635) {\r\n    sample = 32635; \r\n  }\r\n  if (sample >= 256)  {\r\n    /** @type {number} */\r\n    let exponent = LOG_TABLE[(sample >> 8) & 0x7F];\r\n    /** @type {number} */\r\n    let mantissa = (sample >> (exponent + 3) ) & 0x0F; \r\n    compandedValue = ((exponent << 4) | mantissa); \r\n  } else {\r\n    compandedValue = sample >> 4; \r\n  } \r\n  return compandedValue ^ (sign ^ 0x55);\r\n}\r\n\r\n/**\r\n * Decode a 8-bit A-Law sample as 16-bit PCM.\r\n * @param {number} aLawSample The 8-bit A-Law sample\r\n * @return {number}\r\n */\r\nexport function decodeSample(aLawSample) {\r\n  /** @type {number} */\r\n  let sign = 0;\r\n  aLawSample ^= 0x55;\r\n  if ((aLawSample & 0x80) !== 0) {\r\n    aLawSample &= ~(1 << 7);\r\n    sign = -1;\r\n  }\r\n  /** @type {number} */\r\n  let position = ((aLawSample & 0xF0) >> 4) + 4;\r\n  /** @type {number} */\r\n  let decoded = 0;\r\n  if (position != 4) {\r\n    decoded = ((1 << position) |\r\n      ((aLawSample & 0x0F) << (position - 4)) |\r\n      (1 << (position - 5)));\r\n  } else {\r\n    decoded = (aLawSample << 1)|1;\r\n  }\r\n  decoded = (sign === 0) ? (decoded) : (-decoded);\r\n  return (decoded * 8) * -1;\r\n}\r\n\r\n/**\r\n * Encode 16-bit linear PCM samples as 8-bit A-Law samples.\r\n * @param {!Int16Array} samples A array of 16-bit PCM samples.\r\n * @return {!Uint8Array}\r\n */\r\nexport function encode(samples) {\r\n  /** @type {!Uint8Array} */\r\n  let aLawSamples = new Uint8Array(samples.length);\r\n  for (let i = 0, len = samples.length; i < len; i++) {\r\n    aLawSamples[i] = encodeSample(samples[i]);\r\n  }\r\n  return aLawSamples;\r\n}\r\n\r\n/**\r\n * Decode 8-bit A-Law samples into 16-bit linear PCM samples.\r\n * @param {!Uint8Array} samples A array of 8-bit A-Law samples.\r\n * @return {!Int16Array}\r\n */\r\nexport function decode(samples) {\r\n  /** @type {!Int16Array} */\r\n  let pcmSamples = new Int16Array(samples.length);\r\n  for (let i = 0, len = samples.length; i < len; i++) {\r\n    pcmSamples[i] = decodeSample(samples[i]);\r\n  }\r\n  return pcmSamples;\r\n}\r\n","/*\r\n * alawmulaw: A-Law and mu-Law codecs in JavaScript.\r\n * https://github.com/rochars/alawmulaw\r\n *\r\n * Copyright (c) 2018-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview mu-Law codec.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/rochars/alawmulaw\r\n */\r\n\r\n/**\r\n * @type {number}\r\n * @private\r\n */\r\nconst BIAS = 0x84;\r\n/**\r\n * @type {number}\r\n * @private\r\n */\r\nconst CLIP = 32635;\r\n/**\r\n * @type {Array<number>}\r\n * @private\r\n */\r\nconst encodeTable = [\r\n    0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,\r\n    4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,\r\n    5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\r\n    5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\r\n    6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\r\n    6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\r\n    6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\r\n    6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];\r\n/**\r\n * @type {Array<number>}\r\n * @private\r\n */\r\nconst decodeTable = [0,132,396,924,1980,4092,8316,16764];\r\n\r\n/**\r\n * Encode a 16-bit linear PCM sample as 8-bit mu-Law.\r\n * @param {number} sample A 16-bit PCM sample\r\n * @return {number}\r\n */\r\nexport function encodeSample(sample) {\r\n  /** @type {number} */\r\n  let sign;\r\n  /** @type {number} */\r\n  let exponent;\r\n  /** @type {number} */\r\n  let mantissa;\r\n  /** @type {number} */\r\n  let muLawSample;\r\n  /** get the sample into sign-magnitude **/\r\n  sign = (sample >> 8) & 0x80;\r\n  if (sign != 0) sample = -sample;\r\n  /** convert from 16 bit linear to ulaw **/\r\n  sample = sample + BIAS;\r\n  if (sample > CLIP) sample = CLIP;\r\n  exponent = encodeTable[(sample>>7) & 0xFF];\r\n  mantissa = (sample >> (exponent+3)) & 0x0F;\r\n  muLawSample = ~(sign | (exponent << 4) | mantissa);\r\n  /** return the result **/\r\n  return muLawSample;\r\n}\r\n\r\n/**\r\n * Decode a 8-bit mu-Law sample as 16-bit PCM.\r\n * @param {number} muLawSample The 8-bit mu-Law sample\r\n * @return {number}\r\n */\r\nexport function decodeSample(muLawSample) {\r\n  /** @type {number} */\r\n  let sign;\r\n  /** @type {number} */\r\n  let exponent;\r\n  /** @type {number} */\r\n  let mantissa;\r\n  /** @type {number} */\r\n  let sample;\r\n  muLawSample = ~muLawSample;\r\n  sign = (muLawSample & 0x80);\r\n  exponent = (muLawSample >> 4) & 0x07;\r\n  mantissa = muLawSample & 0x0F;\r\n  sample = decodeTable[exponent] + (mantissa << (exponent+3));\r\n  if (sign != 0) sample = -sample;\r\n  return sample;\r\n}\r\n\r\n/**\r\n * Encode 16-bit linear PCM samples into 8-bit mu-Law samples.\r\n * @param {!Int16Array} samples A array of 16-bit PCM samples.\r\n * @return {!Uint8Array}\r\n */\r\nexport function encode(samples) {\r\n  /** @type {!Uint8Array} */\r\n  let muLawSamples = new Uint8Array(samples.length);\r\n  for (let i = 0, len = samples.length; i < len; i++) {\r\n    muLawSamples[i] = encodeSample(samples[i]);\r\n  }\r\n  return muLawSamples;\r\n}\r\n\r\n/**\r\n * Decode 8-bit mu-Law samples into 16-bit PCM samples.\r\n * @param {!Uint8Array} samples A array of 8-bit mu-Law samples.\r\n * @return {!Int16Array}\r\n */\r\nexport function decode(samples) {\r\n  /** @type {!Int16Array} */\r\n  let pcmSamples = new Int16Array(samples.length);\r\n  for (let i = 0, len = samples.length; i < len; i++) {\r\n    pcmSamples[i] = decodeSample(samples[i]);\r\n  }\r\n  return pcmSamples;\r\n}\r\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview binary parser.\r\n * @see https://github.com/rochars/byte-data\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\nimport { endianness } from './lib/endianness';\r\nimport { pack as packUTF8, unpack as unpackUTF8 } from './lib/utf8-parser';\r\nimport { IntParser } from './lib/int-parser';\r\nimport { FloatParser } from './lib/float-parser';\r\n\r\n/**\r\n * Read a string of UTF-8 characters from a byte buffer.\r\n * @param {!(Uint8Array|Array<number>)} buffer A byte buffer.\r\n * @param {number} [index=0] The buffer index to start reading.\r\n * @param {number} [end=buffer.length] The index to stop reading, non inclusive.\r\n * @return {string}\r\n */\r\nexport function unpackString(buffer, index=0, end=buffer.length) {\r\n  return unpackUTF8(buffer, index, end);\r\n}\r\n\r\n/**\r\n * Write a string of UTF-8 characters as a byte buffer.\r\n * @param {string} str The string to pack.\r\n * @return {!Array<number>} The UTF-8 string bytes.\r\n */\r\nexport function packString(str) {\r\n  /** @type {!Array<number>} */\r\n  let buffer = [];\r\n  packUTF8(str, buffer);\r\n  return buffer;\r\n}\r\n\r\n/**\r\n * Write a string of UTF-8 characters to a byte buffer.\r\n * @param {string} str The string to pack.\r\n * @param {!(Uint8Array|Array<number>)} buffer The output buffer.\r\n * @param {number} [index=0] The buffer index to start writing.\r\n * @return {number} The next index to write in the buffer.\r\n */\r\nexport function packStringTo(str, buffer, index=0) {\r\n  return packUTF8(str, buffer, index);\r\n}\r\n\r\n// Numbers\r\n/**\r\n * Pack a array of numbers to a byte buffer.\r\n * All other packing functions are interfaces to this function.\r\n * @param {!(Array<number>|TypedArray)} values The values to pack.\r\n * @param {!{bits:number,\r\n *   fp: (boolean|undefined),\r\n *   signed: (boolean|undefined),\r\n *   be: (boolean|undefined)}} theType The type definition.\r\n * @param {!(Uint8Array|Array<number>)} buffer The buffer to write on.\r\n * @param {number} [index=0] The buffer index to start writing.\r\n * @return {number} The next index to write.\r\n * @throws {Error} If the type definition is not valid.\r\n */\r\nexport function packArrayTo(values, theType, buffer, index=0) {\r\n  theType = theType || {};\r\n  /** @type {!Object} */\r\n  let packer = getParser_(theType.bits, theType.fp, theType.signed);\r\n  /** @type {number} */\r\n  let offset = Math.ceil(theType.bits / 8);\r\n  /** @type {number} */\r\n  let i = 0;\r\n  /** @type {number} */\r\n  let start = index;\r\n  for (let valuesLen = values.length; i < valuesLen; i++) {\r\n    index = packer.pack(buffer, values[i], index);\r\n  }\r\n  if (theType.be) {\r\n    endianness(buffer, offset, start, index);\r\n  }\r\n  return index;\r\n}\r\n\r\n/**\r\n * Unpack a array of numbers from a byte buffer to a array or a typed array.\r\n * All other unpacking functions are interfaces to this function.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer.\r\n * @param {!{bits:number,\r\n *   fp: (boolean|undefined),\r\n *   signed: (boolean|undefined),\r\n *   be: (boolean|undefined)}} theType The type definition.\r\n * @param {!(TypedArray|Array<number>)} output The output array or typed array.\r\n * @param {number} [start=0] The buffer index to start reading.\r\n * @param {number} [end=buffer.length] The buffer index to stop reading.\r\n * @throws {Error} If the type definition is not valid.\r\n */\r\nexport function unpackArrayTo(\r\n    buffer, theType, output, start=0, end=buffer.length) {\r\n  theType = theType || {};\r\n  /** @type {!Object} */\r\n  let parser = getParser_(theType.bits, theType.fp, theType.signed);\r\n  // getUnpackLen_ will adjust the end index according to the size\r\n  // of the input buffer and the byte offset or throw a error on bad\r\n  // end index if safe=true\r\n  end = getUnpackLen_(buffer, start, end, parser.offset);\r\n  if (theType.be) {\r\n    /** @type {!(Uint8Array|Array<number>)} */\r\n    let readBuffer = copyBuffer_(buffer);\r\n    if (theType.be) {\r\n      endianness(readBuffer, parser.offset, start, end);\r\n    }\r\n    unpack_(readBuffer, output, start, end, parser);\r\n  } else {\r\n    unpack_(buffer, output, start, end, parser);\r\n  }\r\n}\r\n\r\n/**\r\n * Pack a number to a byte buffer.\r\n * @param {number} value The value.\r\n * @param {!{bits:number,\r\n *   fp: (boolean|undefined),\r\n *   signed: (boolean|undefined),\r\n *   be: (boolean|undefined)}} theType The type definition.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer to write on.\r\n * @param {number} [index=0] The buffer index to write.\r\n * @return {number} The next index to write.\r\n * @throws {Error} If the type definition is not valid.\r\n */\r\nexport function packTo(value, theType, buffer, index=0) {\r\n  return packArrayTo([value], theType, buffer, index);\r\n}\r\n\r\n/**\r\n * Pack a number as a array of bytes.\r\n * @param {number} value The number to pack.\r\n * @param {!{bits:number,\r\n *   fp: (boolean|undefined),\r\n *   signed: (boolean|undefined),\r\n *   be: (boolean|undefined)}} theType The type definition.\r\n * @return {!Array<number>} The packed value.\r\n * @throws {Error} If the type definition is not valid.\r\n */\r\nexport function pack(value, theType) {\r\n  /** @type {!Array<number>} */\r\n  let output = [];\r\n  packTo(value, theType, output, 0);\r\n  return output;\r\n}\r\n\r\n/**\r\n * Unpack a number from a byte buffer.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer.\r\n * @param {!{bits:number,\r\n *   fp: (boolean|undefined),\r\n *   signed: (boolean|undefined),\r\n *   be: (boolean|undefined)}} theType The type definition.\r\n * @param {number} [index=0] The buffer index to read.\r\n * @return {number}\r\n * @throws {Error} If the type definition is not valid.\r\n */\r\nexport function unpack(buffer, theType, index=0) {\r\n  let output = [];\r\n  unpackArrayTo(buffer, theType, output,\r\n    index, index + Math.ceil(theType.bits / 8));\r\n  return output[0];\r\n}\r\n\r\n/**\r\n * Unpack a array of numbers from a byte buffer to a array or a typed array.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer.\r\n * @param {!(TypedArray|Array<number>)} output The output array or typed array.\r\n * @param {number} start The buffer index to start reading.\r\n * @param {number} end The buffer index to stop reading.\r\n * @param {!Object} parser The parser.\r\n * @private\r\n */\r\nfunction unpack_(buffer, output, start, end, parser) {\r\n  /** @type {number} */\r\n  let offset = parser.offset;\r\n  for (let index = 0, j = start; j < end; j += offset, index++) {\r\n    output[index] = parser.unpack(buffer, j);\r\n  }\r\n}\r\n\r\n/**\r\n * Copy a byte buffer as a Array or Uint8Array.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer.\r\n * @return {!(Uint8Array|Array<number>)}\r\n * @private\r\n */\r\nfunction copyBuffer_(buffer) {\r\n  return new Uint8Array(buffer);\r\n}\r\n\r\n/**\r\n * Adjust the end index according to the input buffer length and the\r\n * type offset.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer.\r\n * @param {number} start The buffer index to start reading.\r\n * @param {number} end The buffer index to stop reading.\r\n * @param {number} offset The number of bytes used by the type.\r\n * @private\r\n */\r\nfunction getUnpackLen_(buffer, start, end, offset) {\r\n  /** @type {number} */\r\n  let extra = (end - start) % offset;\r\n  return end - extra;\r\n}\r\n\r\n/**\r\n * Return a parser for int, uint or fp numbers.\r\n * @param {number} bits The number of bits.\r\n * @param {boolean|undefined} fp True for fp numbers, false otherwise.\r\n * @param {boolean|undefined} signed True for signed ints, false otherwise.\r\n * @return {!Object}\r\n * @private\r\n */\r\nfunction getParser_(bits, fp, signed) {\r\n  if (fp && bits == 32) {\r\n    return new FloatParser(8, 23);\r\n  } else if(fp && bits == 64) {\r\n    return new FloatParser(11, 52);\r\n  }\r\n  return new IntParser(bits, signed);\r\n}\r\n","/*\r\n * Copyright (c) 2017-2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview A function to swap endianness in byte buffers.\r\n * @see https://github.com/rochars/byte-data\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\n/**\r\n * Swap the byte ordering in a buffer. The buffer is modified in place.\r\n * @param {!(Array<number>|Uint8Array)} bytes The bytes.\r\n * @param {number} offset The byte offset.\r\n * @param {number=} [start=0] The start index.\r\n * @param {number=} [end=bytes.length] The end index.\r\n */\r\nexport function endianness(bytes, offset, start=0, end=bytes.length) {\r\n  for (let index = start; index < end; index += offset) {\r\n    swap_(bytes, offset, index);\r\n  }\r\n}\r\n\r\n/**\r\n * Swap the byte order of a value in a buffer. The buffer is modified in place.\r\n * @param {!(Array<number>|Uint8Array)} bytes The bytes.\r\n * @param {number} offset The byte offset.\r\n * @param {number} index The start index.\r\n * @private\r\n */\r\nfunction swap_(bytes, offset, index) {\r\n  offset--;\r\n  for(let x = 0; x < offset; x++) {\r\n    /** @type {number} */\r\n    let theByte = bytes[index + x];\r\n    bytes[index + x] = bytes[index + offset];\r\n    bytes[index + offset] = theByte;\r\n    offset--;\r\n  }\r\n}\r\n","/*\r\n * Copyright (c) 2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview Encode and decode UTF8 strings to and from byte buffers.\r\n * @see https://github.com/rochars/byte-data\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://encoding.spec.whatwg.org/#the-encoding\r\n * @see https://encoding.spec.whatwg.org/#utf-8-encoder\r\n */\r\n\r\n/**\r\n * Read a string of UTF-8 characters from a byte buffer.\r\n * Invalid characters are replaced with 'REPLACEMENT CHARACTER' (U+FFFD).\r\n * @see https://encoding.spec.whatwg.org/#the-encoding\r\n * @see https://stackoverflow.com/a/34926911\r\n * @param {!Uint8Array|!Array<number>} buffer A byte buffer.\r\n * @param {number} [start=0] The buffer index to start reading.\r\n * @param {number} [end=0] The buffer index to stop reading.\r\n *   Assumes the buffer length if undefined.\r\n * @return {string}\r\n */\r\nexport function unpack(buffer, start=0, end=buffer.length) {\r\n  /** @type {string} */\r\n  let str = '';\r\n  for(let index = start; index < end;) {\r\n    /** @type {number} */\r\n    let lowerBoundary = 0x80;\r\n    /** @type {number} */\r\n    let upperBoundary = 0xBF;\r\n    /** @type {boolean} */\r\n    let replace = false;\r\n    /** @type {number} */\r\n    let charCode = buffer[index++];\r\n    if (charCode >= 0x00 && charCode <= 0x7F) {\r\n      str += String.fromCharCode(charCode);\r\n    } else {\r\n      /** @type {number} */\r\n      let count = 0;\r\n      if (charCode >= 0xC2 && charCode <= 0xDF) {\r\n        count = 1;\r\n      } else if (charCode >= 0xE0 && charCode <= 0xEF ) {\r\n        count = 2;\r\n        if (buffer[index] === 0xE0) {\r\n          lowerBoundary = 0xA0;\r\n        }\r\n        if (buffer[index] === 0xED) {\r\n          upperBoundary = 0x9F;\r\n        }\r\n      } else if (charCode >= 0xF0 && charCode <= 0xF4 ) {\r\n        count = 3;\r\n        if (buffer[index] === 0xF0) {\r\n          lowerBoundary = 0x90;\r\n        }\r\n        if (buffer[index] === 0xF4) {\r\n          upperBoundary = 0x8F;\r\n        }\r\n      } else {\r\n        replace = true;\r\n      }\r\n      charCode = charCode & (1 << (8 - count - 1)) - 1;\r\n      for (let i = 0; i < count; i++) {\r\n        if (buffer[index] < lowerBoundary || buffer[index] > upperBoundary) {\r\n          replace = true;\r\n        }\r\n        charCode = (charCode << 6) | (buffer[index] & 0x3f);\r\n        index++;\r\n      }\r\n      if (replace) {\r\n        str += String.fromCharCode(0xFFFD);\r\n      } \r\n      else if (charCode <= 0xffff) {\r\n        str += String.fromCharCode(charCode);\r\n      } else {\r\n        charCode -= 0x10000;\r\n        str += String.fromCharCode(\r\n          ((charCode >> 10) & 0x3ff) + 0xd800,\r\n          (charCode & 0x3ff) + 0xdc00);\r\n      }\r\n    }\r\n  }\r\n  return str;\r\n}\r\n\r\n/**\r\n * Write a string of UTF-8 characters to a byte buffer.\r\n * @see https://encoding.spec.whatwg.org/#utf-8-encoder\r\n * @param {string} str The string to pack.\r\n * @param {!Uint8Array|!Array<number>} buffer The buffer to pack the string to.\r\n * @param {number=} index The buffer index to start writing.\r\n * @return {number} The next index to write in the buffer.\r\n */\r\nexport function pack(str, buffer, index=0) {\r\n  /** @type {number} */\r\n  let i = 0;\r\n  /** @type {number} */\r\n  let len = str.length;\r\n  while (i < len) {\r\n    /** @type {number} */\r\n    let codePoint = str.codePointAt(i);\r\n    if (codePoint < 128) {\r\n      buffer[index] = codePoint;\r\n      index++;\r\n    } else {\r\n      /** @type {number} */\r\n      let count = 0;\r\n      /** @type {number} */\r\n      let offset = 0;\r\n      if (codePoint <= 0x07FF) {\r\n        count = 1;\r\n        offset = 0xC0;\r\n      } else if(codePoint <= 0xFFFF) {\r\n        count = 2;\r\n        offset = 0xE0;\r\n      } else if(codePoint <= 0x10FFFF) {\r\n        count = 3;\r\n        offset = 0xF0;\r\n        i++;\r\n      }\r\n      buffer[index] = (codePoint >> (6 * count)) + offset;\r\n      index++;\r\n      while (count > 0) {\r\n        buffer[index] = 0x80 | (codePoint >> (6 * (count - 1)) & 0x3F);\r\n        index++;\r\n        count--;\r\n      }\r\n    }\r\n    i++;\r\n  }\r\n  return index;\r\n}\r\n","/*\r\n * Copyright (c) 2017-2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview Encode and decode int numbers to and from byte buffers.\r\n * @see https://github.com/rochars/byte-data\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\n/**\r\n * A class to write and read integer numbers to and from byte buffers.\r\n */\r\nexport class IntParser {\r\n  \r\n  /**\r\n   * @param {number} bits The number of bits used by the integer.\r\n   * @param {boolean} [signed=false] True for signed, false otherwise.\r\n   */\r\n  constructor(bits, signed=false) {\r\n    /**\r\n     * The number of bits used by one number.\r\n     * @type {number}\r\n     */\r\n    this.bits = bits;\r\n    /**\r\n     * The number of bytes used by one number.\r\n     * @type {number}\r\n     */\r\n    this.offset = Math.ceil(bits / 8);\r\n    /**\r\n     * @type {number}\r\n     * @protected\r\n     */\r\n    this.max = Math.pow(2, bits) - 1;\r\n    /**\r\n     * @type {number}\r\n     * @protected\r\n     */\r\n    this.min = 0;\r\n    /**\r\n     * @type {Function}\r\n     */\r\n    this.unpack = this.unpack_;\r\n    if (signed) {\r\n      this.max = Math.pow(2, bits) / 2 - 1;\r\n      this.min = -this.max - 1;\r\n      this.unpack = this.unpackSigned_;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Write one unsigned integer to a byte buffer.\r\n   * @param {!(Uint8Array|Array<number>)} buffer An array of bytes.\r\n   * @param {number} num The number. Overflows are truncated.\r\n   * @param {number} [index=0] The index being written in the byte buffer.\r\n   * @return {number} The next index to write on the byte buffer.\r\n   */\r\n  pack(buffer, num, index=0) {\r\n    num = this.clamp_(Math.round(num));\r\n    for (let i = 0, len = this.offset; i < len; i++) {\r\n      buffer[index] = Math.floor(num / Math.pow(2, i * 8)) & 255;\r\n      index++;\r\n    }\r\n    return index;\r\n  }\r\n\r\n  /**\r\n   * Read one unsigned integer from a byte buffer.\r\n   * Does not check for overflows.\r\n   * @param {!(Uint8Array|Array<number>)} buffer An array of bytes.\r\n   * @param {number} [index=0] The index to read.\r\n   * @return {number}\r\n   * @private\r\n   */\r\n  unpack_(buffer, index=0) {\r\n    /** @type {number} */\r\n    let num = 0;\r\n    for(let x = 0; x < this.offset; x++) {\r\n      num += buffer[index + x] * Math.pow(256, x);\r\n    }\r\n    return num;\r\n  }\r\n\r\n  /**\r\n   * Read one two's complement signed integer from a byte buffer.\r\n   * @param {!(Uint8Array|Array<number>)} buffer An array of bytes.\r\n   * @param {number} [index=0] The index to read.\r\n   * @return {number}\r\n   * @private\r\n   */\r\n  unpackSigned_(buffer, index=0) {\r\n    return this.sign_(this.unpack_(buffer, index));\r\n  }\r\n\r\n  /**\r\n   * Clamp values on overflow.\r\n   * @param {number} num The number.\r\n   * @private\r\n   */\r\n  clamp_(num) {\r\n    if (num > this.max) {\r\n      return this.max;\r\n    } else if (num < this.min) {\r\n      return this.min;\r\n    }\r\n    return num;\r\n  }\r\n\r\n  /**\r\n   * Sign a number.\r\n   * @param {number} num The number.\r\n   * @return {number}\r\n   * @private\r\n   */\r\n  sign_(num) {\r\n    if (num > this.max) {\r\n      num -= (this.max * 2) + 2;\r\n    }\r\n    return num;\r\n  }\r\n}\r\n","/*\r\n * Copyright (c) 2018-2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2013 DeNA Co., Ltd.\r\n * Copyright (c) 2010, Linden Research, Inc\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview Encode and decode IEEE 754 floating point numbers.\r\n * @see https://github.com/rochars/byte-data\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://bitbucket.org/lindenlab/llsd/raw/7d2646cd3f9b4c806e73aebc4b32bd81e4047fdc/js/typedarray.js\r\n * @see https://github.com/kazuho/ieee754.js/blob/master/ieee754.js\r\n */\r\n\r\n/**\r\n * A class to encode and decode IEEE 754 floating-point numbers.\r\n */\r\nexport class FloatParser {\r\n\r\n  /**\r\n   * Pack a IEEE 754 floating point number.\r\n   * @param {number} ebits The exponent bits.\r\n   * @param {number} fbits The fraction bits.\r\n   */\r\n  constructor(ebits, fbits) {\r\n    /**\r\n     * @type {number}\r\n     */\r\n    this.offset = Math.ceil((ebits + fbits) / 8);\r\n    /**\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.ebits = ebits;\r\n    /**\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.fbits = fbits;\r\n    /**\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.bias = (1 << (ebits - 1)) - 1;\r\n    /**\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.biasP2 = Math.pow(2, this.bias + 1);\r\n    /**\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.ebitsFbits = (ebits + fbits);\r\n    /**\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.fbias = Math.pow(2, -(8 * this.offset - 1 - ebits));\r\n  }\r\n\r\n  /**\r\n   * Pack a IEEE 754 floating point number.\r\n   * @param {!Uint8Array|!Array<number>} buffer The buffer.\r\n   * @param {number} num The number.\r\n   * @param {number} index The index to write on the buffer.\r\n   * @return {number} The next index to write on the buffer.\r\n   */\r\n  pack(buffer, num, index) {\r\n    // Round overflows\r\n    if (Math.abs(num) > this.biasP2 - (this.ebitsFbits * 2)) {\r\n      num = num < 0 ? -Infinity : Infinity;\r\n    }\r\n    /**\r\n     * sign, need this to handle negative zero\r\n     * @see http://cwestblog.com/2014/02/25/javascript-testing-for-negative-zero/\r\n     * @type {number}\r\n     */\r\n    let sign = (((num = +num) || 1 / num) < 0) ? 1 : num < 0 ? 1 : 0;\r\n    num = Math.abs(num);\r\n    /** @type {number} */\r\n    let exp = Math.min(Math.floor(Math.log(num) / Math.LN2), 1023);\r\n    /** @type {number} */\r\n    let fraction = roundToEven(num / Math.pow(2, exp) * Math.pow(2, this.fbits));\r\n    // NaN\r\n    if (num !== num) {\r\n      fraction = Math.pow(2, this.fbits - 1);\r\n      exp = (1 << this.ebits) - 1;\r\n    // Number\r\n    } else if (num !== 0) {\r\n      if (num >= Math.pow(2, 1 - this.bias)) {\r\n        if (fraction / Math.pow(2, this.fbits) >= 2) {\r\n          exp = exp + 1;\r\n          fraction = 1;\r\n        }\r\n        // Overflow\r\n        if (exp > this.bias) {\r\n          exp = (1 << this.ebits) - 1;\r\n          fraction = 0;\r\n        } else {\r\n          exp = exp + this.bias;\r\n          fraction = roundToEven(fraction) - Math.pow(2, this.fbits);\r\n        }\r\n      } else {\r\n        fraction = roundToEven(num / Math.pow(2, 1 - this.bias - this.fbits));\r\n        exp = 0;\r\n      } \r\n    }\r\n    return this.packFloatBits_(buffer, index, sign, exp, fraction);\r\n  }\r\n\r\n  /**\r\n   * Unpack a IEEE 754 floating point number.\r\n   * Derived from IEEE754 by DeNA Co., Ltd., MIT License. \r\n   * Adapted to handle NaN. Should port the solution to the original repo.\r\n   * @param {!Uint8Array|!Array<number>} buffer The buffer.\r\n   * @param {number} index The index to read from the buffer.\r\n   * @return {number} The floating point number.\r\n   */\r\n  unpack(buffer, index) {\r\n    /** @type {number} */\r\n    let eMax = (1 << this.ebits) - 1;\r\n    /** @type {number} */\r\n    let significand;\r\n    /** @type {string} */\r\n    let leftBits = \"\";\r\n    for (let i = this.offset - 1; i >= 0 ; i--) {\r\n      /** @type {string} */\r\n      let t = buffer[i + index].toString(2);\r\n      leftBits += \"00000000\".substring(t.length) + t;\r\n    }\r\n    /** @type {number} */\r\n    let sign = leftBits.charAt(0) == \"1\" ? -1 : 1;\r\n    leftBits = leftBits.substring(1);\r\n    /** @type {number} */\r\n    let exponent = parseInt(leftBits.substring(0, this.ebits), 2);\r\n    leftBits = leftBits.substring(this.ebits);\r\n    if (exponent == eMax) {\r\n      if (parseInt(leftBits, 2) !== 0) {\r\n        return NaN;\r\n      }\r\n      return sign * Infinity;  \r\n    } else if (exponent === 0) {\r\n      exponent += 1;\r\n      significand = parseInt(leftBits, 2);\r\n    } else {\r\n      significand = parseInt(\"1\" + leftBits, 2);\r\n    }\r\n    return sign * significand * this.fbias * Math.pow(2, exponent - this.bias);\r\n  }\r\n\r\n  /**\r\n   * Pack a IEEE754 from its sign, exponent and fraction bits\r\n   * and place it in a byte buffer.\r\n   * @param {!Uint8Array|!Array<number>} buffer The byte buffer to write to.\r\n   * @param {number} index The buffer index to write.\r\n   * @param {number} sign The sign.\r\n   * @param {number} exp the exponent.\r\n   * @param {number} fraction The fraction.\r\n   * @return {number}\r\n   * @private\r\n   */\r\n  packFloatBits_(buffer, index, sign, exp, fraction) {\r\n    /** @type {!Array<number>} */\r\n    let bits = [];\r\n    // the sign\r\n    bits.push(sign);\r\n    // the exponent\r\n    for (let i = this.ebits; i > 0; i -= 1) {\r\n      bits[i] = (exp % 2 ? 1 : 0);\r\n      exp = Math.floor(exp / 2);\r\n    }\r\n    // the fraction\r\n    let len = bits.length;\r\n    for (let i = this.fbits; i > 0; i -= 1) {\r\n      bits[len + i] = (fraction % 2 ? 1 : 0);\r\n      fraction = Math.floor(fraction / 2);\r\n    }\r\n    // pack as bytes\r\n    /** @type {string} */\r\n    let str = bits.join('');\r\n    /** @type {number} */\r\n    let offset = this.offset + index - 1;\r\n    /** @type {number} */\r\n    let k = index;\r\n    while (offset >= index) {\r\n      buffer[offset] = parseInt(str.substring(0, 8), 2);\r\n      str = str.substring(8);\r\n      offset--;\r\n      k++;\r\n    }\r\n    return k;\r\n  }\r\n}\r\n\r\n/**\r\n * Round a number to its nearest even value.\r\n * @param {number} n The number.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction roundToEven(n) {\r\n  /** @type {number} */\r\n  let w = Math.floor(n);\r\n  let f = n - w;\r\n  if (f < 0.5) {\r\n    return w;\r\n  }\r\n  if (f > 0.5) {\r\n    return w + 1;\r\n  }\r\n  return w % 2 ? w + 1 : w;\r\n}\r\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The WaveFileCueEditor class.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\nimport { WaveFileTagEditor } from './wavefile-tag-editor';\r\n\r\n/**\r\n * A class to edit meta information in wav files.\r\n * @extends WaveFileTagEditor\r\n * @ignore\r\n */\r\nexport class WaveFileCueEditor extends WaveFileTagEditor {\r\n\r\n  /**\r\n   * Return an array with all cue points in the file, in the order they appear\r\n   * in the file.\r\n   * Objects representing cue points/regions look like this:\r\n   *   {\r\n   *     position: 500, // the position in milliseconds\r\n   *     label: 'cue marker 1',\r\n   *     end: 1500, // the end position in milliseconds\r\n   *     dwName: 1,\r\n   *     dwPosition: 0,\r\n   *     fccChunk: 'data',\r\n   *     dwChunkStart: 0,\r\n   *     dwBlockStart: 0,\r\n   *     dwSampleOffset: 22050, // the position as a sample offset\r\n   *     dwSampleLength: 3646827, // length as a sample count, 0 if not a region\r\n   *     dwPurposeID: 544106354,\r\n   *     dwCountry: 0,\r\n   *     dwLanguage: 0,\r\n   *     dwDialect: 0,\r\n   *     dwCodePage: 0,\r\n   *   }\r\n   * @return {!Array<Object>}\r\n   */\r\n  listCuePoints() {\r\n    /** @type {!Array<!Object>} */\r\n    let points = this.getCuePoints_();\r\n    for (let i = 0, len = points.length; i < len; i++) {\r\n\r\n      // Add attrs that should exist in the object\r\n      points[i].position =\r\n        (points[i].dwSampleOffset / this.fmt.sampleRate) * 1000;\r\n\r\n      // If it is a region, calc the end\r\n      // position in milliseconds\r\n      if (points[i].dwSampleLength) {\r\n        points[i].end =\r\n          (points[i].dwSampleLength / this.fmt.sampleRate) * 1000;\r\n        points[i].end += points[i].position;\r\n      // If its not a region, end should be null\r\n      } else {\r\n        points[i].end = null;\r\n      }\r\n\r\n      // Remove attrs that should not go in the results\r\n      delete points[i].value;\r\n    }\r\n    return points;\r\n  }\r\n\r\n  /**\r\n   * Create a cue point in the wave file.\r\n   * @param {!{\r\n   *   position: number,\r\n   *   label: ?string,\r\n   *   end: ?number,\r\n   *   dwPurposeID: ?number,\r\n   *   dwCountry: ?number,\r\n   *   dwLanguage: ?number,\r\n   *   dwDialect: ?number,\r\n   *   dwCodePage: ?number\r\n   * }} pointData A object with the data of the cue point.\r\n   *\r\n   * # Only required attribute to create a cue point:\r\n   * pointData.position: The position of the point in milliseconds\r\n   *\r\n   * # Optional attribute for cue points:\r\n   * pointData.label: A string label for the cue point\r\n   *\r\n   * # Extra data used for regions\r\n   * pointData.end: A number representing the end of the region,\r\n   *   in milliseconds, counting from the start of the file. If\r\n   *   no end attr is specified then no region is created.\r\n   *\r\n   * # You may also specify the following attrs for regions, all optional:\r\n   * pointData.dwPurposeID\r\n   * pointData.dwCountry\r\n   * pointData.dwLanguage\r\n   * pointData.dwDialect\r\n   * pointData.dwCodePage\r\n   */\r\n  setCuePoint(pointData) {\r\n    this.cue.chunkId = 'cue ';\r\n\r\n    // label attr should always exist\r\n    if (!pointData.label) {\r\n      pointData.label = '';\r\n    }\r\n\r\n    /**\r\n     * Load the existing points before erasing\r\n     * the LIST 'adtl' chunk and the cue attr\r\n     * @type {!Array<!Object>}\r\n     */\r\n    let existingPoints = this.getCuePoints_();\r\n\r\n    // Clear any LIST labeled 'adtl'\r\n    // The LIST chunk should be re-written\r\n    // after the new cue point is created\r\n    this.clearLISTadtl_();\r\n\r\n    // Erase this.cue so it can be re-written\r\n    // after the point is added\r\n    this.cue.points = [];\r\n\r\n    /**\r\n     * Cue position param is informed in milliseconds,\r\n     * here its value is converted to the sample offset\r\n     * @type {number}\r\n     */\r\n    pointData.dwSampleOffset =\r\n      (pointData.position * this.fmt.sampleRate) / 1000;\r\n    /**\r\n     * end param is informed in milliseconds, counting\r\n     * from the start of the file.\r\n     * here its value is converted to the sample length\r\n     * of the region.\r\n     * @type {number}\r\n     */\r\n    pointData.dwSampleLength = 0;\r\n    if (pointData.end) {\r\n      pointData.dwSampleLength = \r\n        ((pointData.end * this.fmt.sampleRate) / 1000) -\r\n        pointData.dwSampleOffset;\r\n    }\r\n\r\n    // If there were no cue points in the file,\r\n    // insert the new cue point as the first\r\n    if (existingPoints.length === 0) {\r\n      this.setCuePoint_(pointData, 1);\r\n\r\n    // If the file already had cue points, This new one\r\n    // must be added in the list according to its position.\r\n    } else {\r\n      this.setCuePointInOrder_(existingPoints, pointData);\r\n    }\r\n    this.cue.dwCuePoints = this.cue.points.length;\r\n  }\r\n\r\n  /**\r\n   * Remove a cue point from a wave file.\r\n   * @param {number} index the index of the point. First is 1,\r\n   *    second is 2, and so on.\r\n   */\r\n  deleteCuePoint(index) {\r\n    this.cue.chunkId = 'cue ';\r\n    /** @type {!Array<!Object>} */\r\n    let existingPoints = this.getCuePoints_();\r\n    this.clearLISTadtl_();\r\n    /** @type {number} */\r\n    let len = this.cue.points.length;\r\n    this.cue.points = [];\r\n    for (let i = 0; i < len; i++) {\r\n      if (i + 1 !== index) {\r\n        this.setCuePoint_(existingPoints[i], i + 1);\r\n      }\r\n    }\r\n    this.cue.dwCuePoints = this.cue.points.length;\r\n    if (this.cue.dwCuePoints) {\r\n      this.cue.chunkId = 'cue ';\r\n    } else {\r\n      this.cue.chunkId = '';\r\n      this.clearLISTadtl_();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update the label of a cue point.\r\n   * @param {number} pointIndex The ID of the cue point.\r\n   * @param {string} label The new text for the label.\r\n   */\r\n  updateLabel(pointIndex, label) {\r\n    /** @type {?number} */\r\n    let cIndex = this.getLISTIndex('adtl');\r\n    if (cIndex !== null) {\r\n      for (let i = 0, len = this.LIST[cIndex].subChunks.length; i < len; i++) {\r\n        if (this.LIST[cIndex].subChunks[i].dwName ==\r\n            pointIndex) {\r\n          this.LIST[cIndex].subChunks[i].value = label;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return an array with all cue points in the file, in the order they appear\r\n   * in the file.\r\n   * @return {!Array<!Object>}\r\n   * @private\r\n   */\r\n  getCuePoints_() {\r\n    /** @type {!Array<!Object>} */\r\n    let points = [];\r\n    for (let i = 0; i < this.cue.points.length; i++) {\r\n      /** @type {!Object} */\r\n      let chunk = this.cue.points[i];\r\n      /** @type {!Object} */\r\n      let pointData = this.getDataForCuePoint_(chunk.dwName);\r\n      pointData.label = pointData.value ? pointData.value : '';\r\n      pointData.dwPosition = chunk.dwPosition;\r\n      pointData.fccChunk = chunk.fccChunk;\r\n      pointData.dwChunkStart = chunk.dwChunkStart;\r\n      pointData.dwBlockStart = chunk.dwBlockStart;\r\n      pointData.dwSampleOffset = chunk.dwSampleOffset;\r\n      points.push(pointData);\r\n    }\r\n    return points;\r\n  }\r\n\r\n  /**\r\n   * Return the associated data of a cue point.\r\n   * @param {number} pointDwName The ID of the cue point.\r\n   * @return {!Object}\r\n   * @private\r\n   */\r\n  getDataForCuePoint_(pointDwName) {\r\n    /** @type {?number} */\r\n    let LISTindex = this.getLISTIndex('adtl');\r\n    /** @type {!Object} */\r\n    let pointData = {};\r\n    // If there is a adtl LIST in the file, look for\r\n    // LIST subchunks with data referencing this point\r\n    if (LISTindex !== null) {\r\n      this.getCueDataFromLIST_(pointData, LISTindex, pointDwName);\r\n    }\r\n    return pointData;\r\n  }\r\n\r\n  /**\r\n   * Get all data associated to a cue point in a LIST chunk.\r\n   * @param {!Object} pointData A object to hold the point data.\r\n   * @param {number} index The index of the adtl LIST chunk.\r\n   * @param {number} pointDwName The ID of the cue point.\r\n   * @private\r\n   */\r\n  getCueDataFromLIST_(pointData, index, pointDwName) {\r\n    // got through all chunks in the adtl LIST checking\r\n    // for references to this cue point\r\n    for (let i = 0, len = this.LIST[index].subChunks.length; i < len; i++) {\r\n      if (this.LIST[index].subChunks[i].dwName == pointDwName) {\r\n        /** @type {!Object} */\r\n        let chunk = this.LIST[index].subChunks[i];\r\n        // Some chunks may reference the point but\r\n        // have a empty text; this is to ensure that if\r\n        // one chunk that reference the point has a text,\r\n        // this value will be kept as the associated data label\r\n        // for the cue point.\r\n        // If different values are present, the last value found\r\n        // will be considered the label for the cue point.\r\n        pointData.value = chunk.value || pointData.value;\r\n        pointData.dwName = chunk.dwName || 0;\r\n        pointData.dwSampleLength = chunk.dwSampleLength || 0;\r\n        pointData.dwPurposeID = chunk.dwPurposeID || 0;\r\n        pointData.dwCountry = chunk.dwCountry || 0;\r\n        pointData.dwLanguage = chunk.dwLanguage || 0;\r\n        pointData.dwDialect = chunk.dwDialect || 0;\r\n        pointData.dwCodePage = chunk.dwCodePage || 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Push a new cue point in this.cue.points.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @param {number} dwName the dwName of the cue point\r\n   * @private\r\n   */\r\n  setCuePoint_(pointData, dwName) {\r\n    this.cue.points.push({\r\n      dwName: dwName,\r\n      dwPosition: pointData.dwPosition ? pointData.dwPosition : 0,\r\n      fccChunk: pointData.fccChunk ? pointData.fccChunk : 'data',\r\n      dwChunkStart: pointData.dwChunkStart ? pointData.dwChunkStart : 0,\r\n      dwBlockStart: pointData.dwBlockStart ? pointData.dwBlockStart : 0,\r\n      dwSampleOffset: pointData.dwSampleOffset\r\n    });\r\n    this.setLabl_(pointData, dwName);\r\n  }\r\n\r\n  /**\r\n   * Push a new cue point in this.cue.points according to existing cue points.\r\n   * @param {!Array} existingPoints Array with the existing points.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @private\r\n   */\r\n  setCuePointInOrder_(existingPoints, pointData) {\r\n    /** @type {boolean} */\r\n    let hasSet = false;\r\n\r\n    // Iterate over the cue points that existed\r\n    // before this one was added\r\n    for (let i = 0; i < existingPoints.length; i++) {\r\n\r\n      // If the new point is located before this original point\r\n      // and the new point have not been created, create the\r\n      // new point and then the original point\r\n      if (existingPoints[i].dwSampleOffset > \r\n        pointData.dwSampleOffset && !hasSet) {\r\n        // create the new point\r\n        this.setCuePoint_(pointData, i + 1);\r\n\r\n        // create the original point\r\n        this.setCuePoint_(existingPoints[i], i + 2);\r\n        hasSet = true;\r\n\r\n      // Otherwise, re-create the original point\r\n      } else {\r\n        this.setCuePoint_(existingPoints[i], hasSet ? i + 2 : i + 1);\r\n      }\r\n    }\r\n    // If no point was created in the above loop,\r\n    // create the new point as the last one\r\n    if (!hasSet) {\r\n      this.setCuePoint_(pointData, this.cue.points.length + 1);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear any LIST chunk labeled as 'adtl'.\r\n   * @private\r\n   */\r\n  clearLISTadtl_() {\r\n    for (let i = 0, len = this.LIST.length; i < len; i++) {\r\n      if (this.LIST[i].format == 'adtl') {\r\n        this.LIST.splice(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a new 'labl' subchunk in a 'LIST' chunk of type 'adtl'.\r\n   * This method creates a LIST adtl chunk in the file if one\r\n   * is not present.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @param {number} dwName The ID of the cue point.\r\n   * @private\r\n   */\r\n  setLabl_(pointData, dwName) {\r\n    /**\r\n     * Get the index of the LIST chunk labeled as adtl.\r\n     * A file can have many LIST chunks with unique labels.\r\n     * @type {?number}\r\n     */\r\n    let adtlIndex = this.getLISTIndex('adtl');\r\n    // If there is no adtl LIST, create one\r\n    if (adtlIndex === null) {\r\n      // Include a new item LIST chunk\r\n      this.LIST.push({\r\n        chunkId: 'LIST',\r\n        chunkSize: 4,\r\n        format: 'adtl',\r\n        subChunks: []});\r\n      // Get the index of the new LIST chunk\r\n      adtlIndex = this.LIST.length - 1;\r\n    }\r\n    this.setLabelText_(adtlIndex, pointData, dwName);\r\n    if (pointData.dwSampleLength) {\r\n      this.setLtxtChunk_(adtlIndex, pointData, dwName);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a new 'labl' subchunk in a 'LIST' chunk of type 'adtl'.\r\n   * @param {number} adtlIndex The index of the 'adtl' LIST in this.LIST.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @param {number} dwName The ID of the cue point.\r\n   * @private\r\n   */\r\n  setLabelText_(adtlIndex, pointData, dwName) {\r\n    this.LIST[adtlIndex].subChunks.push({\r\n      chunkId: 'labl',\r\n      chunkSize: 4, // should be 4 + label length in bytes\r\n      dwName: dwName,\r\n      value: pointData.label\r\n    });\r\n    this.LIST[adtlIndex].chunkSize += 12; // should be 4 + label byte length\r\n  }\r\n  /**\r\n   * Create a new 'ltxt' subchunk in a 'LIST' chunk of type 'adtl'.\r\n   * @param {number} adtlIndex The index of the 'adtl' LIST in this.LIST.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @param {number} dwName The ID of the cue point.\r\n   * @private\r\n   */\r\n  setLtxtChunk_(adtlIndex, pointData, dwName) {\r\n    this.LIST[adtlIndex].subChunks.push({\r\n      chunkId: 'ltxt',\r\n      chunkSize: 20,  // should be 12 + label byte length\r\n      dwName: dwName,\r\n      dwSampleLength: pointData.dwSampleLength,\r\n      dwPurposeID: pointData.dwPurposeID || 0,\r\n      dwCountry: pointData.dwCountry || 0,\r\n      dwLanguage: pointData.dwLanguage || 0,\r\n      dwDialect: pointData.dwDialect || 0,\r\n      dwCodePage: pointData.dwCodePage || 0,\r\n      value: pointData.label // kept for compatibility\r\n    });\r\n    this.LIST[adtlIndex].chunkSize += 28;\r\n  }\r\n}\r\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The WaveFileTagEditor class.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\nimport { WaveFileCreator } from './wavefile-creator';\r\n\r\n/**\r\n * A class to edit meta information in wav files.\r\n * @extends WaveFileCreator\r\n * @ignore\r\n */\r\nexport class WaveFileTagEditor extends WaveFileCreator {\r\n\r\n  /**\r\n   * Return the value of a RIFF tag in the INFO chunk.\r\n   * @param {string} tag The tag name.\r\n   * @return {?string} The value if the tag is found, null otherwise.\r\n   */\r\n  getTag(tag) {\r\n    /** @type {!Object} */\r\n    let index = this.getTagIndex_(tag);\r\n    if (index.TAG !== null) {\r\n      return this.LIST[index.LIST].subChunks[index.TAG].value;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Write a RIFF tag in the INFO chunk. If the tag do not exist,\r\n   * then it is created. It if exists, it is overwritten.\r\n   * @param {string} tag The tag name.\r\n   * @param {string} value The tag value.\r\n   * @throws {Error} If the tag name is not valid.\r\n   */\r\n  setTag(tag, value) {\r\n    tag = fixRIFFTag_(tag);\r\n    /** @type {!Object} */\r\n    let index = this.getTagIndex_(tag);\r\n    if (index.TAG !== null) {\r\n      this.LIST[index.LIST].subChunks[index.TAG].chunkSize =\r\n        value.length + 1;\r\n      this.LIST[index.LIST].subChunks[index.TAG].value = value;\r\n    } else if (index.LIST !== null) {\r\n      this.LIST[index.LIST].subChunks.push({\r\n        chunkId: tag,\r\n        chunkSize: value.length + 1,\r\n        value: value});\r\n    } else {\r\n      this.LIST.push({\r\n        chunkId: 'LIST',\r\n        chunkSize: 8 + value.length + 1,\r\n        format: 'INFO',\r\n        subChunks: []});\r\n      this.LIST[this.LIST.length - 1].subChunks.push({\r\n        chunkId: tag,\r\n        chunkSize: value.length + 1,\r\n        value: value});\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove a RIFF tag from the INFO chunk.\r\n   * @param {string} tag The tag name.\r\n   * @return {boolean} True if a tag was deleted.\r\n   */\r\n  deleteTag(tag) {\r\n    /** @type {!Object} */\r\n    let index = this.getTagIndex_(tag);\r\n    if (index.TAG !== null) {\r\n      this.LIST[index.LIST].subChunks.splice(index.TAG, 1);\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Return a Object<tag, value> with the RIFF tags in the file.\r\n   * @return {!Object<string, string>} The file tags.\r\n   */\r\n  listTags() {\r\n    /** @type {?number} */\r\n    let index = this.getLISTIndex('INFO');\r\n    /** @type {!Object} */\r\n    let tags = {};\r\n    if (index !== null) {\r\n      for (let i = 0, len = this.LIST[index].subChunks.length; i < len; i++) {\r\n        tags[this.LIST[index].subChunks[i].chunkId] =\r\n          this.LIST[index].subChunks[i].value;\r\n      }\r\n    }\r\n    return tags;\r\n  }\r\n\r\n  /**\r\n   * Return the index of a list by its type.\r\n   * @param {string} listType The list type ('adtl', 'INFO')\r\n   * @return {?number}\r\n   * @protected\r\n   */\r\n  getLISTIndex(listType) {\r\n    for (let i = 0, len = this.LIST.length; i < len; i++) {\r\n      if (this.LIST[i].format == listType) {\r\n        return i;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Return the index of a tag in a FILE chunk.\r\n   * @param {string} tag The tag name.\r\n   * @return {!Object<string, ?number>}\r\n   *    Object.LIST is the INFO index in LIST\r\n   *    Object.TAG is the tag index in the INFO\r\n   * @private\r\n   */\r\n  getTagIndex_(tag) {\r\n    /** @type {!Object<string, ?number>} */\r\n    let index = {LIST: null, TAG: null};\r\n    for (let i = 0, len = this.LIST.length; i < len; i++) {\r\n      if (this.LIST[i].format == 'INFO') {\r\n        index.LIST = i;\r\n        for (let j=0, subLen = this.LIST[i].subChunks.length; j < subLen; j++) {\r\n          if (this.LIST[i].subChunks[j].chunkId == tag) {\r\n            index.TAG = j;\r\n            break;\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    }\r\n    return index;\r\n  }\r\n}\r\n\r\n/**\r\n * Fix a RIFF tag format if possible, throw an error otherwise.\r\n * @param {string} tag The tag name.\r\n * @return {string} The tag name in proper fourCC format.\r\n * @private\r\n */\r\nfunction fixRIFFTag_(tag) {\r\n  if (tag.constructor !== String) {\r\n    throw new Error('Invalid tag name.');\r\n  } else if (tag.length < 4) {\r\n    for (let i = 0, len = 4 - tag.length; i < len; i++) {\r\n      tag += ' ';\r\n    }\r\n  }\r\n  return tag;\r\n}\r\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The WaveFileCreator class.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\nimport { WaveFileParser } from './wavefile-parser';\r\nimport { interleave, deInterleave } from './parsers/interleave';\r\nimport { validateNumChannels } from './validators/validate-num-channels'; \r\nimport { validateSampleRate } from './validators/validate-sample-rate';\r\nimport { packArrayTo, unpackArrayTo, packTo, unpack } from './parsers/binary';\r\n\r\n/**\r\n * A class to read, write and create wav files.\r\n * @extends WaveFileParser\r\n * @ignore\r\n */\r\nexport class WaveFileCreator extends WaveFileParser {\r\n\r\n  constructor() {\r\n    super();\r\n    /**\r\n     * The bit depth code according to the samples.\r\n     * @type {string}\r\n     */\r\n    this.bitDepth = '0';\r\n    /**\r\n     * @type {!{bits: number, be: boolean}}\r\n     * @protected\r\n     */\r\n    this.dataType = {bits: 0, be: false};\r\n    /**\r\n     * Audio formats.\r\n     * Formats not listed here should be set to 65534,\r\n     * the code for WAVE_FORMAT_EXTENSIBLE\r\n     * @enum {number}\r\n     * @protected\r\n     */\r\n    this.WAV_AUDIO_FORMATS = {\r\n      '4': 17,\r\n      '8': 1,\r\n      '8a': 6,\r\n      '8m': 7,\r\n      '16': 1,\r\n      '24': 1,\r\n      '32': 1,\r\n      '32f': 3,\r\n      '64': 3\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Set up the WaveFileCreator object based on the arguments passed.\r\n   * Existing chunks are reset.\r\n   * @param {number} numChannels The number of channels.\r\n   * @param {number} sampleRate The sample rate.\r\n   *    Integers like 8000, 44100, 48000, 96000, 192000.\r\n   * @param {string} bitDepthCode The audio bit depth code.\r\n   *    One of '4', '8', '8a', '8m', '16', '24', '32', '32f', '64'\r\n   *    or any value between '8' and '32' (like '12').\r\n   * @param {!(Array|TypedArray)} samples The samples.\r\n   * @param {Object=} options Optional. Used to force the container\r\n   *    as RIFX with {'container': 'RIFX'}\r\n   * @throws {Error} If any argument does not meet the criteria.\r\n   */\r\n  fromScratch(numChannels, sampleRate, bitDepthCode, samples, options) {\r\n    options = options || {};\r\n    // reset all chunks\r\n    this.clearHeaders();\r\n    this.newWavFile_(numChannels, sampleRate, bitDepthCode, samples, options);\r\n  }\r\n\r\n  /**\r\n   * Set up the WaveFileParser object from a byte buffer.\r\n   * @param {!Uint8Array} wavBuffer The buffer.\r\n   * @param {boolean=} [samples=true] True if the samples should be loaded.\r\n   * @throws {Error} If container is not RIFF, RIFX or RF64.\r\n   * @throws {Error} If format is not WAVE.\r\n   * @throws {Error} If no 'fmt ' chunk is found.\r\n   * @throws {Error} If no 'data' chunk is found.\r\n   */\r\n  fromBuffer(wavBuffer, samples=true) {\r\n    super.fromBuffer(wavBuffer, samples);\r\n    this.bitDepthFromFmt_();\r\n    this.updateDataType_();\r\n  }\r\n\r\n  /**\r\n   * Return a byte buffer representig the WaveFileParser object as a .wav file.\r\n   * The return value of this method can be written straight to disk.\r\n   * @return {!Uint8Array} A wav file.\r\n   * @throws {Error} If bit depth is invalid.\r\n   * @throws {Error} If the number of channels is invalid.\r\n   * @throws {Error} If the sample rate is invalid.\r\n   */\r\n  toBuffer() {\r\n    this.validateWavHeader_();\r\n    return super.toBuffer();\r\n  }\r\n\r\n  /**\r\n   * Return the samples packed in a Float64Array.\r\n   * @param {boolean=} [interleaved=false] True to return interleaved samples,\r\n   *   false to return the samples de-interleaved.\r\n   * @param {Function=} [OutputObject=Float64Array] The sample container.\r\n   * @return {!(Array|TypedArray)} the samples.\r\n   */\r\n  getSamples(interleaved=false, OutputObject=Float64Array) {\r\n    /**\r\n     * A Float64Array created with a size to match the\r\n     * the length of the samples.\r\n     * @type {!(Array|TypedArray)}\r\n     */\r\n    let samples = new OutputObject(\r\n      this.data.samples.length / (this.dataType.bits / 8));\r\n    // Unpack all the samples\r\n    unpackArrayTo(this.data.samples, this.dataType, samples,\r\n      0, this.data.samples.length);\r\n    if (!interleaved && this.fmt.numChannels > 1) {\r\n      return deInterleave(samples, this.fmt.numChannels, OutputObject);\r\n    }\r\n    return samples;\r\n  }\r\n\r\n  /**\r\n   * Return the sample at a given index.\r\n   * @param {number} index The sample index.\r\n   * @return {number} The sample.\r\n   * @throws {Error} If the sample index is off range.\r\n   */\r\n  getSample(index) {\r\n    index = index * (this.dataType.bits / 8);\r\n    if (index + this.dataType.bits / 8 > this.data.samples.length) {\r\n      throw new Error('Range error');\r\n    }\r\n    return unpack(\r\n      this.data.samples.slice(index, index + this.dataType.bits / 8),\r\n      this.dataType);\r\n  }\r\n\r\n  /**\r\n   * Set the sample at a given index.\r\n   * @param {number} index The sample index.\r\n   * @param {number} sample The sample.\r\n   * @throws {Error} If the sample index is off range.\r\n   */\r\n  setSample(index, sample) {\r\n    index = index * (this.dataType.bits / 8);\r\n    if (index + this.dataType.bits / 8 > this.data.samples.length) {\r\n      throw new Error('Range error');\r\n    }\r\n    packTo(sample, this.dataType, this.data.samples, index, true);\r\n  }\r\n\r\n  /**\r\n   * Return the value of the iXML chunk.\r\n   * @return {string} The contents of the iXML chunk.\r\n   */\r\n  getiXML() {\r\n    return this.iXML.value;\r\n  }\r\n\r\n  /**\r\n   * Set the value of the iXML chunk.\r\n   * @param {string} iXMLValue The value for the iXML chunk.\r\n   * @throws {TypeError} If the value is not a string.\r\n   */\r\n  setiXML(iXMLValue) {\r\n    if (typeof iXMLValue !== 'string') {\r\n      throw new TypeError('iXML value must be a string.');\r\n    }\r\n    this.iXML.value = iXMLValue;\r\n    this.iXML.chunkId = 'iXML';\r\n  }\r\n\r\n  /**\r\n   * Get the value of the _PMX chunk.\r\n   * @return {string} The contents of the _PMX chunk.\r\n   */\r\n  get_PMX() {\r\n    return this._PMX.value;\r\n  }\r\n\r\n  /**\r\n   * Set the value of the _PMX chunk.\r\n   * @param {string} _PMXValue The value for the _PMX chunk.\r\n   * @throws {TypeError} If the value is not a string.\r\n   */\r\n  set_PMX(_PMXValue) {\r\n    if (typeof _PMXValue !== 'string') {\r\n      throw new TypeError('_PMX value must be a string.');\r\n    }\r\n    this._PMX.value = _PMXValue;\r\n    this._PMX.chunkId = '_PMX';\r\n  }\r\n\r\n  /**\r\n   * Set up the WaveFileCreator object based on the arguments passed.\r\n   * @param {number} numChannels The number of channels.\r\n   * @param {number} sampleRate The sample rate.\r\n   *   Integers like 8000, 44100, 48000, 96000, 192000.\r\n   * @param {string} bitDepthCode The audio bit depth code.\r\n   *   One of '4', '8', '8a', '8m', '16', '24', '32', '32f', '64'\r\n   *   or any value between '8' and '32' (like '12').\r\n   * @param {!(Array|TypedArray)} samples The samples.\r\n   * @param {Object} options Used to define the container.\r\n   * @throws {Error} If any argument does not meet the criteria.\r\n   * @private\r\n   */\r\n  newWavFile_(numChannels, sampleRate, bitDepthCode, samples, options) {\r\n    if (!options.container) {\r\n      options.container = 'RIFF';\r\n    }\r\n    this.container = options.container;\r\n    this.bitDepth = bitDepthCode;\r\n    samples = interleave(samples);\r\n    this.updateDataType_();\r\n    /** @type {number} */\r\n    let numBytes = this.dataType.bits / 8;\r\n    this.data.samples = new Uint8Array(samples.length * numBytes);\r\n    packArrayTo(samples, this.dataType, this.data.samples, 0, true);\r\n    this.makeWavHeader_(\r\n      bitDepthCode, numChannels, sampleRate,\r\n      numBytes, this.data.samples.length, options);\r\n    this.data.chunkId = 'data';\r\n    this.data.chunkSize = this.data.samples.length;\r\n    this.validateWavHeader_();\r\n  }\r\n\r\n  /**\r\n   * Define the header of a wav file.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */\r\n  makeWavHeader_(\r\n    bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\r\n    if (bitDepthCode == '4') {\r\n      this.createADPCMHeader_(\r\n        bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\r\n\r\n    } else if (bitDepthCode == '8a' || bitDepthCode == '8m') {\r\n      this.createALawMulawHeader_(\r\n        bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\r\n\r\n    } else if(Object.keys(this.WAV_AUDIO_FORMATS).indexOf(bitDepthCode) == -1 ||\r\n        numChannels > 2) {\r\n      this.createExtensibleHeader_(\r\n        bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\r\n\r\n    } else {\r\n      this.createPCMHeader_(\r\n        bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);      \r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create the header of a linear PCM wave file.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */\r\n  createPCMHeader_(\r\n    bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\r\n    this.container = options.container;\r\n    this.chunkSize = 36 + samplesLength;\r\n    this.format = 'WAVE';\r\n    this.bitDepth = bitDepthCode;\r\n    this.fmt = {\r\n      chunkId: 'fmt ',\r\n      chunkSize: 16,\r\n      audioFormat: this.WAV_AUDIO_FORMATS[bitDepthCode] || 65534,\r\n      numChannels: numChannels,\r\n      sampleRate: sampleRate,\r\n      byteRate: (numChannels * numBytes) * sampleRate,\r\n      blockAlign: numChannels * numBytes,\r\n      bitsPerSample: parseInt(bitDepthCode, 10),\r\n      cbSize: 0,\r\n      validBitsPerSample: 0,\r\n      dwChannelMask: 0,\r\n      subformat: []\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Create the header of a ADPCM wave file.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */\r\n  createADPCMHeader_(\r\n    bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\r\n    this.createPCMHeader_(\r\n      bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\r\n    this.chunkSize = 40 + samplesLength;\r\n    this.fmt.chunkSize = 20;\r\n    this.fmt.byteRate = 4055;\r\n    this.fmt.blockAlign = 256;\r\n    this.fmt.bitsPerSample = 4;\r\n    this.fmt.cbSize = 2;\r\n    this.fmt.validBitsPerSample = 505;\r\n    this.fact = {\r\n      chunkId: 'fact',\r\n      chunkSize: 4,\r\n      dwSampleLength: samplesLength * 2\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Create the header of WAVE_FORMAT_EXTENSIBLE file.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */\r\n  createExtensibleHeader_(\r\n      bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\r\n    this.createPCMHeader_(\r\n      bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\r\n    this.chunkSize = 36 + 24 + samplesLength;\r\n    this.fmt.chunkSize = 40;\r\n    this.fmt.bitsPerSample = ((parseInt(bitDepthCode, 10) - 1) | 7) + 1;\r\n    this.fmt.cbSize = 22;\r\n    this.fmt.validBitsPerSample = parseInt(bitDepthCode, 10);\r\n    this.fmt.dwChannelMask = dwChannelMask_(numChannels);\r\n    // subformat 128-bit GUID as 4 32-bit values\r\n    // only supports uncompressed integer PCM samples\r\n    this.fmt.subformat = [1, 1048576, 2852126848, 1905997824];\r\n  }\r\n\r\n  /**\r\n   * Create the header of mu-Law and A-Law wave files.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */\r\n  createALawMulawHeader_(\r\n      bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\r\n    this.createPCMHeader_(\r\n      bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\r\n    this.chunkSize = 40 + samplesLength;\r\n    this.fmt.chunkSize = 20;\r\n    this.fmt.cbSize = 2;\r\n    this.fmt.validBitsPerSample = 8;\r\n    this.fact = {\r\n      chunkId: 'fact',\r\n      chunkSize: 4,\r\n      dwSampleLength: samplesLength\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Set the string code of the bit depth based on the 'fmt ' chunk.\r\n   * @private\r\n   */\r\n  bitDepthFromFmt_() {\r\n    if (this.fmt.audioFormat === 3 && this.fmt.bitsPerSample === 32) {\r\n      this.bitDepth = '32f';\r\n    } else if (this.fmt.audioFormat === 6) {\r\n      this.bitDepth = '8a';\r\n    } else if (this.fmt.audioFormat === 7) {\r\n      this.bitDepth = '8m';\r\n    } else {\r\n      this.bitDepth = this.fmt.bitsPerSample.toString();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate the bit depth.\r\n   * @return {boolean} True is the bit depth is valid.\r\n   * @throws {Error} If bit depth is invalid.\r\n   * @private\r\n   */\r\n  validateBitDepth_() {\r\n    if (!this.WAV_AUDIO_FORMATS[this.bitDepth]) {\r\n      if (parseInt(this.bitDepth, 10) > 8 &&\r\n          parseInt(this.bitDepth, 10) < 54) {\r\n        return true;\r\n      }\r\n      throw new Error('Invalid bit depth.');\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Update the type definition used to read and write the samples.\r\n   * @private\r\n   */\r\n  updateDataType_() {\r\n    this.dataType = {\r\n      bits: ((parseInt(this.bitDepth, 10) - 1) | 7) + 1,\r\n      fp: this.bitDepth == '32f' || this.bitDepth == '64',\r\n      signed: this.bitDepth != '8',\r\n      be: this.container == 'RIFX'\r\n    };\r\n    if (['4', '8a', '8m'].indexOf(this.bitDepth) > -1 ) {\r\n      this.dataType.bits = 8;\r\n      this.dataType.signed = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate the header of the file.\r\n   * @throws {Error} If bit depth is invalid.\r\n   * @throws {Error} If the number of channels is invalid.\r\n   * @throws {Error} If the sample rate is invalid.\r\n   * @ignore\r\n   * @private\r\n   */\r\n  validateWavHeader_() {\r\n    this.validateBitDepth_();\r\n    if (!validateNumChannels(this.fmt.numChannels, this.fmt.bitsPerSample)) {\r\n      throw new Error('Invalid number of channels.');\r\n    }\r\n    if (!validateSampleRate(\r\n        this.fmt.numChannels, this.fmt.bitsPerSample, this.fmt.sampleRate)) {\r\n      throw new Error('Invalid sample rate.');\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Return the value for dwChannelMask according to the number of channels.\r\n * @param {number} numChannels the number of channels.\r\n * @return {number} the dwChannelMask value.\r\n * @private\r\n */\r\nfunction dwChannelMask_(numChannels) {\r\n  /** @type {number} */\r\n  let mask = 0;\r\n  // mono = FC\r\n  if (numChannels === 1) {\r\n    mask = 0x4;\r\n  // stereo = FL, FR\r\n  } else if (numChannels === 2) {\r\n    mask = 0x3;\r\n  // quad = FL, FR, BL, BR\r\n  } else if (numChannels === 4) {\r\n    mask = 0x33;\r\n  // 5.1 = FL, FR, FC, LF, BL, BR\r\n  } else if (numChannels === 6) {\r\n    mask = 0x3F;\r\n  // 7.1 = FL, FR, FC, LF, BL, BR, SL, SR\r\n  } else if (numChannels === 8) {\r\n    mask = 0x63F;\r\n  }\r\n  return mask;\r\n}\r\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The WaveFileParser class.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\nimport { WaveFileReader } from './wavefile-reader';\r\nimport { writeString } from './parsers/write-string';\r\nimport { packTo, packStringTo, packString, pack } from './parsers/binary';\r\n\r\n/**\r\n * A class to read and write wav files.\r\n * @extends WaveFileReader\r\n */\r\nexport class WaveFileParser extends WaveFileReader {\r\n\r\n  /**\r\n   * Return a byte buffer representig the WaveFileParser object as a .wav file.\r\n   * The return value of this method can be written straight to disk.\r\n   * @return {!Uint8Array} A wav file.\r\n   */\r\n  toBuffer() {\r\n    this.uInt16.be = this.container === 'RIFX';\r\n    this.uInt32.be = this.uInt16.be;\r\n    /** @type {!Array<!Array<number>>} */\r\n    let fileBody = [\r\n      this.getJunkBytes_(),\r\n      this.getDs64Bytes_(),\r\n      this.getBextBytes_(),\r\n      this.getiXMLBytes_(),\r\n      this.getFmtBytes_(),\r\n      this.getFactBytes_(),\r\n      packString(this.data.chunkId),\r\n      pack(this.data.samples.length, this.uInt32),\r\n      this.data.samples,\r\n      this.getCueBytes_(),\r\n      this.getSmplBytes_(),\r\n      this.getLISTBytes_(),\r\n      this.get_PMXBytes_()\r\n    ];\r\n    /** @type {number} */\r\n    let fileBodyLength = 0;\r\n    for (let i=0; i<fileBody.length; i++) {\r\n      fileBodyLength += fileBody[i].length;\r\n    }\r\n    /** @type {!Uint8Array} */\r\n    let file = new Uint8Array(fileBodyLength + 12);\r\n    /** @type {number} */\r\n    let index = 0;\r\n    index = packStringTo(this.container, file, index);\r\n    index = packTo(fileBodyLength + 4, this.uInt32, file, index);\r\n    index = packStringTo(this.format, file, index);\r\n    for (let i=0; i<fileBody.length; i++) {\r\n      file.set(fileBody[i], index);\r\n      index += fileBody[i].length;\r\n    }\r\n    return file;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'bext' chunk.\r\n   * @private\r\n   */\r\n  getBextBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    this.enforceBext_();\r\n    if (this.bext.chunkId) {\r\n      this.bext.chunkSize = 602 + this.bext.codingHistory.length;\r\n      bytes = bytes.concat(\r\n        packString(this.bext.chunkId),\r\n        pack(602 + this.bext.codingHistory.length, this.uInt32),\r\n        writeString(this.bext.description, 256),\r\n        writeString(this.bext.originator, 32),\r\n        writeString(this.bext.originatorReference, 32),\r\n        writeString(this.bext.originationDate, 10),\r\n        writeString(this.bext.originationTime, 8),\r\n        pack(this.bext.timeReference[0], this.uInt32),\r\n        pack(this.bext.timeReference[1], this.uInt32),\r\n        pack(this.bext.version, this.uInt16),\r\n        writeString(this.bext.UMID, 64),\r\n        pack(this.bext.loudnessValue, this.uInt16),\r\n        pack(this.bext.loudnessRange, this.uInt16),\r\n        pack(this.bext.maxTruePeakLevel, this.uInt16),\r\n        pack(this.bext.maxMomentaryLoudness, this.uInt16),\r\n        pack(this.bext.maxShortTermLoudness, this.uInt16),\r\n        writeString(this.bext.reserved, 180),\r\n        writeString(\r\n          this.bext.codingHistory, this.bext.codingHistory.length));\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Make sure a 'bext' chunk is created if BWF data was created in a file.\r\n   * @private\r\n   */\r\n  enforceBext_() {\r\n    for (let prop in this.bext) {\r\n      if (this.bext.hasOwnProperty(prop)) {\r\n        if (this.bext[prop] && prop != 'timeReference') {\r\n          this.bext.chunkId = 'bext';\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (this.bext.timeReference[0] || this.bext.timeReference[1]) {\r\n      this.bext.chunkId = 'bext';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'iXML' chunk.\r\n   * @return {!Array<number>} The 'iXML' chunk bytes.\r\n   * @private\r\n   */\r\n  getiXMLBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (this.iXML.chunkId) {\r\n      /** @type {!Array<number>} */\r\n      let iXMLPackedValue = packString(this.iXML.value);\r\n      this.iXML.chunkSize = iXMLPackedValue.length;\r\n      bytes = bytes.concat(\r\n        packString(this.iXML.chunkId),\r\n        pack(this.iXML.chunkSize, this.uInt32),\r\n        iXMLPackedValue);\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'ds64' chunk.\r\n   * @return {!Array<number>} The 'ds64' chunk bytes.\r\n   * @private\r\n   */\r\n  getDs64Bytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (this.ds64.chunkId) {\r\n      bytes = bytes.concat(\r\n        packString(this.ds64.chunkId),\r\n        pack(this.ds64.chunkSize, this.uInt32),\r\n        pack(this.ds64.riffSizeHigh, this.uInt32),\r\n        pack(this.ds64.riffSizeLow, this.uInt32),\r\n        pack(this.ds64.dataSizeHigh, this.uInt32),\r\n        pack(this.ds64.dataSizeLow, this.uInt32),\r\n        pack(this.ds64.originationTime, this.uInt32),\r\n        pack(this.ds64.sampleCountHigh, this.uInt32),\r\n        pack(this.ds64.sampleCountLow, this.uInt32));\r\n    }\r\n    //if (this.ds64.tableLength) {\r\n    //  ds64Bytes = ds64Bytes.concat(\r\n    //    pack(this.ds64.tableLength, this.uInt32),\r\n    //    this.ds64.table);\r\n    //}\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'cue ' chunk.\r\n   * @return {!Array<number>} The 'cue ' chunk bytes.\r\n   * @private\r\n   */\r\n  getCueBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (this.cue.chunkId) {\r\n      /** @type {!Array<number>} */\r\n      let cuePointsBytes = this.getCuePointsBytes_();\r\n      bytes = bytes.concat(\r\n        packString(this.cue.chunkId),\r\n        pack(cuePointsBytes.length + 4, this.uInt32), // chunkSize\r\n        pack(this.cue.dwCuePoints, this.uInt32),\r\n        cuePointsBytes);\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'cue ' points.\r\n   * @return {!Array<number>} The 'cue ' points as an array of bytes.\r\n   * @private\r\n   */\r\n  getCuePointsBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let points = [];\r\n    for (let i=0; i<this.cue.dwCuePoints; i++) {\r\n      points = points.concat(\r\n        pack(this.cue.points[i].dwName, this.uInt32),\r\n        pack(this.cue.points[i].dwPosition, this.uInt32),\r\n        packString(this.cue.points[i].fccChunk),\r\n        pack(this.cue.points[i].dwChunkStart, this.uInt32),\r\n        pack(this.cue.points[i].dwBlockStart, this.uInt32),\r\n        pack(this.cue.points[i].dwSampleOffset, this.uInt32));\r\n    }\r\n    return points;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'smpl' chunk.\r\n   * @return {!Array<number>} The 'smpl' chunk bytes.\r\n   * @private\r\n   */\r\n  getSmplBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (this.smpl.chunkId) {\r\n      /** @type {!Array<number>} */\r\n      let smplLoopsBytes = this.getSmplLoopsBytes_();\r\n      bytes = bytes.concat(\r\n        packString(this.smpl.chunkId),\r\n        pack(smplLoopsBytes.length + 36, this.uInt32), //chunkSize\r\n        pack(this.smpl.dwManufacturer, this.uInt32),\r\n        pack(this.smpl.dwProduct, this.uInt32),\r\n        pack(this.smpl.dwSamplePeriod, this.uInt32),\r\n        pack(this.smpl.dwMIDIUnityNote, this.uInt32),\r\n        pack(this.smpl.dwMIDIPitchFraction, this.uInt32),\r\n        pack(this.smpl.dwSMPTEFormat, this.uInt32),\r\n        pack(this.smpl.dwSMPTEOffset, this.uInt32),\r\n        pack(this.smpl.dwNumSampleLoops, this.uInt32),\r\n        pack(this.smpl.dwSamplerData, this.uInt32),\r\n        smplLoopsBytes);\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'smpl' loops.\r\n   * @return {!Array<number>} The 'smpl' loops as an array of bytes.\r\n   * @private\r\n   */\r\n  getSmplLoopsBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let loops = [];\r\n    for (let i=0; i<this.smpl.dwNumSampleLoops; i++) {\r\n      loops = loops.concat(\r\n        pack(this.smpl.loops[i].dwName, this.uInt32),\r\n        pack(this.smpl.loops[i].dwType, this.uInt32),\r\n        pack(this.smpl.loops[i].dwStart, this.uInt32),\r\n        pack(this.smpl.loops[i].dwEnd, this.uInt32),\r\n        pack(this.smpl.loops[i].dwFraction, this.uInt32),\r\n        pack(this.smpl.loops[i].dwPlayCount, this.uInt32));\r\n    }\r\n    return loops;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'fact' chunk.\r\n   * @return {!Array<number>} The 'fact' chunk bytes.\r\n   * @private\r\n   */\r\n  getFactBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (this.fact.chunkId) {\r\n      bytes = bytes.concat(\r\n        packString(this.fact.chunkId),\r\n        pack(this.fact.chunkSize, this.uInt32),\r\n        pack(this.fact.dwSampleLength, this.uInt32));\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'fmt ' chunk.\r\n   * @return {!Array<number>} The 'fmt' chunk bytes.\r\n   * @throws {Error} if no 'fmt ' chunk is present.\r\n   * @private\r\n   */\r\n  getFmtBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let fmtBytes = [];\r\n    if (this.fmt.chunkId) {\r\n      /** @type {!Array<number>} */\r\n      let bytes  = fmtBytes.concat(\r\n        packString(this.fmt.chunkId),\r\n        pack(this.fmt.chunkSize, this.uInt32),\r\n        pack(this.fmt.audioFormat, this.uInt16),\r\n        pack(this.fmt.numChannels, this.uInt16),\r\n        pack(this.fmt.sampleRate, this.uInt32),\r\n        pack(this.fmt.byteRate, this.uInt32),\r\n        pack(this.fmt.blockAlign, this.uInt16),\r\n        pack(this.fmt.bitsPerSample, this.uInt16),\r\n        this.getFmtExtensionBytes_());\r\n      this.enforceByteLen_(bytes);\r\n      return bytes;\r\n    }\r\n    throw Error('Could not find the \"fmt \" chunk');\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the fmt extension fields.\r\n   * @return {!Array<number>} The fmt extension bytes.\r\n   * @private\r\n   */\r\n  getFmtExtensionBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let extension = [];\r\n    if (this.fmt.chunkSize > 16) {\r\n      extension = extension.concat(\r\n        pack(this.fmt.cbSize, this.uInt16));\r\n    }\r\n    if (this.fmt.chunkSize > 18) {\r\n      extension = extension.concat(\r\n        pack(this.fmt.validBitsPerSample, this.uInt16));\r\n    }\r\n    if (this.fmt.chunkSize > 20) {\r\n      extension = extension.concat(\r\n        pack(this.fmt.dwChannelMask, this.uInt32));\r\n    }\r\n    if (this.fmt.chunkSize > 24) {\r\n      extension = extension.concat(\r\n        pack(this.fmt.subformat[0], this.uInt32),\r\n        pack(this.fmt.subformat[1], this.uInt32),\r\n        pack(this.fmt.subformat[2], this.uInt32),\r\n        pack(this.fmt.subformat[3], this.uInt32));\r\n    }\r\n    return extension;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'LIST' chunk.\r\n   * @return {!Array<number>} The 'LIST' chunk bytes.\r\n   * @private\r\n   */\r\n  getLISTBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    for (let i=0; i<this.LIST.length; i++) {\r\n      /** @type {!Array<number>} */\r\n      let subChunksBytes = this.getLISTSubChunksBytes_(\r\n          this.LIST[i].subChunks, this.LIST[i].format);\r\n      bytes = bytes.concat(\r\n        packString(this.LIST[i].chunkId),\r\n        pack(subChunksBytes.length + 4, this.uInt32), //chunkSize\r\n        packString(this.LIST[i].format),\r\n        subChunksBytes);\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the sub chunks of a 'LIST' chunk.\r\n   * @param {!Array<!Object>} subChunks The 'LIST' sub chunks.\r\n   * @param {string} format The format of the 'LIST' chunk.\r\n   *    Currently supported values are 'adtl' or 'INFO'.\r\n   * @return {!Array<number>} The sub chunk bytes.\r\n   * @private\r\n   */\r\n  getLISTSubChunksBytes_(subChunks, format) {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    for (let i = 0, len = subChunks.length; i < len; i++) {\r\n      if (format == 'INFO') {\r\n        bytes = bytes.concat(this.getLISTINFOSubChunksBytes_(subChunks[i]));\r\n      } else if (format == 'adtl') {\r\n        bytes = bytes.concat(this.getLISTadtlSubChunksBytes_(subChunks[i]));\r\n      }\r\n      this.enforceByteLen_(bytes);\r\n    }\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the sub chunks of a 'LIST' chunk of type 'INFO'.\r\n   * @param {!Object} subChunk The 'LIST' sub chunk.\r\n   * @return {!Array<number>}\r\n   * @private\r\n   */\r\n  getLISTINFOSubChunksBytes_(subChunk) {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    /** @type {!Array<number>} */\r\n    let LISTsubChunkValue = writeString(\r\n        subChunk.value, subChunk.value.length);\r\n    bytes = bytes.concat(\r\n      packString(subChunk.chunkId),\r\n      pack(LISTsubChunkValue.length + 1, this.uInt32), //chunkSize\r\n      LISTsubChunkValue);\r\n    bytes.push(0);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the sub chunks of a 'LIST' chunk of type 'INFO'.\r\n   * @param {!Object} subChunk The 'LIST' sub chunk.\r\n   * @return {!Array<number>}\r\n   * @private\r\n   */\r\n  getLISTadtlSubChunksBytes_(subChunk) {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (['labl', 'note'].indexOf(subChunk.chunkId) > -1) {\r\n      /** @type {!Array<number>} */\r\n      let LISTsubChunkValue = writeString(\r\n          subChunk.value,\r\n          subChunk.value.length);\r\n      bytes = bytes.concat(\r\n        packString(subChunk.chunkId),\r\n        pack(LISTsubChunkValue.length + 4 + 1, this.uInt32), //chunkSize\r\n        pack(subChunk.dwName, this.uInt32),\r\n        LISTsubChunkValue);\r\n      bytes.push(0);\r\n    } else if (subChunk.chunkId == 'ltxt') {\r\n      bytes = bytes.concat(\r\n        this.getLtxtChunkBytes_(subChunk));\r\n    }\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of a 'ltxt' chunk.\r\n   * @param {!Object} ltxt the 'ltxt' chunk.\r\n   * @return {!Array<number>}\r\n   * @private\r\n   */\r\n  getLtxtChunkBytes_(ltxt) {\r\n    return [].concat(\r\n      packString(ltxt.chunkId),\r\n      pack(ltxt.value.length + 20, this.uInt32),\r\n      pack(ltxt.dwName, this.uInt32),\r\n      pack(ltxt.dwSampleLength, this.uInt32),\r\n      pack(ltxt.dwPurposeID, this.uInt32),\r\n      pack(ltxt.dwCountry, this.uInt16),\r\n      pack(ltxt.dwLanguage, this.uInt16),\r\n      pack(ltxt.dwDialect, this.uInt16),\r\n      pack(ltxt.dwCodePage, this.uInt16),\r\n       // should always be a empty string;\r\n       // kept for compatibility\r\n      writeString(ltxt.value, ltxt.value.length));\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the '_PMX' chunk.\r\n   * @return {!Array<number>} The '_PMX' chunk bytes.\r\n   * @private\r\n   */\r\n  get_PMXBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (this._PMX.chunkId) {\r\n      /** @type {!Array<number>} */\r\n      let _PMXPackedValue = packString(this._PMX.value);\r\n      this._PMX.chunkSize = _PMXPackedValue.length;\r\n      bytes = bytes.concat(\r\n        packString(this._PMX.chunkId),\r\n        pack(this._PMX.chunkSize, this.uInt32),\r\n        _PMXPackedValue);\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'junk' chunk.\r\n   * @private\r\n   */\r\n  getJunkBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (this.junk.chunkId) {\r\n      return bytes.concat(\r\n        packString(this.junk.chunkId),\r\n        pack(this.junk.chunkData.length, this.uInt32), //chunkSize\r\n        this.junk.chunkData);\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Push a null byte into a byte array if\r\n   * the byte count is odd.\r\n   * @param {!Array<number>} bytes The byte array.\r\n   * @private\r\n   */\r\n  enforceByteLen_(bytes) {\r\n    if (bytes.length % 2) {\r\n      bytes.push(0);\r\n    }\r\n  }\r\n}\r\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The WaveFileReader class.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\nimport { RIFFFile } from './riff-file';\r\nimport { unpackString, unpack } from './parsers/binary';\r\n\r\n/**\r\n * A class to read wav files.\r\n * @extends RIFFFile\r\n */\r\nexport class WaveFileReader extends RIFFFile {\r\n\r\n  constructor() {\r\n    super();\r\n    // Include 'RF64' as a supported container format\r\n    this.supported_containers.push('RF64');\r\n    /**\r\n     * The data of the 'fmt' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.fmt = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {number} */\r\n      audioFormat: 0,\r\n      /** @type {number} */\r\n      numChannels: 0,\r\n      /** @type {number} */\r\n      sampleRate: 0,\r\n      /** @type {number} */\r\n      byteRate: 0,\r\n      /** @type {number} */\r\n      blockAlign: 0,\r\n      /** @type {number} */\r\n      bitsPerSample: 0,\r\n      /** @type {number} */\r\n      cbSize: 0,\r\n      /** @type {number} */\r\n      validBitsPerSample: 0,\r\n      /** @type {number} */\r\n      dwChannelMask: 0,\r\n      /**\r\n       * 4 32-bit values representing a 128-bit ID\r\n       * @type {!Array<number>}\r\n       */\r\n      subformat: []\r\n    };\r\n    /**\r\n     * The data of the 'fact' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.fact = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {number} */\r\n      dwSampleLength: 0\r\n    };\r\n    /**\r\n     * The data of the 'cue ' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.cue = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {number} */\r\n      dwCuePoints: 0,\r\n      /** @type {!Array<!Object>} */\r\n      points: [],\r\n    };\r\n    /**\r\n     * The data of the 'smpl' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.smpl = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {number} */\r\n      dwManufacturer: 0,\r\n      /** @type {number} */\r\n      dwProduct: 0,\r\n      /** @type {number} */\r\n      dwSamplePeriod: 0,\r\n      /** @type {number} */\r\n      dwMIDIUnityNote: 0,\r\n      /** @type {number} */\r\n      dwMIDIPitchFraction: 0,\r\n      /** @type {number} */\r\n      dwSMPTEFormat: 0,\r\n      /** @type {number} */\r\n      dwSMPTEOffset: 0,\r\n      /** @type {number} */\r\n      dwNumSampleLoops: 0,\r\n      /** @type {number} */\r\n      dwSamplerData: 0,\r\n      /** @type {!Array<!Object>} */\r\n      loops: []\r\n    };\r\n    /**\r\n     * The data of the 'bext' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.bext = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {string} */\r\n      description: '', //256\r\n      /** @type {string} */\r\n      originator: '', //32\r\n      /** @type {string} */\r\n      originatorReference: '', //32\r\n      /** @type {string} */\r\n      originationDate: '', //10\r\n      /** @type {string} */\r\n      originationTime: '', //8\r\n      /**\r\n       * 2 32-bit values, timeReference high and low\r\n       * @type {!Array<number>}\r\n       */\r\n      timeReference: [0, 0],\r\n      /** @type {number} */\r\n      version: 0, //WORD\r\n      /** @type {string} */\r\n      UMID: '', // 64 chars\r\n      /** @type {number} */\r\n      loudnessValue: 0, //WORD\r\n      /** @type {number} */\r\n      loudnessRange: 0, //WORD\r\n      /** @type {number} */\r\n      maxTruePeakLevel: 0, //WORD\r\n      /** @type {number} */\r\n      maxMomentaryLoudness: 0, //WORD\r\n      /** @type {number} */\r\n      maxShortTermLoudness: 0, //WORD\r\n      /** @type {string} */\r\n      reserved: '', //180\r\n      /** @type {string} */\r\n      codingHistory: '' // string, unlimited\r\n    };\r\n    /**\r\n     * The data of the 'iXML' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.iXML = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {string} */\r\n      value: ''\r\n    };\r\n    /**\r\n     * The data of the 'ds64' chunk.\r\n     * Used only with RF64 files.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.ds64 = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {number} */\r\n      riffSizeHigh: 0, // DWORD\r\n      /** @type {number} */\r\n      riffSizeLow: 0, // DWORD\r\n      /** @type {number} */\r\n      dataSizeHigh: 0, // DWORD\r\n      /** @type {number} */\r\n      dataSizeLow: 0, // DWORD\r\n      /** @type {number} */\r\n      originationTime: 0, // DWORD\r\n      /** @type {number} */\r\n      sampleCountHigh: 0, // DWORD\r\n      /** @type {number} */\r\n      sampleCountLow: 0 // DWORD\r\n      /** @type {number} */\r\n      //'tableLength': 0, // DWORD\r\n      /** @type {!Array<number>} */\r\n      //'table': []\r\n    };\r\n    /**\r\n     * The data of the 'data' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.data = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {!Uint8Array} */\r\n      samples: new Uint8Array(0)\r\n    };\r\n    /**\r\n     * The data of the 'LIST' chunks.\r\n     * Each item in this list look like this:\r\n     *  {\r\n     *      chunkId: '',\r\n     *      chunkSize: 0,\r\n     *      format: '',\r\n     *      subChunks: []\r\n     *   }\r\n     * @type {!Array<!Object>}\r\n     */\r\n    this.LIST = [];\r\n    /**\r\n     * The data of the 'junk' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.junk = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {!Array<number>} */\r\n      chunkData: []\r\n    };\r\n    /**\r\n     * The data of the '_PMX' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this._PMX = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {string} */\r\n      value: ''\r\n    };\r\n    /**\r\n     * @type {{be: boolean, bits: number, fp: boolean, signed: boolean}}\r\n     * @protected\r\n     */\r\n    this.uInt16 = {bits: 16, be: false, signed: false, fp: false};\r\n  }\r\n\r\n  /**\r\n   * Set up the WaveFileReader object from a byte buffer.\r\n   * @param {!Uint8Array} wavBuffer The buffer.\r\n   * @param {boolean=} [samples=true] True if the samples should be loaded.\r\n   * @throws {Error} If container is not RIFF, RIFX or RF64.\r\n   * @throws {Error} If format is not WAVE.\r\n   * @throws {Error} If no 'fmt ' chunk is found.\r\n   * @throws {Error} If no 'data' chunk is found.\r\n   */\r\n  fromBuffer(wavBuffer, samples=true) {\r\n    // Always should reset the chunks when reading from a buffer\r\n    this.clearHeaders();\r\n    this.setSignature(wavBuffer);\r\n    this.uInt16.be = this.uInt32.be;\r\n    if (this.format != 'WAVE') {\r\n      throw Error('Could not find the \"WAVE\" format identifier');\r\n    }\r\n    this.readDs64Chunk_(wavBuffer);\r\n    this.readFmtChunk_(wavBuffer);\r\n    this.readFactChunk_(wavBuffer);\r\n    this.readBextChunk_(wavBuffer);\r\n    this.readiXMLChunk_(wavBuffer);\r\n    this.readCueChunk_(wavBuffer);\r\n    this.readSmplChunk_(wavBuffer);\r\n    this.readDataChunk_(wavBuffer, samples);\r\n    this.readJunkChunk_(wavBuffer);\r\n    this.readLISTChunk_(wavBuffer);\r\n    this.read_PMXChunk_(wavBuffer);\r\n  }\r\n\r\n  /**\r\n   * Reset the chunks of the WaveFileReader instance.\r\n   * @protected\r\n   * @ignore\r\n   */\r\n  clearHeaders() {\r\n    /** @type {!Object} */\r\n    let tmpWav = new WaveFileReader();\r\n    Object.assign(this.fmt, tmpWav.fmt);\r\n    Object.assign(this.fact, tmpWav.fact);\r\n    Object.assign(this.cue, tmpWav.cue);\r\n    Object.assign(this.smpl, tmpWav.smpl);\r\n    Object.assign(this.bext, tmpWav.bext);\r\n    Object.assign(this.iXML, tmpWav.iXML);\r\n    Object.assign(this.ds64, tmpWav.ds64);\r\n    Object.assign(this.data, tmpWav.data);\r\n    this.LIST = [];\r\n    Object.assign(this.junk, tmpWav.junk);\r\n    Object.assign(this._PMX, tmpWav._PMX);\r\n  }\r\n  \r\n  /**\r\n   * Read the 'fmt ' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @throws {Error} If no 'fmt ' chunk is found.\r\n   * @private\r\n   */\r\n  readFmtChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('fmt ');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this.fmt.chunkId = chunk.chunkId;\r\n      this.fmt.chunkSize = chunk.chunkSize;\r\n      this.fmt.audioFormat = this.readUInt16_(buffer);\r\n      this.fmt.numChannels = this.readUInt16_(buffer);\r\n      this.fmt.sampleRate = this.readUInt32(buffer);\r\n      this.fmt.byteRate = this.readUInt32(buffer);\r\n      this.fmt.blockAlign = this.readUInt16_(buffer);\r\n      this.fmt.bitsPerSample = this.readUInt16_(buffer);\r\n      this.readFmtExtension_(buffer);\r\n    } else {\r\n      throw Error('Could not find the \"fmt \" chunk');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'fmt ' chunk extension.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readFmtExtension_(buffer) {\r\n    if (this.fmt.chunkSize > 16) {\r\n      this.fmt.cbSize = this.readUInt16_(buffer);\r\n      if (this.fmt.chunkSize > 18) {\r\n        this.fmt.validBitsPerSample = this.readUInt16_(buffer);\r\n        if (this.fmt.chunkSize > 20) {\r\n          this.fmt.dwChannelMask = this.readUInt32(buffer);\r\n          this.fmt.subformat = [\r\n            this.readUInt32(buffer),\r\n            this.readUInt32(buffer),\r\n            this.readUInt32(buffer),\r\n            this.readUInt32(buffer)];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'fact' chunk of a wav file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readFactChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('fact');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this.fact.chunkId = chunk.chunkId;\r\n      this.fact.chunkSize = chunk.chunkSize;\r\n      this.fact.dwSampleLength = this.readUInt32(buffer);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'cue ' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readCueChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('cue ');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this.cue.chunkId = chunk.chunkId;\r\n      this.cue.chunkSize = chunk.chunkSize;\r\n      this.cue.dwCuePoints = this.readUInt32(buffer);\r\n      for (let i = 0; i < this.cue.dwCuePoints; i++) {\r\n        this.cue.points.push({\r\n          dwName: this.readUInt32(buffer),\r\n          dwPosition: this.readUInt32(buffer),\r\n          fccChunk: this.readString(buffer, 4),\r\n          dwChunkStart: this.readUInt32(buffer),\r\n          dwBlockStart: this.readUInt32(buffer),\r\n          dwSampleOffset: this.readUInt32(buffer),\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'smpl' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readSmplChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('smpl');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this.smpl.chunkId = chunk.chunkId;\r\n      this.smpl.chunkSize = chunk.chunkSize;\r\n      this.smpl.dwManufacturer = this.readUInt32(buffer);\r\n      this.smpl.dwProduct = this.readUInt32(buffer);\r\n      this.smpl.dwSamplePeriod = this.readUInt32(buffer);\r\n      this.smpl.dwMIDIUnityNote = this.readUInt32(buffer);\r\n      this.smpl.dwMIDIPitchFraction = this.readUInt32(buffer);\r\n      this.smpl.dwSMPTEFormat = this.readUInt32(buffer);\r\n      this.smpl.dwSMPTEOffset = this.readUInt32(buffer);\r\n      this.smpl.dwNumSampleLoops = this.readUInt32(buffer);\r\n      this.smpl.dwSamplerData = this.readUInt32(buffer);\r\n      for (let i = 0; i < this.smpl.dwNumSampleLoops; i++) {\r\n        this.smpl.loops.push({\r\n          dwName: this.readUInt32(buffer),\r\n          dwType: this.readUInt32(buffer),\r\n          dwStart: this.readUInt32(buffer),\r\n          dwEnd: this.readUInt32(buffer),\r\n          dwFraction: this.readUInt32(buffer),\r\n          dwPlayCount: this.readUInt32(buffer),\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'data' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @param {boolean} samples True if the samples should be loaded.\r\n   * @throws {Error} If no 'data' chunk is found.\r\n   * @private\r\n   */\r\n  readDataChunk_(buffer, samples) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('data');\r\n    if (chunk) {\r\n      this.data.chunkId = 'data';\r\n      this.data.chunkSize = chunk.chunkSize;\r\n      if (samples) {\r\n        this.data.samples = buffer.slice(\r\n          chunk.chunkData.start,\r\n          chunk.chunkData.end);\r\n      }\r\n    } else {\r\n      throw Error('Could not find the \"data\" chunk');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'bext' chunk of a wav file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readBextChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('bext');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this.bext.chunkId = chunk.chunkId;\r\n      this.bext.chunkSize = chunk.chunkSize;\r\n      this.bext.description = this.readString(buffer, 256);\r\n      this.bext.originator = this.readString(buffer, 32);\r\n      this.bext.originatorReference = this.readString(buffer, 32);\r\n      this.bext.originationDate = this.readString(buffer, 10);\r\n      this.bext.originationTime = this.readString(buffer, 8);\r\n      this.bext.timeReference = [\r\n        this.readUInt32(buffer),\r\n        this.readUInt32(buffer)];\r\n      this.bext.version = this.readUInt16_(buffer);\r\n      this.bext.UMID = this.readString(buffer, 64);\r\n      this.bext.loudnessValue = this.readUInt16_(buffer);\r\n      this.bext.loudnessRange = this.readUInt16_(buffer);\r\n      this.bext.maxTruePeakLevel = this.readUInt16_(buffer);\r\n      this.bext.maxMomentaryLoudness = this.readUInt16_(buffer);\r\n      this.bext.maxShortTermLoudness = this.readUInt16_(buffer);\r\n      this.bext.reserved = this.readString(buffer, 180);\r\n      this.bext.codingHistory = this.readString(\r\n        buffer, this.bext.chunkSize - 602);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'iXML' chunk of a wav file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readiXMLChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('iXML');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this.iXML.chunkId = chunk.chunkId;\r\n      this.iXML.chunkSize = chunk.chunkSize;\r\n      this.iXML.value = unpackString(\r\n        buffer, this.head, this.head + this.iXML.chunkSize);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'ds64' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @throws {Error} If no 'ds64' chunk is found and the file is RF64.\r\n   * @private\r\n   */\r\n  readDs64Chunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('ds64');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this.ds64.chunkId = chunk.chunkId;\r\n      this.ds64.chunkSize = chunk.chunkSize;\r\n      this.ds64.riffSizeHigh = this.readUInt32(buffer);\r\n      this.ds64.riffSizeLow = this.readUInt32(buffer);\r\n      this.ds64.dataSizeHigh = this.readUInt32(buffer);\r\n      this.ds64.dataSizeLow = this.readUInt32(buffer);\r\n      this.ds64.originationTime = this.readUInt32(buffer);\r\n      this.ds64.sampleCountHigh = this.readUInt32(buffer);\r\n      this.ds64.sampleCountLow = this.readUInt32(buffer);\r\n      //if (wav.ds64.chunkSize > 28) {\r\n      //  wav.ds64.tableLength = unpack(\r\n      //    chunkData.slice(28, 32), uInt32_);\r\n      //  wav.ds64.table = chunkData.slice(\r\n      //     32, 32 + wav.ds64.tableLength);\r\n      //}\r\n    } else {\r\n      if (this.container == 'RF64') {\r\n        throw Error('Could not find the \"ds64\" chunk');\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'LIST' chunks of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readLISTChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let listChunks = this.findChunk('LIST', true);\r\n    if (listChunks !== null) {\r\n      for (let j=0; j < listChunks.length; j++) {\r\n        /** @type {!Object} */\r\n        let subChunk = listChunks[j];\r\n        this.LIST.push({\r\n          chunkId: subChunk.chunkId,\r\n          chunkSize: subChunk.chunkSize,\r\n          format: subChunk.format,\r\n          subChunks: []});\r\n        for (let x=0; x<subChunk.subChunks.length; x++) {\r\n          this.readLISTSubChunks_(subChunk.subChunks[x],\r\n            subChunk.format, buffer);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the sub chunks of a 'LIST' chunk.\r\n   * @param {!Object} subChunk The 'LIST' subchunks.\r\n   * @param {string} format The 'LIST' format, 'adtl' or 'INFO'.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readLISTSubChunks_(subChunk, format, buffer) {\r\n    if (format == 'adtl') {\r\n      if (['labl', 'note','ltxt'].indexOf(subChunk.chunkId) > -1) {\r\n        this.readLISTadtlSubChunks_(buffer, subChunk);\r\n      }\r\n    // RIFF INFO tags like ICRD, ISFT, ICMT\r\n    } else if(format == 'INFO') {\r\n      this.readLISTINFOSubChunks_(buffer, subChunk);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the sub chunks of a 'LIST' chunk of type 'adtl'.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @param {!Object} subChunk The 'LIST' subchunks.\r\n   * @private\r\n   */\r\n  readLISTadtlSubChunks_(buffer, subChunk) {\r\n    this.head = subChunk.chunkData.start;\r\n    /** @type {!Object<string, string|number>} */\r\n    let item = {\r\n      chunkId: subChunk.chunkId,\r\n      chunkSize: subChunk.chunkSize,\r\n      dwName: this.readUInt32(buffer)\r\n    };\r\n    if (subChunk.chunkId == 'ltxt') {\r\n      item.dwSampleLength = this.readUInt32(buffer);\r\n      item.dwPurposeID = this.readUInt32(buffer);\r\n      item.dwCountry = this.readUInt16_(buffer);\r\n      item.dwLanguage = this.readUInt16_(buffer);\r\n      item.dwDialect = this.readUInt16_(buffer);\r\n      item.dwCodePage = this.readUInt16_(buffer);\r\n      item.value = ''; // kept for compatibility\r\n    } else {\r\n      item.value = this.readZSTR_(buffer, this.head);\r\n    }\r\n    this.LIST[this.LIST.length - 1].subChunks.push(item);\r\n  }\r\n\r\n  /**\r\n   * Read the sub chunks of a 'LIST' chunk of type 'INFO'.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @param {!Object} subChunk The 'LIST' subchunks.\r\n   * @private\r\n   */\r\n  readLISTINFOSubChunks_(buffer, subChunk) {\r\n    this.head = subChunk.chunkData.start;\r\n    this.LIST[this.LIST.length - 1].subChunks.push({\r\n      chunkId: subChunk.chunkId,\r\n      chunkSize: subChunk.chunkSize,\r\n      value: this.readZSTR_(buffer, this.head)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Read the 'junk' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readJunkChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('junk');\r\n    if (chunk) {\r\n      this.junk = {\r\n        chunkId: chunk.chunkId,\r\n        chunkSize: chunk.chunkSize,\r\n        chunkData: [].slice.call(buffer.slice(\r\n          chunk.chunkData.start,\r\n          chunk.chunkData.end))\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the '_PMX' chunk of a wav file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  read_PMXChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('_PMX');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this._PMX.chunkId = chunk.chunkId;\r\n      this._PMX.chunkSize = chunk.chunkSize;\r\n      this._PMX.value = unpackString(\r\n        buffer, this.head, this.head + this._PMX.chunkSize);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read bytes as a ZSTR string.\r\n   * @param {!Uint8Array} bytes The bytes.\r\n   * @param {number=} [index=0] the index to start reading.\r\n   * @return {string} The string.\r\n   * @private\r\n   */\r\n  readZSTR_(bytes, index=0) {\r\n    for (let i = index; i < bytes.length; i++) {\r\n      this.head++;\r\n      if (bytes[i] === 0) {\r\n        break;\r\n      }\r\n    }\r\n    return unpackString(bytes, index, this.head - 1);\r\n  }\r\n\r\n  /**\r\n   * Read a number from a chunk.\r\n   * @param {!Uint8Array} bytes The chunk bytes.\r\n   * @return {number} The number.\r\n   * @private\r\n   */\r\n  readUInt16_(bytes) {\r\n    /** @type {number} */\r\n    let value = unpack(bytes, this.uInt16, this.head);\r\n    this.head += 2;\r\n    return value;\r\n  }\r\n}\r\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The RIFFFile class.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\nimport { unpackString, unpack } from './parsers/binary';\r\n\r\n/**\r\n * A class to perform low-level reading of RIFF/RIFX files.\r\n */\r\nexport class RIFFFile {\r\n\r\n  constructor() {\r\n    /**\r\n     * The container identifier.\r\n     * 'RIFF', 'RIFX' and 'RF64' are supported.\r\n     * @type {string}\r\n     */\r\n    this.container = '';\r\n    /**\r\n     * @type {number}\r\n     */\r\n    this.chunkSize = 0;\r\n    /**\r\n     * The format.\r\n     * @type {string}\r\n     */\r\n    this.format = '';\r\n    /**\r\n     * A object defining the start and end of all chunks in a wav buffer.\r\n     * @type {Object}\r\n     */\r\n    this.signature = null;\r\n    /**\r\n     * @type {number}\r\n     * @protected\r\n     */\r\n    this.head = 0;\r\n    /**\r\n     * @type {!{bits: number, be: boolean}}\r\n     * @protected\r\n     */\r\n    this.uInt32 = {bits: 32, be: false};\r\n    /**\r\n     * The list of supported containers.\r\n     * Any format different from RIFX will be treated as RIFF.\r\n     * @type {!Array<string>}\r\n     * @protected\r\n     */\r\n    this.supported_containers = ['RIFF', 'RIFX'];\r\n  }\r\n\r\n  /**\r\n   * Read the signature of the chunks in a RIFF/RIFX file.\r\n   * @param {!Uint8Array} buffer The file bytes.\r\n   * @protected\r\n   */\r\n  setSignature(buffer) {\r\n    this.head = 0;\r\n    this.container = this.readString(buffer, 4);\r\n    if (this.supported_containers.indexOf(this.container) === -1) {\r\n      throw Error('Not a supported format.');\r\n    }\r\n    this.uInt32.be = this.container === 'RIFX';\r\n    this.chunkSize = this.readUInt32(buffer);\r\n    this.format = this.readString(buffer, 4);\r\n    // The RIFF file signature\r\n    this.signature = {\r\n      chunkId: this.container,\r\n      chunkSize: this.chunkSize,\r\n      format: this.format,\r\n      subChunks: this.getSubChunksIndex_(buffer)\r\n    };\r\n  }\r\n\r\n  /**\r\n    * Find a chunk by its fourCC_ in a array of RIFF chunks.\r\n    * @param {string} chunkId The chunk fourCC_.\r\n    * @param {boolean} [multiple=false] True if there may be multiple chunks\r\n    *    with the same chunkId.\r\n    * @return {Object}\r\n    * @protected\r\n    */\r\n  findChunk(chunkId, multiple=false) {\r\n    /** @type {!Array<Object>} */\r\n    let chunks = this.signature.subChunks;\r\n    /** @type {!Array<Object>} */\r\n    let chunk = [];\r\n    for (let i=0; i<chunks.length; i++) {\r\n      if (chunks[i].chunkId == chunkId) {\r\n        if (multiple) {\r\n          chunk.push(chunks[i]);\r\n        } else {\r\n          return chunks[i];\r\n        }\r\n      }\r\n    }\r\n    if (chunkId == 'LIST') {\r\n      return chunk.length ? chunk : null;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Read bytes as a string from a RIFF chunk.\r\n   * @param {!Uint8Array} bytes The bytes.\r\n   * @param {number} maxSize the max size of the string.\r\n   * @return {string} The string.\r\n   * @protected\r\n   */\r\n  readString(bytes, maxSize) {\r\n    /** @type {string} */\r\n    let str = '';\r\n    str = unpackString(bytes, this.head, this.head + maxSize);\r\n    this.head += maxSize;\r\n    return str;\r\n  }\r\n\r\n  /**\r\n   * Read a number from a chunk.\r\n   * @param {!Uint8Array} bytes The chunk bytes.\r\n   * @return {number} The number.\r\n   * @protected\r\n   */\r\n  readUInt32(bytes) {\r\n    /** @type {number} */\r\n    let value = unpack(bytes, this.uInt32, this.head);\r\n    this.head += 4;\r\n    return value;\r\n  }\r\n\r\n  /**\r\n   * Return the sub chunks of a RIFF file.\r\n   * @param {!Uint8Array} buffer the RIFF file bytes.\r\n   * @return {!Array<Object>} The subchunks of a RIFF/RIFX or LIST chunk.\r\n   * @private\r\n   */\r\n  getSubChunksIndex_(buffer) {\r\n    /** @type {!Array<!Object>} */\r\n    let chunks = [];\r\n    /** @type {number} */\r\n    let i = this.head;\r\n    while(i <= buffer.length - 8) {\r\n      chunks.push(this.getSubChunkIndex_(buffer, i));\r\n      i += 8 + chunks[chunks.length - 1].chunkSize;\r\n      i = i % 2 ? i + 1 : i;\r\n    }\r\n    return chunks;\r\n  }\r\n\r\n  /**\r\n   * Return a sub chunk from a RIFF file.\r\n   * @param {!Uint8Array} buffer the RIFF file bytes.\r\n   * @param {number} index The start index of the chunk.\r\n   * @return {!Object} A subchunk of a RIFF/RIFX or LIST chunk.\r\n   * @private\r\n   */\r\n  getSubChunkIndex_(buffer, index) {\r\n    /** @type {!Object} */\r\n    let chunk = {\r\n      chunkId: this.getChunkId_(buffer, index),\r\n      chunkSize: this.getChunkSize_(buffer, index),\r\n    };\r\n    if (chunk.chunkId == 'LIST') {\r\n      chunk.format = unpackString(buffer, index + 8, index + 12);\r\n      this.head += 4;\r\n      chunk.subChunks = this.getSubChunksIndex_(buffer);\r\n    } else {\r\n      /** @type {number} */\r\n      let realChunkSize = chunk.chunkSize % 2 ?\r\n        chunk.chunkSize + 1 : chunk.chunkSize;\r\n      this.head = index + 8 + realChunkSize;\r\n      chunk.chunkData = {\r\n        start: index + 8,\r\n        end: this.head\r\n      };\r\n    }\r\n    return chunk;\r\n  }\r\n\r\n  /**\r\n   * Return the fourCC_ of a chunk.\r\n   * @param {!Uint8Array} buffer the RIFF file bytes.\r\n   * @param {number} index The start index of the chunk.\r\n   * @return {string} The id of the chunk.\r\n   * @private\r\n   */\r\n  getChunkId_(buffer, index) {\r\n    this.head += 4;\r\n    return unpackString(buffer, index, index + 4);\r\n  }\r\n\r\n  /**\r\n   * Return the size of a chunk.\r\n   * @param {!Uint8Array} buffer the RIFF file bytes.\r\n   * @param {number} index The start index of the chunk.\r\n   * @return {number} The size of the chunk without the id and size fields.\r\n   * @private\r\n   */\r\n  getChunkSize_(buffer, index) {\r\n    this.head += 4;\r\n    return unpack(buffer, this.uInt32, index + 4);\r\n  }\r\n}\r\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The writeString function.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\nimport { packString } from './binary';\r\n\r\n/**\r\n * Pack a string an array of bytes. If the packed string length is smaller\r\n * than the desired byte length the output array is filled with 0s.\r\n * @param {string} str The string to be written as bytes.\r\n * @param {number} byteLength the size of the string in bytes.\r\n * @return {!Array<number>} The packed string.\r\n */\r\nexport function writeString(str, byteLength) {\r\n  /** @type {!Array<number>} */   \r\n  let packedString = packString(str);\r\n  for (let i = packedString.length; i < byteLength; i++) {\r\n    packedString.push(0);\r\n  }\r\n  return packedString;\r\n}\r\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The interleave function.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\n/**\r\n * Interleave de-interleaved samples.\r\n * @param {!(Array|TypedArray)} samples The samples.\r\n * @return {!(Array|TypedArray)}\r\n */\r\nexport function interleave(samples) {\r\n  /** @type {!(Array|TypedArray)} */\r\n  let finalSamples = [];\r\n  if (samples.length > 0) {\r\n    if (samples[0].constructor !== Number) {\r\n      finalSamples = new Float64Array(samples[0].length * samples.length);\r\n      for (let i = 0, len = samples[0].length, x = 0; i < len; i++) {\r\n        for (let j = 0, subLen = samples.length; j < subLen; j++, x++) {\r\n          finalSamples[x] = samples[j][i];\r\n        }\r\n      }\r\n    } else {\r\n      finalSamples = samples;\r\n    }\r\n  }\r\n  return finalSamples;\r\n}\r\n\r\n/**\r\n * De-interleave samples into multiple channels.\r\n * @param {!(Array|TypedArray)} samples The samples.\r\n * @param {number} numChannels The number of channels to split the samples.\r\n * @param {Function} [OutputObject=Float64Array] The type of object to\r\n *   write the de-interleaved samples.\r\n * @return {!(Array|TypedArray)}\r\n */\r\nexport function deInterleave(samples, numChannels, OutputObject=Float64Array) {\r\n  /** @type {!(Array|TypedArray)} */\r\n  let finalSamples = [];\r\n  for (let i = 0; i < numChannels; i++) {\r\n    finalSamples[i] = new OutputObject(samples.length / numChannels);\r\n  }\r\n  for (let i = 0; i < numChannels; i++) {\r\n    for (let j = i, s = 0; j < samples.length; j+= numChannels, s++) {\r\n      finalSamples[i][s] = samples[j];\r\n    }\r\n  }\r\n  return finalSamples;\r\n}\r\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The validateNumChannels function.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\n/**\r\n * Validate the number of channels in a wav file according to the\r\n * bit depth of the audio.\r\n * @param {number} channels The number of channels in the file.\r\n * @param {number} bits The number of bits per sample.\r\n * @return {boolean} True is the number of channels is valid.\r\n */\r\nexport function validateNumChannels(channels, bits) {\r\n  /** @type {number} */\r\n  let blockAlign = channels * bits / 8;\r\n  if (channels < 1 || blockAlign > 65535) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The validateSampleRate function.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\n/**\r\n * Validate the sample rate value of a wav file according to the number of\r\n * channels and the bit depth of the audio.\r\n * @param {number} channels The number of channels in the file.\r\n * @param {number} bits The number of bits per sample.\r\n * @param {number} sampleRate The sample rate to be validated.\r\n * @return {boolean} True is the sample rate is valid, false otherwise.\r\n */\r\nexport function validateSampleRate(channels, bits, sampleRate) {\r\n  /** @type {number} */\r\n  let byteRate = channels * (bits / 8) * sampleRate;\r\n  if (sampleRate < 1 || byteRate > 4294967295) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n","/*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The resample function.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\nimport { Interpolator } from './interpolator';\r\nimport { FIRLPF } from './fir-lpf';\r\nimport { ButterworthLPF } from './butterworth-lpf';\r\n\r\n/**\r\n * Default use of LPF for each resampling method.\r\n * @readonly\r\n * @enum {boolean}\r\n * @private\r\n */\r\nconst DEFAULT_LPF_USE = {\r\n  'point': false,\r\n  'linear': false,\r\n  'cubic': true,\r\n  'sinc': true\r\n};\r\n\r\n/**\r\n * Default LPF order for each type of LPF.\r\n * @readonly\r\n * @enum {number}\r\n * @private\r\n */\r\nconst DEFAULT_LPF_ORDER = {\r\n  'IIR': 16,\r\n  'FIR': 71\r\n};\r\n\r\n/**\r\n * Default LPF class for each type of LPF.\r\n * @readonly\r\n * @enum {!Function}\r\n * @private\r\n */\r\nconst DEFAULT_LPF = {\r\n  'IIR': ButterworthLPF,\r\n  'FIR': FIRLPF\r\n};\r\n\r\n/**\r\n * Change the sample rate of the samples to a new sample rate.\r\n * @param {!Array<number>|!TypedArray} samples The original samples.\r\n * @param {number} oldSampleRate The original sample rate.\r\n * @param {number} sampleRate The target sample rate.\r\n * @param {Object=} options The extra configuration, if needed.\r\n * @return {!Float64Array} the new samples.\r\n */\r\nexport function resample(samples, oldSampleRate, sampleRate, options=null) {\r\n  options = options || {};\r\n  // Make the new sample container\r\n  /** @type {number} */\r\n  let rate = ((sampleRate - oldSampleRate) / oldSampleRate) + 1;\r\n  /** @type {!Float64Array} */\r\n  let newSamples = new Float64Array(samples.length * (rate));\r\n  // Create the interpolator\r\n  options.method = options.method || 'cubic';\r\n  /** @type {!Object} */\r\n  let interpolator = new Interpolator(\r\n    samples.length,\r\n    newSamples.length,\r\n    {\r\n      method: options.method,\r\n      tension: options.tension || 0,\r\n      sincFilterSize: options.sincFilterSize || 6,\r\n      sincWindow: options.sincWindow || undefined,\r\n      clip: options.clip || 'mirror'\r\n    });\r\n  // Resample + LPF\r\n  if (options.LPF === undefined) {\r\n    options.LPF = DEFAULT_LPF_USE[options.method];\r\n  } \r\n  if (options.LPF) {\r\n    options.LPFType = options.LPFType || 'IIR';\r\n    const LPF = DEFAULT_LPF[options.LPFType];\r\n    // Upsampling\r\n    if (sampleRate > oldSampleRate) {\r\n      /** @type {!Object} */\r\n      let filter = new LPF(\r\n        options.LPForder || DEFAULT_LPF_ORDER[options.LPFType],\r\n        sampleRate,\r\n        (oldSampleRate / 2));\r\n      upsample_(\r\n        samples, newSamples, interpolator, filter);\r\n    // Downsampling\r\n    } else {\r\n      /** @type {!Object} */\r\n      let filter = new LPF(\r\n        options.LPForder || DEFAULT_LPF_ORDER[options.LPFType],\r\n        oldSampleRate,\r\n        sampleRate / 2);\r\n      downsample_(\r\n        samples, newSamples, interpolator, filter);\r\n    }\r\n  // Resample, no LPF\r\n  } else {\r\n    resample_(samples, newSamples, interpolator);\r\n  }\r\n  return newSamples;\r\n}\r\n\r\n/**\r\n * Resample.\r\n * @param {!Array<number>|!TypedArray} samples The original samples.\r\n * @param {!Float64Array} newSamples The container for the new samples.\r\n * @param {Object} interpolator The interpolator.\r\n * @private\r\n */\r\nfunction resample_(samples, newSamples, interpolator) {\r\n  // Resample\r\n  for (let i = 0, len = newSamples.length; i < len; i++) {\r\n    newSamples[i] = interpolator.interpolate(i, samples);\r\n  }\r\n}\r\n\r\n/**\r\n * Upsample with LPF.\r\n * @param {!Array<number>|!TypedArray} samples The original samples.\r\n * @param {!Float64Array} newSamples The container for the new samples.\r\n * @param {Object} interpolator The interpolator.\r\n * @param {Object} filter The LPF object.\r\n * @private\r\n */\r\nfunction upsample_(samples, newSamples, interpolator, filter) {\r\n  // Resample and filter\r\n  for (let i = 0, len = newSamples.length; i < len; i++) {\r\n    newSamples[i] = filter.filter(interpolator.interpolate(i, samples));\r\n  }\r\n  // Reverse filter\r\n  filter.reset();\r\n  for (let i = newSamples.length - 1; i >= 0; i--) {\r\n    newSamples[i]  = filter.filter(newSamples[i]);\r\n  }\r\n}\r\n\r\n/**\r\n * Downsample with LPF.\r\n * @param {!Array<number>|!TypedArray} samples The original samples.\r\n * @param {!Float64Array} newSamples The container for the new samples.\r\n * @param {Object} interpolator The interpolator.\r\n * @param {Object} filter The LPF object.\r\n * @private\r\n */\r\nfunction downsample_(samples, newSamples, interpolator, filter) {\r\n  // Filter\r\n  for (let i = 0, len = samples.length; i < len; i++) {\r\n    samples[i]  = filter.filter(samples[i]);\r\n  }\r\n  // Reverse filter\r\n  filter.reset();\r\n  for (let i = samples.length - 1; i >= 0; i--) {\r\n    samples[i]  = filter.filter(samples[i]);\r\n  }\r\n  // Resample\r\n  resample_(samples, newSamples, interpolator);\r\n}\r\n","/*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n * Copyright 2012 Spencer Cohen\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The Interpolator class. Based on Smooth.js by Spencer Cohen.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/osuushi/Smooth.js\r\n */\r\n\r\n/**\r\n * A class to get scaled values out of arrays.\r\n * @extends WaveFileReader\r\n */\r\nexport class Interpolator {\r\n  \r\n  /**\r\n   * @param {number} scaleFrom the length of the original array.\r\n   * @param {number} scaleTo The length of the new array.\r\n   * @param {!Object} details The extra configuration, if needed.\r\n   */\r\n  constructor(scaleFrom, scaleTo, details) {\r\n    /**\r\n     * The length of the original array.\r\n     * @type {number}\r\n     */\r\n    this.length_ = scaleFrom;\r\n    /**\r\n     * The scaling factor.\r\n     * @type {number}\r\n     */\r\n    this.scaleFactor_ = (scaleFrom - 1) / scaleTo;\r\n    /**\r\n     * The interpolation function.\r\n     * @type {Function}\r\n     */\r\n    this.interpolate = this.sinc;\r\n    if (details.method === 'point') {\r\n    \tthis.interpolate = this.point;\r\n    } else if(details.method === 'linear') {\r\n    \tthis.interpolate = this.linear;\r\n    } else if(details.method === 'cubic') {\r\n    \tthis.interpolate = this.cubic;\r\n    }\r\n    /**\r\n     * The tanget factor for cubic interpolation.\r\n     * @type {number}\r\n     */\r\n    this.tangentFactor_ = 1 - Math.max(0, Math.min(1, details.tension || 0));\r\n    // Configure the kernel for sinc\r\n    /**\r\n     * The sinc filter size.\r\n     * @type {number}\r\n     */\r\n    this.sincFilterSize_ = details.sincFilterSize || 1;\r\n    /**\r\n     * The sinc kernel.\r\n     * @type {Function}\r\n     */\r\n    this.kernel_ = sincKernel_(details.sincWindow || window_);\r\n  }\r\n\r\n  /**\r\n   * @param {number} t The index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   */\r\n  point(t, samples) {\r\n    return this.getClippedInput_(Math.round(this.scaleFactor_ * t), samples);\r\n  }\r\n\r\n  /**\r\n   * @param {number} t The index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   */\r\n  linear(t, samples) {\r\n    t = this.scaleFactor_ * t;\r\n    /** @type {number} */\r\n    let k = Math.floor(t);\r\n    t -= k;\r\n    return (1 - t) *\r\n    \tthis.getClippedInput_(k, samples) + t *\r\n    \tthis.getClippedInput_(k + 1, samples);\r\n  }\r\n\r\n  /**\r\n   * @param {number} t The index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   */\r\n  cubic(t, samples) {\r\n    t = this.scaleFactor_ * t;\r\n    /** @type {number} */\r\n    let k = Math.floor(t);\r\n    /** @type {Array<number>} */\r\n    let m = [this.getTangent_(k, samples), this.getTangent_(k + 1, samples)];\r\n    /** @type {Array<number>} */\r\n    let p = [this.getClippedInput_(k, samples),\r\n      this.getClippedInput_(k + 1, samples)];\r\n    t -= k;\r\n    /** @type {number} */\r\n    let t2 = t * t;\r\n    /** @type {number} */\r\n    let t3 = t * t2;\r\n    return (2 * t3 - 3 * t2 + 1) *\r\n      p[0] + (t3 - 2 * t2 + t) *\r\n      m[0] + (-2 * t3 + 3 * t2) *\r\n      p[1] + (t3 - t2) * m[1];\r\n  }\r\n\r\n  /**\r\n   * @param {number} t The index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   */\r\n  sinc(t, samples) {\r\n    t = this.scaleFactor_ * t;\r\n    /** @type {number} */\r\n    let k = Math.floor(t);\r\n    /** @type {number} */\r\n    let ref = k - this.sincFilterSize_ + 1;\r\n    /** @type {number} */\r\n    let ref1 = k + this.sincFilterSize_;\r\n    /** @type {number} */\r\n    let sum = 0;\r\n    for (let n = ref; n <= ref1; n++) {\r\n      sum += this.kernel_(t - n) * this.getClippedInput_(n, samples);\r\n    }\r\n    return sum;\r\n  }\r\n\r\n  /**\r\n   * @param {number} k The scaled index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The tangent.\r\n   * @private\r\n   */\r\n  getTangent_(k, samples) {\r\n    return this.tangentFactor_ *\r\n      (this.getClippedInput_(k + 1, samples) -\r\n        this.getClippedInput_(k - 1, samples)) / 2;\r\n  }\r\n\r\n  /**\r\n   * @param {number} t The scaled index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   * @private\r\n   */\r\n  getClippedInput_(t, samples) {\r\n    if ((0 <= t && t < this.length_)) {\r\n      return samples[t];\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n\r\n/**\r\n * The default window function.\r\n * @param {number} x The sinc signal.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction window_(x) {\r\n  return Math.exp(-x / 2 * x / 2);\r\n}\r\n\r\n/**\r\n * @param {Function} window The window function.\r\n * @return {Function}\r\n * @private\r\n */\r\nfunction sincKernel_(window) {\r\n  return function(x) { return sinc_(x) * window(x); };\r\n}\r\n\r\n/**\r\n * @param {number} x The sinc signal.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction sinc_(x) {\r\n  if (x === 0) {\r\n    return 1;\r\n  }\r\n  return Math.sin(Math.PI * x) / (Math.PI * x);\r\n}\r\n","/*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2014 Florian Markert\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview FIR LPF. Based on the FIR LPF from Fili by Florian Markert.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/markert/fili.js\r\n */\r\n\r\n/**\r\n * A FIR low pass filter.\r\n */\r\nexport class FIRLPF {\r\n  \r\n  /**\r\n   * @param {number} order The order of the filter.\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} cutOff The cut off frequency.\r\n   */\r\n  constructor(order, sampleRate, cutOff) {\r\n    /** @type {number} */\r\n    let omega = 2 * Math.PI * cutOff / sampleRate;\r\n    /** @type {number} */\r\n    let dc = 0;\r\n    this.filters = [];\r\n    for (let i = 0; i <= order; i++) {\r\n      if (i - order / 2 === 0) {\r\n        this.filters[i] = omega;\r\n      } else {\r\n        this.filters[i] = Math.sin(omega * (i - order / 2)) / (i - order / 2);\r\n        // Hamming window\r\n        this.filters[i] *= (0.54 - 0.46 * Math.cos(2 * Math.PI * i / order));\r\n      }\r\n      dc = dc + this.filters[i];\r\n    }\r\n    // normalize\r\n    for (let i = 0; i <= order; i++) {\r\n      this.filters[i] /= dc;\r\n    }\r\n    this.z = this.initZ_();\r\n  }\r\n\r\n  /**\r\n   * @param {number} sample A sample of a sequence.\r\n   * @return {number}\r\n   */\r\n  filter(sample) {\r\n    this.z.buf[this.z.pointer] = sample;\r\n    /** @type {number} */\r\n    let out = 0;\r\n    for (let i = 0, len = this.z.buf.length; i < len; i++) {\r\n      out += (\r\n        this.filters[i] * this.z.buf[(this.z.pointer + i) % this.z.buf.length]);\r\n    }\r\n    this.z.pointer = (this.z.pointer + 1) % (this.z.buf.length);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Reset the filter.\r\n   */\r\n  reset() {\r\n    this.z = this.initZ_();\r\n  }\r\n\r\n  /**\r\n   * Return the default value for z.\r\n   * @private\r\n   */\r\n  initZ_() {\r\n    /** @type {!Array} */\r\n    let r = [];\r\n    for (let i = 0; i < this.filters.length - 1; i++) {\r\n      r.push(0);\r\n    }\r\n    return {\r\n      buf: r,\r\n      pointer: 0\r\n    };\r\n  }\r\n}\r\n","/*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2014 Florian Markert\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview Butterworth LPF. Based on the Butterworth LPF from Fili.js.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/markert/fili.js\r\n */\r\n\r\n/**\r\n * Butterworth LPF.\r\n */\r\nexport class ButterworthLPF {\r\n  \r\n  /**\r\n   * @param {number} order The order of the filter.\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} cutOff The cut off frequency.\r\n   */\r\n  constructor(order, sampleRate, cutOff) {\r\n    /** @type {!Array} */\r\n    let filters = [];\r\n    for (let i = 0; i < order; i++) {\r\n      filters.push(this.getCoeffs_({\r\n        Fs: sampleRate,\r\n        Fc: cutOff,\r\n        Q: 0.5 / (Math.sin((Math.PI / (order * 2)) * (i + 0.5)))\r\n      }));\r\n    }\r\n    this.stages = [];\r\n    for (let i = 0; i < filters.length; i++) {\r\n      this.stages[i] = {\r\n        b0 : filters[i].b[0],\r\n        b1 : filters[i].b[1],\r\n        b2 : filters[i].b[2],\r\n        a1 : filters[i].a[0],\r\n        a2 : filters[i].a[1],\r\n        k : filters[i].k,\r\n        z : [0, 0]\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {number} sample A sample of a sequence.\r\n   * @return {number}\r\n   */\r\n  filter(sample) {\r\n    /** @type {number} */\r\n    let out = sample;\r\n    for (let i = 0, len = this.stages.length; i < len; i++) {\r\n      out = this.runStage_(i, out);\r\n    }\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * @param {!Object} params The filter params.\r\n   * @return {!Object}\r\n   */\r\n  getCoeffs_(params) {\r\n    /** @type {!Object} */\r\n    let coeffs = {};\r\n    coeffs.a = [];\r\n    coeffs.b = [];\r\n    /** @type {!Object} */\r\n    let p = this.preCalc_(params, coeffs);\r\n    coeffs.k = 1;\r\n    coeffs.b.push((1 - p.cw) / (2 * p.a0));\r\n    coeffs.b.push(2 * coeffs.b[0]);\r\n    coeffs.b.push(coeffs.b[0]);\r\n    return coeffs;\r\n  }\r\n\r\n  /**\r\n   * @param {!Object} params The filter params.\r\n   * @param {!Object} coeffs The coefficients template.\r\n   * @return {!Object}\r\n   */\r\n  preCalc_(params, coeffs) {\r\n    /** @type {!Object} */\r\n    let pre = {};\r\n    /** @type {number} */\r\n    let w = 2 * Math.PI * params.Fc / params.Fs;\r\n    pre.alpha = Math.sin(w) / (2 * params.Q);\r\n    pre.cw = Math.cos(w);\r\n    pre.a0 = 1 + pre.alpha;\r\n    coeffs.a0 = pre.a0;\r\n    coeffs.a.push((-2 * pre.cw) / pre.a0);\r\n    coeffs.k = 1;\r\n    coeffs.a.push((1 - pre.alpha) / pre.a0);\r\n    return pre;\r\n  }\r\n  \r\n  /**\r\n   * @param {number} i The stage index.\r\n   * @param {number} sample The sample.\r\n   * @return {number}\r\n   */\r\n  runStage_(i, sample) {\r\n    /** @type {number} */\r\n    let temp = sample * this.stages[i].k - this.stages[i].a1 *\r\n      this.stages[i].z[0] - this.stages[i].a2 * this.stages[i].z[1];\r\n    /** @type {number} */\r\n    let out = this.stages[i].b0 * temp + this.stages[i].b1 *\r\n      this.stages[i].z[0] + this.stages[i].b2 * this.stages[i].z[1];\r\n    this.stages[i].z[1] = this.stages[i].z[0];\r\n    this.stages[i].z[0] = temp;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Reset the filter.\r\n   */\r\n  reset() {\r\n    for (let i = 0; i < this.stages.length; i++) {\r\n      this.stages[i].z = [0, 0];\r\n    }\r\n  }\r\n}\r\n","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","export default class OnsetHandler {\r\n    constructor(morphaweb) {\r\n        this.morphaweb = morphaweb;\r\n        this.worker = null;\r\n        this.initWorker();\r\n        this.initKeyboardControls();\r\n    }\r\n\r\n    initWorker() {\r\n        this.worker = new Worker(\r\n            new URL('./workers/onset-worker.js', import.meta.url),\r\n            { type: 'module' }\r\n        );\r\n        \r\n        this.worker.onmessage = (e) => {\r\n            // Remove loading state when processing is done\r\n            this.setLoadingState(false);\r\n\r\n            if (e.data.error) {\r\n                console.error('Onset detection error:', e.data.error);\r\n                return;\r\n            }\r\n            \r\n            if (e.data.onsets) {\r\n                console.log('onsets', e.data.onsets);\r\n                this.morphaweb.markerHandler.createOnsetMarkers(e.data.onsets);\r\n            }\r\n\r\n            if (e.data.bpm !== null) {\r\n                this.morphaweb.updateBPM(e.data.bpm);\r\n            }\r\n        };\r\n    }\r\n\r\n    setLoadingState(isLoading) {\r\n        const container = this.morphaweb.wavesurfer.container;\r\n        if (isLoading) {\r\n            container.classList.add('wavesurfer-loading');\r\n        } else {\r\n            container.classList.remove('wavesurfer-loading');\r\n        }\r\n    }\r\n\r\n    detectOnsets(audioData, sampleRate) {\r\n        if (!this.worker) {\r\n            console.error('Worker not initialized');\r\n            return;\r\n        }\r\n\r\n        // Set loading state before starting processing\r\n        this.setLoadingState(true);\r\n\r\n        // Convert audio data to the format expected by Essentia.js\r\n        const float32Array = new Float32Array(audioData.length);\r\n        for (let i = 0; i < audioData.length; i++) {\r\n            float32Array[i] = audioData[i];\r\n        }\r\n\r\n        this.worker.postMessage({\r\n            type: 'processAudio',\r\n            audioData: float32Array,\r\n            sampleRate\r\n        });\r\n    }\r\n\r\n    destroy() {\r\n        if (this.worker) {\r\n            this.worker.terminate();\r\n            this.worker = null;\r\n        }\r\n    }\r\n\r\n    initKeyboardControls() {\r\n        document.addEventListener('keydown', (e) => {\r\n            // Number keys 1-9 and 0 (for 10th slice)\r\n            if (e.key >= '1' && e.key <= '9' || e.key === '0') {\r\n                const index = e.key === '0' ? 9 : parseInt(e.key) - 1;\r\n                this.playSliceByIndex(index);\r\n            }\r\n            \r\n            // QWERTY row for indices 10-19\r\n            const qwertyKeys = ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p'];\r\n            const keyIndex = qwertyKeys.indexOf(e.key.toLowerCase());\r\n            if (keyIndex !== -1) {\r\n                this.playSliceByIndex(keyIndex + 10);\r\n            }\r\n        });\r\n    }\r\n\r\n    playSliceByIndex(index) {\r\n        const markers = this.morphaweb.markerHandler.getMarkers();\r\n        if (index < markers.length) {\r\n            // Get audio data\r\n            const audioData = this.morphaweb.wavesurfer.backend.buffer.getChannelData(0);\r\n            const sampleRate = this.morphaweb.wavesurfer.backend.buffer.sampleRate;\r\n\r\n            // Get the current marker time and next marker time (or audio end)\r\n            const startTime = markers[index];\r\n            const endTime = index < markers.length - 1 ? \r\n                markers[index + 1] : \r\n                this.morphaweb.wavesurfer.getDuration();\r\n\r\n            // Convert times to sample indices\r\n            const startSample = Math.round(startTime.time * sampleRate);\r\n            const endSample = Math.round(endTime.time * sampleRate);\r\n\r\n            // Find nearest zero crossings\r\n            const snappedStartSample = this.findNearestZeroCrossing(audioData, startSample);\r\n            const snappedEndSample = this.findNearestZeroCrossing(audioData, endSample);\r\n\r\n            // Convert back to time\r\n            const snappedStartTime = snappedStartSample / sampleRate;\r\n            const snappedEndTime = snappedEndSample / sampleRate;\r\n\r\n            // Create a temporary region for playback\r\n            const region = this.morphaweb.wavesurfer.addRegion({\r\n                start: snappedStartTime,\r\n                end: snappedEndTime,\r\n                color: 'hsla(358, 57%, 79%, 0.2)'\r\n            });\r\n\r\n            // Play the region\r\n            region.play();\r\n\r\n            // Remove the temporary region after playback\r\n            region.once('out', () => {\r\n                region.remove();\r\n            });\r\n        }\r\n    }\r\n\r\n    findNearestZeroCrossing(audioData, index, maxOffset = 100) {\r\n        // Search within maxOffset samples in both directions\r\n        let left = Math.max(0, index - maxOffset);\r\n        let right = Math.min(audioData.length - 1, index + maxOffset);\r\n\r\n        // Start from the index and move outward\r\n        for (let offset = 0; offset <= maxOffset; offset++) {\r\n            // Check forward\r\n            let forwardIndex = index + offset;\r\n            if (forwardIndex <= right) {\r\n                if (this.isZeroCrossing(audioData, forwardIndex)) {\r\n                    return forwardIndex;\r\n                }\r\n            }\r\n\r\n            // Check backward\r\n            let backwardIndex = index - offset;\r\n            if (backwardIndex >= left) {\r\n                if (this.isZeroCrossing(audioData, backwardIndex)) {\r\n                    return backwardIndex;\r\n                }\r\n            }\r\n        }\r\n\r\n        // If no zero crossing found, return original index\r\n        return index;\r\n    }\r\n\r\n    isZeroCrossing(audioData, index) {\r\n        // Check if this point represents a zero crossing\r\n        // We check if the signal crosses zero between this sample and the next\r\n        if (index >= audioData.length - 1) return false;\r\n        \r\n        const current = audioData[index];\r\n        const next = audioData[index + 1];\r\n        \r\n        // Check if the signal crosses zero (changes sign)\r\n        return (current <= 0 && next > 0) || (current >= 0 && next < 0);\r\n    }\r\n} ","let workerURL = require('./helpers/get-worker-url');\nlet bundleURL = require('./helpers/bundle-url');\nlet url = bundleURL.getBundleURL('EVgbq') + \"onset-worker.6bb50c1b.js\";module.exports = workerURL(url, bundleURL.getOrigin(url), false);","\"use strict\";\n\nmodule.exports = function (workerUrl, origin, isESM) {\n  if (origin === self.location.origin) {\n    // If the worker bundle's url is on the same origin as the document,\n    // use the worker bundle's own url.\n    return workerUrl;\n  } else {\n    // Otherwise, create a blob URL which loads the worker bundle with `importScripts`.\n    var source = isESM ? 'import ' + JSON.stringify(workerUrl) + ';' : 'importScripts(' + JSON.stringify(workerUrl) + ');';\n    return URL.createObjectURL(new Blob([source], {\n      type: 'application/javascript'\n    }));\n  }\n};","export default class AlgorithmControls {\r\n    constructor(morphaweb) {\r\n        this.morphaweb = morphaweb;\r\n        this.createControls();\r\n        this.initializeDefaultValues();\r\n    }\r\n\r\n    createControls() {\r\n        const controlsContainer = document.createElement('div');\r\n        controlsContainer.className = 'algorithm-controls';\r\n        \r\n        // Frame Size Slider\r\n        const frameSizeControl = this.createSlider({\r\n            id: 'frame-size',\r\n            label: 'Frame Size',\r\n            min: 512,\r\n            max: 8192,\r\n            value: 2048,\r\n            step: 512\r\n        });\r\n\r\n        // Hop Size Slider (as percentage of frame size)\r\n        const hopSizeControl = this.createSlider({\r\n            id: 'hop-size',\r\n            label: 'Hop Size %',\r\n            min: 5,\r\n            max: 100,\r\n            value: 50,\r\n            step: 1\r\n        });\r\n\r\n        // Sensitivity Slider\r\n        const sensitivityControl = this.createSlider({\r\n            id: 'sensitivity',\r\n            label: 'Sensitivity %',\r\n            min: 1,\r\n            max: 100,\r\n            value: 50,\r\n            step: 1\r\n        });\r\n\r\n        // ODF Ratio Slider\r\n        const odfRatioControl = this.createSlider({\r\n            id: 'odf-ratio',\r\n            label: 'HFC/Complex Ratio',\r\n            min: 0,\r\n            max: 100,\r\n            value: 50,\r\n            step: 10\r\n        });\r\n\r\n        controlsContainer.appendChild(frameSizeControl);\r\n        controlsContainer.appendChild(hopSizeControl);\r\n        controlsContainer.appendChild(sensitivityControl);\r\n        controlsContainer.appendChild(odfRatioControl);\r\n\r\n        // Insert controls before the existing controls\r\n        const existingControls = document.querySelector('.controls');\r\n        existingControls.insertBefore(controlsContainer, existingControls.firstChild);\r\n    }\r\n\r\n    createSlider({ id, label, min, max, value, step }) {\r\n        const container = document.createElement('div');\r\n        container.className = 'slider-container';\r\n\r\n        const labelElement = document.createElement('label');\r\n        labelElement.htmlFor = id;\r\n        labelElement.textContent = label;\r\n\r\n        const slider = document.createElement('input');\r\n        slider.type = 'range';\r\n        slider.id = id;\r\n        slider.min = min;\r\n        slider.max = max;\r\n        slider.value = value;\r\n        slider.step = step;\r\n        \r\n        // Calculate and set the initial position percentage\r\n        const percentage = ((value - min) / (max - min)) * 100;\r\n        slider.style.setProperty('--value', percentage + '%');\r\n\r\n        const valueDisplay = document.createElement('span');\r\n        valueDisplay.className = 'slider-value';\r\n        valueDisplay.textContent = Number(value).toFixed(String(step).split('.')[1]?.length || 0);\r\n\r\n        slider.addEventListener('input', (e) => {\r\n            // Update the position when slider moves\r\n            const percentage = ((e.target.value - min) / (max - min)) * 100;\r\n            slider.style.setProperty('--value', percentage + '%');\r\n            valueDisplay.textContent = Number(slider.value).toFixed(String(step).split('.')[1]?.length || 0);\r\n            this.handleSliderChange();\r\n        });\r\n\r\n        container.appendChild(labelElement);\r\n        container.appendChild(slider);\r\n        container.appendChild(valueDisplay);\r\n\r\n        return container;\r\n    }\r\n\r\n    handleSliderChange() {\r\n        const frameSize = parseInt(document.getElementById('frame-size').value);\r\n        const hopSizePercent = parseInt(document.getElementById('hop-size').value);\r\n        const sensitivity = parseFloat(document.getElementById('sensitivity').value);\r\n        const odfRatio = parseInt(document.getElementById('odf-ratio').value);\r\n\r\n        const hopSize = Math.floor(frameSize * (hopSizePercent / 100));\r\n        const hfcWeight = odfRatio / 100;\r\n        const complexWeight = 1 - hfcWeight;\r\n\r\n        let odfs, odfsWeights;\r\n        \r\n        if (odfRatio === 0) {\r\n            // Use only complex\r\n            odfs = ['complex'];\r\n            odfsWeights = [1];\r\n        } else if (odfRatio === 100) {\r\n            // Use only HFC\r\n            odfs = ['hfc'];\r\n            odfsWeights = [1];\r\n        } else {\r\n            // Use both with weights\r\n            odfs = ['hfc', 'complex'];\r\n            odfsWeights = [hfcWeight, complexWeight];\r\n        }\r\n\r\n        const params = {\r\n            frameSize,\r\n            hopSize,\r\n            sensitivity: sensitivity / 100.0,\r\n            odfs,\r\n            odfsWeights\r\n        };\r\n\r\n        if (this.morphaweb.onsetHandler) {\r\n            this.morphaweb.onsetHandler.worker.postMessage({\r\n                type: 'updateParams',\r\n                params\r\n            });\r\n        }\r\n    }\r\n\r\n    initializeDefaultValues() {\r\n        // Set initial values\r\n        this.handleSliderChange();\r\n    }\r\n} "],"names":["__webpack_modules__","__webpack_module_cache__","b","$parcel$global","globalThis","self","window","global","$parcel$interopDefault","a","__esModule","default","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","undefined","FUNC_ERROR_TEXT","HASH_UNDEFINED","PLACEHOLDER","INFINITY","NAN","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","RegExp","source","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrimStart","reWhitespace","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reForbiddenIdentifierChars","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsAstralRange","rsComboRange","rsComboMarksRange","rsDingbatRange","rsLowerRange","rsUpperRange","rsVarRange","rsBreakRange","rsMathOpRange","rsApos","rsBreak","rsCombo","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsZWJ","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsModifier","rsOptVar","rsOptJoin","join","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","parseFloat","freeParseInt","parseInt","freeGlobal","Object","freeSelf","root","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","process","nodeUtil","types","require","binding","e","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","apply","func","thisArg","args","length","arrayAggregator","array","setter","iteratee","accumulator","index","value","arrayEach","arrayEvery","predicate","arrayFilter","resIndex","result","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","Array","arrayPush","values","offset","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","key","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","object","basePropertyOf","baseReduce","current","baseTimes","n","baseTrim","string","slice","trimmedEndIndex","replace","baseUnary","baseValues","props","cacheHas","cache","has","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","test","mapToArray","map","size","forEach","overArg","transform","arg","replaceHolders","placeholder","setToArray","set","stringSize","unicodeSize","lastIndex","stringToArray","match","split","charAt","unescapeHtmlChar","_","runInContext","context","uid","Array1","defaults","pick","Date","Function1","Math","Object1","RegExp1","String","TypeError","arrayProto","prototype","funcProto","objectProto","coreJsData","funcToString","toString","hasOwnProperty","idCounter","maskSrcKey","exec","keys","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","Buffer","Symbol","Uint8Array","allocUnsafe","getPrototype","getPrototypeOf","objectCreate","create","propertyIsEnumerable","splice","spreadableSymbol","isConcatSpreadable","symIterator","iterator","symToStringTag","toStringTag","defineProperty","getNative","ctxClearTimeout","clearTimeout","ctxNow","now","ctxSetTimeout","setTimeout","nativeCeil","ceil","nativeFloor","floor","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeIsFinite","isFinite","nativeJoin","nativeKeys","nativeMax","max","nativeMin","min","nativeNow","nativeParseInt","nativeRandom","random","nativeReverse","reverse","DataView","Map","Promise","Set","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","isArray","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","proto","isObject","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","add","Stack","data","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","push","arraySample","baseRandom","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","paths","skip","get","baseClamp","number","lower","upper","baseClone","bitmask","customizer","stack","isDeep","isFlat","isFull","constructor","input","copyArray","tag","getTag","isFunc","cloneBuffer","initCloneObject","keysIn","getSymbolsIn","getSymbols","initCloneByTag","buffer","Ctor","cloneArrayBuffer","dataView","byteOffset","byteLength","cloneTypedArray","regexp","stacked","subValue","keysFunc","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","wait","baseDifference","includes","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","pop","getMapData","pairs","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","isFunction","baseGet","path","castPath","toKey","baseGetAllKeys","symbolsFunc","baseGetTag","getRawTag","isOwn","unmasked","baseGt","other","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","maxLength","Infinity","seen","baseInvoke","parent","last","baseIsArguments","baseIsEqual","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","equalByTag","name","message","convert","isPartial","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","equalObjects","objProps","objLength","othProps","objStacked","othStacked","skipCtor","othValue","compared","objCtor","othCtor","baseIsMatch","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","baseIsNative","pattern","baseIteratee","identity","baseMatchesProperty","baseMatches","property","baseKeys","isPrototype","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","hasIn","baseMerge","srcIndex","baseMergeDeep","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","isPlainObject","toPlainObject","baseNth","baseOrderBy","iteratees","orders","getIteratee","baseSortBy","comparer","sort","compareMultiple","objCriteria","criteria","othCriteria","ordersLength","compareAscending","order","basePickBy","baseSet","basePullAll","indexOf","basePullAt","indexes","previous","baseUnset","baseRepeat","baseRest","start","setToString","overRest","nested","baseSetData","baseSetToString","constant","baseSlice","end","baseSome","baseSortedIndex","retHighest","low","high","MAX_ARRAY_LENGTH","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castSlice","copy","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","iterable","createCaseFirst","methodName","trailing","createCompounder","callback","words","deburr","createCtor","arguments","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","WRAP_ARY_FLAG","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","WRAP_CURRY_FLAG","isFlip","getHolder","holdersCount","countHolders","newHolders","createRecurry","fn","reorder","arrLength","oldArray","createInverter","toIteratee","createMathOperation","operator","defaultValue","createOver","arrayFunc","createPadding","chars","charsLength","createRange","step","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newHoldersRight","newPartials","newPartialsRight","newData","setData","setWrapToString","createRound","precision","toInteger","pair","noop","createToPairs","createWrap","mergeData","srcBitmask","newBitmask","WRAP_BIND_FLAG","isCombo","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrStacked","arrValue","flatten","otherFunc","type","isKeyable","symbol","stubArray","hasPath","hasFunc","isLength","ArrayBuffer","resolve","ctorString","isMaskable","stubFalse","otherArgs","shortOut","reference","details","insertWrapDetails","count","lastCalled","stamp","remaining","HOT_SPAN","shuffleSelf","rand","memoize","charCodeAt","quote","subString","clone","difference","differenceBy","differenceWith","findIndex","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","chain","interceptor","wrapperAt","countBy","find","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bind","bindKey","debounce","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","time","shouldInvoke","timeSinceLastCall","timeSinceLastInvoke","timerExpired","timeWaiting","trailingEdge","debounced","isInvoking","cancel","flush","defer","delay","resolver","memoized","Cache","negate","overArgs","castRest","transforms","funcsLength","partial","partialRight","rearg","gt","gte","isError","isInteger","isNumber","isString","lt","lte","toArray","iteratorToArray","next","done","sign","remainder","toLength","isBinary","assign","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","baseKeysIn","nativeKeysIn","isProto","merge","omit","CLONE_DEEP_FLAG","pickBy","prop","toPairs","toPairsIn","camelCase","word","toLowerCase","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","toUpperCase","hasUnicodeWord","attempt","bindAll","methodNames","flow","flowRight","method","methodOf","mixin","over","overEvery","overSome","range","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","after","castArray","chunk","compact","concat","cond","conforms","properties","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","fill","baseFill","filter","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matches","matchesProperty","nthArg","omitBy","once","orderBy","propertyOf","pullAllBy","pullAllWith","reject","remove","rest","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","limit","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","update","updateWith","valuesIn","wrap","zipObject","zipObjectDeep","entriesIn","extend","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","endsWith","target","position","escape","escapeRegExp","every","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","isBoolean","isElement","isEmpty","isEqual","isEqualWith","isMatch","isMatchWith","isNaN","isNative","isNil","isNull","isSafeInteger","isUndefined","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","pad","strLength","padEnd","padStart","radix","floating","temp","reduce","reduceRight","repeat","sample","some","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","startsWith","sum","sumBy","template","settings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","times","toLower","toSafeInteger","toUpper","trim","trimEnd","trimStart","truncate","omission","search","substring","newEnd","unescape","uniqueId","prefix","each","eachRight","first","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","dir","isRight","view","getView","iterLength","takeCount","iterIndex","commit","wrapped","toJSON","define","amd","$494d646c3cbf7cf3$exports","module1","__webpack_require__","_style","_interopRequireDefault","_getId","obj","_typeof","CanvasEntry","protoProps","_classCallCheck","instance","Constructor","wave","waveCtx","progress","progressCtx","canvasContextAttributes","element","getContext","elementWidth","totalWidth","width","height","offsetLeft","elementSize","hasProgressCanvas","clearRect","canvas","waveColor","progressColor","fillStyle","getFillStyle","ctx","color","CanvasGradient","waveGradient","createLinearGradient","addColorStop","vertical","setTransform","x","y","radius","fillRectToContext","drawRoundedRect","fillRect","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","peaks","absmax","halfH","offsetY","drawLineToContext","i","h","scale","canvasEnd","halfOffset","absmaxHalf","canvasStart","peak","halfPixel","j","format","quality","_this","toBlob","toDataURL","_defineProperties","descriptor","enumerable","configurable","writable","_toPropertyKey","_toPrimitive","hint","prim","toPrimitive","res","Number","util","_interopRequireWildcard","nodeInterop","_getRequireWildcardCache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","cacheBabelInterop","cacheNodeInterop","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_getPrototypeOf","Drawer","_util$Observer","_inherits","subClass","superClass","hasNativeReflectConstruct","_super","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","Super","_possibleConstructorReturn","self1","_assertThisInitialized","ReferenceError","container","params","withOrientation","pixelRatio","lastPos","el","styles","style","appendChild","document","createElement","display","userSelect","webkitUserSelect","fillParent","scrollParent","cursor","hideCursor","overflowX","hideScrollbar","overflowY","setupWrapperEvents","noPrevent","preventDefault","clientX","targetTouches","bbox","getBoundingClientRect","nominalWidth","parentWidth","getWidth","progressPixels","getProgressPixels","scrollLeft","scrollWidth","wrapperBbox","rtl","right","left","_this2","addEventListener","orientedEvent","scrollbarHeight","offsetHeight","clientHeight","clientY","bottom","interact","fireEvent","handleEvent","setWidth","clearWave","barWidth","drawBars","drawWave","percent","recenterOnPosition","immediate","half","clientWidth","maxScroll","rate","autoCenterRate","newWidth","updateSize","_progress","minPxDelta","pos","autoCenter","newPos","autoCenterImmediately","updateProgress","unAll","parentNode","domElement","removeChild","channelIndex","Observer","_drawer","_drawer2","MultiCanvas","_Drawer","maxCanvasWidth","maxCanvasElementWidth","canvases","progressWave","EntryClass","drawingContextAttributes","overlap","barRadius","createWrapper","createElements","zIndex","top","overflow","boxSizing","borderRightStyle","pointerEvents","addCanvas","updateCursor","borderRightWidth","cursorWidth","borderRightColor","cursorColor","requiredCanvases","removeCanvas","canvasWidth","lastCanvas","updateDimensions","leftOffset","initWave","initProgress","lastEntry","parentElement","destroy","_this3","frame","_this4","prepareDraw","_ref","hasMinVals","ch","peakIndexScale","bar","gap","barGap","peakIndex","peakIndexRange","peakIndexEnd","newPeak","abs","barMinHeight","_this5","_ref2","reflectedPeaks","len","drawLine","_this6","_ref3","splitChannelsOptions","channelColors","setFillStyles","applyCanvasTransforms","drawLines","startCanvas","endCanvas","x1","y1","x2","y2","_ref4","fillRects","splitChannels","filterChannels","drawIndex","normalizedMax","_this7","channels","overallAbsMax","filteredChannels","c","hideChannel","overlay","setHeight","relativeNormalization","channelPeaks","absMax","barHeight","normalize","val","all","getImage","images","_get","receiver","base","_superPropBase","MediaElementWebAudio","_MediaElement","sourceMediaElement","setPlaybackRate","audioRate","createTimer","createVolumeNode","createScriptNode","createAnalyserNode","media","preload","createMediaElementSource","mediaElement","ac","connect","analyser","resumeAudioContext","destroyWebAudio","_mediaelement","_webaudio","MediaElement","_WebAudio","currentTime","duration","paused","playbackRate","play","pause","volume","mediaType","elementPosition","isMuted","onPlayEnd","mediaListeners","error","waiting","canplay","ended","seeked","event","volumechange","muted","removeEventListener","on","onAudioProcess","isPaused","getCurrentTime","url","controls","mediaControls","autoplay","src","prevMedia","querySelector","_load","elt","HTMLMediaElement","load","_setupMediaListeners","setVolume","explicitDuration","seekable","getDuration","clearPlayEnd","seekTo","promise","setPlayEnd","_onPlayEnd","un","deviceId","setSinkId","destroyed","removeMediaElementOnDestroy","PeakCache","clearPeakCache","peakCacheRanges","peakCacheLength","uncachedRanges","item","arr","uncachedRangePairs","peakCacheRangePairs","_max","_min","_observer","fetchHeaders","Headers","fetchRequest","Request","controller","AbortController","requestHeaders","header","append","responseType","fetchOptions","headers","mode","credentials","redirect","referrer","signal","fetch","then","response","progressAvailable","body","contentLength","onProgress","Response","ReadableStream","ProgressHandler","errMsg","ok","json","blob","text","status","catch","_reader","getReader","total","loaded","read","lengthComputable","close","enqueue","_len","_key","_requestAnimationFrame","__unused_webpack_module","_absMax","_clamp","_debounce","_fetch","_frame","_silenceMode","_preventClick","_orientation","largest","smallest","_disabledEventEmissions","handlers","handler","eventNames","_len2","_key2","_isDisabledEventEmission","isProxy","mapProp","verticalPropMap","offsetTop","offsetWidth","preventClickHandler","stopPropagation","_default","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","silentAC","AudioContext","silentBS","createBufferSource","createBuffer","destination","tmp","innerHTML","audioSilentMode","children","disableRemotePlayback","_peakcache","_mediaelementWebaudio","_defineProperty","WaveSurfer","staticProps","audioContext","audioScriptProcessor","backend","backgroundColor","dragSelection","desynchronized","forceDecode","ignoreSilenceMode","loopSelection","mediaContainer","minPxPerSec","partialRender","devicePixelRatio","screen","deviceXDPI","logicalXDPI","plugins","renderer","responsive","skipLength","splitDragSelection","xhr","WebAudio","defaultParams","setBackgroundColor","savedVolume","tmpEvents","currentRequest","arraybuffer","drawer","peakCache","supportsWebAudio","Backend","backends","initialisedPluginList","isDestroyed","isReady","prevWidth","_onResize","registerPlugins","createDrawer","createBackend","createPeakCache","plugin","addPlugin","deferInit","initPlugin","pluginStaticProp","Instance","observerPrototypeKeys","getOwnPropertyNames","destroyPlugin","drawBuffer","getPlayedPercents","newVolume","getVolume","seconds","seekAndCenter","recenter","_this8","isWebAudioBackend","oldScrollParent","getPlaybackRate","setMute","mute","filters","channelIdx","background","channelIndices","newRanges","addRangeToPeakCache","getPeaks","drawPeaks","pxPerSec","_this9","decodeArrayBuffer","loadDecodedBuffer","_this10","reader","FileReader","loadArrayBuffer","readAsArrayBuffer","empty","preloadIgnoreReasons","activeReasons","reason","console","warn","loadBuffer","loadMediaElement","_this11","getArrayBuffer","setPeaks","urlOrElt","_this12","loadElt","_this13","_this14","request","fetchFile","percentComplete","accuracy","noWindow","blobJSON","Blob","JSON","stringify","objURL","URL","createObjectURL","open","revokeObjectURL","abort","stop","disconnectSource","cancelAjax","clearTmpEvents","destroyAllPlugins","wavesurfer","PLAYING","PAUSED","FINISHED","_defineProperty2","_this$states","addOnAudioProcess","startPosition","getPlayedTime","getAudioContext","lastPlay","scheduledPause","states","stateBehaviors","gainNode","mergedPeaks","offlineAc","scriptNode","splitPeaks","state","sinkStreamDestination","sinkAudioElement","webkitAudioContext","WaveSurferAudioContext","sampleRate","WaveSurferOfflineAudioContext","OfflineAudioContext","webkitOfflineAudioContext","setState","setLength","disconnect","setFilters","disconnectFilters","prev","curr","loop","createAnalyser","createGain","createGainNode","Audio","createMediaStreamDestination","srcObject","stream","gain","setValueAtTime","errback","getOfflineAudioContext","decodeAudioData","numberOfChannels","newBuffer","sampleStep","chan","getChannelData","closeAudioContext","createSource","noteGrainOn","noteOff","resume","adjustedTime","later","timestamp","timeout","callNow","moduleId","cachedModule","$443a53ee67a6fff3$export$2e2bcd8739ae039","addMarker","markers","getMarkers","clearMarkers","ws","markerLineWidth","markerWidth","markerHeight","dragging","_updateMarkerPositions","_onBackendCreated","marker","draggable","onMouseMove","_onMouseMove","onMouseUp","_onMouseUp","_onReady","label","tooltip","preventContextMenu","_createMarkerElement","markerElement","_registerEvents","indexOrMarker","getElementsByClassName","_onContextMenu","_onClick","_onMouseDown","_unregisterEvents","_createPointerSVG","svgNS","createElementNS","polygon","setAttribute","className","line","opacity","labelDiv","point","labelEl","innerText","classList","setCurrentTime","selectedMarker","_updateMarkerPosition","leftPx","$4ac106abcad1bf23$export$b1f97c3099fc6872","regionsUtils","regionsUtil","getId","resize","drag","contentEditable","removeButton","isResizing","isDragging","handleStyle","handleLeftEl","handleRightEl","attributes","showTooltip","minLength","_onRedraw","updateRender","scroll","scrollSpeed","scrollThreshold","regionHeight","marginTop","channelCount","getHeight","formatTimeCallback","edgeScrollWidth","bindInOut","render","eventParams","updateHandlesResize","s","playLoop","setLoop","attrname","title","formatTime","removeButtonEl","textContent","fontSize","lineHeight","contentEl","padding","css","handleLeftCss","handleRightCss","bindEvents","dur","startLimited","endLimited","regionWidth","firedIn","firedOut","onProcess","realTime","bindDragEvents","onContentBlur","onContentClick","onRemove","startTime","touchId","scrollDirection","wrapperRect","regionLeftHalfTime","regionRightHalfTime","updated","edgeScroll","distanceBetweenCursorAndWrapperEdge","regionHalfTimeWidth","adjustment","getRegionSnapToGridValue","wrapperScrollLeft","calculatedLeft","calculatedRight","delta","onDrag","onResize","onDown","touches","identifier","tagName","contains","onUp","preventClick","onMove","maxEnd","passive","direction","_getDragDirection","oldText","cursorStyle","$296952d52dc35aee$export$2e2bcd8739ae039","addRegion","regions","clearRegions","enableDragSelection","disableDragSelection","maxRegions","regionsMinLength","Region","orientation","defaultEdgeScrollWidth","region","list","setDisabledEventEmissions","wouldExceedMaxRegions","slop","pxMove","eventDown","dragColor","eventUp","eventMove","startUpdate","endUpdate","getCurrentRegion","cur","snapToGridInterval","snapToGridOffset","$b1535fdfd8a92a6d$exports","d","t","r","from","u","_context","_createContext","_sampleRate","mozAudioContext","File","_maxNumberOfChannels","_maxDuration","_totalLength","subarray","l","f","_interleave","_writeHeaders","_renderURL","_renderAudioElement","href","download","click","_isSupported","_writeString","setUint32","setUint16","_floatTo16BitPCM","setInt16","setUint8","Float32Array","webkitURL","$89a526520f8a12b4$export$2e2bcd8739ae039","morphaweb","getElementById","messageOverlay","messageText","crunker","allowDrop","onDrop","overlayShow","showMessage","loadFiles","files","audioBuffers","audioCtx","fileArray","file","log","buf","truncatedBuffer","MAX_DURATION_SECONDS","channel","copyToChannel","m","wavHandler","getMarkersFromFile","mm","track","concatted","concatAudio","ex","export","overlayHide","dataTransfer","loadBlob","$1WSnx","$c57c93cded660f0c$export$2e2bcd8739ae039","playButton","pauseButton","exportButton","sliceButton","sliceCountInput","detectOnsetsButton","divideMarkersButton","setButtonsState","exportWavFile","handleAutoSlice","handleOnsetDetection","divideMarkersByTwo","validateSliceCount","onKeydown","onSeek","onFinish","onWheel","updateDivideButton","disabled","createFileFromBuffer","isPlaying","playToggle","playOffset","markerHandler","removeTopMarker","createMarker","scrollPos","deltaY","scrollMin","zoom","createMarkerAtCurrentPosition","removeSelectedMarker","numberOfSlices","clearAllMarkers","createAutoSlices","detectOnsets","markerCount","getBottomMarkers","hasEnoughMarkers","$56e6af7cf89c066e$export$2e2bcd8739ae039","colorHighlight","colorTopMarker","onClick","onMarkersChanged","addMarkers","getSelectedMarkerIndex","highlightMarker","getTopMarkers","getSelectedMarker","getAttribute","getMarkerAtTime","bottomMarkers","audioData","sampleIndex","snappedTime","onsetHandler","snappedSample","findNearestZeroCrossing","interval","createOnsetMarkers","onsets","onset","getOnsetTimes","updateMarkerPosition","newTime","CustomEvent","detail","dispatchEvent","newMarkers","currentMarkers","$a4f5ab6700fbda71$var$chars","$9424423ef8bc3136$var$intToInt_","oldMax","newMax","oldMin","newMin","$9424423ef8bc3136$var$floatToInt_","$9424423ef8bc3136$var$intToFloat_","$9424423ef8bc3136$var$validateBitDepth_","bitDepth","$9424423ef8bc3136$var$sign8Bit_","samples","factor","$a9534e2564e30ab7$var$INDEX_TABLE","$a9534e2564e30ab7$var$STEP_TABLE","$a9534e2564e30ab7$var$encodeSample_","diff","predicted","$a9534e2564e30ab7$var$decodeSample_","nibble","$8139b5502cfd61f5$var$LOG_TABLE","$16dd5637710865be$var$encodeTable","$16dd5637710865be$var$decodeTable","$7a86378ad34744a9$export$edf525f30916fbb8","bytes","$7a86378ad34744a9$var$swap_","theByte","$2cf79bc33e5f0210$export$2a703dbb0cb35339","str","codePoint","codePointAt","$aaa4e9056b7df5b4$export$911c45d9017e8bd8","bits","signed","pow","unpack","unpack_","unpackSigned_","pack","num","clamp_","sign_","$8f22118c294115a7$export$726fe7676e1741ea","ebits","fbits","bias","biasP2","ebitsFbits","fbias","exp","LN2","fraction","$8f22118c294115a7$var$roundToEven","packFloatBits_","significand","eMax","leftBits","exponent","NaN","k","w","$f474a5d125722a8f$export$a3d86aa4d7c0b235","lowerBoundary","upperBoundary","charCode","fromCharCode","$f474a5d125722a8f$export$4ed3d445f9e5209f","$f474a5d125722a8f$export$c6b7ad74f385db26","$f474a5d125722a8f$export$1aa897dbb10b4708","theType","packer","$f474a5d125722a8f$var$getParser_","fp","valuesLen","be","$f474a5d125722a8f$export$a53577d75410ba7b","output","parser","readBuffer","$f474a5d125722a8f$var$unpack_","$f474a5d125722a8f$export$4f7d52af80c0e526","$f474a5d125722a8f$export$2a703dbb0cb35339","$f474a5d125722a8f$export$417857010dc9287f","$14e5fb77ce598998$export$e34804a324f74be5","chunkSize","signature","uInt32","supported_containers","setSignature","readString","readUInt32","chunkId","subChunks","getSubChunksIndex_","findChunk","multiple","chunks","maxSize","getSubChunkIndex_","getChunkId_","getChunkSize_","realChunkSize","chunkData","$5159e9fde32307cc$export$86c604990507c4be","fmt","audioFormat","numChannels","byteRate","blockAlign","bitsPerSample","cbSize","validBitsPerSample","dwChannelMask","subformat","fact","dwSampleLength","cue","dwCuePoints","points","smpl","dwManufacturer","dwProduct","dwSamplePeriod","dwMIDIUnityNote","dwMIDIPitchFraction","dwSMPTEFormat","dwSMPTEOffset","dwNumSampleLoops","dwSamplerData","loops","bext","description","originator","originatorReference","originationDate","originationTime","timeReference","version","UMID","loudnessValue","loudnessRange","maxTruePeakLevel","maxMomentaryLoudness","maxShortTermLoudness","reserved","codingHistory","iXML","ds64","riffSizeHigh","riffSizeLow","dataSizeHigh","dataSizeLow","sampleCountHigh","sampleCountLow","LIST","junk","_PMX","uInt16","fromBuffer","wavBuffer","clearHeaders","readDs64Chunk_","readFmtChunk_","readFactChunk_","readBextChunk_","readiXMLChunk_","readCueChunk_","readSmplChunk_","readDataChunk_","readJunkChunk_","readLISTChunk_","read_PMXChunk_","tmpWav","readUInt16_","readFmtExtension_","dwName","dwPosition","fccChunk","dwChunkStart","dwBlockStart","dwSampleOffset","dwType","dwStart","dwEnd","dwFraction","dwPlayCount","listChunks","subChunk","readLISTSubChunks_","readLISTadtlSubChunks_","readLISTINFOSubChunks_","dwPurposeID","dwCountry","dwLanguage","dwDialect","dwCodePage","readZSTR_","$f2eb460db311f997$export$48a3ce3d8cfe0ce1","packedString","$fcbc067dc9a6bbc8$export$471b3ad31f00fb81","toBuffer","fileBody","getJunkBytes_","getDs64Bytes_","getBextBytes_","getiXMLBytes_","getFmtBytes_","getFactBytes_","getCueBytes_","getSmplBytes_","getLISTBytes_","get_PMXBytes_","fileBodyLength","enforceBext_","enforceByteLen_","iXMLPackedValue","cuePointsBytes","getCuePointsBytes_","smplLoopsBytes","getSmplLoopsBytes_","fmtBytes","getFmtExtensionBytes_","extension","subChunksBytes","getLISTSubChunksBytes_","getLISTINFOSubChunksBytes_","getLISTadtlSubChunksBytes_","LISTsubChunkValue","getLtxtChunkBytes_","ltxt","_PMXPackedValue","$201155b6a1143b86$export$c2c1b5fd9318930","$6498f4274b87c8fa$export$ab29ac3ad7ae0c77","dataType","WAV_AUDIO_FORMATS","fromScratch","bitDepthCode","newWavFile_","bitDepthFromFmt_","updateDataType_","validateWavHeader_","getSamples","interleaved","OutputObject","Float64Array","finalSamples","getSample","setSample","getiXML","setiXML","iXMLValue","get_PMX","set_PMX","_PMXValue","subLen","numBytes","makeWavHeader_","samplesLength","createADPCMHeader_","createALawMulawHeader_","createExtensibleHeader_","createPCMHeader_","mask","validateBitDepth_","$798ed3e1f5369179$export$e4385e1b781f8da4","getTagIndex_","TAG","$798ed3e1f5369179$var$fixRIFFTag_","deleteTag","listTags","getLISTIndex","tags","listType","$49ae738305d188f0$export$4972034aa639390d","listCuePoints","getCuePoints_","setCuePoint","pointData","existingPoints","clearLISTadtl_","setCuePoint_","setCuePointInOrder_","deleteCuePoint","updateLabel","pointIndex","cIndex","getDataForCuePoint_","pointDwName","LISTindex","getCueDataFromLIST_","setLabl_","hasSet","adtlIndex","setLabelText_","setLtxtChunk_","$230807bb5b9475e2$export$161d9b0a23a5c866","scaleFrom","scaleTo","length_","scaleFactor_","sinc","linear","cubic","tangentFactor_","tension","sincFilterSize_","sincFilterSize","kernel_","sincWindow","$230807bb5b9475e2$var$window_","$230807bb5b9475e2$var$sinc_","sin","PI","getClippedInput_","getTangent_","t2","t3","ref","ref1","$4df2b190f55cb56f$var$DEFAULT_LPF_USE","$4df2b190f55cb56f$var$DEFAULT_LPF_ORDER","$4df2b190f55cb56f$var$DEFAULT_LPF","cutOff","getCoeffs_","Fs","Fc","Q","stages","b0","b1","b2","a1","a2","z","out","runStage_","coeffs","preCalc_","cw","a0","pre","alpha","cos","reset","omega","dc","initZ_","pointer","$4df2b190f55cb56f$export$f2c713bf50fcf602","oldSampleRate","newSamples","interpolator","clip","LPF","LPFType","$4df2b190f55cb56f$var$upsample_","LPForder","$4df2b190f55cb56f$var$downsample_","$4df2b190f55cb56f$var$resample_","$71b894e37798f127$export$bfa4d954a0534f0a","toRIFF","$71b894e37798f127$var$outputSize_","fromExisting_","toRIFX","toIMAADPCM","assure16Bit_","Int16Array","$a9534e2564e30ab7$export$c564cdbbe6da493","adpcmSamples","block","fileIndex","blockCount","$a9534e2564e30ab7$var$encodeBlock","$a9534e2564e30ab7$var$blockHead_","sample2","correctContainer_","fromIMAADPCM","$a9534e2564e30ab7$export$2f872c0f2117be69","decoded","$a9534e2564e30ab7$var$decodeBlock","original_sample","second_sample","first_sample","toBitDepth","toALaw","$8139b5502cfd61f5$export$c564cdbbe6da493","aLawSamples","$8139b5502cfd61f5$export$85b47f97fc8e51f5","compandedValue","mantissa","fromALaw","$8139b5502cfd61f5$export$2f872c0f2117be69","pcmSamples","$8139b5502cfd61f5$export$2cfc859be79aae1f","aLawSample","toMuLaw","$16dd5637710865be$export$c564cdbbe6da493","muLawSamples","$16dd5637710865be$export$85b47f97fc8e51f5","fromMuLaw","$16dd5637710865be$export$2f872c0f2117be69","$16dd5637710865be$export$2cfc859be79aae1f","muLawSample","newBitDepth","changeResolution","thisBitDepth","assureUncompressed_","bithDepth","targetBitDepth","toFunction","toSampleRate","validateResample_","byteLen","outputSize","$0c0d87aecf3f7228$export$9192aa68b3ccf21f","wav","fromBase64","base64String","base64","lookup","bufferLength","encoded1","encoded2","encoded3","encoded4","toBase64","toDataURI","fromDataURI","dataURI","$8a12793bc194162a$exports","XMLHttpRequest","onload","g","onerror","send","MouseEvent","createEvent","initMouseEvent","navigator","userAgent","saveAs","HTMLAnchorElement","rel","origin","location","msSaveOrOpenBlob","autoBom","HTMLElement","safari","onloadend","readAsDataURL","$1acdb943ef1988e7$export$2e2bcd8739ae039","fr","$00b2745483a59b7f$exports","$902f5cabe5153acc$exports","workerUrl","isESM","$aNJCr","$00b2745483a59b7f$var$url","getBundleURL","getOrigin","$7724d6d81d5b7a5a$export$2e2bcd8739ae039","worker","initWorker","initKeyboardControls","Worker","onmessage","setLoadingState","bpm","updateBPM","isLoading","float32Array","postMessage","terminate","playSliceByIndex","keyIndex","qwertyKeys","endTime","startSample","endSample","snappedStartSample","snappedEndSample","maxOffset","forwardIndex","isZeroCrossing","backwardIndex","$907940ff57baf2ef$export$2e2bcd8739ae039","createControls","initializeDefaultValues","controlsContainer","frameSizeControl","createSlider","hopSizeControl","sensitivityControl","odfRatioControl","existingControls","insertBefore","firstChild","labelElement","htmlFor","slider","percentage","setProperty","valueDisplay","toFixed","handleSliderChange","odfs","odfsWeights","frameSize","hopSizePercent","sensitivity","odfRatio","hopSize","hfcWeight","dropHandler","controlsHandler","algorithmControls","initAnalytics","onReady","createInfoDisplay","bpmDisplay","waveform","nextSibling","$b8f9b7833fa37166$var$versionElement","_createClass","_createSuper","Derived","_createSuperInternal","NewTarget","resetScroll","getScrollX","getCacheRanges","utilMax","utilmin","reqAnimationFrame","PluginClass","getActivePlugins","playPause","skipBackward","skipForward","toggleMute","getMute","getFilters","toggleScroll","toggleInteraction","getWaveColor","setWaveColor","getProgressColor","setProgressColor","getBackgroundColor","getCursorColor","setCursorColor","setFilteredChannels","exportPCM","exportImage","__VERSION__","setFilter","factory","this","definition","Crunker","async","filepaths","filepath","buffers","channelNumber","outputData","bufferData","updatedBuffer","channelData","fadeIn","fadeOut","inputData","recorded","dataview","audioBlob","filename","numOfChannels","chunkDataSize","chunkTotalSize","fileHeaderSize","inputIndex","audio"],"version":3,"file":"index.a8c64071.js.map"}