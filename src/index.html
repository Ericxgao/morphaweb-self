<!DOCTYPE html>
<html lang="en" class="h-full w-full">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>morphaweb</title>
</head>

<body>
    <div id="overlay">
        <div id="overlaytext">drop here</div>
    </div>
    <div id="message-overlay" class="message-overlay">
        <div id="message-text"></div>
    </div>
    <section id="container">
        <!--<div id="dragdropoverlay" class="w-full h-full flex-1 bg-red-300 z-40">Drop files here</div>-->
        <section class="editor">
            <div id="waveform"></div>
        </section>
        <section class="controls">
            <section>
                <section>
                    <button id="play">play</button>
                    <button id="pause">pause</button>
                    <button id="export" class="button">
                        <div class="text-2xl">export reel</div>
                        <div class="text-xs">(stereo, 32-bit, 48KHz)</div>
                    </button>
                    <button id="detect-onsets">detect onsets</button>
                    <button id="divide-markers">DIVIDE MARKERS BY 2</button>
                </section>
            </section>
            <section class="slice-controls">
                <label for="slice-count">Number of slices:</label>
                <input type="number" id="slice-count" min="2" value="8">
                <button id="auto-slice">slice into equal chunks</button>
            </section>
        </section>
        <section class="help">
            <section>
                <h3>usage</h3>
                <p>1. drag one or more audiofiles onto the page</p>
                <p>2a. add markers using the shortcut listed below</p>
                <p>2b. or add automatically by clicking the "detect onsets" button which will analyze your audio</p>
                <p>2c. or add automatically by clicking the "slice into equal chunks" button</p>
                <p>3. test your markers by pressing keyboard buttons 0-9 and qwertyuiop</p>
                <p>4. if the slices are too small, you can divide them by clicking the "divide markers by 2" button</p>
                <p>5. export the wav-file to use with morphagene</p>
            </section>
            <section class="align-middle col-span-8">
                <h3>SHORTCUTS</h3>
                <section class="shortcut">
                    <div class="shortcut-icon">
                        <div>j</div>
                    </div>
                    <div>add marker</div>
                </section>
                <section class="shortcut">
                    <div class="shortcut-icon">
                        <div>k</div>
                    </div>
                    <div>remove selected marker</div>
                </section>
                <section class="shortcut">
                    <div class="shortcut-icon">
                        <div>␣</div>
                    </div>
                    <div>play/pause</div>
                </section>
            </section>
        </section>
        <section class="footer">this is a special modified version of an <a href="https://github.com/knandersen/morphaweb" target="_blank">open source
                project</a>
            by kevin nørby andersen. all data is processed client-side, which means it stays with you and only you. eric added the auto slicing and onset detection, which can be found in 
            <a href="https://github.com/Ericxgao/morphaweb-self/" target="_blank">this fork</a>
            <br />
            <strong>version <span id="version"></span></strong>
        </section>
    </section>

    <script type="module" src="index.js"></script>
    <script async src="https://analytics.umami.is/script.js"
        data-website-id="c9e1209c-99d5-4614-b724-d67ffa4968d8"></script>
</body>

</html>